{
  "version": 3,
  "sources": ["../node_modules/base64-js/index.js", "../node_modules/ieee754/index.js", "../node_modules/buffer/index.js", "../node_modules/process/browser.js", "../src/node-globals.js", "../node_modules/ardb/lib/utils/log.js", "../node_modules/ardb/lib/models/block.js", "../node_modules/ardb/lib/models/transaction.js", "../node_modules/ardb/lib/ardb.js", "../node_modules/@stablelib/base64/base64.ts", "../src/lib/ardag.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/base64-js/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ieee754/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/buffer/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/process/browser.js", "../node_modules/@douganderson444/ipld-car-txs/src/node-globals.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/varint/encode.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/varint/decode.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/varint/length.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/varint/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/vendor/varint.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/varint.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/bytes.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/hashes/digest.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/vendor/base-x.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/bases/base.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/bases/base58.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/bases/base32.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/cid.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/hashes/hasher.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/codecs/raw.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/hashes/sha2-browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ms/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/debug/src/common.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/debug/src/browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/err-code/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/bases/identity.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/bases/base2.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/bases/base8.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/bases/base10.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/bases/base16.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/bases/base36.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/bases/base64.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/bases/base256emoji.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/hashes/identity.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/codecs/json.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/basics.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/uint8arrays/esm/src/alloc.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/uint8arrays/esm/src/util/bases.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/uint8arrays/esm/src/to-string.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/uint8arrays/esm/src/from-string.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-length/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@protobufjs/aspromise/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@protobufjs/base64/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@protobufjs/eventemitter/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@protobufjs/float/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@protobufjs/inquire/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@protobufjs/utf8/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@protobufjs/pool/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/protobufjs/src/util/longbits.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/protobufjs/src/util/minimal.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/protobufjs/src/writer.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/protobufjs/src/writer_buffer.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/protobufjs/src/reader.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/protobufjs/src/reader_buffer.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/protobufjs/src/rpc/service.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/protobufjs/src/rpc.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/protobufjs/src/roots.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/protobufjs/src/index-minimal.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/protobufjs/minimal.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/fnv1a/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/uint8arrays/esm/src/concat.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiaddr/node_modules/ip-regex/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiaddr/node_modules/is-ip/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiaddr/src/ip.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiaddr/src/protocols-table.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiaddr/src/convert.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiaddr/src/codec.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/uint8arrays/esm/src/equals.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiaddr/src/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/bytes/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/is-plain-obj/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/merge-options/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/eventemitter3/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-filter/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-drain/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-first/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-map/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-batch/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-parallel-batch/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/fast-fifo/fixed-size.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/fast-fifo/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-merge/node_modules/it-pushable/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-merge/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-all/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-take/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-sort/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/level-supports/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/module-error/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/level-transcoder/lib/text-endec.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/level-transcoder/lib/encoding.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/level-transcoder/lib/formats.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/level-transcoder/lib/encodings.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/level-transcoder/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/events/events.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/catering/next-tick-browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/catering/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/abstract-level/lib/common.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/abstract-level/abstract-iterator.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/abstract-level/lib/default-kv-iterator.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/abstract-level/lib/deferred-iterator.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/abstract-level/abstract-chained-batch.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/abstract-level/lib/default-chained-batch.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/abstract-level/lib/range-options.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/queue-microtask/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/abstract-level/lib/next-tick-browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/abstract-level/lib/abstract-sublevel-iterator.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/abstract-level/lib/abstract-sublevel.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/abstract-level/abstract-level.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/abstract-level/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/run-parallel-limit/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/browser-level/util/key-range.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/browser-level/util/deserialize.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/browser-level/iterator.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/browser-level/util/clear.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/browser-level/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/level/browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/retimer/time-browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/retimer/retimer.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/timeout-abort-controller/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/any-signal/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-last/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/iso-url/src/url-browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/iso-url/src/relative.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/iso-url/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-peekable/index.js", "../node_modules/@douganderson444/ipld-car-txs/src/lib/index.js", "../node_modules/@douganderson444/ipld-car-txs/src/lib/transaction.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/car/esm/lib/buffer-writer.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/cborg.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/encode.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/is.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/token.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/bl.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/byte-utils.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/common.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/jump.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/0uint.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/1negint.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/2bytes.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/3string.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/4array.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/5map.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/6tag.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/7float.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/decode.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/cborg/esm/lib/length.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/dag-cbor/esm/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/car/esm/car-browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/car/esm/lib/reader-browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/car/esm/lib/decoder.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/car/esm/lib/header-validator.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/car/esm/lib/indexer.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/car/esm/lib/iterator.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/car/esm/lib/writer-browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/car/esm/lib/encoder.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/car/esm/lib/iterator-channel.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/car/esm/lib/indexed-reader-browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/block.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/mitt/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/src/lib/dagRepo.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core-config/src/repo.browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/just-safe-get/index.mjs", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/src/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/migrations/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/migrations/migration-8/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/node_modules/interface-datastore/src/key.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/nanoid/index.browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/nanoid/url-alphabet/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/migrations/migration-9/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/dag-pb/esm/src/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/dag-pb/esm/src/pb-decode.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/dag-pb/esm/src/pb-encode.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@ipld/dag-pb/esm/src/util.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/migrations/migration-9/pin-set.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/migrations/migration-9/pin.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/migrations/migration-9/utils.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/uint8arrays/esm/src/compare.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/migrations/migration-10/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/src/utils.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/src/errors.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/migrations/migration-11/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/migrations/migration-12/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/migrations/migration-12/pb/proto-book.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/migrations/migration-12/pb/address-book.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/migrations/migration-12/pb/peer.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/migrations/migration-12/pb/envelope.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/migrations/migration-12/pb/peer-record.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/src/repo/version.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/src/repo/init.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo-migrations/src/errors.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/merge-options/index.mjs", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/constants.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/version.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/node_modules/interface-datastore/src/key.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/utils/level.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/errors.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/config.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/p-queue/dist/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/p-queue/node_modules/p-timeout/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/p-queue/dist/priority-queue.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/p-queue/dist/lower-bound.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/just-safe-set/index.mjs", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/spec.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/node_modules/interface-datastore/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/sort-keys/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/sort-keys/node_modules/is-plain-obj/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/api-addr.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/idstore.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/node_modules/it-pushable/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/node_modules/it-pushable/src/fifo.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/default-options.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/locks/memory.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/default-datastore.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/pin-manager.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/utils/blockstore.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/utils/walk-dag.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/pin-types.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/node_modules/quick-lru/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/pinned-blockstore.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/mortice/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/p-timeout/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/mortice/src/browser.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/mortice/node_modules/nanoid/index.browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/mortice/src/constants.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/observable-webworkers/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-repo/src/gc.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-pipe/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-pipe/node_modules/it-pushable/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/it-pipe/node_modules/it-pushable/src/fifo.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-level/src/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-level/node_modules/interface-datastore/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-level/node_modules/interface-datastore/src/key.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/src/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/src/shard.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/node_modules/interface-datastore/src/key.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/src/shard-readme.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/src/base.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/src/utils.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/src/memory.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/src/keytransform.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/src/sharding.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/node_modules/interface-datastore/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/src/mount.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/src/tiered.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/node_modules/@libp2p/logger/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/node_modules/it-pushable/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/node_modules/it-pushable/src/fifo.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/datastore-core/src/namespace.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/blockstore-datastore-adapter/src/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/blockstore-datastore-adapter/node_modules/it-pushable/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/blockstore-datastore-adapter/node_modules/it-pushable/src/fifo.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/blockstore-datastore-adapter/node_modules/interface-datastore/src/key.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/blockstore-core/src/base.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core/src/components/dag/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core/src/components/dag/export.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core/node_modules/ipfs-core-utils/src/with-timeout-option.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/parse-duration/index.mjs", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core/node_modules/ipfs-core-utils/src/errors.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core/node_modules/@libp2p/logger/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/multiformats/esm/src/traversal.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core/src/components/dag/get.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core/src/utils.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/is-ipfs/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/is-ipfs/node_modules/@multiformats/multiaddr/src/codec.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/is-ipfs/node_modules/@multiformats/multiaddr/src/convert.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/is-ipfs/node_modules/@multiformats/multiaddr/src/ip.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/is-ip/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ip-regex/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/super-regex/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/function-timeout/browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/time-span/browser.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/clone-regexp/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/is-regexp/index.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/is-ipfs/node_modules/@multiformats/multiaddr/src/protocols-table.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/is-ipfs/node_modules/@multiformats/multiaddr/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@multiformats/mafmt/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@multiformats/mafmt/node_modules/@multiformats/multiaddr/src/codec.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@multiformats/mafmt/node_modules/@multiformats/multiaddr/src/convert.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@multiformats/mafmt/node_modules/@multiformats/multiaddr/src/ip.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@multiformats/mafmt/node_modules/@multiformats/multiaddr/src/protocols-table.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/@multiformats/mafmt/node_modules/@multiformats/multiaddr/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core/node_modules/interface-datastore/src/key.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core/node_modules/ipfs-core-utils/src/to-cid-and-path.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core/src/components/dag/import.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core/src/components/dag/put.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core/src/components/dag/resolve.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/dag-jose/src/index.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/dag-jose/src/signing.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/dag-jose/src/utils.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/dag-jose/src/encryption.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core-utils/src/multicodecs.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/ipfs-core-utils/src/multihashes.js", "../node_modules/@douganderson444/ipld-car-txs/src/lib/utils.ts", "../node_modules/@douganderson444/ipld-car-txs/node_modules/blockstore-core/src/memory.js", "../node_modules/@douganderson444/ipld-car-txs/node_modules/blockstore-core/src/errors.js"],
  "sourcesContent": ["'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n", "/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n", "/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n", "// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n", "export const Buffer = require('buffer').Buffer;\r\nexport const process = require('process/browser');\r\nexport const global =\r\n\ttypeof global !== 'undefined'\r\n\t\t? global\r\n\t\t: typeof globalThis !== 'undefined'\r\n\t\t? globalThis\r\n\t\t: typeof self !== 'undefined'\r\n\t\t? self\r\n\t\t: typeof window !== 'undefined'\r\n\t\t? window\r\n\t\t: {};\r\n\r\nexport const self = globalThis;\r\n\r\nif (globalThis && globalThis.process && globalThis.process.env)\r\n\tglobalThis.process.env.LIBP2P_FORCE_PNET = false;\r\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.log = exports.Log = exports.LOGS = void 0;\nvar LOGS;\n(function (LOGS) {\n    LOGS[LOGS[\"NO\"] = 0] = \"NO\";\n    LOGS[LOGS[\"YES\"] = 1] = \"YES\";\n    LOGS[LOGS[\"ARWEAVE\"] = 2] = \"ARWEAVE\";\n})(LOGS = exports.LOGS || (exports.LOGS = {}));\nclass Log {\n    constructor() {\n        this.logs = LOGS.ARWEAVE;\n    }\n    init(logLevel = LOGS.ARWEAVE, arweave) {\n        this.logs = logLevel;\n        this.arweave = arweave;\n        return this;\n    }\n    show(str, type = 'log') {\n        if (this.logs === LOGS.YES || (this.logs === LOGS.ARWEAVE && this.arweave.getConfig().api.logging)) {\n            console[type](str);\n        }\n    }\n}\nexports.Log = Log;\nexports.log = new Log();\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst log_1 = require(\"../utils/log\");\nclass ArdbBlock {\n    constructor(obj) {\n        this._id = obj.id;\n        this._timestamp = obj.timestamp;\n        this._height = obj.height;\n        this._previous = obj.previous;\n    }\n    // Getters\n    get id() {\n        if (!this._id)\n            log_1.log.show(\"ID wasn't defined, make sure you have selected to return it.\");\n        return this._id;\n    }\n    get timestamp() {\n        if (!this._timestamp)\n            log_1.log.show(\"Timestamp wasn't defined, make sure you have selected to return it.\");\n        return this._timestamp;\n    }\n    get height() {\n        if (!this._height)\n            log_1.log.show(\"Height wasn't defined, make sure you have selected to return it.\");\n        return this._height;\n    }\n    get previous() {\n        if (!this._previous)\n            log_1.log.show(\"Previous wasn't defined, make sure you have selected to return it.\");\n        return this._previous;\n    }\n}\nexports.default = ArdbBlock;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst log_1 = require(\"../utils/log\");\nclass ArdbTransaction {\n    constructor(obj, arweave) {\n        this._id = obj.id;\n        this._anchor = obj.anchor;\n        this._signature = obj.signature;\n        this._recipient = obj.recipient;\n        this._owner = obj.owner;\n        this._fee = obj.fee;\n        this._quantity = obj.quantity;\n        this._data = obj.data;\n        this._tags = obj.tags;\n        this._block = obj.block;\n        if (obj.parent && obj.parent.id) {\n            this._parent = obj.parent;\n        }\n        this.arweave = arweave;\n    }\n    // Getters\n    get id() {\n        if (!this._id)\n            log_1.log.show(\"ID wasn't defined, make sure you have selected to return it.\");\n        return this._id;\n    }\n    get anchor() {\n        if (!this._anchor)\n            log_1.log.show(\"Anchor wasn't defined, make sure you have selected to return it.\");\n        return this._anchor;\n    }\n    get signature() {\n        if (!this._signature)\n            log_1.log.show(\"Signature wasn't defined, make sure you have selected to return it.\");\n        return this._signature;\n    }\n    get recipient() {\n        if (!this._recipient)\n            log_1.log.show(\"Recipient wasn't defined, make sure you have selected to return it.\");\n        return this._recipient;\n    }\n    get owner() {\n        if (!this._owner)\n            log_1.log.show(\"Owner wasn't defined, make sure you have selected to return it.\");\n        return this._owner;\n    }\n    get fee() {\n        if (!this._fee)\n            log_1.log.show(\"Fee wasn't defined, make sure you have selected to return it.\");\n        return this._fee;\n    }\n    get quantity() {\n        if (!this._quantity)\n            log_1.log.show(\"Quantity wasn't defined, make sure you have selected to return it.\");\n        return this._quantity;\n    }\n    get data() {\n        if (!this._data)\n            log_1.log.show(\"Data wasn't defined, make sure you have selected to return it.\");\n        return this._data;\n    }\n    get tags() {\n        if (!this._tags)\n            log_1.log.show(\"Tags wasn't defined, make sure you have selected to return it.\");\n        return this._tags;\n    }\n    get block() {\n        if (!this._block)\n            log_1.log.show(\"Block wasn't defined, make sure you have selected to return it.\");\n        return this._block;\n    }\n    get parent() {\n        if (!this._parent || !this._parent.id)\n            log_1.log.show(\"Parent wasn't defined, make sure you have selected to return it.\");\n        return this._parent;\n    }\n}\nexports.default = ArdbTransaction;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst block_1 = __importDefault(require(\"./models/block\"));\nconst transaction_1 = __importDefault(require(\"./models/transaction\"));\nconst log_1 = require(\"./utils/log\");\n/**\n * Arweave as a database.\n * To easily interact with Arweave's graphql endpoint.\n */\nclass ArDB {\n    /**\n     *\n     * @param arweave An arweave instance\n     * @param logLevel Show logs. 0 = false, 1 = true, 2 = if arweave instance has log enabled.\n     */\n    constructor(arweave, logLevel = log_1.LOGS.ARWEAVE) {\n        this.reqType = 'transactions';\n        this.options = {};\n        this.after = '';\n        this.afterRegex = /after: *\"([^\"]*)\"/gi;\n        this.emptyLinesRegex = /^\\s*[\\r\\n]/gm;\n        this.fields = [\n            'id',\n            'anchor',\n            'signature',\n            'recipient',\n            'owner',\n            'owner.address',\n            'owner.key',\n            'fee',\n            'fee.winston',\n            'fee.ar',\n            'quantity',\n            'quantity.winston',\n            'quantity.ar',\n            'data',\n            'data.size',\n            'data.type',\n            'tags',\n            'tags.name',\n            'tags.value',\n            'block',\n            'block.id',\n            'block.timestamp',\n            'block.height',\n            'block.previous',\n            'parent',\n            'parent.id',\n        ];\n        this.includes = new Set();\n        this.arweave = arweave;\n        log_1.log.init(logLevel, arweave);\n        this.includes = new Set(this.fields);\n    }\n    /**\n     * Get the current cursor (also known as `after`) in case you need to do extra manual work with it.\n     * @returns cursor\n     */\n    getCursor() {\n        return this.after;\n    }\n    /**\n     * Search is the first function called before doing a find.\n     * @param type What type of search are we going to do.\n     * @returns ardb\n     */\n    search(type = 'transactions') {\n        this.reqType = type;\n        this.options = {};\n        this.after = '';\n        return this;\n    }\n    /**\n     * Get transactions or blocks by transaction ID.\n     * @param id The transaction/block ID.\n     * @returns ardb\n     */\n    id(id) {\n        this.checkSearchType();\n        this.options.id = id;\n        this.options.ids = [id];\n        return this;\n    }\n    /**\n     * Get transactions or blocks by transaction IDs.\n     * @param ids A list of transactions/blocks IDs.\n     * @returns ardb\n     */\n    ids(ids) {\n        this.checkSearchType();\n        this.options.ids = ids;\n        this.options.id = ids[0];\n        return this;\n    }\n    /**\n     * Get transaction(s) per tag App-Name = name.\n     * @param name The App-Name value as string.\n     * @returns ardb\n     */\n    appName(name) {\n        this.checkSearchType();\n        this.tag('App-Name', [name]);\n        return this;\n    }\n    /**\n     * Get transaction(s) with the tag Content-Type = type.\n     * @param type Content-Type as string.\n     * @returns ardb\n     */\n    type(type) {\n        this.checkSearchType();\n        this.tag('Content-Type', [type]);\n        return this;\n    }\n    /**\n     * Get transaction(s) by a list of tags\n     * @param tags Array of objects with name (string) and values (array|string)\n     * @returns ardb\n     */\n    tags(tags) {\n        this.checkSearchType();\n        const ts = [];\n        for (const tag of tags) {\n            const values = typeof tag.values === 'string' ? [tag.values] : tag.values;\n            ts.push({\n                name: tag.name,\n                values,\n            });\n        }\n        const $oTags = this.options.tags && this.options.tags.length ? this.options.tags : [];\n        this.options.tags = [...ts, ...$oTags];\n        return this;\n    }\n    /**\n     * Get transaction(s) by this specific tag, if previous ones exists it will be added to the list of tags.\n     * @param name The tag name, ex: App-Name.\n     * @param values The tag value or an array of values.\n     * @returns ardb\n     */\n    tag(name, values) {\n        this.checkSearchType();\n        if (!this.options.tags) {\n            this.options.tags = [];\n        }\n        if (typeof values === 'string') {\n            values = [values];\n        }\n        this.options.tags.push({ name, values });\n        return this;\n    }\n    /**\n     * Get transaction(s) by owner(s).\n     * @param owners Owner address or a list of owners.\n     * @returns ardb\n     */\n    from(owners) {\n        this.checkSearchType();\n        if (typeof owners === 'string') {\n            owners = [owners];\n        }\n        this.options.owners = owners;\n        return this;\n    }\n    /**\n     * Get transaction(s) by recipient(s).\n     * @param recipients A recipient address or a list of recipients.\n     * @returns ardb\n     */\n    to(recipients) {\n        this.checkSearchType();\n        if (typeof recipients === 'string') {\n            recipients = [recipients];\n        }\n        this.options.recipients = recipients;\n        return this;\n    }\n    /**\n     * Get blocks with the min height.\n     * @param min The minimum height for the search.\n     * @returns ardb\n     */\n    min(min) {\n        this.checkSearchType();\n        if (!this.options.block) {\n            this.options.block = {};\n        }\n        this.options.block.min = min;\n        return this;\n    }\n    /**\n     * Get blocks by a max height.\n     * @param max The maximum height for the search.\n     * @returns ardb\n     */\n    max(max) {\n        this.checkSearchType();\n        if (!this.options.block) {\n            this.options.block = {};\n        }\n        this.options.block.max = max;\n        return this;\n    }\n    /**\n     * Limits the returned results, this only works with `find()`, `findOne()` will always have a limit of 1, and `findAll()` has no limit.\n     * @param limit A number between 1 and 100.\n     * @returns ardb\n     */\n    limit(limit) {\n        this.checkSearchType();\n        if (limit < 1) {\n            console.warn('Limit cannot be less than 1, setting it to 1.');\n            limit = 1;\n        }\n        else if (limit > 100) {\n            console.warn(\"Arweave GQL won't return more than 100 entries at once.\");\n        }\n        this.options.first = limit;\n        return this;\n    }\n    /**\n     * Sort blocks or transactions by DESC or ASC.\n     * @param sort HEIGHT_DESC or HEIGHT_ASC.\n     * @returns ardb\n     */\n    sort(sort) {\n        this.options.sort = sort;\n        return this;\n    }\n    /**\n     * Set a cursor for when to get started.\n     * @param after The cursor string.\n     * @returns ardb\n     */\n    cursor(after) {\n        this.checkSearchType();\n        this.options.after = after;\n        return this;\n    }\n    /**\n     * Returns only the specified fields for block(s) or transaction(s).\n     * @param fields The field or list of fields to return.\n     * @returns ardb\n     */\n    only(fields) {\n        // Empty the included fields.\n        this.includes = new Set();\n        if (typeof fields === 'string' && this.fields.indexOf(fields) !== -1) {\n            this.includes.add(fields);\n            this.validateIncludes();\n            return this;\n        }\n        const toInclude = [];\n        for (const field of fields) {\n            // @ts-ignore\n            if (this.fields.indexOf(field) !== -1) {\n                // @ts-ignore\n                toInclude.push(field);\n            }\n        }\n        if (toInclude.length) {\n            this.includes = new Set(toInclude);\n        }\n        this.validateIncludes();\n        return this;\n    }\n    /**\n     * Exclude fields from the returned results.\n     * @param fields A field or list of fields to exclude.\n     * @returns ardb\n     */\n    exclude(fields) {\n        // To make only() and exclude() work the same, re-add all fields to includes.\n        this.includes = new Set(this.fields);\n        if (typeof fields === 'string') {\n            this.includes.delete(fields);\n            this.validateIncludes();\n            return this;\n        }\n        for (const field of fields) {\n            this.includes.delete(field);\n        }\n        this.validateIncludes();\n        return this;\n    }\n    // Ready to run\n    /**\n     * Find a list of blocks or transactions based on the specified search filters.\n     * @param filters Optional. You can manually add the filters here instead of using our search methods.\n     * @returns A list of transactions or blocks.\n     */\n    find(filters = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.checkSearchType();\n            for (const filter of Object.keys(filters)) {\n                this.options[filter] = filters[filter];\n            }\n            if (!this.options.first) {\n                this.options.first = 10;\n            }\n            const query = this.construct();\n            return this.run(query);\n        });\n    }\n    /**\n     * Find a single\n     * @param filters\n     * @returns\n     */\n    findOne(filters = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.checkSearchType();\n            for (const filter of Object.keys(filters)) {\n                this.options[filter] = filters[filter];\n            }\n            this.options.first = 1;\n            const query = this.construct();\n            const txs = yield this.run(query);\n            return txs.length ? txs[0] : null;\n        });\n    }\n    findAll(filters = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.checkSearchType();\n            for (const filter of Object.keys(filters)) {\n                this.options[filter] = filters[filter];\n            }\n            this.options.first = 100;\n            const query = this.construct();\n            return this.runAll(query);\n        });\n    }\n    /**\n     * To run with the cursor\n     */\n    next() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.after || !this.after.length) {\n                log_1.log.show('next(): Nothing more to search.');\n                return;\n            }\n            const query = this.construct().replace(this.afterRegex, `after: \"${this.after}\"`);\n            const result = yield this.run(query);\n            return this.options.first === 1 ? (result.length ? result[0] : null) : result;\n        });\n    }\n    run(query) {\n        return __awaiter(this, void 0, void 0, function* () {\n            log_1.log.show('Running query:');\n            log_1.log.show(query);\n            const res = yield this.get(query);\n            if (!res)\n                return [];\n            if (res.transaction) {\n                return [new transaction_1.default(res.transaction, this.arweave)];\n            }\n            else if (res.block) {\n                return [new block_1.default(res.block)];\n            }\n            else if (res.transactions) {\n                const edges = res.transactions.edges;\n                if (edges && edges.length) {\n                    this.after = edges[edges.length - 1].cursor;\n                }\n                else {\n                    this.after = '';\n                }\n                return edges.map((edge) => new transaction_1.default(edge.node, this.arweave));\n            }\n            else if (res.blocks) {\n                const edges = res.blocks.edges;\n                if (edges && edges.length) {\n                    this.after = edges[edges.length - 1].cursor;\n                }\n                else {\n                    this.after = '';\n                }\n                return edges.map((edge) => new block_1.default(edge.node));\n            }\n        });\n    }\n    runAll(query) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let hasNextPage = true;\n            let edges = [];\n            let cursor = this.options.after || '';\n            let isTx = true;\n            while (hasNextPage) {\n                log_1.log.show('Running query:');\n                log_1.log.show(query);\n                const res = yield this.get(query);\n                if (!res) {\n                    return [];\n                }\n                if (res.transaction) {\n                    return [new transaction_1.default(res.transaction, this.arweave)];\n                }\n                else if (res.block) {\n                    return [new block_1.default(res.block)];\n                }\n                else if (res.transactions) {\n                    const r = res.transactions;\n                    if (r.edges && r.edges.length) {\n                        edges = edges.concat(r.edges);\n                        cursor = r.edges[r.edges.length - 1].cursor;\n                        query = query.replace(this.afterRegex, `after: \"${cursor}\"`);\n                    }\n                    hasNextPage = r.pageInfo.hasNextPage;\n                }\n                else if (res.blocks) {\n                    isTx = false;\n                    const r = res.blocks;\n                    if (r.edges && r.edges.length) {\n                        edges = edges.concat(r.edges);\n                        cursor = r.edges[r.edges.length - 1].cursor;\n                        query = query.replace(this.afterRegex, `after: \"${cursor}\"`);\n                    }\n                    hasNextPage = r.pageInfo.hasNextPage;\n                }\n            }\n            if (isTx) {\n                return edges.map((edge) => new transaction_1.default(edge.node, this.arweave));\n            }\n            else {\n                return edges.map((edge) => new block_1.default(edge.node));\n            }\n        });\n    }\n    /** Helpers */\n    checkSearchType() {\n        if (!this.reqType ||\n            (this.reqType !== 'transaction' &&\n                this.reqType !== 'block' &&\n                this.reqType !== 'transactions' &&\n                this.reqType !== 'blocks')) {\n            throw new Error('Invalid search type. Must provide one and it must be either \"transaction\", \"transactions\", \"block\" or \"blocks\"');\n        }\n    }\n    get(query) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const res = yield this.arweave.api.post('graphql', { query }, { headers: { 'content-type': 'application/json' } });\n            log_1.log.show('Returned result: ');\n            log_1.log.show(res.data.data);\n            return res.data.data;\n        });\n    }\n    construct() {\n        if (this.reqType === 'transactions' || this.reqType === 'blocks') {\n            delete this.options.id;\n            if (this.reqType === 'transactions') {\n                delete this.options.height;\n            }\n            else {\n                delete this.options.owners;\n                delete this.options.recipients;\n                delete this.options.tags;\n                delete this.options.block;\n            }\n            if (!this.options.after) {\n                this.options.after = '';\n            }\n        }\n        else {\n            this.options = { id: this.options.id };\n        }\n        let params = JSON.stringify(this.options, null, 2)\n            .replace(/\"([^\"]+)\":/gm, '$1: ')\n            .replace('\"HEIGHT_DESC\"', 'HEIGHT_DESC')\n            .replace('\"HEIGHT_ASC\"', 'HEIGHT_ASC');\n        params = params.substring(1, params.length - 1);\n        let fields = '';\n        if (this.reqType === 'transaction' || this.reqType === 'transactions') {\n            let owner = '';\n            if (this.includes.has('owner')) {\n                owner = `owner {\n          ${this.includes.has('owner.address') ? 'address' : ''}\n          ${this.includes.has('owner.key') ? 'key' : ''}\n        }`;\n            }\n            let fee = '';\n            if (this.includes.has('fee')) {\n                fee = `fee {\n          ${this.includes.has('fee.winston') ? 'winston' : ''}\n          ${this.includes.has('fee.ar') ? 'ar' : ''}\n        }`;\n            }\n            let quantity = '';\n            if (this.includes.has('quantity')) {\n                quantity = `quantity {\n          ${this.includes.has('quantity.winston') ? 'winston' : ''}\n          ${this.includes.has('quantity.ar') ? 'ar' : ''}\n        }`;\n            }\n            let data = '';\n            if (this.includes.has('data')) {\n                data = `data {\n          ${this.includes.has('data.size') ? 'size' : ''}\n          ${this.includes.has('data.type') ? 'type' : ''}\n        }`;\n            }\n            let tags = '';\n            if (this.includes.has('tags')) {\n                tags = `tags {\n          ${this.includes.has('tags.name') ? 'name' : ''}\n          ${this.includes.has('tags.value') ? 'value' : ''}\n        }`;\n            }\n            let block = '';\n            if (this.includes.has('block')) {\n                block = `block {\n          ${this.includes.has('block.id') ? 'id' : ''}\n          ${this.includes.has('block.timestamp') ? 'timestamp' : ''}\n          ${this.includes.has('block.height') ? 'height' : ''}\n          ${this.includes.has('block.previous') ? 'previous' : ''}\n        }`;\n            }\n            let parent = '';\n            if (this.includes.has('parent') || this.includes.has('parent.id')) {\n                // Parent only has an ID, so if one of them is included, add both.\n                parent = `parent {\n          id\n        }`;\n            }\n            fields = `\n      ${this.includes.has('id') ? 'id' : ''}\n      ${this.includes.has('anchor') ? 'anchor' : ''}\n      ${this.includes.has('signature') ? 'signature' : ''}\n      ${this.includes.has('recipient') ? 'recipient' : ''}\n      ${owner}\n      ${fee}\n      ${quantity}\n      ${data}\n      ${tags}\n      ${block}\n      ${parent}\n      `;\n            fields = fields.replace(this.emptyLinesRegex, '').trim();\n            if (!fields.length) {\n                fields = `\n        id\n        anchor\n        signature\n        recipient\n        owner {\n          address\n          key\n        }\n        fee {\n          winston\n          ar\n        }\n        quantity {\n          winston\n          ar\n        }\n        data {\n          size\n          type\n        }\n        tags {\n          name\n          value\n        }\n        block {\n          id\n          timestamp\n          height\n          previous\n        }\n        parent {\n          id\n        }`;\n            }\n        }\n        else {\n            fields = `\n      ${this.includes.has('block.id') ? 'id' : ''}\n      ${this.includes.has('block.timestamp') ? 'timestamp' : ''}\n      ${this.includes.has('block.height') ? 'height' : ''}\n      ${this.includes.has('block.previous') ? 'previous' : ''}\n      `;\n            fields = fields.replace(this.emptyLinesRegex, '').trim();\n            if (!fields.length) {\n                fields = `\n        id\n        timestamp\n        height\n        previous`;\n            }\n        }\n        if (this.reqType === 'transactions' || this.reqType === 'blocks') {\n            fields = `\n      pageInfo {\n        hasNextPage\n      }\n      edges { \n        cursor\n        node { \n          ${fields}\n        } \n      }`;\n        }\n        if (!this.reqType || !params) {\n            throw new Error('Invalid options. You need to first set your options!');\n        }\n        return `query {\n      ${this.reqType}(\n        ${params}\n      ){\n        ${fields}\n      }\n    }`.replace(/(\\r\\n|\\n|\\r)/gm, '');\n    }\n    validateIncludes() {\n        // Add all children if all of them are missing but a parent is present.\n        if (this.includes.has('owner') && !this.includes.has('owner.address') && !this.includes.has('owner.key')) {\n            this.includes.add('owner.address');\n            this.includes.add('owner.key');\n        }\n        if (this.includes.has('fee') && !this.includes.has('fee.winston') && !this.includes.has('fee.ar')) {\n            this.includes.add('fee.winston');\n            this.includes.add('fee.ar');\n        }\n        if (this.includes.has('quantity') && !this.includes.has('quantity.winston') && !this.includes.has('quantity.ar')) {\n            this.includes.add('quantity.winston');\n            this.includes.add('quantity.ar');\n        }\n        if (this.includes.has('data') && !this.includes.has('data.size') && !this.includes.has('data.type')) {\n            this.includes.add('data.size');\n            this.includes.add('data.type');\n        }\n        if (this.includes.has('tags') && !this.includes.has('tags.name') && !this.includes.has('tags.value')) {\n            this.includes.add('tags.name');\n            this.includes.add('tags.value');\n        }\n        if (this.includes.has('block') &&\n            !this.includes.has('block.timestamp') &&\n            !this.includes.has('block.height') &&\n            !this.includes.has('block.previous')) {\n            this.includes.add('block.id');\n            this.includes.add('block.timestamp');\n            this.includes.add('block.height');\n            this.includes.add('block.previous');\n        }\n        // Add a parent if one of the children is present but the parent is not\n        if (!this.includes.has('owner') && (this.includes.has('owner.address') || this.includes.has('owner.key'))) {\n            this.includes.add('owner');\n        }\n        if (!this.includes.has('fee') && (this.includes.has('fee.winston') || this.includes.has('fee.ar'))) {\n            this.includes.add('fee');\n        }\n        if (!this.includes.has('quantity') && (this.includes.has('quantity.winston') || this.includes.has('quantity.ar'))) {\n            this.includes.add('quantity');\n        }\n        if (!this.includes.has('data') && (this.includes.has('data.size') || this.includes.has('data.type'))) {\n            this.includes.add('data');\n        }\n        if (!this.includes.has('tags') && (this.includes.has('tags.name') || this.includes.has('tags.value'))) {\n            this.includes.add('tags');\n        }\n        if (!this.includes.has('block') &&\n            (this.includes.has('block.timestamp') || this.includes.has('block.height') || this.includes.has('block.previous'))) {\n            this.includes.add('block');\n        }\n    }\n}\nexports.default = ArDB;\n", null, "import type { CreateTransactionInterface } from 'arweave/node/common';\r\nimport type { JWKInterface } from 'arweave/node/lib/wallet';\r\nimport type Transaction from 'arweave/node/lib/transaction';\r\nimport { importBuffer, encode, Transaction } from '@douganderson444/ipld-car-txs'; // build ipld one tx at a time\r\nimport type { DagRepo } from '@douganderson444/ipld-car-txs'; // build ipld one tx at a time\r\nimport * as ArDBMod from 'ardb'; // access Arweave like a Database\r\nimport type { ArdbTransaction } from 'ardb/lib/models/transaction';\r\nimport { encodeURLSafe, decodeURLSafe } from '@stablelib/base64';\r\nimport type { IPFS } from 'ipfs-core-types';\r\n\r\nconst AR_DAG = 'ArDag';\r\nconsole.log({ ArDBMod });\r\nlet ArDB = ArDBMod?.default || ArDBMod; // stupid nodejs / vitejs hack\r\nArDB = ArDB?.default || ArDB; // why does .default appear twice?!\r\n\r\n/**\r\n * Persist only needs an Arweave client to work.\r\n */\r\nexport async function persist({ buffer = null, arweave = null, wallet = null }) {\r\n\tif (!buffer) throw new Error('buffer is required');\r\n\tif (!arweave) {\r\n\t\tif (!this.arweave) throw new Error('Arweave is required');\r\n\t\tarweave = this.arweave;\r\n\t}\r\n\tif (!wallet) {\r\n\t\tif (this.wallet) wallet = this.wallet;\r\n\t}\r\n\t// else // will look for window.wallet\r\n\r\n\tconst { root: rootCID } = await Transaction.load(buffer);\r\n\tconst { cid: carCid } = await encode(buffer);\r\n\r\n\t// create an Arweave data transaction\r\n\tlet tx = await arweave.createTransaction({ data: buffer });\r\n\r\n\tconst tags = [\r\n\t\t{ name: 'App-Name', value: [AR_DAG] },\r\n\t\t{ name: 'Root-CID', value: [rootCID.toString()] },\r\n\t\t{ name: 'CAR-CID', value: [carCid.toString()] }\r\n\t];\r\n\r\n\tif (tags && tags.length) {\r\n\t\tfor (const tag of tags) {\r\n\t\t\ttx.addTag(tag.name.toString(), tag.value.toString());\r\n\t\t}\r\n\t}\r\n\t// post it to Arweave\r\n\tawait arweave.transactions.sign(tx, wallet); // TODO: if dispatch is used, sign happens twice\r\n\tawait this.post(tx);\r\n\treturn rootCID;\r\n}\r\n\r\n// load a DagAPI with existing data from dagOwner\r\nexport async function load({\r\n\tdagOwner,\r\n\tdag,\r\n\tarweave = null\r\n}: {\r\n\tdagOwner: string;\r\n\tdag: DagRepo | DagAPI;\r\n\tarweave?: Arweave;\r\n}) {\r\n\tif (!dagOwner) throw new Error('dagOwner is required');\r\n\tif (!dag) {\r\n\t\tif (!this.dag) throw new Error('DagRepo is required');\r\n\t\tdag = this.dag;\r\n\t}\r\n\tif (!arweave) {\r\n\t\tif (!this.arweave) throw new Error('Arweave is required');\r\n\t\tarweave = this.arweave;\r\n\t}\r\n\t// load buffer from Contract transactions\r\n\tconst searchTags = [{ name: 'App-Name', values: [AR_DAG] }];\r\n\r\n\tconst ardb = new ArDB(arweave);\r\n\tconst txs = await ardb.search('transactions').tags(searchTags).from(dagOwner).findAll();\r\n\r\n\tlet rootCID;\r\n\r\n\tconst importer = async (dag: IPFS['dag'], tx: ArdbTransaction) => {\r\n\t\t// const parsed = JSON.parse(tx.tags.find((el) => el.name === 'Input').value);\r\n\t\t// const txid = parsed.ardagtxid;\r\n\t\ttry {\r\n\t\t\tconst data = await arweave.transactions.getData(tx.id);\r\n\t\t\tconst buffer = new Uint8Array(decodeURLSafe(data));\r\n\t\t\tconst cid = await importBuffer(dag, buffer); // as many as you need\r\n\t\t\tif (!rootCID) rootCID = cid; // return latest rootCID\r\n\t\t\tif (dag.hasOwnProperty('rootCID') && !dag?.rootCID) dag.rootCID = cid; // make the most recent rootCID this rootCID\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('Import failed', error);\r\n\t\t}\r\n\t};\r\n\r\n\tfor (const tx of txs) {\r\n\t\tawait importer(dag, tx);\r\n\t}\r\n\r\n\treturn rootCID;\r\n}\r\n\r\nexport async function get({ dagOwner, tag = null, arweave = null }) {\r\n\tif (!dagOwner) throw new Error('dagOwner is required');\r\n\tif (!arweave) {\r\n\t\tif (!this.arweave) throw new Error('Arweave is required');\r\n\t\tarweave = this.arweave;\r\n\t}\r\n\tconst searchTags = [{ name: 'App-Name', values: [AR_DAG] }];\r\n\tconst ardb = new ArDB(arweave);\r\n\tconst txs = await ardb.search('transactions').tags(searchTags).from(dagOwner).findAll();\r\n\r\n\tif (!txs) return null;\r\n\r\n\tlet latest;\r\n\tlet latestCID;\r\n\r\n\twhile (!latest && txs.length) {\r\n\t\tconst data = await arweave.transactions.getData(txs.shift().id);\r\n\t\tif (!data) continue;\r\n\t\tconst buffer = new Uint8Array(decodeURLSafe(data));\r\n\t\tif (!buffer) continue;\r\n\t\tconst { root, get } = await Transaction.load(buffer);\r\n\t\tconst rootNode = await get(root);\r\n\r\n\t\tif (!tag) return rootNode;\r\n\r\n\t\tif (rootNode.hasOwnProperty(tag) && !latestCID) latestCID = rootNode[tag].obj;\r\n\r\n\t\ttry {\r\n\t\t\tlatest = await get(latestCID);\r\n\t\t} catch (error) {\r\n\t\t\t// not here, keep looking\r\n\t\t}\r\n\t}\r\n\r\n\treturn latest;\r\n}\r\n\r\n/**\r\n * Convenience function for (await arDagInst.dag.get(rootCID, { path: `/${tag}/obj` })).value;\r\n * Needs to assure load has been done, and needs to work with multiDags.\r\n *\r\n * TODO: Change to:\r\n * rootCID = load(dagOwner)\r\n * dag.get(rootCID, {path: `/${tag}/obj`})\r\n */\r\nexport async function latest(tag: string) {\r\n\tconst res = await this.dag.get(this.rootCID, { path: `/${tag}/obj` });\r\n\treturn res.value;\r\n}\r\nexport async function getInstance({\r\n\tdag,\r\n\twallet = null,\r\n\tdagOwner = false // load existing contract, or create a new one\r\n}: {\r\n\tdag: DagRepo;\r\n\twallet?: JWKInterface | 'use_wallet';\r\n\tdagOwner?: string;\r\n}): Promise<{ save: Function }> {\r\n\tif (!dag)\r\n\t\tthrow new Error('Supply a DagRepo from https://github.com/DougAnderson444/ipld-car-txs');\r\n\tif (!dagOwner) {\r\n\t\t// dagOwner is sha256 hash of wallet public key\r\n\t\tdagOwner = await this.arweave.wallets.jwkToAddress(wallet);\r\n\t} else await this.load({ dag, dagOwner });\r\n\r\n\treturn {\r\n\t\tarweave: this.arweave, // inherit this from parent object\r\n\t\tpost: this.post, // inherit this from parent object\r\n\t\tdagOwner,\r\n\t\twallet,\r\n\t\tdag,\r\n\t\tload, // myArDag.load(dagOwner) may need to be called if the Arweave is written from elsewhere after getInstance was originally called\r\n\t\trootCID: this.rootCID || null,\r\n\t\tlatest,\r\n\t\tpersist,\r\n\t\tasync save(tag: string, obj: object) {\r\n\t\t\tconst rootCID = await this.dag.tx.add(tag, obj);\r\n\t\t\tthis.rootCID = rootCID;\r\n\t\t\tconst buffer = await this.dag.tx.commit();\r\n\t\t\tconst r = await this.persist({ buffer });\r\n\t\t\treturn rootCID;\r\n\t\t}\r\n\t};\r\n}\r\n\r\n// creates a new ArDag object\r\nexport function initializeArDag({ arweave, post = null }: { arweave: Arweave; post?: any }): ArDag {\r\n\tif (!arweave) throw new Error('Arweave instance must be provided');\r\n\t// need to bind transactions.post to arweave.transactions as *this*\r\n\tconst doPost = arweave.transactions.post;\r\n\tconst boundPost = doPost.bind(arweave.transactions);\r\n\r\n\treturn {\r\n\t\tarweave,\r\n\t\tpost: post || boundPost,\r\n\t\tgetInstance,\r\n\t\tpersist,\r\n\t\tget,\r\n\t\tload // this.load is required in getInstance\r\n\t};\r\n}\r\n", "'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n", "/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n", "/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n", "// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n", "export const Buffer = require('buffer').Buffer;\r\nexport const process = require('process/browser');\r\nexport const global =\r\n\ttypeof global !== 'undefined'\r\n\t\t? global\r\n\t\t: typeof globalThis !== 'undefined'\r\n\t\t? globalThis\r\n\t\t: typeof self !== 'undefined'\r\n\t\t? self\r\n\t\t: typeof window !== 'undefined'\r\n\t\t? window\r\n\t\t: {};\r\n\r\nexport const self = globalThis;\r\n\r\nif (globalThis && globalThis.process && globalThis.process.env)\r\n\tglobalThis.process.env.LIBP2P_FORCE_PNET = false;\r\n", "module.exports = encode\n\nvar MSB = 0x80\n  , REST = 0x7F\n  , MSBALL = ~REST\n  , INT = Math.pow(2, 31)\n\nfunction encode(num, out, offset) {\n  if (Number.MAX_SAFE_INTEGER && num > Number.MAX_SAFE_INTEGER) {\n    encode.bytes = 0\n    throw new RangeError('Could not encode varint')\n  }\n  out = out || []\n  offset = offset || 0\n  var oldOffset = offset\n\n  while(num >= INT) {\n    out[offset++] = (num & 0xFF) | MSB\n    num /= 128\n  }\n  while(num & MSBALL) {\n    out[offset++] = (num & 0xFF) | MSB\n    num >>>= 7\n  }\n  out[offset] = num | 0\n  \n  encode.bytes = offset - oldOffset + 1\n  \n  return out\n}\n", "module.exports = read\n\nvar MSB = 0x80\n  , REST = 0x7F\n\nfunction read(buf, offset) {\n  var res    = 0\n    , offset = offset || 0\n    , shift  = 0\n    , counter = offset\n    , b\n    , l = buf.length\n\n  do {\n    if (counter >= l || shift > 49) {\n      read.bytes = 0\n      throw new RangeError('Could not decode varint')\n    }\n    b = buf[counter++]\n    res += shift < 28\n      ? (b & REST) << shift\n      : (b & REST) * Math.pow(2, shift)\n    shift += 7\n  } while (b >= MSB)\n\n  read.bytes = counter - offset\n\n  return res\n}\n", "\nvar N1 = Math.pow(2,  7)\nvar N2 = Math.pow(2, 14)\nvar N3 = Math.pow(2, 21)\nvar N4 = Math.pow(2, 28)\nvar N5 = Math.pow(2, 35)\nvar N6 = Math.pow(2, 42)\nvar N7 = Math.pow(2, 49)\nvar N8 = Math.pow(2, 56)\nvar N9 = Math.pow(2, 63)\n\nmodule.exports = function (value) {\n  return (\n    value < N1 ? 1\n  : value < N2 ? 2\n  : value < N3 ? 3\n  : value < N4 ? 4\n  : value < N5 ? 5\n  : value < N6 ? 6\n  : value < N7 ? 7\n  : value < N8 ? 8\n  : value < N9 ? 9\n  :              10\n  )\n}\n", "module.exports = {\n    encode: require('./encode.js')\n  , decode: require('./decode.js')\n  , encodingLength: require('./length.js')\n}\n", "var encode_1 = encode;\nvar MSB = 128, REST = 127, MSBALL = ~REST, INT = Math.pow(2, 31);\nfunction encode(num, out, offset) {\n  out = out || [];\n  offset = offset || 0;\n  var oldOffset = offset;\n  while (num >= INT) {\n    out[offset++] = num & 255 | MSB;\n    num /= 128;\n  }\n  while (num & MSBALL) {\n    out[offset++] = num & 255 | MSB;\n    num >>>= 7;\n  }\n  out[offset] = num | 0;\n  encode.bytes = offset - oldOffset + 1;\n  return out;\n}\nvar decode = read;\nvar MSB$1 = 128, REST$1 = 127;\nfunction read(buf, offset) {\n  var res = 0, offset = offset || 0, shift = 0, counter = offset, b, l = buf.length;\n  do {\n    if (counter >= l) {\n      read.bytes = 0;\n      throw new RangeError('Could not decode varint');\n    }\n    b = buf[counter++];\n    res += shift < 28 ? (b & REST$1) << shift : (b & REST$1) * Math.pow(2, shift);\n    shift += 7;\n  } while (b >= MSB$1);\n  read.bytes = counter - offset;\n  return res;\n}\nvar N1 = Math.pow(2, 7);\nvar N2 = Math.pow(2, 14);\nvar N3 = Math.pow(2, 21);\nvar N4 = Math.pow(2, 28);\nvar N5 = Math.pow(2, 35);\nvar N6 = Math.pow(2, 42);\nvar N7 = Math.pow(2, 49);\nvar N8 = Math.pow(2, 56);\nvar N9 = Math.pow(2, 63);\nvar length = function (value) {\n  return value < N1 ? 1 : value < N2 ? 2 : value < N3 ? 3 : value < N4 ? 4 : value < N5 ? 5 : value < N6 ? 6 : value < N7 ? 7 : value < N8 ? 8 : value < N9 ? 9 : 10;\n};\nvar varint = {\n  encode: encode_1,\n  decode: decode,\n  encodingLength: length\n};\nvar _brrp_varint = varint;\nexport default _brrp_varint;", "import varint from '../vendor/varint.js';\nexport const decode = (data, offset = 0) => {\n  const code = varint.decode(data, offset);\n  return [\n    code,\n    varint.decode.bytes\n  ];\n};\nexport const encodeTo = (int, target, offset = 0) => {\n  varint.encode(int, target, offset);\n  return target;\n};\nexport const encodingLength = int => {\n  return varint.encodingLength(int);\n};", "const empty = new Uint8Array(0);\nconst toHex = d => d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '');\nconst fromHex = hex => {\n  const hexes = hex.match(/../g);\n  return hexes ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty;\n};\nconst equals = (aa, bb) => {\n  if (aa === bb)\n    return true;\n  if (aa.byteLength !== bb.byteLength) {\n    return false;\n  }\n  for (let ii = 0; ii < aa.byteLength; ii++) {\n    if (aa[ii] !== bb[ii]) {\n      return false;\n    }\n  }\n  return true;\n};\nconst coerce = o => {\n  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array')\n    return o;\n  if (o instanceof ArrayBuffer)\n    return new Uint8Array(o);\n  if (ArrayBuffer.isView(o)) {\n    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength);\n  }\n  throw new Error('Unknown type, must be binary type');\n};\nconst isBinary = o => o instanceof ArrayBuffer || ArrayBuffer.isView(o);\nconst fromString = str => new TextEncoder().encode(str);\nconst toString = b => new TextDecoder().decode(b);\nexport {\n  equals,\n  coerce,\n  isBinary,\n  fromHex,\n  toHex,\n  fromString,\n  toString,\n  empty\n};", "import {\n  coerce,\n  equals as equalBytes\n} from '../bytes.js';\nimport * as varint from '../varint.js';\nexport const create = (code, digest) => {\n  const size = digest.byteLength;\n  const sizeOffset = varint.encodingLength(code);\n  const digestOffset = sizeOffset + varint.encodingLength(size);\n  const bytes = new Uint8Array(digestOffset + size);\n  varint.encodeTo(code, bytes, 0);\n  varint.encodeTo(size, bytes, sizeOffset);\n  bytes.set(digest, digestOffset);\n  return new Digest(code, size, digest, bytes);\n};\nexport const decode = multihash => {\n  const bytes = coerce(multihash);\n  const [code, sizeOffset] = varint.decode(bytes);\n  const [size, digestOffset] = varint.decode(bytes.subarray(sizeOffset));\n  const digest = bytes.subarray(sizeOffset + digestOffset);\n  if (digest.byteLength !== size) {\n    throw new Error('Incorrect length');\n  }\n  return new Digest(code, size, digest, bytes);\n};\nexport const equals = (a, b) => {\n  if (a === b) {\n    return true;\n  } else {\n    return a.code === b.code && a.size === b.size && equalBytes(a.bytes, b.bytes);\n  }\n};\nexport class Digest {\n  constructor(code, size, digest, bytes) {\n    this.code = code;\n    this.size = size;\n    this.digest = digest;\n    this.bytes = bytes;\n  }\n}", "function base(ALPHABET, name) {\n  if (ALPHABET.length >= 255) {\n    throw new TypeError('Alphabet too long');\n  }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) {\n      throw new TypeError(x + ' is ambiguous');\n    }\n    BASE_MAP[xc] = i;\n  }\n  var BASE = ALPHABET.length;\n  var LEADER = ALPHABET.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256);\n  var iFACTOR = Math.log(256) / Math.log(BASE);\n  function encode(source) {\n    if (source instanceof Uint8Array);\n    else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) {\n      throw new TypeError('Expected Uint8Array');\n    }\n    if (source.length === 0) {\n      return '';\n    }\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n    var size = (pend - pbegin) * iFACTOR + 1 >>> 0;\n    var b58 = new Uint8Array(size);\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n      var i = 0;\n      for (var it1 = size - 1; (carry !== 0 || i < length) && it1 !== -1; it1--, i++) {\n        carry += 256 * b58[it1] >>> 0;\n        b58[it1] = carry % BASE >>> 0;\n        carry = carry / BASE >>> 0;\n      }\n      if (carry !== 0) {\n        throw new Error('Non-zero carry');\n      }\n      length = i;\n      pbegin++;\n    }\n    var it2 = size - length;\n    while (it2 !== size && b58[it2] === 0) {\n      it2++;\n    }\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size; ++it2) {\n      str += ALPHABET.charAt(b58[it2]);\n    }\n    return str;\n  }\n  function decodeUnsafe(source) {\n    if (typeof source !== 'string') {\n      throw new TypeError('Expected String');\n    }\n    if (source.length === 0) {\n      return new Uint8Array();\n    }\n    var psz = 0;\n    if (source[psz] === ' ') {\n      return;\n    }\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n    var size = (source.length - psz) * FACTOR + 1 >>> 0;\n    var b256 = new Uint8Array(size);\n    while (source[psz]) {\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n      if (carry === 255) {\n        return;\n      }\n      var i = 0;\n      for (var it3 = size - 1; (carry !== 0 || i < length) && it3 !== -1; it3--, i++) {\n        carry += BASE * b256[it3] >>> 0;\n        b256[it3] = carry % 256 >>> 0;\n        carry = carry / 256 >>> 0;\n      }\n      if (carry !== 0) {\n        throw new Error('Non-zero carry');\n      }\n      length = i;\n      psz++;\n    }\n    if (source[psz] === ' ') {\n      return;\n    }\n    var it4 = size - length;\n    while (it4 !== size && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size - it4));\n    var j = zeroes;\n    while (it4 !== size) {\n      vch[j++] = b256[it4++];\n    }\n    return vch;\n  }\n  function decode(string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) {\n      return buffer;\n    }\n    throw new Error(`Non-${ name } character`);\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  };\n}\nvar src = base;\nvar _brrp__multiformats_scope_baseX = src;\nexport default _brrp__multiformats_scope_baseX;", "import basex from '../../vendor/base-x.js';\nimport { coerce } from '../bytes.js';\nclass Encoder {\n  constructor(name, prefix, baseEncode) {\n    this.name = name;\n    this.prefix = prefix;\n    this.baseEncode = baseEncode;\n  }\n  encode(bytes) {\n    if (bytes instanceof Uint8Array) {\n      return `${ this.prefix }${ this.baseEncode(bytes) }`;\n    } else {\n      throw Error('Unknown type, must be binary type');\n    }\n  }\n}\nclass Decoder {\n  constructor(name, prefix, baseDecode) {\n    this.name = name;\n    this.prefix = prefix;\n    if (prefix.codePointAt(0) === undefined) {\n      throw new Error('Invalid prefix character');\n    }\n    this.prefixCodePoint = prefix.codePointAt(0);\n    this.baseDecode = baseDecode;\n  }\n  decode(text) {\n    if (typeof text === 'string') {\n      if (text.codePointAt(0) !== this.prefixCodePoint) {\n        throw Error(`Unable to decode multibase string ${ JSON.stringify(text) }, ${ this.name } decoder only supports inputs prefixed with ${ this.prefix }`);\n      }\n      return this.baseDecode(text.slice(this.prefix.length));\n    } else {\n      throw Error('Can only multibase decode strings');\n    }\n  }\n  or(decoder) {\n    return or(this, decoder);\n  }\n}\nclass ComposedDecoder {\n  constructor(decoders) {\n    this.decoders = decoders;\n  }\n  or(decoder) {\n    return or(this, decoder);\n  }\n  decode(input) {\n    const prefix = input[0];\n    const decoder = this.decoders[prefix];\n    if (decoder) {\n      return decoder.decode(input);\n    } else {\n      throw RangeError(`Unable to decode multibase string ${ JSON.stringify(input) }, only inputs prefixed with ${ Object.keys(this.decoders) } are supported`);\n    }\n  }\n}\nexport const or = (left, right) => new ComposedDecoder({\n  ...left.decoders || { [left.prefix]: left },\n  ...right.decoders || { [right.prefix]: right }\n});\nexport class Codec {\n  constructor(name, prefix, baseEncode, baseDecode) {\n    this.name = name;\n    this.prefix = prefix;\n    this.baseEncode = baseEncode;\n    this.baseDecode = baseDecode;\n    this.encoder = new Encoder(name, prefix, baseEncode);\n    this.decoder = new Decoder(name, prefix, baseDecode);\n  }\n  encode(input) {\n    return this.encoder.encode(input);\n  }\n  decode(input) {\n    return this.decoder.decode(input);\n  }\n}\nexport const from = ({name, prefix, encode, decode}) => new Codec(name, prefix, encode, decode);\nexport const baseX = ({prefix, name, alphabet}) => {\n  const {encode, decode} = basex(alphabet, name);\n  return from({\n    prefix,\n    name,\n    encode,\n    decode: text => coerce(decode(text))\n  });\n};\nconst decode = (string, alphabet, bitsPerChar, name) => {\n  const codes = {};\n  for (let i = 0; i < alphabet.length; ++i) {\n    codes[alphabet[i]] = i;\n  }\n  let end = string.length;\n  while (string[end - 1] === '=') {\n    --end;\n  }\n  const out = new Uint8Array(end * bitsPerChar / 8 | 0);\n  let bits = 0;\n  let buffer = 0;\n  let written = 0;\n  for (let i = 0; i < end; ++i) {\n    const value = codes[string[i]];\n    if (value === undefined) {\n      throw new SyntaxError(`Non-${ name } character`);\n    }\n    buffer = buffer << bitsPerChar | value;\n    bits += bitsPerChar;\n    if (bits >= 8) {\n      bits -= 8;\n      out[written++] = 255 & buffer >> bits;\n    }\n  }\n  if (bits >= bitsPerChar || 255 & buffer << 8 - bits) {\n    throw new SyntaxError('Unexpected end of data');\n  }\n  return out;\n};\nconst encode = (data, alphabet, bitsPerChar) => {\n  const pad = alphabet[alphabet.length - 1] === '=';\n  const mask = (1 << bitsPerChar) - 1;\n  let out = '';\n  let bits = 0;\n  let buffer = 0;\n  for (let i = 0; i < data.length; ++i) {\n    buffer = buffer << 8 | data[i];\n    bits += 8;\n    while (bits > bitsPerChar) {\n      bits -= bitsPerChar;\n      out += alphabet[mask & buffer >> bits];\n    }\n  }\n  if (bits) {\n    out += alphabet[mask & buffer << bitsPerChar - bits];\n  }\n  if (pad) {\n    while (out.length * bitsPerChar & 7) {\n      out += '=';\n    }\n  }\n  return out;\n};\nexport const rfc4648 = ({name, prefix, bitsPerChar, alphabet}) => {\n  return from({\n    prefix,\n    name,\n    encode(input) {\n      return encode(input, alphabet, bitsPerChar);\n    },\n    decode(input) {\n      return decode(input, alphabet, bitsPerChar, name);\n    }\n  });\n};", "import { baseX } from './base.js';\nexport const base58btc = baseX({\n  name: 'base58btc',\n  prefix: 'z',\n  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n});\nexport const base58flickr = baseX({\n  name: 'base58flickr',\n  prefix: 'Z',\n  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n});", "import { rfc4648 } from './base.js';\nexport const base32 = rfc4648({\n  prefix: 'b',\n  name: 'base32',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',\n  bitsPerChar: 5\n});\nexport const base32upper = rfc4648({\n  prefix: 'B',\n  name: 'base32upper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bitsPerChar: 5\n});\nexport const base32pad = rfc4648({\n  prefix: 'c',\n  name: 'base32pad',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',\n  bitsPerChar: 5\n});\nexport const base32padupper = rfc4648({\n  prefix: 'C',\n  name: 'base32padupper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',\n  bitsPerChar: 5\n});\nexport const base32hex = rfc4648({\n  prefix: 'v',\n  name: 'base32hex',\n  alphabet: '0123456789abcdefghijklmnopqrstuv',\n  bitsPerChar: 5\n});\nexport const base32hexupper = rfc4648({\n  prefix: 'V',\n  name: 'base32hexupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bitsPerChar: 5\n});\nexport const base32hexpad = rfc4648({\n  prefix: 't',\n  name: 'base32hexpad',\n  alphabet: '0123456789abcdefghijklmnopqrstuv=',\n  bitsPerChar: 5\n});\nexport const base32hexpadupper = rfc4648({\n  prefix: 'T',\n  name: 'base32hexpadupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',\n  bitsPerChar: 5\n});\nexport const base32z = rfc4648({\n  prefix: 'h',\n  name: 'base32z',\n  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  bitsPerChar: 5\n});", "import * as varint from './varint.js';\nimport * as Digest from './hashes/digest.js';\nimport { base58btc } from './bases/base58.js';\nimport { base32 } from './bases/base32.js';\nimport { coerce } from './bytes.js';\nexport class CID {\n  constructor(version, code, multihash, bytes) {\n    this.code = code;\n    this.version = version;\n    this.multihash = multihash;\n    this.bytes = bytes;\n    this.byteOffset = bytes.byteOffset;\n    this.byteLength = bytes.byteLength;\n    this.asCID = this;\n    this._baseCache = new Map();\n    Object.defineProperties(this, {\n      byteOffset: hidden,\n      byteLength: hidden,\n      code: readonly,\n      version: readonly,\n      multihash: readonly,\n      bytes: readonly,\n      _baseCache: hidden,\n      asCID: hidden\n    });\n  }\n  toV0() {\n    switch (this.version) {\n    case 0: {\n        return this;\n      }\n    default: {\n        const {code, multihash} = this;\n        if (code !== DAG_PB_CODE) {\n          throw new Error('Cannot convert a non dag-pb CID to CIDv0');\n        }\n        if (multihash.code !== SHA_256_CODE) {\n          throw new Error('Cannot convert non sha2-256 multihash CID to CIDv0');\n        }\n        return CID.createV0(multihash);\n      }\n    }\n  }\n  toV1() {\n    switch (this.version) {\n    case 0: {\n        const {code, digest} = this.multihash;\n        const multihash = Digest.create(code, digest);\n        return CID.createV1(this.code, multihash);\n      }\n    case 1: {\n        return this;\n      }\n    default: {\n        throw Error(`Can not convert CID version ${ this.version } to version 0. This is a bug please report`);\n      }\n    }\n  }\n  equals(other) {\n    return other && this.code === other.code && this.version === other.version && Digest.equals(this.multihash, other.multihash);\n  }\n  toString(base) {\n    const {bytes, version, _baseCache} = this;\n    switch (version) {\n    case 0:\n      return toStringV0(bytes, _baseCache, base || base58btc.encoder);\n    default:\n      return toStringV1(bytes, _baseCache, base || base32.encoder);\n    }\n  }\n  toJSON() {\n    return {\n      code: this.code,\n      version: this.version,\n      hash: this.multihash.bytes\n    };\n  }\n  get [Symbol.toStringTag]() {\n    return 'CID';\n  }\n  [Symbol.for('nodejs.util.inspect.custom')]() {\n    return 'CID(' + this.toString() + ')';\n  }\n  static isCID(value) {\n    deprecate(/^0\\.0/, IS_CID_DEPRECATION);\n    return !!(value && (value[cidSymbol] || value.asCID === value));\n  }\n  get toBaseEncodedString() {\n    throw new Error('Deprecated, use .toString()');\n  }\n  get codec() {\n    throw new Error('\"codec\" property is deprecated, use integer \"code\" property instead');\n  }\n  get buffer() {\n    throw new Error('Deprecated .buffer property, use .bytes to get Uint8Array instead');\n  }\n  get multibaseName() {\n    throw new Error('\"multibaseName\" property is deprecated');\n  }\n  get prefix() {\n    throw new Error('\"prefix\" property is deprecated');\n  }\n  static asCID(value) {\n    if (value instanceof CID) {\n      return value;\n    } else if (value != null && value.asCID === value) {\n      const {version, code, multihash, bytes} = value;\n      return new CID(version, code, multihash, bytes || encodeCID(version, code, multihash.bytes));\n    } else if (value != null && value[cidSymbol] === true) {\n      const {version, multihash, code} = value;\n      const digest = Digest.decode(multihash);\n      return CID.create(version, code, digest);\n    } else {\n      return null;\n    }\n  }\n  static create(version, code, digest) {\n    if (typeof code !== 'number') {\n      throw new Error('String codecs are no longer supported');\n    }\n    switch (version) {\n    case 0: {\n        if (code !== DAG_PB_CODE) {\n          throw new Error(`Version 0 CID must use dag-pb (code: ${ DAG_PB_CODE }) block encoding`);\n        } else {\n          return new CID(version, code, digest, digest.bytes);\n        }\n      }\n    case 1: {\n        const bytes = encodeCID(version, code, digest.bytes);\n        return new CID(version, code, digest, bytes);\n      }\n    default: {\n        throw new Error('Invalid version');\n      }\n    }\n  }\n  static createV0(digest) {\n    return CID.create(0, DAG_PB_CODE, digest);\n  }\n  static createV1(code, digest) {\n    return CID.create(1, code, digest);\n  }\n  static decode(bytes) {\n    const [cid, remainder] = CID.decodeFirst(bytes);\n    if (remainder.length) {\n      throw new Error('Incorrect length');\n    }\n    return cid;\n  }\n  static decodeFirst(bytes) {\n    const specs = CID.inspectBytes(bytes);\n    const prefixSize = specs.size - specs.multihashSize;\n    const multihashBytes = coerce(bytes.subarray(prefixSize, prefixSize + specs.multihashSize));\n    if (multihashBytes.byteLength !== specs.multihashSize) {\n      throw new Error('Incorrect length');\n    }\n    const digestBytes = multihashBytes.subarray(specs.multihashSize - specs.digestSize);\n    const digest = new Digest.Digest(specs.multihashCode, specs.digestSize, digestBytes, multihashBytes);\n    const cid = specs.version === 0 ? CID.createV0(digest) : CID.createV1(specs.codec, digest);\n    return [\n      cid,\n      bytes.subarray(specs.size)\n    ];\n  }\n  static inspectBytes(initialBytes) {\n    let offset = 0;\n    const next = () => {\n      const [i, length] = varint.decode(initialBytes.subarray(offset));\n      offset += length;\n      return i;\n    };\n    let version = next();\n    let codec = DAG_PB_CODE;\n    if (version === 18) {\n      version = 0;\n      offset = 0;\n    } else if (version === 1) {\n      codec = next();\n    }\n    if (version !== 0 && version !== 1) {\n      throw new RangeError(`Invalid CID version ${ version }`);\n    }\n    const prefixSize = offset;\n    const multihashCode = next();\n    const digestSize = next();\n    const size = offset + digestSize;\n    const multihashSize = size - prefixSize;\n    return {\n      version,\n      codec,\n      multihashCode,\n      digestSize,\n      multihashSize,\n      size\n    };\n  }\n  static parse(source, base) {\n    const [prefix, bytes] = parseCIDtoBytes(source, base);\n    const cid = CID.decode(bytes);\n    cid._baseCache.set(prefix, source);\n    return cid;\n  }\n}\nconst parseCIDtoBytes = (source, base) => {\n  switch (source[0]) {\n  case 'Q': {\n      const decoder = base || base58btc;\n      return [\n        base58btc.prefix,\n        decoder.decode(`${ base58btc.prefix }${ source }`)\n      ];\n    }\n  case base58btc.prefix: {\n      const decoder = base || base58btc;\n      return [\n        base58btc.prefix,\n        decoder.decode(source)\n      ];\n    }\n  case base32.prefix: {\n      const decoder = base || base32;\n      return [\n        base32.prefix,\n        decoder.decode(source)\n      ];\n    }\n  default: {\n      if (base == null) {\n        throw Error('To parse non base32 or base58btc encoded CID multibase decoder must be provided');\n      }\n      return [\n        source[0],\n        base.decode(source)\n      ];\n    }\n  }\n};\nconst toStringV0 = (bytes, cache, base) => {\n  const {prefix} = base;\n  if (prefix !== base58btc.prefix) {\n    throw Error(`Cannot string encode V0 in ${ base.name } encoding`);\n  }\n  const cid = cache.get(prefix);\n  if (cid == null) {\n    const cid = base.encode(bytes).slice(1);\n    cache.set(prefix, cid);\n    return cid;\n  } else {\n    return cid;\n  }\n};\nconst toStringV1 = (bytes, cache, base) => {\n  const {prefix} = base;\n  const cid = cache.get(prefix);\n  if (cid == null) {\n    const cid = base.encode(bytes);\n    cache.set(prefix, cid);\n    return cid;\n  } else {\n    return cid;\n  }\n};\nconst DAG_PB_CODE = 112;\nconst SHA_256_CODE = 18;\nconst encodeCID = (version, code, multihash) => {\n  const codeOffset = varint.encodingLength(version);\n  const hashOffset = codeOffset + varint.encodingLength(code);\n  const bytes = new Uint8Array(hashOffset + multihash.byteLength);\n  varint.encodeTo(version, bytes, 0);\n  varint.encodeTo(code, bytes, codeOffset);\n  bytes.set(multihash, hashOffset);\n  return bytes;\n};\nconst cidSymbol = Symbol.for('@ipld/js-cid/CID');\nconst readonly = {\n  writable: false,\n  configurable: false,\n  enumerable: true\n};\nconst hidden = {\n  writable: false,\n  enumerable: false,\n  configurable: false\n};\nconst version = '0.0.0-dev';\nconst deprecate = (range, message) => {\n  if (range.test(version)) {\n    console.warn(message);\n  } else {\n    throw new Error(message);\n  }\n};\nconst IS_CID_DEPRECATION = `CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n`;", "import * as Digest from './digest.js';\nexport const from = ({name, code, encode}) => new Hasher(name, code, encode);\nexport class Hasher {\n  constructor(name, code, encode) {\n    this.name = name;\n    this.code = code;\n    this.encode = encode;\n  }\n  digest(input) {\n    if (input instanceof Uint8Array) {\n      const result = this.encode(input);\n      return result instanceof Uint8Array ? Digest.create(this.code, result) : result.then(digest => Digest.create(this.code, digest));\n    } else {\n      throw Error('Unknown type, must be binary type');\n    }\n  }\n}", "import { CID } from './cid.js';\nimport * as varint from './varint.js';\nimport * as bytes from './bytes.js';\nimport * as hasher from './hashes/hasher.js';\nimport * as digest from './hashes/digest.js';\nexport {\n  CID,\n  hasher,\n  digest,\n  varint,\n  bytes\n};", "import { coerce } from '../bytes.js';\nexport const name = 'raw';\nexport const code = 85;\nexport const encode = node => coerce(node);\nexport const decode = data => coerce(data);", "import { from } from './hasher.js';\nconst sha = name => async data => new Uint8Array(await crypto.subtle.digest(name, data));\nexport const sha256 = from({\n  name: 'sha2-256',\n  code: 18,\n  encode: sha('SHA-256')\n});\nexport const sha512 = from({\n  name: 'sha2-512',\n  code: 19,\n  encode: sha('SHA-512')\n});", "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n", "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n", "/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n", "'use strict';\n\n/**\n * @typedef {{ [key: string]: any }} Extensions\n * @typedef {Error} Err\n * @property {string} message\n */\n\n/**\n *\n * @param {Error} obj\n * @param {Extensions} props\n * @returns {Error & Extensions}\n */\nfunction assign(obj, props) {\n    for (const key in props) {\n        Object.defineProperty(obj, key, {\n            value: props[key],\n            enumerable: true,\n            configurable: true,\n        });\n    }\n\n    return obj;\n}\n\n/**\n *\n * @param {any} err - An Error\n * @param {string|Extensions} code - A string code or props to set on the error\n * @param {Extensions} [props] - Props to set on the error\n * @returns {Error & Extensions}\n */\nfunction createError(err, code, props) {\n    if (!err || typeof err === 'string') {\n        throw new TypeError('Please pass an Error to err-code');\n    }\n\n    if (!props) {\n        props = {};\n    }\n\n    if (typeof code === 'object') {\n        props = code;\n        code = '';\n    }\n\n    if (code) {\n        props.code = code;\n    }\n\n    try {\n        return assign(err, props);\n    } catch (_) {\n        props.message = err.message;\n        props.stack = err.stack;\n\n        const ErrClass = function () {};\n\n        ErrClass.prototype = Object.create(Object.getPrototypeOf(err));\n\n        // @ts-ignore\n        const output = assign(new ErrClass(), props);\n\n        return output;\n    }\n}\n\nmodule.exports = createError;\n", "import { from } from './base.js';\nimport {\n  fromString,\n  toString\n} from '../bytes.js';\nexport const identity = from({\n  prefix: '\\0',\n  name: 'identity',\n  encode: buf => toString(buf),\n  decode: str => fromString(str)\n});", "import { rfc4648 } from './base.js';\nexport const base2 = rfc4648({\n  prefix: '0',\n  name: 'base2',\n  alphabet: '01',\n  bitsPerChar: 1\n});", "import { rfc4648 } from './base.js';\nexport const base8 = rfc4648({\n  prefix: '7',\n  name: 'base8',\n  alphabet: '01234567',\n  bitsPerChar: 3\n});", "import { baseX } from './base.js';\nexport const base10 = baseX({\n  prefix: '9',\n  name: 'base10',\n  alphabet: '0123456789'\n});", "import { rfc4648 } from './base.js';\nexport const base16 = rfc4648({\n  prefix: 'f',\n  name: 'base16',\n  alphabet: '0123456789abcdef',\n  bitsPerChar: 4\n});\nexport const base16upper = rfc4648({\n  prefix: 'F',\n  name: 'base16upper',\n  alphabet: '0123456789ABCDEF',\n  bitsPerChar: 4\n});", "import { baseX } from './base.js';\nexport const base36 = baseX({\n  prefix: 'k',\n  name: 'base36',\n  alphabet: '0123456789abcdefghijklmnopqrstuvwxyz'\n});\nexport const base36upper = baseX({\n  prefix: 'K',\n  name: 'base36upper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n});", "import { rfc4648 } from './base.js';\nexport const base64 = rfc4648({\n  prefix: 'm',\n  name: 'base64',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n  bitsPerChar: 6\n});\nexport const base64pad = rfc4648({\n  prefix: 'M',\n  name: 'base64pad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n  bitsPerChar: 6\n});\nexport const base64url = rfc4648({\n  prefix: 'u',\n  name: 'base64url',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n  bitsPerChar: 6\n});\nexport const base64urlpad = rfc4648({\n  prefix: 'U',\n  name: 'base64urlpad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=',\n  bitsPerChar: 6\n});", "import { from } from './base.js';\nconst alphabet = Array.from('\\uD83D\\uDE80\\uD83E\\uDE90\\u2604\\uD83D\\uDEF0\\uD83C\\uDF0C\\uD83C\\uDF11\\uD83C\\uDF12\\uD83C\\uDF13\\uD83C\\uDF14\\uD83C\\uDF15\\uD83C\\uDF16\\uD83C\\uDF17\\uD83C\\uDF18\\uD83C\\uDF0D\\uD83C\\uDF0F\\uD83C\\uDF0E\\uD83D\\uDC09\\u2600\\uD83D\\uDCBB\\uD83D\\uDDA5\\uD83D\\uDCBE\\uD83D\\uDCBF\\uD83D\\uDE02\\u2764\\uD83D\\uDE0D\\uD83E\\uDD23\\uD83D\\uDE0A\\uD83D\\uDE4F\\uD83D\\uDC95\\uD83D\\uDE2D\\uD83D\\uDE18\\uD83D\\uDC4D\\uD83D\\uDE05\\uD83D\\uDC4F\\uD83D\\uDE01\\uD83D\\uDD25\\uD83E\\uDD70\\uD83D\\uDC94\\uD83D\\uDC96\\uD83D\\uDC99\\uD83D\\uDE22\\uD83E\\uDD14\\uD83D\\uDE06\\uD83D\\uDE44\\uD83D\\uDCAA\\uD83D\\uDE09\\u263A\\uD83D\\uDC4C\\uD83E\\uDD17\\uD83D\\uDC9C\\uD83D\\uDE14\\uD83D\\uDE0E\\uD83D\\uDE07\\uD83C\\uDF39\\uD83E\\uDD26\\uD83C\\uDF89\\uD83D\\uDC9E\\u270C\\u2728\\uD83E\\uDD37\\uD83D\\uDE31\\uD83D\\uDE0C\\uD83C\\uDF38\\uD83D\\uDE4C\\uD83D\\uDE0B\\uD83D\\uDC97\\uD83D\\uDC9A\\uD83D\\uDE0F\\uD83D\\uDC9B\\uD83D\\uDE42\\uD83D\\uDC93\\uD83E\\uDD29\\uD83D\\uDE04\\uD83D\\uDE00\\uD83D\\uDDA4\\uD83D\\uDE03\\uD83D\\uDCAF\\uD83D\\uDE48\\uD83D\\uDC47\\uD83C\\uDFB6\\uD83D\\uDE12\\uD83E\\uDD2D\\u2763\\uD83D\\uDE1C\\uD83D\\uDC8B\\uD83D\\uDC40\\uD83D\\uDE2A\\uD83D\\uDE11\\uD83D\\uDCA5\\uD83D\\uDE4B\\uD83D\\uDE1E\\uD83D\\uDE29\\uD83D\\uDE21\\uD83E\\uDD2A\\uD83D\\uDC4A\\uD83E\\uDD73\\uD83D\\uDE25\\uD83E\\uDD24\\uD83D\\uDC49\\uD83D\\uDC83\\uD83D\\uDE33\\u270B\\uD83D\\uDE1A\\uD83D\\uDE1D\\uD83D\\uDE34\\uD83C\\uDF1F\\uD83D\\uDE2C\\uD83D\\uDE43\\uD83C\\uDF40\\uD83C\\uDF37\\uD83D\\uDE3B\\uD83D\\uDE13\\u2B50\\u2705\\uD83E\\uDD7A\\uD83C\\uDF08\\uD83D\\uDE08\\uD83E\\uDD18\\uD83D\\uDCA6\\u2714\\uD83D\\uDE23\\uD83C\\uDFC3\\uD83D\\uDC90\\u2639\\uD83C\\uDF8A\\uD83D\\uDC98\\uD83D\\uDE20\\u261D\\uD83D\\uDE15\\uD83C\\uDF3A\\uD83C\\uDF82\\uD83C\\uDF3B\\uD83D\\uDE10\\uD83D\\uDD95\\uD83D\\uDC9D\\uD83D\\uDE4A\\uD83D\\uDE39\\uD83D\\uDDE3\\uD83D\\uDCAB\\uD83D\\uDC80\\uD83D\\uDC51\\uD83C\\uDFB5\\uD83E\\uDD1E\\uD83D\\uDE1B\\uD83D\\uDD34\\uD83D\\uDE24\\uD83C\\uDF3C\\uD83D\\uDE2B\\u26BD\\uD83E\\uDD19\\u2615\\uD83C\\uDFC6\\uD83E\\uDD2B\\uD83D\\uDC48\\uD83D\\uDE2E\\uD83D\\uDE46\\uD83C\\uDF7B\\uD83C\\uDF43\\uD83D\\uDC36\\uD83D\\uDC81\\uD83D\\uDE32\\uD83C\\uDF3F\\uD83E\\uDDE1\\uD83C\\uDF81\\u26A1\\uD83C\\uDF1E\\uD83C\\uDF88\\u274C\\u270A\\uD83D\\uDC4B\\uD83D\\uDE30\\uD83E\\uDD28\\uD83D\\uDE36\\uD83E\\uDD1D\\uD83D\\uDEB6\\uD83D\\uDCB0\\uD83C\\uDF53\\uD83D\\uDCA2\\uD83E\\uDD1F\\uD83D\\uDE41\\uD83D\\uDEA8\\uD83D\\uDCA8\\uD83E\\uDD2C\\u2708\\uD83C\\uDF80\\uD83C\\uDF7A\\uD83E\\uDD13\\uD83D\\uDE19\\uD83D\\uDC9F\\uD83C\\uDF31\\uD83D\\uDE16\\uD83D\\uDC76\\uD83E\\uDD74\\u25B6\\u27A1\\u2753\\uD83D\\uDC8E\\uD83D\\uDCB8\\u2B07\\uD83D\\uDE28\\uD83C\\uDF1A\\uD83E\\uDD8B\\uD83D\\uDE37\\uD83D\\uDD7A\\u26A0\\uD83D\\uDE45\\uD83D\\uDE1F\\uD83D\\uDE35\\uD83D\\uDC4E\\uD83E\\uDD32\\uD83E\\uDD20\\uD83E\\uDD27\\uD83D\\uDCCC\\uD83D\\uDD35\\uD83D\\uDC85\\uD83E\\uDDD0\\uD83D\\uDC3E\\uD83C\\uDF52\\uD83D\\uDE17\\uD83E\\uDD11\\uD83C\\uDF0A\\uD83E\\uDD2F\\uD83D\\uDC37\\u260E\\uD83D\\uDCA7\\uD83D\\uDE2F\\uD83D\\uDC86\\uD83D\\uDC46\\uD83C\\uDFA4\\uD83D\\uDE47\\uD83C\\uDF51\\u2744\\uD83C\\uDF34\\uD83D\\uDCA3\\uD83D\\uDC38\\uD83D\\uDC8C\\uD83D\\uDCCD\\uD83E\\uDD40\\uD83E\\uDD22\\uD83D\\uDC45\\uD83D\\uDCA1\\uD83D\\uDCA9\\uD83D\\uDC50\\uD83D\\uDCF8\\uD83D\\uDC7B\\uD83E\\uDD10\\uD83E\\uDD2E\\uD83C\\uDFBC\\uD83E\\uDD75\\uD83D\\uDEA9\\uD83C\\uDF4E\\uD83C\\uDF4A\\uD83D\\uDC7C\\uD83D\\uDC8D\\uD83D\\uDCE3\\uD83E\\uDD42');\nconst alphabetBytesToChars = alphabet.reduce((p, c, i) => {\n  p[i] = c;\n  return p;\n}, []);\nconst alphabetCharsToBytes = alphabet.reduce((p, c, i) => {\n  p[c.codePointAt(0)] = i;\n  return p;\n}, []);\nfunction encode(data) {\n  return data.reduce((p, c) => {\n    p += alphabetBytesToChars[c];\n    return p;\n  }, '');\n}\nfunction decode(str) {\n  const byts = [];\n  for (const char of str) {\n    const byt = alphabetCharsToBytes[char.codePointAt(0)];\n    if (byt === undefined) {\n      throw new Error(`Non-base256emoji character: ${ char }`);\n    }\n    byts.push(byt);\n  }\n  return new Uint8Array(byts);\n}\nexport const base256emoji = from({\n  prefix: '\\uD83D\\uDE80',\n  name: 'base256emoji',\n  encode,\n  decode\n});", "import { coerce } from '../bytes.js';\nimport * as Digest from './digest.js';\nconst code = 0;\nconst name = 'identity';\nconst encode = coerce;\nconst digest = input => Digest.create(code, encode(input));\nexport const identity = {\n  code,\n  name,\n  encode,\n  digest\n};", "const textEncoder = new TextEncoder();\nconst textDecoder = new TextDecoder();\nexport const name = 'json';\nexport const code = 512;\nexport const encode = node => textEncoder.encode(JSON.stringify(node));\nexport const decode = data => JSON.parse(textDecoder.decode(data));", "import * as identityBase from './bases/identity.js';\nimport * as base2 from './bases/base2.js';\nimport * as base8 from './bases/base8.js';\nimport * as base10 from './bases/base10.js';\nimport * as base16 from './bases/base16.js';\nimport * as base32 from './bases/base32.js';\nimport * as base36 from './bases/base36.js';\nimport * as base58 from './bases/base58.js';\nimport * as base64 from './bases/base64.js';\nimport * as base256emoji from './bases/base256emoji.js';\nimport * as sha2 from './hashes/sha2.js';\nimport * as identity from './hashes/identity.js';\nimport * as raw from './codecs/raw.js';\nimport * as json from './codecs/json.js';\nimport {\n  CID,\n  hasher,\n  digest,\n  varint,\n  bytes\n} from './index.js';\nconst bases = {\n  ...identityBase,\n  ...base2,\n  ...base8,\n  ...base10,\n  ...base16,\n  ...base32,\n  ...base36,\n  ...base58,\n  ...base64,\n  ...base256emoji\n};\nconst hashes = {\n  ...sha2,\n  ...identity\n};\nconst codecs = {\n  raw,\n  json\n};\nexport {\n  CID,\n  hasher,\n  digest,\n  varint,\n  bytes,\n  hashes,\n  bases,\n  codecs\n};", "export function alloc(size = 0) {\n  if (globalThis.Buffer != null && globalThis.Buffer.alloc != null) {\n    return globalThis.Buffer.alloc(size);\n  }\n  return new Uint8Array(size);\n}\nexport function allocUnsafe(size = 0) {\n  if (globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null) {\n    return globalThis.Buffer.allocUnsafe(size);\n  }\n  return new Uint8Array(size);\n}", "import { bases } from 'multiformats/basics';\nimport { allocUnsafe } from '../alloc.js';\nfunction createCodec(name, prefix, encode, decode) {\n  return {\n    name,\n    prefix,\n    encoder: {\n      name,\n      prefix,\n      encode\n    },\n    decoder: { decode }\n  };\n}\nconst string = createCodec('utf8', 'u', buf => {\n  const decoder = new TextDecoder('utf8');\n  return 'u' + decoder.decode(buf);\n}, str => {\n  const encoder = new TextEncoder();\n  return encoder.encode(str.substring(1));\n});\nconst ascii = createCodec('ascii', 'a', buf => {\n  let string = 'a';\n  for (let i = 0; i < buf.length; i++) {\n    string += String.fromCharCode(buf[i]);\n  }\n  return string;\n}, str => {\n  str = str.substring(1);\n  const buf = allocUnsafe(str.length);\n  for (let i = 0; i < str.length; i++) {\n    buf[i] = str.charCodeAt(i);\n  }\n  return buf;\n});\nconst BASES = {\n  utf8: string,\n  'utf-8': string,\n  hex: bases.base16,\n  latin1: ascii,\n  ascii: ascii,\n  binary: ascii,\n  ...bases\n};\nexport default BASES;", "import bases from './util/bases.js';\nexport function toString(array, encoding = 'utf8') {\n  const base = bases[encoding];\n  if (!base) {\n    throw new Error(`Unsupported encoding \"${ encoding }\"`);\n  }\n  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n    return globalThis.Buffer.from(array.buffer, array.byteOffset, array.byteLength).toString('utf8');\n  }\n  return base.encoder.encode(array).substring(1);\n}", "import bases from './util/bases.js';\nexport function fromString(string, encoding = 'utf8') {\n  const base = bases[encoding];\n  if (!base) {\n    throw new Error(`Unsupported encoding \"${ encoding }\"`);\n  }\n  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n    return globalThis.Buffer.from(string, 'utf8');\n  }\n  return base.decoder.decode(`${ base.prefix }${ string }`);\n}", "'use strict'\n\n/**\n * Consumes the passed iterator and returns the number of items it contained.\n *\n * @param {AsyncIterable<any> | Iterable<any>} iterator\n * @returns {Promise<number>}\n */\nconst length = async (iterator) => {\n  let count = 0\n\n  for await (const _ of iterator) { // eslint-disable-line no-unused-vars\n    count++\n  }\n\n  return count\n}\n\nmodule.exports = length\n", "\"use strict\";\r\nmodule.exports = asPromise;\r\n\r\n/**\r\n * Callback as used by {@link util.asPromise}.\r\n * @typedef asPromiseCallback\r\n * @type {function}\r\n * @param {Error|null} error Error, if any\r\n * @param {...*} params Additional arguments\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Returns a promise from a node-style callback function.\r\n * @memberof util\r\n * @param {asPromiseCallback} fn Function to call\r\n * @param {*} ctx Function context\r\n * @param {...*} params Function arguments\r\n * @returns {Promise<*>} Promisified function\r\n */\r\nfunction asPromise(fn, ctx/*, varargs */) {\r\n    var params  = new Array(arguments.length - 1),\r\n        offset  = 0,\r\n        index   = 2,\r\n        pending = true;\r\n    while (index < arguments.length)\r\n        params[offset++] = arguments[index++];\r\n    return new Promise(function executor(resolve, reject) {\r\n        params[offset] = function callback(err/*, varargs */) {\r\n            if (pending) {\r\n                pending = false;\r\n                if (err)\r\n                    reject(err);\r\n                else {\r\n                    var params = new Array(arguments.length - 1),\r\n                        offset = 0;\r\n                    while (offset < params.length)\r\n                        params[offset++] = arguments[offset];\r\n                    resolve.apply(null, params);\r\n                }\r\n            }\r\n        };\r\n        try {\r\n            fn.apply(ctx || null, params);\r\n        } catch (err) {\r\n            if (pending) {\r\n                pending = false;\r\n                reject(err);\r\n            }\r\n        }\r\n    });\r\n}\r\n", "\"use strict\";\r\n\r\n/**\r\n * A minimal base64 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar base64 = exports;\r\n\r\n/**\r\n * Calculates the byte length of a base64 encoded string.\r\n * @param {string} string Base64 encoded string\r\n * @returns {number} Byte length\r\n */\r\nbase64.length = function length(string) {\r\n    var p = string.length;\r\n    if (!p)\r\n        return 0;\r\n    var n = 0;\r\n    while (--p % 4 > 1 && string.charAt(p) === \"=\")\r\n        ++n;\r\n    return Math.ceil(string.length * 3) / 4 - n;\r\n};\r\n\r\n// Base64 encoding table\r\nvar b64 = new Array(64);\r\n\r\n// Base64 decoding table\r\nvar s64 = new Array(123);\r\n\r\n// 65..90, 97..122, 48..57, 43, 47\r\nfor (var i = 0; i < 64;)\r\n    s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;\r\n\r\n/**\r\n * Encodes a buffer to a base64 encoded string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} Base64 encoded string\r\n */\r\nbase64.encode = function encode(buffer, start, end) {\r\n    var parts = null,\r\n        chunk = [];\r\n    var i = 0, // output index\r\n        j = 0, // goto index\r\n        t;     // temporary\r\n    while (start < end) {\r\n        var b = buffer[start++];\r\n        switch (j) {\r\n            case 0:\r\n                chunk[i++] = b64[b >> 2];\r\n                t = (b & 3) << 4;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                chunk[i++] = b64[t | b >> 4];\r\n                t = (b & 15) << 2;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                chunk[i++] = b64[t | b >> 6];\r\n                chunk[i++] = b64[b & 63];\r\n                j = 0;\r\n                break;\r\n        }\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (j) {\r\n        chunk[i++] = b64[t];\r\n        chunk[i++] = 61;\r\n        if (j === 1)\r\n            chunk[i++] = 61;\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\nvar invalidEncoding = \"invalid encoding\";\r\n\r\n/**\r\n * Decodes a base64 encoded string to a buffer.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Number of bytes written\r\n * @throws {Error} If encoding is invalid\r\n */\r\nbase64.decode = function decode(string, buffer, offset) {\r\n    var start = offset;\r\n    var j = 0, // goto index\r\n        t;     // temporary\r\n    for (var i = 0; i < string.length;) {\r\n        var c = string.charCodeAt(i++);\r\n        if (c === 61 && j > 1)\r\n            break;\r\n        if ((c = s64[c]) === undefined)\r\n            throw Error(invalidEncoding);\r\n        switch (j) {\r\n            case 0:\r\n                t = c;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                buffer[offset++] = t << 2 | (c & 48) >> 4;\r\n                t = c;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                buffer[offset++] = (t & 15) << 4 | (c & 60) >> 2;\r\n                t = c;\r\n                j = 3;\r\n                break;\r\n            case 3:\r\n                buffer[offset++] = (t & 3) << 6 | c;\r\n                j = 0;\r\n                break;\r\n        }\r\n    }\r\n    if (j === 1)\r\n        throw Error(invalidEncoding);\r\n    return offset - start;\r\n};\r\n\r\n/**\r\n * Tests if the specified string appears to be base64 encoded.\r\n * @param {string} string String to test\r\n * @returns {boolean} `true` if probably base64 encoded, otherwise false\r\n */\r\nbase64.test = function test(string) {\r\n    return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);\r\n};\r\n", "\"use strict\";\r\nmodule.exports = EventEmitter;\r\n\r\n/**\r\n * Constructs a new event emitter instance.\r\n * @classdesc A minimal event emitter.\r\n * @memberof util\r\n * @constructor\r\n */\r\nfunction EventEmitter() {\r\n\r\n    /**\r\n     * Registered listeners.\r\n     * @type {Object.<string,*>}\r\n     * @private\r\n     */\r\n    this._listeners = {};\r\n}\r\n\r\n/**\r\n * Registers an event listener.\r\n * @param {string} evt Event name\r\n * @param {function} fn Listener\r\n * @param {*} [ctx] Listener context\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.on = function on(evt, fn, ctx) {\r\n    (this._listeners[evt] || (this._listeners[evt] = [])).push({\r\n        fn  : fn,\r\n        ctx : ctx || this\r\n    });\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes an event listener or any matching listeners if arguments are omitted.\r\n * @param {string} [evt] Event name. Removes all listeners if omitted.\r\n * @param {function} [fn] Listener to remove. Removes all listeners of `evt` if omitted.\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.off = function off(evt, fn) {\r\n    if (evt === undefined)\r\n        this._listeners = {};\r\n    else {\r\n        if (fn === undefined)\r\n            this._listeners[evt] = [];\r\n        else {\r\n            var listeners = this._listeners[evt];\r\n            for (var i = 0; i < listeners.length;)\r\n                if (listeners[i].fn === fn)\r\n                    listeners.splice(i, 1);\r\n                else\r\n                    ++i;\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Emits an event by calling its listeners with the specified arguments.\r\n * @param {string} evt Event name\r\n * @param {...*} args Arguments\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.emit = function emit(evt) {\r\n    var listeners = this._listeners[evt];\r\n    if (listeners) {\r\n        var args = [],\r\n            i = 1;\r\n        for (; i < arguments.length;)\r\n            args.push(arguments[i++]);\r\n        for (i = 0; i < listeners.length;)\r\n            listeners[i].fn.apply(listeners[i++].ctx, args);\r\n    }\r\n    return this;\r\n};\r\n", "\"use strict\";\r\n\r\nmodule.exports = factory(factory);\r\n\r\n/**\r\n * Reads / writes floats / doubles from / to buffers.\r\n * @name util.float\r\n * @namespace\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using little endian byte order.\r\n * @name util.float.writeFloatLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using big endian byte order.\r\n * @name util.float.writeFloatBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using little endian byte order.\r\n * @name util.float.readFloatLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using big endian byte order.\r\n * @name util.float.readFloatBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using little endian byte order.\r\n * @name util.float.writeDoubleLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using big endian byte order.\r\n * @name util.float.writeDoubleBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using little endian byte order.\r\n * @name util.float.readDoubleLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using big endian byte order.\r\n * @name util.float.readDoubleBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n// Factory function for the purpose of node-based testing in modified global environments\r\nfunction factory(exports) {\r\n\r\n    // float: typed array\r\n    if (typeof Float32Array !== \"undefined\") (function() {\r\n\r\n        var f32 = new Float32Array([ -0 ]),\r\n            f8b = new Uint8Array(f32.buffer),\r\n            le  = f8b[3] === 128;\r\n\r\n        function writeFloat_f32_cpy(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n        }\r\n\r\n        function writeFloat_f32_rev(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[3];\r\n            buf[pos + 1] = f8b[2];\r\n            buf[pos + 2] = f8b[1];\r\n            buf[pos + 3] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;\r\n\r\n        function readFloat_f32_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        function readFloat_f32_rev(buf, pos) {\r\n            f8b[3] = buf[pos    ];\r\n            f8b[2] = buf[pos + 1];\r\n            f8b[1] = buf[pos + 2];\r\n            f8b[0] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;\r\n\r\n    // float: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeFloat_ieee754(writeUint, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0)\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos);\r\n            else if (isNaN(val))\r\n                writeUint(2143289344, buf, pos);\r\n            else if (val > 3.4028234663852886e+38) // +-Infinity\r\n                writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);\r\n            else if (val < 1.1754943508222875e-38) // denormal\r\n                writeUint((sign << 31 | Math.round(val / 1.401298464324817e-45)) >>> 0, buf, pos);\r\n            else {\r\n                var exponent = Math.floor(Math.log(val) / Math.LN2),\r\n                    mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;\r\n                writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);\r\n            }\r\n        }\r\n\r\n        exports.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);\r\n        exports.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);\r\n\r\n        function readFloat_ieee754(readUint, buf, pos) {\r\n            var uint = readUint(buf, pos),\r\n                sign = (uint >> 31) * 2 + 1,\r\n                exponent = uint >>> 23 & 255,\r\n                mantissa = uint & 8388607;\r\n            return exponent === 255\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 1.401298464324817e-45 * mantissa\r\n                : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);\r\n        }\r\n\r\n        exports.readFloatLE = readFloat_ieee754.bind(null, readUintLE);\r\n        exports.readFloatBE = readFloat_ieee754.bind(null, readUintBE);\r\n\r\n    })();\r\n\r\n    // double: typed array\r\n    if (typeof Float64Array !== \"undefined\") (function() {\r\n\r\n        var f64 = new Float64Array([-0]),\r\n            f8b = new Uint8Array(f64.buffer),\r\n            le  = f8b[7] === 128;\r\n\r\n        function writeDouble_f64_cpy(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n            buf[pos + 4] = f8b[4];\r\n            buf[pos + 5] = f8b[5];\r\n            buf[pos + 6] = f8b[6];\r\n            buf[pos + 7] = f8b[7];\r\n        }\r\n\r\n        function writeDouble_f64_rev(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[7];\r\n            buf[pos + 1] = f8b[6];\r\n            buf[pos + 2] = f8b[5];\r\n            buf[pos + 3] = f8b[4];\r\n            buf[pos + 4] = f8b[3];\r\n            buf[pos + 5] = f8b[2];\r\n            buf[pos + 6] = f8b[1];\r\n            buf[pos + 7] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;\r\n\r\n        function readDouble_f64_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            f8b[4] = buf[pos + 4];\r\n            f8b[5] = buf[pos + 5];\r\n            f8b[6] = buf[pos + 6];\r\n            f8b[7] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        function readDouble_f64_rev(buf, pos) {\r\n            f8b[7] = buf[pos    ];\r\n            f8b[6] = buf[pos + 1];\r\n            f8b[5] = buf[pos + 2];\r\n            f8b[4] = buf[pos + 3];\r\n            f8b[3] = buf[pos + 4];\r\n            f8b[2] = buf[pos + 5];\r\n            f8b[1] = buf[pos + 6];\r\n            f8b[0] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;\r\n\r\n    // double: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos + off1);\r\n            } else if (isNaN(val)) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(2146959360, buf, pos + off1);\r\n            } else if (val > 1.7976931348623157e+308) { // +-Infinity\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);\r\n            } else {\r\n                var mantissa;\r\n                if (val < 2.2250738585072014e-308) { // denormal\r\n                    mantissa = val / 5e-324;\r\n                    writeUint(mantissa >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);\r\n                } else {\r\n                    var exponent = Math.floor(Math.log(val) / Math.LN2);\r\n                    if (exponent === 1024)\r\n                        exponent = 1023;\r\n                    mantissa = val * Math.pow(2, -exponent);\r\n                    writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);\r\n                }\r\n            }\r\n        }\r\n\r\n        exports.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);\r\n        exports.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);\r\n\r\n        function readDouble_ieee754(readUint, off0, off1, buf, pos) {\r\n            var lo = readUint(buf, pos + off0),\r\n                hi = readUint(buf, pos + off1);\r\n            var sign = (hi >> 31) * 2 + 1,\r\n                exponent = hi >>> 20 & 2047,\r\n                mantissa = 4294967296 * (hi & 1048575) + lo;\r\n            return exponent === 2047\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 5e-324 * mantissa\r\n                : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);\r\n        }\r\n\r\n        exports.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);\r\n        exports.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);\r\n\r\n    })();\r\n\r\n    return exports;\r\n}\r\n\r\n// uint helpers\r\n\r\nfunction writeUintLE(val, buf, pos) {\r\n    buf[pos    ] =  val        & 255;\r\n    buf[pos + 1] =  val >>> 8  & 255;\r\n    buf[pos + 2] =  val >>> 16 & 255;\r\n    buf[pos + 3] =  val >>> 24;\r\n}\r\n\r\nfunction writeUintBE(val, buf, pos) {\r\n    buf[pos    ] =  val >>> 24;\r\n    buf[pos + 1] =  val >>> 16 & 255;\r\n    buf[pos + 2] =  val >>> 8  & 255;\r\n    buf[pos + 3] =  val        & 255;\r\n}\r\n\r\nfunction readUintLE(buf, pos) {\r\n    return (buf[pos    ]\r\n          | buf[pos + 1] << 8\r\n          | buf[pos + 2] << 16\r\n          | buf[pos + 3] << 24) >>> 0;\r\n}\r\n\r\nfunction readUintBE(buf, pos) {\r\n    return (buf[pos    ] << 24\r\n          | buf[pos + 1] << 16\r\n          | buf[pos + 2] << 8\r\n          | buf[pos + 3]) >>> 0;\r\n}\r\n", "\"use strict\";\r\nmodule.exports = inquire;\r\n\r\n/**\r\n * Requires a module only if available.\r\n * @memberof util\r\n * @param {string} moduleName Module to require\r\n * @returns {?Object} Required module if available and not empty, otherwise `null`\r\n */\r\nfunction inquire(moduleName) {\r\n    try {\r\n        var mod = eval(\"quire\".replace(/^/,\"re\"))(moduleName); // eslint-disable-line no-eval\r\n        if (mod && (mod.length || Object.keys(mod).length))\r\n            return mod;\r\n    } catch (e) {} // eslint-disable-line no-empty\r\n    return null;\r\n}\r\n", "\"use strict\";\r\n\r\n/**\r\n * A minimal UTF8 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar utf8 = exports;\r\n\r\n/**\r\n * Calculates the UTF8 byte length of a string.\r\n * @param {string} string String\r\n * @returns {number} Byte length\r\n */\r\nutf8.length = function utf8_length(string) {\r\n    var len = 0,\r\n        c = 0;\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c = string.charCodeAt(i);\r\n        if (c < 128)\r\n            len += 1;\r\n        else if (c < 2048)\r\n            len += 2;\r\n        else if ((c & 0xFC00) === 0xD800 && (string.charCodeAt(i + 1) & 0xFC00) === 0xDC00) {\r\n            ++i;\r\n            len += 4;\r\n        } else\r\n            len += 3;\r\n    }\r\n    return len;\r\n};\r\n\r\n/**\r\n * Reads UTF8 bytes as a string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} String read\r\n */\r\nutf8.read = function utf8_read(buffer, start, end) {\r\n    var len = end - start;\r\n    if (len < 1)\r\n        return \"\";\r\n    var parts = null,\r\n        chunk = [],\r\n        i = 0, // char offset\r\n        t;     // temporary\r\n    while (start < end) {\r\n        t = buffer[start++];\r\n        if (t < 128)\r\n            chunk[i++] = t;\r\n        else if (t > 191 && t < 224)\r\n            chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;\r\n        else if (t > 239 && t < 365) {\r\n            t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 0x10000;\r\n            chunk[i++] = 0xD800 + (t >> 10);\r\n            chunk[i++] = 0xDC00 + (t & 1023);\r\n        } else\r\n            chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\n/**\r\n * Writes a string as UTF8 bytes.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Bytes written\r\n */\r\nutf8.write = function utf8_write(string, buffer, offset) {\r\n    var start = offset,\r\n        c1, // character 1\r\n        c2; // character 2\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c1 = string.charCodeAt(i);\r\n        if (c1 < 128) {\r\n            buffer[offset++] = c1;\r\n        } else if (c1 < 2048) {\r\n            buffer[offset++] = c1 >> 6       | 192;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else if ((c1 & 0xFC00) === 0xD800 && ((c2 = string.charCodeAt(i + 1)) & 0xFC00) === 0xDC00) {\r\n            c1 = 0x10000 + ((c1 & 0x03FF) << 10) + (c2 & 0x03FF);\r\n            ++i;\r\n            buffer[offset++] = c1 >> 18      | 240;\r\n            buffer[offset++] = c1 >> 12 & 63 | 128;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else {\r\n            buffer[offset++] = c1 >> 12      | 224;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        }\r\n    }\r\n    return offset - start;\r\n};\r\n", "\"use strict\";\r\nmodule.exports = pool;\r\n\r\n/**\r\n * An allocator as used by {@link util.pool}.\r\n * @typedef PoolAllocator\r\n * @type {function}\r\n * @param {number} size Buffer size\r\n * @returns {Uint8Array} Buffer\r\n */\r\n\r\n/**\r\n * A slicer as used by {@link util.pool}.\r\n * @typedef PoolSlicer\r\n * @type {function}\r\n * @param {number} start Start offset\r\n * @param {number} end End offset\r\n * @returns {Uint8Array} Buffer slice\r\n * @this {Uint8Array}\r\n */\r\n\r\n/**\r\n * A general purpose buffer pool.\r\n * @memberof util\r\n * @function\r\n * @param {PoolAllocator} alloc Allocator\r\n * @param {PoolSlicer} slice Slicer\r\n * @param {number} [size=8192] Slab size\r\n * @returns {PoolAllocator} Pooled allocator\r\n */\r\nfunction pool(alloc, slice, size) {\r\n    var SIZE   = size || 8192;\r\n    var MAX    = SIZE >>> 1;\r\n    var slab   = null;\r\n    var offset = SIZE;\r\n    return function pool_alloc(size) {\r\n        if (size < 1 || size > MAX)\r\n            return alloc(size);\r\n        if (offset + size > SIZE) {\r\n            slab = alloc(SIZE);\r\n            offset = 0;\r\n        }\r\n        var buf = slice.call(slab, offset, offset += size);\r\n        if (offset & 7) // align to 32 bit\r\n            offset = (offset | 7) + 1;\r\n        return buf;\r\n    };\r\n}\r\n", "\"use strict\";\nmodule.exports = LongBits;\n\nvar util = require(\"../util/minimal\");\n\n/**\n * Constructs new long bits.\n * @classdesc Helper class for working with the low and high bits of a 64 bit value.\n * @memberof util\n * @constructor\n * @param {number} lo Low 32 bits, unsigned\n * @param {number} hi High 32 bits, unsigned\n */\nfunction LongBits(lo, hi) {\n\n    // note that the casts below are theoretically unnecessary as of today, but older statically\n    // generated converter code might still call the ctor with signed 32bits. kept for compat.\n\n    /**\n     * Low bits.\n     * @type {number}\n     */\n    this.lo = lo >>> 0;\n\n    /**\n     * High bits.\n     * @type {number}\n     */\n    this.hi = hi >>> 0;\n}\n\n/**\n * Zero bits.\n * @memberof util.LongBits\n * @type {util.LongBits}\n */\nvar zero = LongBits.zero = new LongBits(0, 0);\n\nzero.toNumber = function() { return 0; };\nzero.zzEncode = zero.zzDecode = function() { return this; };\nzero.length = function() { return 1; };\n\n/**\n * Zero hash.\n * @memberof util.LongBits\n * @type {string}\n */\nvar zeroHash = LongBits.zeroHash = \"\\0\\0\\0\\0\\0\\0\\0\\0\";\n\n/**\n * Constructs new long bits from the specified number.\n * @param {number} value Value\n * @returns {util.LongBits} Instance\n */\nLongBits.fromNumber = function fromNumber(value) {\n    if (value === 0)\n        return zero;\n    var sign = value < 0;\n    if (sign)\n        value = -value;\n    var lo = value >>> 0,\n        hi = (value - lo) / 4294967296 >>> 0;\n    if (sign) {\n        hi = ~hi >>> 0;\n        lo = ~lo >>> 0;\n        if (++lo > 4294967295) {\n            lo = 0;\n            if (++hi > 4294967295)\n                hi = 0;\n        }\n    }\n    return new LongBits(lo, hi);\n};\n\n/**\n * Constructs new long bits from a number, long or string.\n * @param {Long|number|string} value Value\n * @returns {util.LongBits} Instance\n */\nLongBits.from = function from(value) {\n    if (typeof value === \"number\")\n        return LongBits.fromNumber(value);\n    if (util.isString(value)) {\n        /* istanbul ignore else */\n        if (util.Long)\n            value = util.Long.fromString(value);\n        else\n            return LongBits.fromNumber(parseInt(value, 10));\n    }\n    return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;\n};\n\n/**\n * Converts this long bits to a possibly unsafe JavaScript number.\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {number} Possibly unsafe number\n */\nLongBits.prototype.toNumber = function toNumber(unsigned) {\n    if (!unsigned && this.hi >>> 31) {\n        var lo = ~this.lo + 1 >>> 0,\n            hi = ~this.hi     >>> 0;\n        if (!lo)\n            hi = hi + 1 >>> 0;\n        return -(lo + hi * 4294967296);\n    }\n    return this.lo + this.hi * 4294967296;\n};\n\n/**\n * Converts this long bits to a long.\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {Long} Long\n */\nLongBits.prototype.toLong = function toLong(unsigned) {\n    return util.Long\n        ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned))\n        /* istanbul ignore next */\n        : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };\n};\n\nvar charCodeAt = String.prototype.charCodeAt;\n\n/**\n * Constructs new long bits from the specified 8 characters long hash.\n * @param {string} hash Hash\n * @returns {util.LongBits} Bits\n */\nLongBits.fromHash = function fromHash(hash) {\n    if (hash === zeroHash)\n        return zero;\n    return new LongBits(\n        ( charCodeAt.call(hash, 0)\n        | charCodeAt.call(hash, 1) << 8\n        | charCodeAt.call(hash, 2) << 16\n        | charCodeAt.call(hash, 3) << 24) >>> 0\n    ,\n        ( charCodeAt.call(hash, 4)\n        | charCodeAt.call(hash, 5) << 8\n        | charCodeAt.call(hash, 6) << 16\n        | charCodeAt.call(hash, 7) << 24) >>> 0\n    );\n};\n\n/**\n * Converts this long bits to a 8 characters long hash.\n * @returns {string} Hash\n */\nLongBits.prototype.toHash = function toHash() {\n    return String.fromCharCode(\n        this.lo        & 255,\n        this.lo >>> 8  & 255,\n        this.lo >>> 16 & 255,\n        this.lo >>> 24      ,\n        this.hi        & 255,\n        this.hi >>> 8  & 255,\n        this.hi >>> 16 & 255,\n        this.hi >>> 24\n    );\n};\n\n/**\n * Zig-zag encodes this long bits.\n * @returns {util.LongBits} `this`\n */\nLongBits.prototype.zzEncode = function zzEncode() {\n    var mask =   this.hi >> 31;\n    this.hi  = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;\n    this.lo  = ( this.lo << 1                   ^ mask) >>> 0;\n    return this;\n};\n\n/**\n * Zig-zag decodes this long bits.\n * @returns {util.LongBits} `this`\n */\nLongBits.prototype.zzDecode = function zzDecode() {\n    var mask = -(this.lo & 1);\n    this.lo  = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;\n    this.hi  = ( this.hi >>> 1                  ^ mask) >>> 0;\n    return this;\n};\n\n/**\n * Calculates the length of this longbits when encoded as a varint.\n * @returns {number} Length\n */\nLongBits.prototype.length = function length() {\n    var part0 =  this.lo,\n        part1 = (this.lo >>> 28 | this.hi << 4) >>> 0,\n        part2 =  this.hi >>> 24;\n    return part2 === 0\n         ? part1 === 0\n           ? part0 < 16384\n             ? part0 < 128 ? 1 : 2\n             : part0 < 2097152 ? 3 : 4\n           : part1 < 16384\n             ? part1 < 128 ? 5 : 6\n             : part1 < 2097152 ? 7 : 8\n         : part2 < 128 ? 9 : 10;\n};\n", "\"use strict\";\nvar util = exports;\n\n// used to return a Promise where callback is omitted\nutil.asPromise = require(\"@protobufjs/aspromise\");\n\n// converts to / from base64 encoded strings\nutil.base64 = require(\"@protobufjs/base64\");\n\n// base class of rpc.Service\nutil.EventEmitter = require(\"@protobufjs/eventemitter\");\n\n// float handling accross browsers\nutil.float = require(\"@protobufjs/float\");\n\n// requires modules optionally and hides the call from bundlers\nutil.inquire = require(\"@protobufjs/inquire\");\n\n// converts to / from utf8 encoded strings\nutil.utf8 = require(\"@protobufjs/utf8\");\n\n// provides a node-like buffer pool in the browser\nutil.pool = require(\"@protobufjs/pool\");\n\n// utility to work with the low and high bits of a 64 bit value\nutil.LongBits = require(\"./longbits\");\n\n/**\n * Whether running within node or not.\n * @memberof util\n * @type {boolean}\n */\nutil.isNode = Boolean(typeof global !== \"undefined\"\n                   && global\n                   && global.process\n                   && global.process.versions\n                   && global.process.versions.node);\n\n/**\n * Global object reference.\n * @memberof util\n * @type {Object}\n */\nutil.global = util.isNode && global\n           || typeof window !== \"undefined\" && window\n           || typeof self   !== \"undefined\" && self\n           || this; // eslint-disable-line no-invalid-this\n\n/**\n * An immuable empty array.\n * @memberof util\n * @type {Array.<*>}\n * @const\n */\nutil.emptyArray = Object.freeze ? Object.freeze([]) : /* istanbul ignore next */ []; // used on prototypes\n\n/**\n * An immutable empty object.\n * @type {Object}\n * @const\n */\nutil.emptyObject = Object.freeze ? Object.freeze({}) : /* istanbul ignore next */ {}; // used on prototypes\n\n/**\n * Tests if the specified value is an integer.\n * @function\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is an integer\n */\nutil.isInteger = Number.isInteger || /* istanbul ignore next */ function isInteger(value) {\n    return typeof value === \"number\" && isFinite(value) && Math.floor(value) === value;\n};\n\n/**\n * Tests if the specified value is a string.\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is a string\n */\nutil.isString = function isString(value) {\n    return typeof value === \"string\" || value instanceof String;\n};\n\n/**\n * Tests if the specified value is a non-null object.\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is a non-null object\n */\nutil.isObject = function isObject(value) {\n    return value && typeof value === \"object\";\n};\n\n/**\n * Checks if a property on a message is considered to be present.\n * This is an alias of {@link util.isSet}.\n * @function\n * @param {Object} obj Plain object or message instance\n * @param {string} prop Property name\n * @returns {boolean} `true` if considered to be present, otherwise `false`\n */\nutil.isset =\n\n/**\n * Checks if a property on a message is considered to be present.\n * @param {Object} obj Plain object or message instance\n * @param {string} prop Property name\n * @returns {boolean} `true` if considered to be present, otherwise `false`\n */\nutil.isSet = function isSet(obj, prop) {\n    var value = obj[prop];\n    if (value != null && obj.hasOwnProperty(prop)) // eslint-disable-line eqeqeq, no-prototype-builtins\n        return typeof value !== \"object\" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;\n    return false;\n};\n\n/**\n * Any compatible Buffer instance.\n * This is a minimal stand-alone definition of a Buffer instance. The actual type is that exported by node's typings.\n * @interface Buffer\n * @extends Uint8Array\n */\n\n/**\n * Node's Buffer class if available.\n * @type {Constructor<Buffer>}\n */\nutil.Buffer = (function() {\n    try {\n        var Buffer = util.inquire(\"buffer\").Buffer;\n        // refuse to use non-node buffers if not explicitly assigned (perf reasons):\n        return Buffer.prototype.utf8Write ? Buffer : /* istanbul ignore next */ null;\n    } catch (e) {\n        /* istanbul ignore next */\n        return null;\n    }\n})();\n\n// Internal alias of or polyfull for Buffer.from.\nutil._Buffer_from = null;\n\n// Internal alias of or polyfill for Buffer.allocUnsafe.\nutil._Buffer_allocUnsafe = null;\n\n/**\n * Creates a new buffer of whatever type supported by the environment.\n * @param {number|number[]} [sizeOrArray=0] Buffer size or number array\n * @returns {Uint8Array|Buffer} Buffer\n */\nutil.newBuffer = function newBuffer(sizeOrArray) {\n    /* istanbul ignore next */\n    return typeof sizeOrArray === \"number\"\n        ? util.Buffer\n            ? util._Buffer_allocUnsafe(sizeOrArray)\n            : new util.Array(sizeOrArray)\n        : util.Buffer\n            ? util._Buffer_from(sizeOrArray)\n            : typeof Uint8Array === \"undefined\"\n                ? sizeOrArray\n                : new Uint8Array(sizeOrArray);\n};\n\n/**\n * Array implementation used in the browser. `Uint8Array` if supported, otherwise `Array`.\n * @type {Constructor<Uint8Array>}\n */\nutil.Array = typeof Uint8Array !== \"undefined\" ? Uint8Array /* istanbul ignore next */ : Array;\n\n/**\n * Any compatible Long instance.\n * This is a minimal stand-alone definition of a Long instance. The actual type is that exported by long.js.\n * @interface Long\n * @property {number} low Low bits\n * @property {number} high High bits\n * @property {boolean} unsigned Whether unsigned or not\n */\n\n/**\n * Long.js's Long class if available.\n * @type {Constructor<Long>}\n */\nutil.Long = /* istanbul ignore next */ util.global.dcodeIO && /* istanbul ignore next */ util.global.dcodeIO.Long\n         || /* istanbul ignore next */ util.global.Long\n         || util.inquire(\"long\");\n\n/**\n * Regular expression used to verify 2 bit (`bool`) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key2Re = /^true|false|0|1$/;\n\n/**\n * Regular expression used to verify 32 bit (`int32` etc.) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key32Re = /^-?(?:0|[1-9][0-9]*)$/;\n\n/**\n * Regular expression used to verify 64 bit (`int64` etc.) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key64Re = /^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;\n\n/**\n * Converts a number or long to an 8 characters long hash string.\n * @param {Long|number} value Value to convert\n * @returns {string} Hash\n */\nutil.longToHash = function longToHash(value) {\n    return value\n        ? util.LongBits.from(value).toHash()\n        : util.LongBits.zeroHash;\n};\n\n/**\n * Converts an 8 characters long hash string to a long or number.\n * @param {string} hash Hash\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {Long|number} Original value\n */\nutil.longFromHash = function longFromHash(hash, unsigned) {\n    var bits = util.LongBits.fromHash(hash);\n    if (util.Long)\n        return util.Long.fromBits(bits.lo, bits.hi, unsigned);\n    return bits.toNumber(Boolean(unsigned));\n};\n\n/**\n * Merges the properties of the source object into the destination object.\n * @memberof util\n * @param {Object.<string,*>} dst Destination object\n * @param {Object.<string,*>} src Source object\n * @param {boolean} [ifNotSet=false] Merges only if the key is not already set\n * @returns {Object.<string,*>} Destination object\n */\nfunction merge(dst, src, ifNotSet) { // used by converters\n    for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)\n        if (dst[keys[i]] === undefined || !ifNotSet)\n            dst[keys[i]] = src[keys[i]];\n    return dst;\n}\n\nutil.merge = merge;\n\n/**\n * Converts the first character of a string to lower case.\n * @param {string} str String to convert\n * @returns {string} Converted string\n */\nutil.lcFirst = function lcFirst(str) {\n    return str.charAt(0).toLowerCase() + str.substring(1);\n};\n\n/**\n * Creates a custom error constructor.\n * @memberof util\n * @param {string} name Error name\n * @returns {Constructor<Error>} Custom error constructor\n */\nfunction newError(name) {\n\n    function CustomError(message, properties) {\n\n        if (!(this instanceof CustomError))\n            return new CustomError(message, properties);\n\n        // Error.call(this, message);\n        // ^ just returns a new error instance because the ctor can be called as a function\n\n        Object.defineProperty(this, \"message\", { get: function() { return message; } });\n\n        /* istanbul ignore next */\n        if (Error.captureStackTrace) // node\n            Error.captureStackTrace(this, CustomError);\n        else\n            Object.defineProperty(this, \"stack\", { value: new Error().stack || \"\" });\n\n        if (properties)\n            merge(this, properties);\n    }\n\n    CustomError.prototype = Object.create(Error.prototype, {\n        constructor: {\n            value: CustomError,\n            writable: true,\n            enumerable: false,\n            configurable: true,\n        },\n        name: {\n            get() { return name; },\n            set: undefined,\n            enumerable: false,\n            // configurable: false would accurately preserve the behavior of\n            // the original, but I'm guessing that was not intentional.\n            // For an actual error subclass, this property would\n            // be configurable.\n            configurable: true,\n        },\n        toString: {\n            value() { return this.name + \": \" + this.message; },\n            writable: true,\n            enumerable: false,\n            configurable: true,\n        },\n    });\n\n    return CustomError;\n}\n\nutil.newError = newError;\n\n/**\n * Constructs a new protocol error.\n * @classdesc Error subclass indicating a protocol specifc error.\n * @memberof util\n * @extends Error\n * @template T extends Message<T>\n * @constructor\n * @param {string} message Error message\n * @param {Object.<string,*>} [properties] Additional properties\n * @example\n * try {\n *     MyMessage.decode(someBuffer); // throws if required fields are missing\n * } catch (e) {\n *     if (e instanceof ProtocolError && e.instance)\n *         console.log(\"decoded so far: \" + JSON.stringify(e.instance));\n * }\n */\nutil.ProtocolError = newError(\"ProtocolError\");\n\n/**\n * So far decoded message instance.\n * @name util.ProtocolError#instance\n * @type {Message<T>}\n */\n\n/**\n * A OneOf getter as returned by {@link util.oneOfGetter}.\n * @typedef OneOfGetter\n * @type {function}\n * @returns {string|undefined} Set field name, if any\n */\n\n/**\n * Builds a getter for a oneof's present field name.\n * @param {string[]} fieldNames Field names\n * @returns {OneOfGetter} Unbound getter\n */\nutil.oneOfGetter = function getOneOf(fieldNames) {\n    var fieldMap = {};\n    for (var i = 0; i < fieldNames.length; ++i)\n        fieldMap[fieldNames[i]] = 1;\n\n    /**\n     * @returns {string|undefined} Set field name, if any\n     * @this Object\n     * @ignore\n     */\n    return function() { // eslint-disable-line consistent-return\n        for (var keys = Object.keys(this), i = keys.length - 1; i > -1; --i)\n            if (fieldMap[keys[i]] === 1 && this[keys[i]] !== undefined && this[keys[i]] !== null)\n                return keys[i];\n    };\n};\n\n/**\n * A OneOf setter as returned by {@link util.oneOfSetter}.\n * @typedef OneOfSetter\n * @type {function}\n * @param {string|undefined} value Field name\n * @returns {undefined}\n */\n\n/**\n * Builds a setter for a oneof's present field name.\n * @param {string[]} fieldNames Field names\n * @returns {OneOfSetter} Unbound setter\n */\nutil.oneOfSetter = function setOneOf(fieldNames) {\n\n    /**\n     * @param {string} name Field name\n     * @returns {undefined}\n     * @this Object\n     * @ignore\n     */\n    return function(name) {\n        for (var i = 0; i < fieldNames.length; ++i)\n            if (fieldNames[i] !== name)\n                delete this[fieldNames[i]];\n    };\n};\n\n/**\n * Default conversion options used for {@link Message#toJSON} implementations.\n *\n * These options are close to proto3's JSON mapping with the exception that internal types like Any are handled just like messages. More precisely:\n *\n * - Longs become strings\n * - Enums become string keys\n * - Bytes become base64 encoded strings\n * - (Sub-)Messages become plain objects\n * - Maps become plain objects with all string keys\n * - Repeated fields become arrays\n * - NaN and Infinity for float and double fields become strings\n *\n * @type {IConversionOptions}\n * @see https://developers.google.com/protocol-buffers/docs/proto3?hl=en#json\n */\nutil.toJSONOptions = {\n    longs: String,\n    enums: String,\n    bytes: String,\n    json: true\n};\n\n// Sets up buffer utility according to the environment (called in index-minimal)\nutil._configure = function() {\n    var Buffer = util.Buffer;\n    /* istanbul ignore if */\n    if (!Buffer) {\n        util._Buffer_from = util._Buffer_allocUnsafe = null;\n        return;\n    }\n    // because node 4.x buffers are incompatible & immutable\n    // see: https://github.com/dcodeIO/protobuf.js/pull/665\n    util._Buffer_from = Buffer.from !== Uint8Array.from && Buffer.from ||\n        /* istanbul ignore next */\n        function Buffer_from(value, encoding) {\n            return new Buffer(value, encoding);\n        };\n    util._Buffer_allocUnsafe = Buffer.allocUnsafe ||\n        /* istanbul ignore next */\n        function Buffer_allocUnsafe(size) {\n            return new Buffer(size);\n        };\n};\n", "\"use strict\";\nmodule.exports = Writer;\n\nvar util      = require(\"./util/minimal\");\n\nvar BufferWriter; // cyclic\n\nvar LongBits  = util.LongBits,\n    base64    = util.base64,\n    utf8      = util.utf8;\n\n/**\n * Constructs a new writer operation instance.\n * @classdesc Scheduled writer operation.\n * @constructor\n * @param {function(*, Uint8Array, number)} fn Function to call\n * @param {number} len Value byte length\n * @param {*} val Value to write\n * @ignore\n */\nfunction Op(fn, len, val) {\n\n    /**\n     * Function to call.\n     * @type {function(Uint8Array, number, *)}\n     */\n    this.fn = fn;\n\n    /**\n     * Value byte length.\n     * @type {number}\n     */\n    this.len = len;\n\n    /**\n     * Next operation.\n     * @type {Writer.Op|undefined}\n     */\n    this.next = undefined;\n\n    /**\n     * Value to write.\n     * @type {*}\n     */\n    this.val = val; // type varies\n}\n\n/* istanbul ignore next */\nfunction noop() {} // eslint-disable-line no-empty-function\n\n/**\n * Constructs a new writer state instance.\n * @classdesc Copied writer state.\n * @memberof Writer\n * @constructor\n * @param {Writer} writer Writer to copy state from\n * @ignore\n */\nfunction State(writer) {\n\n    /**\n     * Current head.\n     * @type {Writer.Op}\n     */\n    this.head = writer.head;\n\n    /**\n     * Current tail.\n     * @type {Writer.Op}\n     */\n    this.tail = writer.tail;\n\n    /**\n     * Current buffer length.\n     * @type {number}\n     */\n    this.len = writer.len;\n\n    /**\n     * Next state.\n     * @type {State|null}\n     */\n    this.next = writer.states;\n}\n\n/**\n * Constructs a new writer instance.\n * @classdesc Wire format writer using `Uint8Array` if available, otherwise `Array`.\n * @constructor\n */\nfunction Writer() {\n\n    /**\n     * Current length.\n     * @type {number}\n     */\n    this.len = 0;\n\n    /**\n     * Operations head.\n     * @type {Object}\n     */\n    this.head = new Op(noop, 0, 0);\n\n    /**\n     * Operations tail\n     * @type {Object}\n     */\n    this.tail = this.head;\n\n    /**\n     * Linked forked states.\n     * @type {Object|null}\n     */\n    this.states = null;\n\n    // When a value is written, the writer calculates its byte length and puts it into a linked\n    // list of operations to perform when finish() is called. This both allows us to allocate\n    // buffers of the exact required size and reduces the amount of work we have to do compared\n    // to first calculating over objects and then encoding over objects. In our case, the encoding\n    // part is just a linked list walk calling operations with already prepared values.\n}\n\nvar create = function create() {\n    return util.Buffer\n        ? function create_buffer_setup() {\n            return (Writer.create = function create_buffer() {\n                return new BufferWriter();\n            })();\n        }\n        /* istanbul ignore next */\n        : function create_array() {\n            return new Writer();\n        };\n};\n\n/**\n * Creates a new writer.\n * @function\n * @returns {BufferWriter|Writer} A {@link BufferWriter} when Buffers are supported, otherwise a {@link Writer}\n */\nWriter.create = create();\n\n/**\n * Allocates a buffer of the specified size.\n * @param {number} size Buffer size\n * @returns {Uint8Array} Buffer\n */\nWriter.alloc = function alloc(size) {\n    return new util.Array(size);\n};\n\n// Use Uint8Array buffer pool in the browser, just like node does with buffers\n/* istanbul ignore else */\nif (util.Array !== Array)\n    Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);\n\n/**\n * Pushes a new operation to the queue.\n * @param {function(Uint8Array, number, *)} fn Function to call\n * @param {number} len Value byte length\n * @param {number} val Value to write\n * @returns {Writer} `this`\n * @private\n */\nWriter.prototype._push = function push(fn, len, val) {\n    this.tail = this.tail.next = new Op(fn, len, val);\n    this.len += len;\n    return this;\n};\n\nfunction writeByte(val, buf, pos) {\n    buf[pos] = val & 255;\n}\n\nfunction writeVarint32(val, buf, pos) {\n    while (val > 127) {\n        buf[pos++] = val & 127 | 128;\n        val >>>= 7;\n    }\n    buf[pos] = val;\n}\n\n/**\n * Constructs a new varint writer operation instance.\n * @classdesc Scheduled varint writer operation.\n * @extends Op\n * @constructor\n * @param {number} len Value byte length\n * @param {number} val Value to write\n * @ignore\n */\nfunction VarintOp(len, val) {\n    this.len = len;\n    this.next = undefined;\n    this.val = val;\n}\n\nVarintOp.prototype = Object.create(Op.prototype);\nVarintOp.prototype.fn = writeVarint32;\n\n/**\n * Writes an unsigned 32 bit value as a varint.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.uint32 = function write_uint32(value) {\n    // here, the call to this.push has been inlined and a varint specific Op subclass is used.\n    // uint32 is by far the most frequently used operation and benefits significantly from this.\n    this.len += (this.tail = this.tail.next = new VarintOp(\n        (value = value >>> 0)\n                < 128       ? 1\n        : value < 16384     ? 2\n        : value < 2097152   ? 3\n        : value < 268435456 ? 4\n        :                     5,\n    value)).len;\n    return this;\n};\n\n/**\n * Writes a signed 32 bit value as a varint.\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.int32 = function write_int32(value) {\n    return value < 0\n        ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) // 10 bytes per spec\n        : this.uint32(value);\n};\n\n/**\n * Writes a 32 bit value as a varint, zig-zag encoded.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.sint32 = function write_sint32(value) {\n    return this.uint32((value << 1 ^ value >> 31) >>> 0);\n};\n\nfunction writeVarint64(val, buf, pos) {\n    while (val.hi) {\n        buf[pos++] = val.lo & 127 | 128;\n        val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;\n        val.hi >>>= 7;\n    }\n    while (val.lo > 127) {\n        buf[pos++] = val.lo & 127 | 128;\n        val.lo = val.lo >>> 7;\n    }\n    buf[pos++] = val.lo;\n}\n\n/**\n * Writes an unsigned 64 bit value as a varint.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.uint64 = function write_uint64(value) {\n    var bits = LongBits.from(value);\n    return this._push(writeVarint64, bits.length(), bits);\n};\n\n/**\n * Writes a signed 64 bit value as a varint.\n * @function\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.int64 = Writer.prototype.uint64;\n\n/**\n * Writes a signed 64 bit value as a varint, zig-zag encoded.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.sint64 = function write_sint64(value) {\n    var bits = LongBits.from(value).zzEncode();\n    return this._push(writeVarint64, bits.length(), bits);\n};\n\n/**\n * Writes a boolish value as a varint.\n * @param {boolean} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.bool = function write_bool(value) {\n    return this._push(writeByte, 1, value ? 1 : 0);\n};\n\nfunction writeFixed32(val, buf, pos) {\n    buf[pos    ] =  val         & 255;\n    buf[pos + 1] =  val >>> 8   & 255;\n    buf[pos + 2] =  val >>> 16  & 255;\n    buf[pos + 3] =  val >>> 24;\n}\n\n/**\n * Writes an unsigned 32 bit value as fixed 32 bits.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.fixed32 = function write_fixed32(value) {\n    return this._push(writeFixed32, 4, value >>> 0);\n};\n\n/**\n * Writes a signed 32 bit value as fixed 32 bits.\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.sfixed32 = Writer.prototype.fixed32;\n\n/**\n * Writes an unsigned 64 bit value as fixed 64 bits.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.fixed64 = function write_fixed64(value) {\n    var bits = LongBits.from(value);\n    return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);\n};\n\n/**\n * Writes a signed 64 bit value as fixed 64 bits.\n * @function\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.sfixed64 = Writer.prototype.fixed64;\n\n/**\n * Writes a float (32 bit).\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.float = function write_float(value) {\n    return this._push(util.float.writeFloatLE, 4, value);\n};\n\n/**\n * Writes a double (64 bit float).\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.double = function write_double(value) {\n    return this._push(util.float.writeDoubleLE, 8, value);\n};\n\nvar writeBytes = util.Array.prototype.set\n    ? function writeBytes_set(val, buf, pos) {\n        buf.set(val, pos); // also works for plain array values\n    }\n    /* istanbul ignore next */\n    : function writeBytes_for(val, buf, pos) {\n        for (var i = 0; i < val.length; ++i)\n            buf[pos + i] = val[i];\n    };\n\n/**\n * Writes a sequence of bytes.\n * @param {Uint8Array|string} value Buffer or base64 encoded string to write\n * @returns {Writer} `this`\n */\nWriter.prototype.bytes = function write_bytes(value) {\n    var len = value.length >>> 0;\n    if (!len)\n        return this._push(writeByte, 1, 0);\n    if (util.isString(value)) {\n        var buf = Writer.alloc(len = base64.length(value));\n        base64.decode(value, buf, 0);\n        value = buf;\n    }\n    return this.uint32(len)._push(writeBytes, len, value);\n};\n\n/**\n * Writes a string.\n * @param {string} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.string = function write_string(value) {\n    var len = utf8.length(value);\n    return len\n        ? this.uint32(len)._push(utf8.write, len, value)\n        : this._push(writeByte, 1, 0);\n};\n\n/**\n * Forks this writer's state by pushing it to a stack.\n * Calling {@link Writer#reset|reset} or {@link Writer#ldelim|ldelim} resets the writer to the previous state.\n * @returns {Writer} `this`\n */\nWriter.prototype.fork = function fork() {\n    this.states = new State(this);\n    this.head = this.tail = new Op(noop, 0, 0);\n    this.len = 0;\n    return this;\n};\n\n/**\n * Resets this instance to the last state.\n * @returns {Writer} `this`\n */\nWriter.prototype.reset = function reset() {\n    if (this.states) {\n        this.head   = this.states.head;\n        this.tail   = this.states.tail;\n        this.len    = this.states.len;\n        this.states = this.states.next;\n    } else {\n        this.head = this.tail = new Op(noop, 0, 0);\n        this.len  = 0;\n    }\n    return this;\n};\n\n/**\n * Resets to the last state and appends the fork state's current write length as a varint followed by its operations.\n * @returns {Writer} `this`\n */\nWriter.prototype.ldelim = function ldelim() {\n    var head = this.head,\n        tail = this.tail,\n        len  = this.len;\n    this.reset().uint32(len);\n    if (len) {\n        this.tail.next = head.next; // skip noop\n        this.tail = tail;\n        this.len += len;\n    }\n    return this;\n};\n\n/**\n * Finishes the write operation.\n * @returns {Uint8Array} Finished buffer\n */\nWriter.prototype.finish = function finish() {\n    var head = this.head.next, // skip noop\n        buf  = this.constructor.alloc(this.len),\n        pos  = 0;\n    while (head) {\n        head.fn(head.val, buf, pos);\n        pos += head.len;\n        head = head.next;\n    }\n    // this.head = this.tail = null;\n    return buf;\n};\n\nWriter._configure = function(BufferWriter_) {\n    BufferWriter = BufferWriter_;\n    Writer.create = create();\n    BufferWriter._configure();\n};\n", "\"use strict\";\nmodule.exports = BufferWriter;\n\n// extends Writer\nvar Writer = require(\"./writer\");\n(BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new buffer writer instance.\n * @classdesc Wire format writer using node buffers.\n * @extends Writer\n * @constructor\n */\nfunction BufferWriter() {\n    Writer.call(this);\n}\n\nBufferWriter._configure = function () {\n    /**\n     * Allocates a buffer of the specified size.\n     * @function\n     * @param {number} size Buffer size\n     * @returns {Buffer} Buffer\n     */\n    BufferWriter.alloc = util._Buffer_allocUnsafe;\n\n    BufferWriter.writeBytesBuffer = util.Buffer && util.Buffer.prototype instanceof Uint8Array && util.Buffer.prototype.set.name === \"set\"\n        ? function writeBytesBuffer_set(val, buf, pos) {\n          buf.set(val, pos); // faster than copy (requires node >= 4 where Buffers extend Uint8Array and set is properly inherited)\n          // also works for plain array values\n        }\n        /* istanbul ignore next */\n        : function writeBytesBuffer_copy(val, buf, pos) {\n          if (val.copy) // Buffer values\n            val.copy(buf, pos, 0, val.length);\n          else for (var i = 0; i < val.length;) // plain array values\n            buf[pos++] = val[i++];\n        };\n};\n\n\n/**\n * @override\n */\nBufferWriter.prototype.bytes = function write_bytes_buffer(value) {\n    if (util.isString(value))\n        value = util._Buffer_from(value, \"base64\");\n    var len = value.length >>> 0;\n    this.uint32(len);\n    if (len)\n        this._push(BufferWriter.writeBytesBuffer, len, value);\n    return this;\n};\n\nfunction writeStringBuffer(val, buf, pos) {\n    if (val.length < 40) // plain js is faster for short strings (probably due to redundant assertions)\n        util.utf8.write(val, buf, pos);\n    else if (buf.utf8Write)\n        buf.utf8Write(val, pos);\n    else\n        buf.write(val, pos);\n}\n\n/**\n * @override\n */\nBufferWriter.prototype.string = function write_string_buffer(value) {\n    var len = util.Buffer.byteLength(value);\n    this.uint32(len);\n    if (len)\n        this._push(writeStringBuffer, len, value);\n    return this;\n};\n\n\n/**\n * Finishes the write operation.\n * @name BufferWriter#finish\n * @function\n * @returns {Buffer} Finished buffer\n */\n\nBufferWriter._configure();\n", "\"use strict\";\nmodule.exports = Reader;\n\nvar util      = require(\"./util/minimal\");\n\nvar BufferReader; // cyclic\n\nvar LongBits  = util.LongBits,\n    utf8      = util.utf8;\n\n/* istanbul ignore next */\nfunction indexOutOfRange(reader, writeLength) {\n    return RangeError(\"index out of range: \" + reader.pos + \" + \" + (writeLength || 1) + \" > \" + reader.len);\n}\n\n/**\n * Constructs a new reader instance using the specified buffer.\n * @classdesc Wire format reader using `Uint8Array` if available, otherwise `Array`.\n * @constructor\n * @param {Uint8Array} buffer Buffer to read from\n */\nfunction Reader(buffer) {\n\n    /**\n     * Read buffer.\n     * @type {Uint8Array}\n     */\n    this.buf = buffer;\n\n    /**\n     * Read buffer position.\n     * @type {number}\n     */\n    this.pos = 0;\n\n    /**\n     * Read buffer length.\n     * @type {number}\n     */\n    this.len = buffer.length;\n}\n\nvar create_array = typeof Uint8Array !== \"undefined\"\n    ? function create_typed_array(buffer) {\n        if (buffer instanceof Uint8Array || Array.isArray(buffer))\n            return new Reader(buffer);\n        throw Error(\"illegal buffer\");\n    }\n    /* istanbul ignore next */\n    : function create_array(buffer) {\n        if (Array.isArray(buffer))\n            return new Reader(buffer);\n        throw Error(\"illegal buffer\");\n    };\n\nvar create = function create() {\n    return util.Buffer\n        ? function create_buffer_setup(buffer) {\n            return (Reader.create = function create_buffer(buffer) {\n                return util.Buffer.isBuffer(buffer)\n                    ? new BufferReader(buffer)\n                    /* istanbul ignore next */\n                    : create_array(buffer);\n            })(buffer);\n        }\n        /* istanbul ignore next */\n        : create_array;\n};\n\n/**\n * Creates a new reader using the specified buffer.\n * @function\n * @param {Uint8Array|Buffer} buffer Buffer to read from\n * @returns {Reader|BufferReader} A {@link BufferReader} if `buffer` is a Buffer, otherwise a {@link Reader}\n * @throws {Error} If `buffer` is not a valid buffer\n */\nReader.create = create();\n\nReader.prototype._slice = util.Array.prototype.subarray || /* istanbul ignore next */ util.Array.prototype.slice;\n\n/**\n * Reads a varint as an unsigned 32 bit value.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.uint32 = (function read_uint32_setup() {\n    var value = 4294967295; // optimizer type-hint, tends to deopt otherwise (?!)\n    return function read_uint32() {\n        value = (         this.buf[this.pos] & 127       ) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) <<  7) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) << 14) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) << 21) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] &  15) << 28) >>> 0; if (this.buf[this.pos++] < 128) return value;\n\n        /* istanbul ignore if */\n        if ((this.pos += 5) > this.len) {\n            this.pos = this.len;\n            throw indexOutOfRange(this, 10);\n        }\n        return value;\n    };\n})();\n\n/**\n * Reads a varint as a signed 32 bit value.\n * @returns {number} Value read\n */\nReader.prototype.int32 = function read_int32() {\n    return this.uint32() | 0;\n};\n\n/**\n * Reads a zig-zag encoded varint as a signed 32 bit value.\n * @returns {number} Value read\n */\nReader.prototype.sint32 = function read_sint32() {\n    var value = this.uint32();\n    return value >>> 1 ^ -(value & 1) | 0;\n};\n\n/* eslint-disable no-invalid-this */\n\nfunction readLongVarint() {\n    // tends to deopt with local vars for octet etc.\n    var bits = new LongBits(0, 0);\n    var i = 0;\n    if (this.len - this.pos > 4) { // fast route (lo)\n        for (; i < 4; ++i) {\n            // 1st..4th\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n        // 5th\n        bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;\n        bits.hi = (bits.hi | (this.buf[this.pos] & 127) >>  4) >>> 0;\n        if (this.buf[this.pos++] < 128)\n            return bits;\n        i = 0;\n    } else {\n        for (; i < 3; ++i) {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n            // 1st..3th\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n        // 4th\n        bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;\n        return bits;\n    }\n    if (this.len - this.pos > 4) { // fast route (hi)\n        for (; i < 5; ++i) {\n            // 6th..10th\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n    } else {\n        for (; i < 5; ++i) {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n            // 6th..10th\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n    }\n    /* istanbul ignore next */\n    throw Error(\"invalid varint encoding\");\n}\n\n/* eslint-enable no-invalid-this */\n\n/**\n * Reads a varint as a signed 64 bit value.\n * @name Reader#int64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a varint as an unsigned 64 bit value.\n * @name Reader#uint64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a zig-zag encoded varint as a signed 64 bit value.\n * @name Reader#sint64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a varint as a boolean.\n * @returns {boolean} Value read\n */\nReader.prototype.bool = function read_bool() {\n    return this.uint32() !== 0;\n};\n\nfunction readFixed32_end(buf, end) { // note that this uses `end`, not `pos`\n    return (buf[end - 4]\n          | buf[end - 3] << 8\n          | buf[end - 2] << 16\n          | buf[end - 1] << 24) >>> 0;\n}\n\n/**\n * Reads fixed 32 bits as an unsigned 32 bit integer.\n * @returns {number} Value read\n */\nReader.prototype.fixed32 = function read_fixed32() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    return readFixed32_end(this.buf, this.pos += 4);\n};\n\n/**\n * Reads fixed 32 bits as a signed 32 bit integer.\n * @returns {number} Value read\n */\nReader.prototype.sfixed32 = function read_sfixed32() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    return readFixed32_end(this.buf, this.pos += 4) | 0;\n};\n\n/* eslint-disable no-invalid-this */\n\nfunction readFixed64(/* this: Reader */) {\n\n    /* istanbul ignore if */\n    if (this.pos + 8 > this.len)\n        throw indexOutOfRange(this, 8);\n\n    return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));\n}\n\n/* eslint-enable no-invalid-this */\n\n/**\n * Reads fixed 64 bits.\n * @name Reader#fixed64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads zig-zag encoded fixed 64 bits.\n * @name Reader#sfixed64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a float (32 bit) as a number.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.float = function read_float() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    var value = util.float.readFloatLE(this.buf, this.pos);\n    this.pos += 4;\n    return value;\n};\n\n/**\n * Reads a double (64 bit float) as a number.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.double = function read_double() {\n\n    /* istanbul ignore if */\n    if (this.pos + 8 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    var value = util.float.readDoubleLE(this.buf, this.pos);\n    this.pos += 8;\n    return value;\n};\n\n/**\n * Reads a sequence of bytes preceeded by its length as a varint.\n * @returns {Uint8Array} Value read\n */\nReader.prototype.bytes = function read_bytes() {\n    var length = this.uint32(),\n        start  = this.pos,\n        end    = this.pos + length;\n\n    /* istanbul ignore if */\n    if (end > this.len)\n        throw indexOutOfRange(this, length);\n\n    this.pos += length;\n    if (Array.isArray(this.buf)) // plain array\n        return this.buf.slice(start, end);\n    return start === end // fix for IE 10/Win8 and others' subarray returning array of size 1\n        ? new this.buf.constructor(0)\n        : this._slice.call(this.buf, start, end);\n};\n\n/**\n * Reads a string preceeded by its byte length as a varint.\n * @returns {string} Value read\n */\nReader.prototype.string = function read_string() {\n    var bytes = this.bytes();\n    return utf8.read(bytes, 0, bytes.length);\n};\n\n/**\n * Skips the specified number of bytes if specified, otherwise skips a varint.\n * @param {number} [length] Length if known, otherwise a varint is assumed\n * @returns {Reader} `this`\n */\nReader.prototype.skip = function skip(length) {\n    if (typeof length === \"number\") {\n        /* istanbul ignore if */\n        if (this.pos + length > this.len)\n            throw indexOutOfRange(this, length);\n        this.pos += length;\n    } else {\n        do {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n        } while (this.buf[this.pos++] & 128);\n    }\n    return this;\n};\n\n/**\n * Skips the next element of the specified wire type.\n * @param {number} wireType Wire type received\n * @returns {Reader} `this`\n */\nReader.prototype.skipType = function(wireType) {\n    switch (wireType) {\n        case 0:\n            this.skip();\n            break;\n        case 1:\n            this.skip(8);\n            break;\n        case 2:\n            this.skip(this.uint32());\n            break;\n        case 3:\n            while ((wireType = this.uint32() & 7) !== 4) {\n                this.skipType(wireType);\n            }\n            break;\n        case 5:\n            this.skip(4);\n            break;\n\n        /* istanbul ignore next */\n        default:\n            throw Error(\"invalid wire type \" + wireType + \" at offset \" + this.pos);\n    }\n    return this;\n};\n\nReader._configure = function(BufferReader_) {\n    BufferReader = BufferReader_;\n    Reader.create = create();\n    BufferReader._configure();\n\n    var fn = util.Long ? \"toLong\" : /* istanbul ignore next */ \"toNumber\";\n    util.merge(Reader.prototype, {\n\n        int64: function read_int64() {\n            return readLongVarint.call(this)[fn](false);\n        },\n\n        uint64: function read_uint64() {\n            return readLongVarint.call(this)[fn](true);\n        },\n\n        sint64: function read_sint64() {\n            return readLongVarint.call(this).zzDecode()[fn](false);\n        },\n\n        fixed64: function read_fixed64() {\n            return readFixed64.call(this)[fn](true);\n        },\n\n        sfixed64: function read_sfixed64() {\n            return readFixed64.call(this)[fn](false);\n        }\n\n    });\n};\n", "\"use strict\";\nmodule.exports = BufferReader;\n\n// extends Reader\nvar Reader = require(\"./reader\");\n(BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new buffer reader instance.\n * @classdesc Wire format reader using node buffers.\n * @extends Reader\n * @constructor\n * @param {Buffer} buffer Buffer to read from\n */\nfunction BufferReader(buffer) {\n    Reader.call(this, buffer);\n\n    /**\n     * Read buffer.\n     * @name BufferReader#buf\n     * @type {Buffer}\n     */\n}\n\nBufferReader._configure = function () {\n    /* istanbul ignore else */\n    if (util.Buffer)\n        BufferReader.prototype._slice = util.Buffer.prototype.slice;\n};\n\n\n/**\n * @override\n */\nBufferReader.prototype.string = function read_string_buffer() {\n    var len = this.uint32(); // modifies pos\n    return this.buf.utf8Slice\n        ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len))\n        : this.buf.toString(\"utf-8\", this.pos, this.pos = Math.min(this.pos + len, this.len));\n};\n\n/**\n * Reads a sequence of bytes preceeded by its length as a varint.\n * @name BufferReader#bytes\n * @function\n * @returns {Buffer} Value read\n */\n\nBufferReader._configure();\n", "\"use strict\";\nmodule.exports = Service;\n\nvar util = require(\"../util/minimal\");\n\n// Extends EventEmitter\n(Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;\n\n/**\n * A service method callback as used by {@link rpc.ServiceMethod|ServiceMethod}.\n *\n * Differs from {@link RPCImplCallback} in that it is an actual callback of a service method which may not return `response = null`.\n * @typedef rpc.ServiceMethodCallback\n * @template TRes extends Message<TRes>\n * @type {function}\n * @param {Error|null} error Error, if any\n * @param {TRes} [response] Response message\n * @returns {undefined}\n */\n\n/**\n * A service method part of a {@link rpc.Service} as created by {@link Service.create}.\n * @typedef rpc.ServiceMethod\n * @template TReq extends Message<TReq>\n * @template TRes extends Message<TRes>\n * @type {function}\n * @param {TReq|Properties<TReq>} request Request message or plain object\n * @param {rpc.ServiceMethodCallback<TRes>} [callback] Node-style callback called with the error, if any, and the response message\n * @returns {Promise<Message<TRes>>} Promise if `callback` has been omitted, otherwise `undefined`\n */\n\n/**\n * Constructs a new RPC service instance.\n * @classdesc An RPC service as returned by {@link Service#create}.\n * @exports rpc.Service\n * @extends util.EventEmitter\n * @constructor\n * @param {RPCImpl} rpcImpl RPC implementation\n * @param {boolean} [requestDelimited=false] Whether requests are length-delimited\n * @param {boolean} [responseDelimited=false] Whether responses are length-delimited\n */\nfunction Service(rpcImpl, requestDelimited, responseDelimited) {\n\n    if (typeof rpcImpl !== \"function\")\n        throw TypeError(\"rpcImpl must be a function\");\n\n    util.EventEmitter.call(this);\n\n    /**\n     * RPC implementation. Becomes `null` once the service is ended.\n     * @type {RPCImpl|null}\n     */\n    this.rpcImpl = rpcImpl;\n\n    /**\n     * Whether requests are length-delimited.\n     * @type {boolean}\n     */\n    this.requestDelimited = Boolean(requestDelimited);\n\n    /**\n     * Whether responses are length-delimited.\n     * @type {boolean}\n     */\n    this.responseDelimited = Boolean(responseDelimited);\n}\n\n/**\n * Calls a service method through {@link rpc.Service#rpcImpl|rpcImpl}.\n * @param {Method|rpc.ServiceMethod<TReq,TRes>} method Reflected or static method\n * @param {Constructor<TReq>} requestCtor Request constructor\n * @param {Constructor<TRes>} responseCtor Response constructor\n * @param {TReq|Properties<TReq>} request Request message or plain object\n * @param {rpc.ServiceMethodCallback<TRes>} callback Service callback\n * @returns {undefined}\n * @template TReq extends Message<TReq>\n * @template TRes extends Message<TRes>\n */\nService.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {\n\n    if (!request)\n        throw TypeError(\"request must be specified\");\n\n    var self = this;\n    if (!callback)\n        return util.asPromise(rpcCall, self, method, requestCtor, responseCtor, request);\n\n    if (!self.rpcImpl) {\n        setTimeout(function() { callback(Error(\"already ended\")); }, 0);\n        return undefined;\n    }\n\n    try {\n        return self.rpcImpl(\n            method,\n            requestCtor[self.requestDelimited ? \"encodeDelimited\" : \"encode\"](request).finish(),\n            function rpcCallback(err, response) {\n\n                if (err) {\n                    self.emit(\"error\", err, method);\n                    return callback(err);\n                }\n\n                if (response === null) {\n                    self.end(/* endedByRPC */ true);\n                    return undefined;\n                }\n\n                if (!(response instanceof responseCtor)) {\n                    try {\n                        response = responseCtor[self.responseDelimited ? \"decodeDelimited\" : \"decode\"](response);\n                    } catch (err) {\n                        self.emit(\"error\", err, method);\n                        return callback(err);\n                    }\n                }\n\n                self.emit(\"data\", response, method);\n                return callback(null, response);\n            }\n        );\n    } catch (err) {\n        self.emit(\"error\", err, method);\n        setTimeout(function() { callback(err); }, 0);\n        return undefined;\n    }\n};\n\n/**\n * Ends this service and emits the `end` event.\n * @param {boolean} [endedByRPC=false] Whether the service has been ended by the RPC implementation.\n * @returns {rpc.Service} `this`\n */\nService.prototype.end = function end(endedByRPC) {\n    if (this.rpcImpl) {\n        if (!endedByRPC) // signal end to rpcImpl\n            this.rpcImpl(null, null, null);\n        this.rpcImpl = null;\n        this.emit(\"end\").off();\n    }\n    return this;\n};\n", "\"use strict\";\n\n/**\n * Streaming RPC helpers.\n * @namespace\n */\nvar rpc = exports;\n\n/**\n * RPC implementation passed to {@link Service#create} performing a service request on network level, i.e. by utilizing http requests or websockets.\n * @typedef RPCImpl\n * @type {function}\n * @param {Method|rpc.ServiceMethod<Message<{}>,Message<{}>>} method Reflected or static method being called\n * @param {Uint8Array} requestData Request data\n * @param {RPCImplCallback} callback Callback function\n * @returns {undefined}\n * @example\n * function rpcImpl(method, requestData, callback) {\n *     if (protobuf.util.lcFirst(method.name) !== \"myMethod\") // compatible with static code\n *         throw Error(\"no such method\");\n *     asynchronouslyObtainAResponse(requestData, function(err, responseData) {\n *         callback(err, responseData);\n *     });\n * }\n */\n\n/**\n * Node-style callback as used by {@link RPCImpl}.\n * @typedef RPCImplCallback\n * @type {function}\n * @param {Error|null} error Error, if any, otherwise `null`\n * @param {Uint8Array|null} [response] Response data or `null` to signal end of stream, if there hasn't been an error\n * @returns {undefined}\n */\n\nrpc.Service = require(\"./rpc/service\");\n", "\"use strict\";\nmodule.exports = {};\n\n/**\n * Named roots.\n * This is where pbjs stores generated structures (the option `-r, --root` specifies a name).\n * Can also be used manually to make roots available across modules.\n * @name roots\n * @type {Object.<string,Root>}\n * @example\n * // pbjs -r myroot -o compiled.js ...\n *\n * // in another module:\n * require(\"./compiled.js\");\n *\n * // in any subsequent module:\n * var root = protobuf.roots[\"myroot\"];\n */\n", "\"use strict\";\nvar protobuf = exports;\n\n/**\n * Build type, one of `\"full\"`, `\"light\"` or `\"minimal\"`.\n * @name build\n * @type {string}\n * @const\n */\nprotobuf.build = \"minimal\";\n\n// Serialization\nprotobuf.Writer       = require(\"./writer\");\nprotobuf.BufferWriter = require(\"./writer_buffer\");\nprotobuf.Reader       = require(\"./reader\");\nprotobuf.BufferReader = require(\"./reader_buffer\");\n\n// Utility\nprotobuf.util         = require(\"./util/minimal\");\nprotobuf.rpc          = require(\"./rpc\");\nprotobuf.roots        = require(\"./roots\");\nprotobuf.configure    = configure;\n\n/* istanbul ignore next */\n/**\n * Reconfigures the library according to the environment.\n * @returns {undefined}\n */\nfunction configure() {\n    protobuf.util._configure();\n    protobuf.Writer._configure(protobuf.BufferWriter);\n    protobuf.Reader._configure(protobuf.BufferReader);\n}\n\n// Set up buffer utility according to the environment\nconfigure();\n", "// minimal library entry point.\n\n\"use strict\";\nmodule.exports = require(\"./src/index-minimal\");\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * FNV-1a hash generation init value.\n * It's exposed, because this allows user to override it.\n * More info: https://en.wikipedia.org/wiki/Fowler%E2%80%93Noll%E2%80%93Vo_hash_function#FNV_hash_parameters\n *\n * @type {number}\n */\nhash.BASE = 0x811c9dc5;\n/**\n * Generates 32 bit FNV-1a hash from the given string.\n * As explained here: http://isthe.com/chongo/tech/comp/fnv/\n *\n * @param s {string} String to generate hash from.\n * @param [h] {number} FNV-1a hash generation init value.\n * @returns {number} The result integer hash.\n */\nfunction hash(s, h = hash.BASE) {\n    const l = s.length;\n    for (let i = 0; i < l; i++) {\n        h ^= s.charCodeAt(i);\n        h += (h << 1) + (h << 4) + (h << 7) + (h << 8) + (h << 24);\n    }\n    return h >>> 0;\n}\nexports.default = hash;\nmodule.exports = hash;\n", "import { allocUnsafe } from './alloc.js';\nexport function concat(arrays, length) {\n  if (!length) {\n    length = arrays.reduce((acc, curr) => acc + curr.length, 0);\n  }\n  const output = allocUnsafe(length);\n  let offset = 0;\n  for (const arr of arrays) {\n    output.set(arr, offset);\n    offset += arr.length;\n  }\n  return output;\n}", "'use strict';\n\nconst word = '[a-fA-F\\\\d:]';\nconst b = options => options && options.includeBoundaries ?\n\t`(?:(?<=\\\\s|^)(?=${word})|(?<=${word})(?=\\\\s|$))` :\n\t'';\n\nconst v4 = '(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}';\n\nconst v6seg = '[a-fA-F\\\\d]{1,4}';\nconst v6 = `\n(?:\n(?:${v6seg}:){7}(?:${v6seg}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${v6seg}:){6}(?:${v4}|:${v6seg}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${v6seg}:){5}(?::${v4}|(?::${v6seg}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${v6seg}:){4}(?:(?::${v6seg}){0,1}:${v4}|(?::${v6seg}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${v6seg}:){3}(?:(?::${v6seg}){0,2}:${v4}|(?::${v6seg}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${v6seg}:){2}(?:(?::${v6seg}){0,3}:${v4}|(?::${v6seg}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${v6seg}:){1}(?:(?::${v6seg}){0,4}:${v4}|(?::${v6seg}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${v6seg}){0,5}:${v4}|(?::${v6seg}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\\s*\\/\\/.*$/gm, '').replace(/\\n/g, '').trim();\n\n// Pre-compile only the exact regexes because adding a global flag make regexes stateful\nconst v46Exact = new RegExp(`(?:^${v4}$)|(?:^${v6}$)`);\nconst v4exact = new RegExp(`^${v4}$`);\nconst v6exact = new RegExp(`^${v6}$`);\n\nconst ip = options => options && options.exact ?\n\tv46Exact :\n\tnew RegExp(`(?:${b(options)}${v4}${b(options)})|(?:${b(options)}${v6}${b(options)})`, 'g');\n\nip.v4 = options => options && options.exact ? v4exact : new RegExp(`${b(options)}${v4}${b(options)}`, 'g');\nip.v6 = options => options && options.exact ? v6exact : new RegExp(`${b(options)}${v6}${b(options)}`, 'g');\n\nmodule.exports = ip;\n", "'use strict';\nconst ipRegex = require('ip-regex');\n\nconst isIp = string => ipRegex({exact: true}).test(string);\nisIp.v4 = string => ipRegex.v4({exact: true}).test(string);\nisIp.v6 = string => ipRegex.v6({exact: true}).test(string);\nisIp.version = string => isIp(string) ? (isIp.v4(string) ? 4 : 6) : undefined;\n\nmodule.exports = isIp;\n", "'use strict'\n\nconst isIp = require('is-ip')\nconst { toString: uint8ArrayToString } = require('uint8arrays/to-string')\n\nconst isIP = isIp\nconst isV4 = isIp.v4\nconst isV6 = isIp.v6\n\n// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L7\n// @ts-ignore - this is copied from the link above better to keep it the same\nconst toBytes = function (ip, buff, offset) {\n  offset = ~~offset\n\n  let result\n\n  if (isV4(ip)) {\n    result = buff || new Uint8Array(offset + 4)\n    // @ts-ignore\n    // eslint-disable-next-line array-callback-return\n    ip.split(/\\./g).map(function (byte) {\n      result[offset++] = parseInt(byte, 10) & 0xff\n    })\n  } else if (isV6(ip)) {\n    const sections = ip.split(':', 8)\n\n    let i\n    for (i = 0; i < sections.length; i++) {\n      const isv4 = isV4(sections[i])\n      let v4Buffer\n\n      if (isv4) {\n        v4Buffer = toBytes(sections[i])\n        sections[i] = uint8ArrayToString(v4Buffer.slice(0, 2), 'base16')\n      }\n\n      if (v4Buffer && ++i < 8) {\n        sections.splice(i, 0, uint8ArrayToString(v4Buffer.slice(2, 4), 'base16'))\n      }\n    }\n\n    if (sections[0] === '') {\n      while (sections.length < 8) sections.unshift('0')\n    } else if (sections[sections.length - 1] === '') {\n      while (sections.length < 8) sections.push('0')\n    } else if (sections.length < 8) {\n      for (i = 0; i < sections.length && sections[i] !== ''; i++);\n      const argv = [i, '1']\n      for (i = 9 - sections.length; i > 0; i--) {\n        argv.push('0')\n      }\n      sections.splice.apply(sections, argv)\n    }\n\n    result = buff || new Uint8Array(offset + 16)\n    for (i = 0; i < sections.length; i++) {\n      const word = parseInt(sections[i], 16)\n      result[offset++] = (word >> 8) & 0xff\n      result[offset++] = word & 0xff\n    }\n  }\n\n  if (!result) {\n    throw Error('Invalid ip address: ' + ip)\n  }\n\n  return result\n}\n\n// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L63\n// @ts-ignore - this is copied from the link above better to keep it the same\nconst toString = function (buff, offset, length) {\n  offset = ~~offset\n  length = length || (buff.length - offset)\n\n  const result = []\n  let string\n  const view = new DataView(buff.buffer)\n  if (length === 4) {\n    // IPv4\n    for (let i = 0; i < length; i++) {\n      result.push(buff[offset + i])\n    }\n    string = result.join('.')\n  } else if (length === 16) {\n    // IPv6\n    for (let i = 0; i < length; i += 2) {\n      result.push(view.getUint16(offset + i).toString(16))\n    }\n    string = result.join(':')\n    string = string.replace(/(^|:)0(:0)*:0(:|$)/, '$1::$3')\n    string = string.replace(/:{3,4}/, '::')\n  }\n\n  return string\n}\n\nmodule.exports = {\n  isIP,\n  isV4,\n  isV6,\n  toBytes,\n  toString\n}\n", "'use strict'\n/** @typedef {import(\"./types\").Protocol} Protocol */\n\n/**\n * Protocols\n *\n * @param {number | string} proto\n * @returns {Protocol}\n */\nfunction Protocols (proto) {\n  if (typeof (proto) === 'number') {\n    if (Protocols.codes[proto]) {\n      return Protocols.codes[proto]\n    }\n\n    throw new Error('no protocol with code: ' + proto)\n  } else if (typeof (proto) === 'string') {\n    if (Protocols.names[proto]) {\n      return Protocols.names[proto]\n    }\n\n    throw new Error('no protocol with name: ' + proto)\n  }\n\n  throw new Error('invalid protocol id type: ' + proto)\n}\n\nconst V = -1\nProtocols.lengthPrefixedVarSize = V\nProtocols.V = V\n\n/** @type {Array<[number, number, string, (string|boolean)?, string?]>} */\nProtocols.table = [\n  [4, 32, 'ip4'],\n  [6, 16, 'tcp'],\n  [33, 16, 'dccp'],\n  [41, 128, 'ip6'],\n  [42, V, 'ip6zone'],\n  [53, V, 'dns', 'resolvable'],\n  [54, V, 'dns4', 'resolvable'],\n  [55, V, 'dns6', 'resolvable'],\n  [56, V, 'dnsaddr', 'resolvable'],\n  [132, 16, 'sctp'],\n  [273, 16, 'udp'],\n  [275, 0, 'p2p-webrtc-star'],\n  [276, 0, 'p2p-webrtc-direct'],\n  [277, 0, 'p2p-stardust'],\n  [290, 0, 'p2p-circuit'],\n  [301, 0, 'udt'],\n  [302, 0, 'utp'],\n  [400, V, 'unix', false, 'path'],\n  // `ipfs` is added before `p2p` for legacy support.\n  // All text representations will default to `p2p`, but `ipfs` will\n  // still be supported\n  [421, V, 'ipfs'],\n  // `p2p` is the preferred name for 421, and is now the default\n  [421, V, 'p2p'],\n  [443, 0, 'https'],\n  [444, 96, 'onion'],\n  [445, 296, 'onion3'],\n  [446, V, 'garlic64'],\n  [460, 0, 'quic'],\n  [477, 0, 'ws'],\n  [478, 0, 'wss'],\n  [479, 0, 'p2p-websocket-star'],\n  [480, 0, 'http'],\n  [777, V, 'memory']\n]\n/** @type {Record<string,Protocol>} */\nProtocols.names = {}\n/** @type {Record<number,Protocol>} */\nProtocols.codes = {}\n\n// populate tables\nProtocols.table.map(row => {\n  const proto = p.apply(null, row)\n  Protocols.codes[proto.code] = proto\n  Protocols.names[proto.name] = proto\n  return null\n})\n\nProtocols.object = p\n\n/**\n *\n * Create a protocol\n *\n * @param {number} code\n * @param {number} size\n * @param {string} name\n * @param {any} [resolvable]\n * @param {any} [path]\n * @returns {Protocol}\n */\nfunction p (code, size, name, resolvable, path) {\n  return {\n    code,\n    size,\n    name,\n    resolvable: Boolean(resolvable),\n    path: Boolean(path)\n  }\n}\n\nmodule.exports = Protocols\n", "'use strict'\n\nconst ip = require('./ip')\nconst protocols = require('./protocols-table')\nconst { CID } = require('multiformats/cid')\nconst { base32 } = require('multiformats/bases/base32')\nconst { base58btc } = require('multiformats/bases/base58')\nconst Digest = require('multiformats/hashes/digest')\nconst varint = require('varint')\nconst { toString: uint8ArrayToString } = require('uint8arrays/to-string')\nconst { fromString: uint8ArrayFromString } = require('uint8arrays/from-string')\nconst { concat: uint8ArrayConcat } = require('uint8arrays/concat')\n\nmodule.exports = Convert\n\n// converts (serializes) addresses\n/**\n * @param {string} proto\n * @param {string | Uint8Array} a\n */\nfunction Convert (proto, a) {\n  if (a instanceof Uint8Array) {\n    return Convert.toString(proto, a)\n  } else {\n    return Convert.toBytes(proto, a)\n  }\n}\n\n/**\n * Convert [code,Uint8Array] to string\n *\n * @param {number|string} proto\n * @param {Uint8Array} buf\n * @returns {string}\n */\nConvert.toString = function convertToString (proto, buf) {\n  const protocol = protocols(proto)\n  switch (protocol.code) {\n    case 4: // ipv4\n    case 41: // ipv6\n      return bytes2ip(buf)\n\n    case 6: // tcp\n    case 273: // udp\n    case 33: // dccp\n    case 132: // sctp\n      return bytes2port(buf).toString()\n\n    case 53: // dns\n    case 54: // dns4\n    case 55: // dns6\n    case 56: // dnsaddr\n    case 400: // unix\n    case 777: // memory\n      return bytes2str(buf)\n\n    case 421: // ipfs\n      return bytes2mh(buf)\n    case 444: // onion\n      return bytes2onion(buf)\n    case 445: // onion3\n      return bytes2onion(buf)\n    default:\n      return uint8ArrayToString(buf, 'base16') // no clue. convert to hex\n  }\n}\n\nConvert.toBytes = function convertToBytes (/** @type {string | number } */ proto, /** @type {string} */ str) {\n  const protocol = protocols(proto)\n  switch (protocol.code) {\n    case 4: // ipv4\n      return ip2bytes(str)\n    case 41: // ipv6\n      return ip2bytes(str)\n\n    case 6: // tcp\n    case 273: // udp\n    case 33: // dccp\n    case 132: // sctp\n      return port2bytes(parseInt(str, 10))\n\n    case 53: // dns\n    case 54: // dns4\n    case 55: // dns6\n    case 56: // dnsaddr\n    case 400: // unix\n    case 777: // memory\n      return str2bytes(str)\n\n    case 421: // ipfs\n      return mh2bytes(str)\n    case 444: // onion\n      return onion2bytes(str)\n    case 445: // onion3\n      return onion32bytes(str)\n    default:\n      return uint8ArrayFromString(str, 'base16') // no clue. convert from hex\n  }\n}\n\n/**\n * @param {string} ipString\n */\nfunction ip2bytes (ipString) {\n  if (!ip.isIP(ipString)) {\n    throw new Error('invalid ip address')\n  }\n  return ip.toBytes(ipString)\n}\n\n/**\n * @param {Uint8Array} ipBuff\n */\nfunction bytes2ip (ipBuff) {\n  const ipString = ip.toString(ipBuff)\n  if (!ipString || !ip.isIP(ipString)) {\n    throw new Error('invalid ip address')\n  }\n  return ipString\n}\n\n/**\n * @param {number} port\n */\nfunction port2bytes (port) {\n  const buf = new ArrayBuffer(2)\n  const view = new DataView(buf)\n  view.setUint16(0, port)\n\n  return new Uint8Array(buf)\n}\n\n/**\n * @param {Uint8Array} buf\n */\nfunction bytes2port (buf) {\n  const view = new DataView(buf.buffer)\n  return view.getUint16(buf.byteOffset)\n}\n\n/**\n * @param {string} str\n */\nfunction str2bytes (str) {\n  const buf = uint8ArrayFromString(str)\n  const size = Uint8Array.from(varint.encode(buf.length))\n  return uint8ArrayConcat([size, buf], size.length + buf.length)\n}\n\n/**\n * @param {Uint8Array} buf\n */\nfunction bytes2str (buf) {\n  const size = varint.decode(buf)\n  buf = buf.slice(varint.decode.bytes)\n\n  if (buf.length !== size) {\n    throw new Error('inconsistent lengths')\n  }\n\n  return uint8ArrayToString(buf)\n}\n\n/**\n * @param {string} hash - base58btc string\n */\nfunction mh2bytes (hash) {\n  let mh\n\n  if (hash[0] === 'Q' || hash[0] === '1') {\n    mh = Digest.decode(base58btc.decode(`z${hash}`)).bytes\n  } else {\n    mh = CID.parse(hash).multihash.bytes\n  }\n\n  // the address is a varint prefixed multihash string representation\n  const size = Uint8Array.from(varint.encode(mh.length))\n  return uint8ArrayConcat([size, mh], size.length + mh.length)\n}\n\n/**\n * Converts bytes to bas58btc string\n *\n * @param {Uint8Array} buf\n * @returns {string} base58btc string\n */\nfunction bytes2mh (buf) {\n  const size = varint.decode(buf)\n  const address = buf.slice(varint.decode.bytes)\n\n  if (address.length !== size) {\n    throw new Error('inconsistent lengths')\n  }\n\n  return uint8ArrayToString(address, 'base58btc')\n}\n\n/**\n * @param {string} str\n */\nfunction onion2bytes (str) {\n  const addr = str.split(':')\n  if (addr.length !== 2) {\n    throw new Error('failed to parse onion addr: ' + addr + ' does not contain a port number')\n  }\n  if (addr[0].length !== 16) {\n    throw new Error('failed to parse onion addr: ' + addr[0] + ' not a Tor onion address.')\n  }\n\n  // onion addresses do not include the multibase prefix, add it before decoding\n  const buf = base32.decode('b' + addr[0])\n\n  // onion port number\n  const port = parseInt(addr[1], 10)\n  if (port < 1 || port > 65536) {\n    throw new Error('Port number is not in range(1, 65536)')\n  }\n  const portBuf = port2bytes(port)\n  return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length)\n}\n\n/**\n * @param {string} str\n */\nfunction onion32bytes (str) {\n  const addr = str.split(':')\n  if (addr.length !== 2) {\n    throw new Error('failed to parse onion addr: ' + addr + ' does not contain a port number')\n  }\n  if (addr[0].length !== 56) {\n    throw new Error('failed to parse onion addr: ' + addr[0] + ' not a Tor onion3 address.')\n  }\n  // onion addresses do not include the multibase prefix, add it before decoding\n  const buf = base32.decode('b' + addr[0])\n\n  // onion port number\n  const port = parseInt(addr[1], 10)\n  if (port < 1 || port > 65536) {\n    throw new Error('Port number is not in range(1, 65536)')\n  }\n  const portBuf = port2bytes(port)\n  return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length)\n}\n\n/**\n * @param {Uint8Array} buf\n */\nfunction bytes2onion (buf) {\n  const addrBytes = buf.slice(0, buf.length - 2)\n  const portBytes = buf.slice(buf.length - 2)\n  const addr = uint8ArrayToString(addrBytes, 'base32')\n  const port = bytes2port(portBytes)\n  return addr + ':' + port\n}\n", "'use strict'\n\nconst convert = require('./convert')\nconst protocols = require('./protocols-table')\nconst varint = require('varint')\nconst { concat: uint8ArrayConcat } = require('uint8arrays/concat')\nconst { toString: uint8ArrayToString } = require('uint8arrays/to-string')\n\n// export codec\nmodule.exports = {\n  stringToStringTuples,\n  stringTuplesToString,\n\n  tuplesToStringTuples,\n  stringTuplesToTuples,\n\n  bytesToTuples,\n  tuplesToBytes,\n\n  bytesToString,\n  stringToBytes,\n\n  fromString,\n  fromBytes,\n  validateBytes,\n  isValidBytes,\n  cleanPath,\n\n  ParseError,\n  protoFromTuple,\n\n  sizeForAddr\n}\n\n// string -> [[str name, str addr]... ]\n/**\n * @param {string} str\n */\nfunction stringToStringTuples (str) {\n  const tuples = []\n  const parts = str.split('/').slice(1) // skip first empty elem\n  if (parts.length === 1 && parts[0] === '') {\n    return []\n  }\n\n  for (let p = 0; p < parts.length; p++) {\n    const part = parts[p]\n    const proto = protocols(part)\n\n    if (proto.size === 0) {\n      tuples.push([part])\n      continue\n    }\n\n    p++ // advance addr part\n    if (p >= parts.length) {\n      throw ParseError('invalid address: ' + str)\n    }\n\n    // if it's a path proto, take the rest\n    if (proto.path) {\n      tuples.push([\n        part,\n        // TODO: should we need to check each path part to see if it's a proto?\n        // This would allow for other protocols to be added after a unix path,\n        // however it would have issues if the path had a protocol name in the path\n        cleanPath(parts.slice(p).join('/'))\n      ])\n      break\n    }\n\n    tuples.push([part, parts[p]])\n  }\n\n  return tuples\n}\n\n// [[str name, str addr]... ] -> string\n/**\n * @param {[number, string?][]} tuples\n */\nfunction stringTuplesToString (tuples) {\n  /** @type {Array<string | undefined>} */\n  const parts = []\n  tuples.map((tup) => {\n    const proto = protoFromTuple(tup)\n    parts.push(proto.name)\n    if (tup.length > 1) {\n      parts.push(tup[1])\n    }\n    return null\n  })\n\n  return cleanPath(parts.join('/'))\n}\n\n// [[str name, str addr]... ] -> [[int code, Uint8Array]... ]\n/**\n * @param {Array<string[] | string >} tuples\n * @returns {[number , Uint8Array?][]}\n */\nfunction stringTuplesToTuples (tuples) {\n  return tuples.map((tup) => {\n    if (!Array.isArray(tup)) {\n      tup = [tup]\n    }\n    const proto = protoFromTuple(tup)\n    if (tup.length > 1) {\n      return [proto.code, convert.toBytes(proto.code, tup[1])]\n    }\n    return [proto.code]\n  })\n}\n\n/**\n * Convert tuples to string tuples\n *\n * [[int code, Uint8Array]... ] -> [[int code, str addr]... ]\n *\n * @param {Array<[number, Uint8Array?]>} tuples\n * @returns {Array<[number, string?]>}\n */\n\nfunction tuplesToStringTuples (tuples) {\n  return tuples.map(tup => {\n    const proto = protoFromTuple(tup)\n    if (tup[1]) {\n      return [proto.code, convert.toString(proto.code, tup[1])]\n    }\n    return [proto.code]\n  })\n}\n\n// [[int code, Uint8Array ]... ] -> Uint8Array\n/**\n * @param {[number, Uint8Array?][]} tuples\n */\nfunction tuplesToBytes (tuples) {\n  return fromBytes(uint8ArrayConcat(tuples.map((/** @type {any[]} */ tup) => {\n    const proto = protoFromTuple(tup)\n    let buf = Uint8Array.from(varint.encode(proto.code))\n\n    if (tup.length > 1) {\n      buf = uint8ArrayConcat([buf, tup[1]]) // add address buffer\n    }\n\n    return buf\n  })))\n}\n\n/**\n * @param {import(\"./types\").Protocol} p\n * @param {Uint8Array | number[]} addr\n */\nfunction sizeForAddr (p, addr) {\n  if (p.size > 0) {\n    return p.size / 8\n  } else if (p.size === 0) {\n    return 0\n  } else {\n    const size = varint.decode(addr)\n    return size + varint.decode.bytes\n  }\n}\n\n/**\n *\n * @param {Uint8Array} buf\n * @returns {Array<[number, Uint8Array?]>}\n */\nfunction bytesToTuples (buf) {\n  /** @type {Array<[number, Uint8Array?]>} */\n  const tuples = []\n  let i = 0\n  while (i < buf.length) {\n    const code = varint.decode(buf, i)\n    const n = varint.decode.bytes\n\n    const p = protocols(code)\n\n    const size = sizeForAddr(p, buf.slice(i + n))\n\n    if (size === 0) {\n      tuples.push([code])\n      i += n\n      continue\n    }\n\n    const addr = buf.slice(i + n, i + n + size)\n\n    i += (size + n)\n\n    if (i > buf.length) { // did not end _exactly_ at buffer.length\n      throw ParseError('Invalid address Uint8Array: ' + uint8ArrayToString(buf, 'base16'))\n    }\n\n    // ok, tuple seems good.\n    tuples.push([code, addr])\n  }\n\n  return tuples\n}\n\n// Uint8Array -> String\n/**\n * @param {Uint8Array} buf\n */\nfunction bytesToString (buf) {\n  const a = bytesToTuples(buf)\n  const b = tuplesToStringTuples(a)\n  return stringTuplesToString(b)\n}\n\n// String -> Uint8Array\n/**\n * @param {string} str\n */\nfunction stringToBytes (str) {\n  str = cleanPath(str)\n  const a = stringToStringTuples(str)\n  const b = stringTuplesToTuples(a)\n\n  return tuplesToBytes(b)\n}\n\n// String -> Uint8Array\n/**\n * @param {string} str\n */\nfunction fromString (str) {\n  return stringToBytes(str)\n}\n\n// Uint8Array -> Uint8Array\n/**\n * @param {Uint8Array} buf\n */\nfunction fromBytes (buf) {\n  const err = validateBytes(buf)\n  if (err) throw err\n  return Uint8Array.from(buf) // copy\n}\n\n/**\n * @param {Uint8Array} buf\n */\nfunction validateBytes (buf) {\n  try {\n    bytesToTuples(buf) // try to parse. will throw if breaks\n  } catch (err) {\n    return err\n  }\n}\n\n/**\n * @param {Uint8Array} buf\n */\nfunction isValidBytes (buf) {\n  return validateBytes(buf) === undefined\n}\n\n/**\n * @param {string} str\n */\nfunction cleanPath (str) {\n  return '/' + str.trim().split('/').filter((/** @type {any} */ a) => a).join('/')\n}\n\n/**\n * @param {string} str\n */\nfunction ParseError (str) {\n  return new Error('Error parsing address: ' + str)\n}\n\n/**\n * @param {any[]} tup\n */\nfunction protoFromTuple (tup) {\n  const proto = protocols(tup[0])\n  return proto\n}\n", "export function equals(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (a.byteLength !== b.byteLength) {\n    return false;\n  }\n  for (let i = 0; i < a.byteLength; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}", "'use strict'\n\nconst codec = require('./codec')\nconst protocols = require('./protocols-table')\nconst varint = require('varint')\nconst { CID } = require('multiformats/cid')\nconst { base58btc } = require('multiformats/bases/base58')\nconst errCode = require('err-code')\nconst inspect = Symbol.for('nodejs.util.inspect.custom')\nconst { toString: uint8ArrayToString } = require('uint8arrays/to-string')\nconst { equals: uint8ArrayEquals } = require('uint8arrays/equals')\n\n/**\n * @typedef {(addr: Multiaddr) => Promise<string[]>} Resolver\n * @typedef {string | Multiaddr | Uint8Array | null} MultiaddrInput\n * @typedef {import('./types').MultiaddrObject} MultiaddrObject\n * @typedef {import('./types').Protocol} Protocol\n */\n\n/** @type {Map<string, Resolver>} */\nconst resolvers = new Map()\nconst symbol = Symbol.for('@multiformats/js-multiaddr/multiaddr')\n\n/**\n * Creates a [multiaddr](https://github.com/multiformats/multiaddr) from\n * a Uint8Array, String or another Multiaddr instance\n * public key.\n *\n */\nclass Multiaddr {\n  /**\n   * @example\n   * ```js\n   * new Multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // <Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>\n   * ```\n   *\n   * @param {MultiaddrInput} [addr] - If String or Uint8Array, needs to adhere to the address format of a [multiaddr](https://github.com/multiformats/multiaddr#string-format)\n   */\n  constructor (addr) {\n    // default\n    if (addr == null) {\n      addr = ''\n    }\n\n    // Define symbol\n    Object.defineProperty(this, symbol, { value: true })\n\n    if (addr instanceof Uint8Array) {\n      /** @type {Uint8Array} - The raw bytes representing this multiaddress */\n      this.bytes = codec.fromBytes(addr)\n    } else if (typeof addr === 'string') {\n      if (addr.length > 0 && addr.charAt(0) !== '/') {\n        throw new Error(`multiaddr \"${addr}\" must start with a \"/\"`)\n      }\n      this.bytes = codec.fromString(addr)\n    } else if (Multiaddr.isMultiaddr(addr)) { // Multiaddr\n      this.bytes = codec.fromBytes(addr.bytes) // validate + copy buffer\n    } else {\n      throw new Error('addr must be a string, Buffer, or another Multiaddr')\n    }\n  }\n\n  /**\n   * Returns Multiaddr as a String\n   *\n   * @example\n   * ```js\n   * new Multiaddr('/ip4/127.0.0.1/tcp/4001').toString()\n   * // '/ip4/127.0.0.1/tcp/4001'\n   * ```\n   */\n  toString () {\n    return codec.bytesToString(this.bytes)\n  }\n\n  /**\n   * Returns Multiaddr as a JSON encoded object\n   *\n   * @example\n   * ```js\n   * JSON.stringify(new Multiaddr('/ip4/127.0.0.1/tcp/4001'))\n   * // '/ip4/127.0.0.1/tcp/4001'\n   * ```\n   */\n  toJSON () {\n    return this.toString()\n  }\n\n  /**\n   * Returns Multiaddr as a convinient options object to be used with net.createConnection\n   *\n   * @example\n   * ```js\n   * new Multiaddr('/ip4/127.0.0.1/tcp/4001').toOptions()\n   * // { family: 4, host: '127.0.0.1', transport: 'tcp', port: 4001 }\n   * ```\n   */\n  toOptions () {\n    /** @type {MultiaddrObject} */\n    const opts = {}\n    const parsed = this.toString().split('/')\n    opts.family = parsed[1] === 'ip4' ? 4 : 6\n    opts.host = parsed[2]\n    opts.transport = parsed[3]\n    opts.port = parseInt(parsed[4])\n    return opts\n  }\n\n  /**\n   * Returns the protocols the Multiaddr is defined with, as an array of objects, in\n   * left-to-right order. Each object contains the protocol code, protocol name,\n   * and the size of its address space in bits.\n   * [See list of protocols](https://github.com/multiformats/multiaddr/blob/master/protocols.csv)\n   *\n   * @example\n   * ```js\n   * new Multiaddr('/ip4/127.0.0.1/tcp/4001').protos()\n   * // [ { code: 4, size: 32, name: 'ip4' },\n   * //   { code: 6, size: 16, name: 'tcp' } ]\n   * ```\n   *\n   * @returns {Protocol[]} protocols - All the protocols the address is composed of\n   */\n  protos () {\n    return this.protoCodes().map(code => Object.assign({}, protocols(code)))\n  }\n\n  /**\n   * Returns the codes of the protocols in left-to-right order.\n   * [See list of protocols](https://github.com/multiformats/multiaddr/blob/master/protocols.csv)\n   *\n   * @example\n   * ```js\n   * Multiaddr('/ip4/127.0.0.1/tcp/4001').protoCodes()\n   * // [ 4, 6 ]\n   * ```\n   *\n   * @returns {number[]} protocol codes\n   */\n  protoCodes () {\n    const codes = []\n    const buf = this.bytes\n    let i = 0\n    while (i < buf.length) {\n      const code = varint.decode(buf, i)\n      const n = varint.decode.bytes\n\n      const p = protocols(code)\n      const size = codec.sizeForAddr(p, buf.slice(i + n))\n\n      i += (size + n)\n      codes.push(code)\n    }\n\n    return codes\n  }\n\n  /**\n   * Returns the names of the protocols in left-to-right order.\n   * [See list of protocols](https://github.com/multiformats/multiaddr/blob/master/protocols.csv)\n   *\n   * @example\n   * ```js\n   * new Multiaddr('/ip4/127.0.0.1/tcp/4001').protoNames()\n   * // [ 'ip4', 'tcp' ]\n   * ```\n   *\n   * @returns {string[]} protocol names\n   */\n  protoNames () {\n    return this.protos().map(proto => proto.name)\n  }\n\n  /**\n   * Returns a tuple of parts\n   *\n   * @example\n   * ```js\n   * new Multiaddr(\"/ip4/127.0.0.1/tcp/4001\").tuples()\n   * // [ [ 4, <Buffer 7f 00 00 01> ], [ 6, <Buffer 0f a1> ] ]\n   * ```\n   */\n  tuples () {\n    return codec.bytesToTuples(this.bytes)\n  }\n\n  /**\n   * Returns a tuple of string/number parts\n   * - tuples[][0] = code of protocol\n   * - tuples[][1] = contents of address\n   *\n   * @example\n   * ```js\n   * new Multiaddr(\"/ip4/127.0.0.1/tcp/4001\").stringTuples()\n   * // [ [ 4, '127.0.0.1' ], [ 6, '4001' ] ]\n   * ```\n   */\n  stringTuples () {\n    const t = codec.bytesToTuples(this.bytes)\n    return codec.tuplesToStringTuples(t)\n  }\n\n  /**\n   * Encapsulates a Multiaddr in another Multiaddr\n   *\n   * @example\n   * ```js\n   * const mh1 = new Multiaddr('/ip4/8.8.8.8/tcp/1080')\n   * // <Multiaddr 0408080808060438 - /ip4/8.8.8.8/tcp/1080>\n   *\n   * const mh2 = new Multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // <Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>\n   *\n   * const mh3 = mh1.encapsulate(mh2)\n   * // <Multiaddr 0408080808060438047f000001060fa1 - /ip4/8.8.8.8/tcp/1080/ip4/127.0.0.1/tcp/4001>\n   *\n   * mh3.toString()\n   * // '/ip4/8.8.8.8/tcp/1080/ip4/127.0.0.1/tcp/4001'\n   * ```\n   *\n   * @param {MultiaddrInput} addr - Multiaddr to add into this Multiaddr\n   */\n  encapsulate (addr) {\n    addr = new Multiaddr(addr)\n    return new Multiaddr(this.toString() + addr.toString())\n  }\n\n  /**\n   * Decapsulates a Multiaddr from another Multiaddr\n   *\n   * @example\n   * ```js\n   * const mh1 = new Multiaddr('/ip4/8.8.8.8/tcp/1080')\n   * // <Multiaddr 0408080808060438 - /ip4/8.8.8.8/tcp/1080>\n   *\n   * const mh2 = new Multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // <Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>\n   *\n   * const mh3 = mh1.encapsulate(mh2)\n   * // <Multiaddr 0408080808060438047f000001060fa1 - /ip4/8.8.8.8/tcp/1080/ip4/127.0.0.1/tcp/4001>\n   *\n   * mh3.decapsulate(mh2).toString()\n   * // '/ip4/8.8.8.8/tcp/1080'\n   * ```\n   *\n   * @param {Multiaddr | string} addr - Multiaddr to remove from this Multiaddr\n   * @returns {Multiaddr}\n   */\n  decapsulate (addr) {\n    const addrString = addr.toString()\n    const s = this.toString()\n    const i = s.lastIndexOf(addrString)\n    if (i < 0) {\n      throw new Error('Address ' + this + ' does not contain subaddress: ' + addr)\n    }\n    return new Multiaddr(s.slice(0, i))\n  }\n\n  /**\n   * A more reliable version of `decapsulate` if you are targeting a\n   * specific code, such as 421 (the `p2p` protocol code). The last index of the code\n   * will be removed from the `Multiaddr`, and a new instance will be returned.\n   * If the code is not present, the original `Multiaddr` is returned.\n   *\n   * @example\n   * ```js\n   * const addr = new Multiaddr('/ip4/0.0.0.0/tcp/8080/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC')\n   * // <Multiaddr 0400... - /ip4/0.0.0.0/tcp/8080/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC>\n   *\n   * addr.decapsulateCode(421).toString()\n   * // '/ip4/0.0.0.0/tcp/8080'\n   *\n   * new Multiaddr('/ip4/127.0.0.1/tcp/8080').decapsulateCode(421).toString()\n   * // '/ip4/127.0.0.1/tcp/8080'\n   * ```\n   *\n   * @param {number} code - The code of the protocol to decapsulate from this Multiaddr\n   * @returns {Multiaddr}\n   */\n  decapsulateCode (code) {\n    const tuples = this.tuples()\n    for (let i = tuples.length - 1; i >= 0; i--) {\n      if (tuples[i][0] === code) {\n        return new Multiaddr(codec.tuplesToBytes(tuples.slice(0, i)))\n      }\n    }\n    return this\n  }\n\n  /**\n   * Extract the peerId if the multiaddr contains one\n   *\n   * @example\n   * ```js\n   * const mh1 = new Multiaddr('/ip4/8.8.8.8/tcp/1080/ipfs/QmValidBase58string')\n   * // <Multiaddr 0408080808060438 - /ip4/8.8.8.8/tcp/1080/ipfs/QmValidBase58string>\n   *\n   * // should return QmValidBase58string or null if the id is missing or invalid\n   * const peerId = mh1.getPeerId()\n   * ```\n   *\n   * @returns {string | null} peerId - The id of the peer or null if invalid or missing from the ma\n   */\n  getPeerId () {\n    try {\n      const tuples = this.stringTuples().filter((tuple) => {\n        if (tuple[0] === protocols.names.ipfs.code) {\n          return true\n        }\n        return false\n      })\n\n      // Get the last ipfs tuple ['ipfs', 'peerid string']\n      const tuple = tuples.pop()\n      if (tuple && tuple[1]) {\n        const peerIdStr = tuple[1]\n\n        // peer id is base58btc encoded string but not multibase encoded so add the `z`\n        // prefix so we can validate that it is correctly encoded\n        if (peerIdStr[0] === 'Q' || peerIdStr[0] === '1') {\n          return uint8ArrayToString(base58btc.decode(`z${peerIdStr}`), 'base58btc')\n        }\n\n        // try to parse peer id as CID\n        return uint8ArrayToString(CID.parse(peerIdStr).multihash.bytes, 'base58btc')\n      }\n\n      return null\n    } catch (e) {\n      return null\n    }\n  }\n\n  /**\n   * Extract the path if the multiaddr contains one\n   *\n   * @example\n   * ```js\n   * const mh1 = new Multiaddr('/ip4/8.8.8.8/tcp/1080/unix/tmp/p2p.sock')\n   * // <Multiaddr 0408080808060438 - /ip4/8.8.8.8/tcp/1080/unix/tmp/p2p.sock>\n   *\n   * // should return utf8 string or null if the id is missing or invalid\n   * const path = mh1.getPath()\n   * ```js\n   *\n   * @returns {string | null} path - The path of the multiaddr, or null if no path protocol is present\n   */\n  getPath () {\n    let path = null\n    try {\n      path = this.stringTuples().filter((tuple) => {\n        const proto = protocols(tuple[0])\n        if (proto.path) {\n          return true\n        }\n        return false\n      })[0][1]\n\n      if (!path) {\n        path = null\n      }\n    } catch (e) {\n      path = null\n    }\n    return path\n  }\n\n  /**\n   * Checks if two Multiaddrs are the same\n   *\n   * @example\n   * ```js\n   * const mh1 = new Multiaddr('/ip4/8.8.8.8/tcp/1080')\n   * // <Multiaddr 0408080808060438 - /ip4/8.8.8.8/tcp/1080>\n   *\n   * const mh2 = new Multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // <Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>\n   *\n   * mh1.equals(mh1)\n   * // true\n   *\n   * mh1.equals(mh2)\n   * // false\n   * ```\n   *\n   * @param {Multiaddr} addr\n   * @returns {boolean}\n   */\n  equals (addr) {\n    return uint8ArrayEquals(this.bytes, addr.bytes)\n  }\n\n  /**\n   * Resolve multiaddr if containing resolvable hostname.\n   *\n   * @example\n   * ```js\n   * Multiaddr.resolvers.set('dnsaddr', resolverFunction)\n   * const mh1 = new Multiaddr('/dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb')\n   * const resolvedMultiaddrs = await mh1.resolve()\n   * // [\n   * //   <Multiaddr 04934b5353060fa1a503221220c10f9319dac35c270a6b74cd644cb3acfc1f6efc8c821f8eb282599fd1814f64 - /ip4/147.75.83.83/tcp/4001/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb>,\n   * //   <Multiaddr 04934b53530601bbde03a503221220c10f9319dac35c270a6b74cd644cb3acfc1f6efc8c821f8eb282599fd1814f64 - /ip4/147.75.83.83/tcp/443/wss/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb>,\n   * //   <Multiaddr 04934b535391020fa1cc03a503221220c10f9319dac35c270a6b74cd644cb3acfc1f6efc8c821f8eb282599fd1814f64 - /ip4/147.75.83.83/udp/4001/quic/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb>\n   * // ]\n   * ```\n   *\n   * @returns {Promise<Array<Multiaddr>>}\n   */\n  async resolve () {\n    const resolvableProto = this.protos().find((p) => p.resolvable)\n\n    // Multiaddr is not resolvable?\n    if (!resolvableProto) {\n      return [this]\n    }\n\n    const resolver = resolvers.get(resolvableProto.name)\n    if (!resolver) {\n      throw errCode(new Error(`no available resolver for ${resolvableProto.name}`), 'ERR_NO_AVAILABLE_RESOLVER')\n    }\n\n    const addresses = await resolver(this)\n    return addresses.map((a) => new Multiaddr(a))\n  }\n\n  /**\n   * Gets a Multiaddrs node-friendly address object. Note that protocol information\n   * is left out: in Node (and most network systems) the protocol is unknowable\n   * given only the address.\n   *\n   * Has to be a ThinWaist Address, otherwise throws error\n   *\n   * @example\n   * ```js\n   * new Multiaddr('/ip4/127.0.0.1/tcp/4001').nodeAddress()\n   * // {family: 4, address: '127.0.0.1', port: 4001}\n   * ```\n   *\n   * @returns {{family: 4 | 6, address: string, port: number}}\n   * @throws {Error} Throws error if Multiaddr is not a Thin Waist address\n   */\n  nodeAddress () {\n    const codes = this.protoCodes()\n    const names = this.protoNames()\n    const parts = this.toString().split('/').slice(1)\n\n    if (parts.length < 4) {\n      throw new Error('multiaddr must have a valid format: \"/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}\".')\n    } else if (codes[0] !== 4 && codes[0] !== 41 && codes[0] !== 54 && codes[0] !== 55) {\n      throw new Error(`no protocol with name: \"'${names[0]}'\". Must have a valid family name: \"{ip4, ip6, dns4, dns6}\".`)\n    } else if (parts[2] !== 'tcp' && parts[2] !== 'udp') {\n      throw new Error(`no protocol with name: \"'${names[1]}'\". Must have a valid transport protocol: \"{tcp, udp}\".`)\n    }\n\n    return {\n      family: (codes[0] === 41 || codes[0] === 55) ? 6 : 4,\n      address: parts[1],\n      port: parseInt(parts[3]) // tcp or udp port\n    }\n  }\n\n  /**\n   * Returns if a Multiaddr is a Thin Waist address or not.\n   *\n   * Thin Waist is if a Multiaddr adheres to the standard combination of:\n   *\n   * `{IPv4, IPv6}/{TCP, UDP}`\n   *\n   * @example\n   * ```js\n   * const mh1 = new Multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // <Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>\n   * const mh2 = new Multiaddr('/ip4/192.168.2.1/tcp/5001')\n   * // <Multiaddr 04c0a80201061389 - /ip4/192.168.2.1/tcp/5001>\n   * const mh3 = mh1.encapsulate(mh2)\n   * // <Multiaddr 047f000001060fa104c0a80201061389 - /ip4/127.0.0.1/tcp/4001/ip4/192.168.2.1/tcp/5001>\n   * const mh4 = new Multiaddr('/ip4/127.0.0.1/tcp/2000/wss/p2p-webrtc-star/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSooo2a')\n   * // <Multiaddr 047f0000010607d0de039302a503221220d52ebb89d85b02a284948203a62ff28389c57c9f42beec4ec20db76a64835843 - /ip4/127.0.0.1/tcp/2000/wss/p2p-webrtc-star/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSooo2a>\n   * mh1.isThinWaistAddress()\n   * // true\n   * mh2.isThinWaistAddress()\n   * // true\n   * mh3.isThinWaistAddress()\n   * // false\n   * mh4.isThinWaistAddress()\n   * // false\n   * ```\n   *\n   * @param {Multiaddr} [addr] - Defaults to using `this` instance\n   */\n  isThinWaistAddress (addr) {\n    const protos = (addr || this).protos()\n\n    if (protos.length !== 2) {\n      return false\n    }\n\n    if (protos[0].code !== 4 && protos[0].code !== 41) {\n      return false\n    }\n    if (protos[1].code !== 6 && protos[1].code !== 273) {\n      return false\n    }\n    return true\n  }\n\n  /**\n   * Creates a Multiaddr from a node-friendly address object\n   *\n   * @example\n   * ```js\n   * Multiaddr.fromNodeAddress({address: '127.0.0.1', port: '4001'}, 'tcp')\n   * // <Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>\n   * ```\n   *\n   * @param {{family: 4 | 6, address: string, port: number}} addr\n   * @param {string} transport\n   */\n  static fromNodeAddress (addr, transport) {\n    if (!addr) { throw new Error('requires node address object') }\n    if (!transport) { throw new Error('requires transport protocol') }\n    let ip\n    switch (addr.family) {\n      case 4:\n        ip = 'ip4'\n        break\n      case 6:\n        ip = 'ip6'\n        break\n      default:\n        throw Error(`Invalid addr family. Got '${addr.family}' instead of 4 or 6`)\n    }\n    return new Multiaddr('/' + [ip, addr.address, transport, addr.port].join('/'))\n  }\n\n  /**\n   * Returns if something is a Multiaddr that is a name\n   *\n   * @param {Multiaddr} addr\n   * @returns {boolean} isName\n   */\n  static isName (addr) {\n    if (!Multiaddr.isMultiaddr(addr)) {\n      return false\n    }\n\n    // if a part of the multiaddr is resolvable, then return true\n    return addr.protos().some((proto) => proto.resolvable)\n  }\n\n  /**\n   * Check if object is a CID instance\n   *\n   * @param {any} value\n   * @returns {value is Multiaddr}\n   */\n  static isMultiaddr (value) {\n    return value instanceof Multiaddr || Boolean(value && value[symbol])\n  }\n\n  /**\n   * Returns Multiaddr as a human-readable string.\n   * For post Node.js v10.0.0.\n   * https://nodejs.org/api/deprecations.html#deprecations_dep0079_custom_inspection_function_on_objects_via_inspect\n   *\n   * @example\n   * ```js\n   * console.log(new Multiaddr('/ip4/127.0.0.1/tcp/4001'))\n   * // '<Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>'\n   * ```\n   *\n   * @returns {string}\n   */\n  [inspect] () {\n    return '<Multiaddr ' +\n    uint8ArrayToString(this.bytes, 'base16') + ' - ' +\n    codec.bytesToString(this.bytes) + '>'\n  }\n\n  /**\n   * Returns Multiaddr as a human-readable string.\n   * Fallback for pre Node.js v10.0.0.\n   * https://nodejs.org/api/deprecations.html#deprecations_dep0079_custom_inspection_function_on_objects_via_inspect\n   *\n   * @example\n   * ```js\n   * new Multiaddr('/ip4/127.0.0.1/tcp/4001').inspect()\n   * // '<Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>'\n   * ```\n   *\n   * @returns {string}\n   */\n  inspect () {\n    return '<Multiaddr ' +\n      uint8ArrayToString(this.bytes, 'base16') + ' - ' +\n      codec.bytesToString(this.bytes) + '>'\n  }\n}\n\n/**\n * Object containing table, names and codes of all supported protocols.\n * To get the protocol values from a Multiaddr, you can use\n * [`.protos()`](#multiaddrprotos),\n * [`.protoCodes()`](#multiaddrprotocodes) or\n * [`.protoNames()`](#multiaddrprotonames)\n *\n * @returns {{table: Array, names: Object, codes: Object}}\n */\nMultiaddr.protocols = protocols\n\nMultiaddr.resolvers = resolvers\n\n/**\n * Static factory\n *\n * @param {MultiaddrInput} addr\n */\nfunction multiaddr (addr) {\n  return new Multiaddr(addr)\n}\n\nmodule.exports = { Multiaddr, multiaddr, protocols, resolvers }\n", "/*!\n * bytes\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015 Jed Watson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = bytes;\nmodule.exports.format = format;\nmodule.exports.parse = parse;\n\n/**\n * Module variables.\n * @private\n */\n\nvar formatThousandsRegExp = /\\B(?=(\\d{3})+(?!\\d))/g;\n\nvar formatDecimalsRegExp = /(?:\\.0*|(\\.[^0]+)0+)$/;\n\nvar map = {\n  b:  1,\n  kb: 1 << 10,\n  mb: 1 << 20,\n  gb: 1 << 30,\n  tb: Math.pow(1024, 4),\n  pb: Math.pow(1024, 5),\n};\n\nvar parseRegExp = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb|pb)$/i;\n\n/**\n * Convert the given value in bytes into a string or parse to string to an integer in bytes.\n *\n * @param {string|number} value\n * @param {{\n *  case: [string],\n *  decimalPlaces: [number]\n *  fixedDecimals: [boolean]\n *  thousandsSeparator: [string]\n *  unitSeparator: [string]\n *  }} [options] bytes options.\n *\n * @returns {string|number|null}\n */\n\nfunction bytes(value, options) {\n  if (typeof value === 'string') {\n    return parse(value);\n  }\n\n  if (typeof value === 'number') {\n    return format(value, options);\n  }\n\n  return null;\n}\n\n/**\n * Format the given value in bytes into a string.\n *\n * If the value is negative, it is kept as such. If it is a float,\n * it is rounded.\n *\n * @param {number} value\n * @param {object} [options]\n * @param {number} [options.decimalPlaces=2]\n * @param {number} [options.fixedDecimals=false]\n * @param {string} [options.thousandsSeparator=]\n * @param {string} [options.unit=]\n * @param {string} [options.unitSeparator=]\n *\n * @returns {string|null}\n * @public\n */\n\nfunction format(value, options) {\n  if (!Number.isFinite(value)) {\n    return null;\n  }\n\n  var mag = Math.abs(value);\n  var thousandsSeparator = (options && options.thousandsSeparator) || '';\n  var unitSeparator = (options && options.unitSeparator) || '';\n  var decimalPlaces = (options && options.decimalPlaces !== undefined) ? options.decimalPlaces : 2;\n  var fixedDecimals = Boolean(options && options.fixedDecimals);\n  var unit = (options && options.unit) || '';\n\n  if (!unit || !map[unit.toLowerCase()]) {\n    if (mag >= map.pb) {\n      unit = 'PB';\n    } else if (mag >= map.tb) {\n      unit = 'TB';\n    } else if (mag >= map.gb) {\n      unit = 'GB';\n    } else if (mag >= map.mb) {\n      unit = 'MB';\n    } else if (mag >= map.kb) {\n      unit = 'KB';\n    } else {\n      unit = 'B';\n    }\n  }\n\n  var val = value / map[unit.toLowerCase()];\n  var str = val.toFixed(decimalPlaces);\n\n  if (!fixedDecimals) {\n    str = str.replace(formatDecimalsRegExp, '$1');\n  }\n\n  if (thousandsSeparator) {\n    str = str.split('.').map(function (s, i) {\n      return i === 0\n        ? s.replace(formatThousandsRegExp, thousandsSeparator)\n        : s\n    }).join('.');\n  }\n\n  return str + unitSeparator + unit;\n}\n\n/**\n * Parse the string value into an integer in bytes.\n *\n * If no unit is given, it is assumed the value is in bytes.\n *\n * @param {number|string} val\n *\n * @returns {number|null}\n * @public\n */\n\nfunction parse(val) {\n  if (typeof val === 'number' && !isNaN(val)) {\n    return val;\n  }\n\n  if (typeof val !== 'string') {\n    return null;\n  }\n\n  // Test if the string passed is valid\n  var results = parseRegExp.exec(val);\n  var floatValue;\n  var unit = 'b';\n\n  if (!results) {\n    // Nothing could be extracted from the given string\n    floatValue = parseInt(val, 10);\n    unit = 'b'\n  } else {\n    // Retrieve the value and the unit\n    floatValue = parseFloat(results[1]);\n    unit = results[4].toLowerCase();\n  }\n\n  if (isNaN(floatValue)) {\n    return null;\n  }\n\n  return Math.floor(map[unit] * floatValue);\n}\n", "'use strict';\n\nmodule.exports = value => {\n\tif (Object.prototype.toString.call(value) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn prototype === null || prototype === Object.prototype;\n};\n", "'use strict';\nconst isOptionObject = require('is-plain-obj');\n\nconst {hasOwnProperty} = Object.prototype;\nconst {propertyIsEnumerable} = Object;\nconst defineProperty = (object, name, value) => Object.defineProperty(object, name, {\n\tvalue,\n\twritable: true,\n\tenumerable: true,\n\tconfigurable: true\n});\n\nconst globalThis = this;\nconst defaultMergeOptions = {\n\tconcatArrays: false,\n\tignoreUndefined: false\n};\n\nconst getEnumerableOwnPropertyKeys = value => {\n\tconst keys = [];\n\n\tfor (const key in value) {\n\t\tif (hasOwnProperty.call(value, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\n\t/* istanbul ignore else  */\n\tif (Object.getOwnPropertySymbols) {\n\t\tconst symbols = Object.getOwnPropertySymbols(value);\n\n\t\tfor (const symbol of symbols) {\n\t\t\tif (propertyIsEnumerable.call(value, symbol)) {\n\t\t\t\tkeys.push(symbol);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn keys;\n};\n\nfunction clone(value) {\n\tif (Array.isArray(value)) {\n\t\treturn cloneArray(value);\n\t}\n\n\tif (isOptionObject(value)) {\n\t\treturn cloneOptionObject(value);\n\t}\n\n\treturn value;\n}\n\nfunction cloneArray(array) {\n\tconst result = array.slice(0, 0);\n\n\tgetEnumerableOwnPropertyKeys(array).forEach(key => {\n\t\tdefineProperty(result, key, clone(array[key]));\n\t});\n\n\treturn result;\n}\n\nfunction cloneOptionObject(object) {\n\tconst result = Object.getPrototypeOf(object) === null ? Object.create(null) : {};\n\n\tgetEnumerableOwnPropertyKeys(object).forEach(key => {\n\t\tdefineProperty(result, key, clone(object[key]));\n\t});\n\n\treturn result;\n}\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {string[]} keys keys to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n */\nconst mergeKeys = (merged, source, keys, config) => {\n\tkeys.forEach(key => {\n\t\tif (typeof source[key] === 'undefined' && config.ignoreUndefined) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Do not recurse into prototype chain of merged\n\t\tif (key in merged && merged[key] !== Object.getPrototypeOf(merged)) {\n\t\t\tdefineProperty(merged, key, merge(merged[key], source[key], config));\n\t\t} else {\n\t\t\tdefineProperty(merged, key, clone(source[key]));\n\t\t}\n\t});\n\n\treturn merged;\n};\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n *\n * see [Array.prototype.concat ( ...arguments )](http://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.concat)\n */\nconst concatArrays = (merged, source, config) => {\n\tlet result = merged.slice(0, 0);\n\tlet resultIndex = 0;\n\n\t[merged, source].forEach(array => {\n\t\tconst indices = [];\n\n\t\t// `result.concat(array)` with cloning\n\t\tfor (let k = 0; k < array.length; k++) {\n\t\t\tif (!hasOwnProperty.call(array, k)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tindices.push(String(k));\n\n\t\t\tif (array === merged) {\n\t\t\t\t// Already cloned\n\t\t\t\tdefineProperty(result, resultIndex++, array[k]);\n\t\t\t} else {\n\t\t\t\tdefineProperty(result, resultIndex++, clone(array[k]));\n\t\t\t}\n\t\t}\n\n\t\t// Merge non-index keys\n\t\tresult = mergeKeys(result, array, getEnumerableOwnPropertyKeys(array).filter(key => !indices.includes(key)), config);\n\t});\n\n\treturn result;\n};\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n */\nfunction merge(merged, source, config) {\n\tif (config.concatArrays && Array.isArray(merged) && Array.isArray(source)) {\n\t\treturn concatArrays(merged, source, config);\n\t}\n\n\tif (!isOptionObject(source) || !isOptionObject(merged)) {\n\t\treturn clone(source);\n\t}\n\n\treturn mergeKeys(merged, source, getEnumerableOwnPropertyKeys(source), config);\n}\n\nmodule.exports = function (...options) {\n\tconst config = merge(clone(defaultMergeOptions), (this !== globalThis && this) || {}, defaultMergeOptions);\n\tlet merged = {_: {}};\n\n\tfor (const option of options) {\n\t\tif (option === undefined) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!isOptionObject(option)) {\n\t\t\tthrow new TypeError('`' + option + '` is not an Option Object');\n\t\t}\n\n\t\tmerged = merge(merged, {_: option}, config);\n\t}\n\n\treturn merged._;\n};\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n", "'use strict'\n\n/**\n * Filters the passed (async) iterable by using the filter function\n *\n * @template T\n * @param {AsyncIterable<T>|Iterable<T>} source\n * @param {function(T):boolean|Promise<boolean>} fn\n */\nconst filter = async function * (source, fn) {\n  for await (const entry of source) {\n    if (await fn(entry)) {\n      yield entry\n    }\n  }\n}\n\nmodule.exports = filter\n", "'use strict'\n\n/**\n * Drains an (async) iterable discarding its' content and does not return\n * anything.\n *\n * @template T\n * @param {AsyncIterable<T>|Iterable<T>} source\n * @returns {Promise<void>}\n */\nconst drain = async (source) => {\n  for await (const _ of source) { } // eslint-disable-line no-unused-vars,no-empty\n}\n\nmodule.exports = drain\n", "'use strict'\n\n/**\n * Returns the first result from an (async) iterable, unless empty, in which\n * case returns `undefined`.\n *\n * @template T\n * @param {AsyncIterable<T>|Iterable<T>} source\n */\nconst first = async (source) => {\n  for await (const entry of source) { // eslint-disable-line no-unreachable-loop\n    return entry\n  }\n\n  return undefined\n}\n\nmodule.exports = first\n", "'use strict'\n\n/**\n * Takes an (async) iterable and returns one with each item mapped by the passed\n * function.\n *\n * @template I,O\n * @param {AsyncIterable<I>|Iterable<I>} source\n * @param {function(I):O|Promise<O>} func\n * @returns {AsyncIterable<O>}\n */\nconst map = async function * (source, func) {\n  for await (const val of source) {\n    yield func(val)\n  }\n}\n\nmodule.exports = map\n", "'use strict'\n\n/**\n * Takes an (async) iterable that emits things and returns an async iterable that\n * emits those things in fixed-sized batches.\n *\n * @template T\n * @param {AsyncIterable<T>|Iterable<T>} source\n * @param {number} [size=1]\n * @returns {AsyncIterable<T[]>}\n */\nasync function * batch (source, size = 1) {\n  /** @type {T[]} */\n  let things = []\n\n  if (size < 1) {\n    size = 1\n  }\n\n  for await (const thing of source) {\n    things.push(thing)\n\n    while (things.length >= size) {\n      yield things.slice(0, size)\n\n      things = things.slice(size)\n    }\n  }\n\n  while (things.length) {\n    yield things.slice(0, size)\n\n    things = things.slice(size)\n  }\n}\n\nmodule.exports = batch\n", "'use strict'\n\nconst batch = require('it-batch')\n\n/**\n * @template T\n * @typedef {{ok:true, value:T}} Success\n */\n\n/**\n * @typedef {{ok:false, err:Error}} Failure\n */\n\n/**\n * Takes an (async) iterator that emits promise-returning functions,\n * invokes them in parallel and emits the results as they become available but\n * in the same order as the input\n *\n * @template T\n * @param {AsyncIterable<() => Promise<T>>} source\n * @param {number} [size=1]\n * @returns {AsyncIterable<T>}\n */\nasync function * parallelBatch (source, size = 1) {\n  for await (const tasks of batch(source, size)) {\n    /** @type {Promise<Success<T>|Failure>[]} */\n    const things = tasks.map(\n      /**\n       * @param {() => Promise<T>} p\n       */\n      p => {\n        return p().then(value => ({ ok: true, value }), err => ({ ok: false, err }))\n      })\n\n    for (let i = 0; i < things.length; i++) {\n      const result = await things[i]\n\n      if (result.ok) {\n        yield result.value\n      } else {\n        throw result.err\n      }\n    }\n  }\n}\n\nmodule.exports = parallelBatch\n", "module.exports = class FixedFIFO {\n  constructor (hwm) {\n    if (!(hwm > 0) || ((hwm - 1) & hwm) !== 0) throw new Error('Max size for a FixedFIFO should be a power of two')\n    this.buffer = new Array(hwm)\n    this.mask = hwm - 1\n    this.top = 0\n    this.btm = 0\n    this.next = null\n  }\n\n  push (data) {\n    if (this.buffer[this.top] !== undefined) return false\n    this.buffer[this.top] = data\n    this.top = (this.top + 1) & this.mask\n    return true\n  }\n\n  shift () {\n    const last = this.buffer[this.btm]\n    if (last === undefined) return undefined\n    this.buffer[this.btm] = undefined\n    this.btm = (this.btm + 1) & this.mask\n    return last\n  }\n\n  peek () {\n    return this.buffer[this.btm]\n  }\n\n  isEmpty () {\n    return this.buffer[this.btm] === undefined\n  }\n}\n", "const FixedFIFO = require('./fixed-size')\n\nmodule.exports = class FastFIFO {\n  constructor (hwm) {\n    this.hwm = hwm || 16\n    this.head = new FixedFIFO(this.hwm)\n    this.tail = this.head\n  }\n\n  push (val) {\n    if (!this.head.push(val)) {\n      const prev = this.head\n      this.head = prev.next = new FixedFIFO(2 * this.head.buffer.length)\n      this.head.push(val)\n    }\n  }\n\n  shift () {\n    const val = this.tail.shift()\n    if (val === undefined && this.tail.next) {\n      const next = this.tail.next\n      this.tail.next = null\n      this.tail = next\n      return this.tail.shift()\n    }\n    return val\n  }\n\n  peek () {\n    return this.tail.peek()\n  }\n\n  isEmpty () {\n    return this.head.isEmpty()\n  }\n}\n", "const FIFO = require('fast-fifo')\n\nmodule.exports = (options) => {\n  options = options || {}\n  let onEnd\n\n  if (typeof options === 'function') {\n    onEnd = options\n    options = {}\n  } else {\n    onEnd = options.onEnd\n  }\n\n  let buffer = new FIFO()\n  let pushable, onNext, ended\n\n  const waitNext = () => {\n    if (!buffer.isEmpty()) {\n      if (options.writev) {\n        let next\n        const values = []\n        while (!buffer.isEmpty()) {\n          next = buffer.shift()\n          if (next.error) throw next.error\n          values.push(next.value)\n        }\n        return { done: next.done, value: values }\n      }\n\n      const next = buffer.shift()\n      if (next.error) throw next.error\n      return next\n    }\n\n    if (ended) return { done: true }\n\n    return new Promise((resolve, reject) => {\n      onNext = next => {\n        onNext = null\n        if (next.error) {\n          reject(next.error)\n        } else {\n          if (options.writev && !next.done) {\n            resolve({ done: next.done, value: [next.value] })\n          } else {\n            resolve(next)\n          }\n        }\n        return pushable\n      }\n    })\n  }\n\n  const bufferNext = next => {\n    if (onNext) return onNext(next)\n    buffer.push(next)\n    return pushable\n  }\n\n  const bufferError = err => {\n    buffer = new FIFO()\n    if (onNext) return onNext({ error: err })\n    buffer.push({ error: err })\n    return pushable\n  }\n\n  const push = value => {\n    if (ended) return pushable\n    return bufferNext({ done: false, value })\n  }\n  const end = err => {\n    if (ended) return pushable\n    ended = true\n    return err ? bufferError(err) : bufferNext({ done: true })\n  }\n  const _return = () => {\n    buffer = new FIFO()\n    end()\n    return { done: true }\n  }\n  const _throw = err => {\n    end(err)\n    return { done: true }\n  }\n\n  pushable = {\n    [Symbol.asyncIterator] () { return this },\n    next: waitNext,\n    return: _return,\n    throw: _throw,\n    push,\n    end\n  }\n\n  if (!onEnd) return pushable\n\n  const _pushable = pushable\n\n  pushable = {\n    [Symbol.asyncIterator] () { return this },\n    next () {\n      return _pushable.next()\n    },\n    throw (err) {\n      _pushable.throw(err)\n      if (onEnd) {\n        onEnd(err)\n        onEnd = null\n      }\n      return { done: true }\n    },\n    return () {\n      _pushable.return()\n      if (onEnd) {\n        onEnd()\n        onEnd = null\n      }\n      return { done: true }\n    },\n    push,\n    end (err) {\n      _pushable.end(err)\n      if (onEnd) {\n        onEnd(err)\n        onEnd = null\n      }\n      return pushable\n    }\n  }\n\n  return pushable\n}\n", "'use strict'\n\nconst pushable = require('it-pushable')\n\n/**\n * Treat one or more iterables as a single iterable.\n *\n * Nb. sources are iterated over in parallel so the\n * order of emitted items is not guaranteed.\n *\n * @template T\n * @param {...AsyncIterable<T>|Iterable<T>} sources\n * @returns {AsyncIterable<T>}\n */\nconst merge = async function * (...sources) {\n  const output = pushable()\n\n  setTimeout(async () => {\n    try {\n      await Promise.all(\n        sources.map(async (source) => {\n          for await (const item of source) {\n            output.push(item)\n          }\n        })\n      )\n\n      output.end()\n    } catch (/** @type {any} */ err) {\n      output.end(err)\n    }\n  }, 0)\n\n  yield * output\n}\n\nmodule.exports = merge\n", "'use strict'\n\n/**\n * Collects all values from an (async) iterable into an array and returns it.\n *\n * @template T\n * @param {AsyncIterable<T>|Iterable<T>} source\n */\nconst all = async (source) => {\n  const arr = []\n\n  for await (const entry of source) {\n    arr.push(entry)\n  }\n\n  return arr\n}\n\nmodule.exports = all\n", "'use strict'\n\n/**\n * Stop iteration after n items have been received.\n *\n * @template T\n * @param {AsyncIterable<T>|Iterable<T>} source\n * @param {number} limit\n * @returns {AsyncIterable<T>}\n */\nconst take = async function * (source, limit) {\n  let items = 0\n\n  if (limit < 1) {\n    return\n  }\n\n  for await (const entry of source) {\n    yield entry\n\n    items++\n\n    if (items === limit) {\n      return\n    }\n  }\n}\n\nmodule.exports = take\n", "'use strict'\n\nconst all = require('it-all')\n\n/**\n * Collects all values from an async iterator, sorts them\n * using the passed function and yields them\n *\n * @template T\n * @param {AsyncIterable<T> | Iterable<T>} source\n * @param {(a: T, b: T) => -1 | 0 | 1} sorter\n */\nconst sort = async function * (source, sorter) {\n  const arr = await all(source)\n\n  yield * arr.sort(sorter)\n}\n\nmodule.exports = sort\n", "'use strict'\n\nexports.supports = function supports (...manifests) {\n  const manifest = manifests.reduce((acc, m) => Object.assign(acc, m), {})\n\n  return Object.assign(manifest, {\n    snapshots: manifest.snapshots || false,\n    permanence: manifest.permanence || false,\n    seek: manifest.seek || false,\n    clear: manifest.clear || false,\n    getMany: manifest.getMany || false,\n    keyIterator: manifest.keyIterator || false,\n    valueIterator: manifest.valueIterator || false,\n    iteratorNextv: manifest.iteratorNextv || false,\n    iteratorAll: manifest.iteratorAll || false,\n    status: manifest.status || false,\n    createIfMissing: manifest.createIfMissing || false,\n    errorIfExists: manifest.errorIfExists || false,\n    deferredOpen: manifest.deferredOpen || false,\n    promises: manifest.promises || false,\n    streams: manifest.streams || false,\n    encodings: Object.assign({}, manifest.encodings),\n    events: Object.assign({}, manifest.events),\n    additionalMethods: Object.assign({}, manifest.additionalMethods)\n  })\n}\n", "'use strict'\n\nmodule.exports = class ModuleError extends Error {\n  /**\n   * @param {string} message Error message\n   * @param {{ code?: string, cause?: Error, expected?: boolean, transient?: boolean }} [options]\n   */\n  constructor (message, options) {\n    super(message || '')\n\n    if (typeof options === 'object' && options !== null) {\n      if (options.code) this.code = String(options.code)\n      if (options.expected) this.expected = true\n      if (options.transient) this.transient = true\n      if (options.cause) this.cause = options.cause\n    }\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor)\n    }\n  }\n}\n", "'use strict'\n\n/** @type {{ textEncoder: TextEncoder, textDecoder: TextDecoder }|null} */\nlet lazy = null\n\n/**\n * Get semi-global instances of TextEncoder and TextDecoder.\n * @returns {{ textEncoder: TextEncoder, textDecoder: TextDecoder }}\n */\nmodule.exports = function () {\n  if (lazy === null) {\n    lazy = {\n      textEncoder: new TextEncoder(),\n      textDecoder: new TextDecoder()\n    }\n  }\n\n  return lazy\n}\n", "'use strict'\n\nconst ModuleError = require('module-error')\nconst formats = new Set(['buffer', 'view', 'utf8'])\n\n/**\n * @template TIn, TFormat, TOut\n * @abstract\n */\nclass Encoding {\n  /**\n   * @param {IEncoding<TIn,TFormat,TOut>} options\n   */\n  constructor (options) {\n    /** @type {(data: TIn) => TFormat} */\n    this.encode = options.encode || this.encode\n\n    /** @type {(data: TFormat) => TOut} */\n    this.decode = options.decode || this.decode\n\n    /** @type {string} */\n    this.name = options.name || this.name\n\n    /** @type {string} */\n    this.format = options.format || this.format\n\n    if (typeof this.encode !== 'function') {\n      throw new TypeError(\"The 'encode' property must be a function\")\n    }\n\n    if (typeof this.decode !== 'function') {\n      throw new TypeError(\"The 'decode' property must be a function\")\n    }\n\n    this.encode = this.encode.bind(this)\n    this.decode = this.decode.bind(this)\n\n    if (typeof this.name !== 'string' || this.name === '') {\n      throw new TypeError(\"The 'name' property must be a string\")\n    }\n\n    if (typeof this.format !== 'string' || !formats.has(this.format)) {\n      throw new TypeError(\"The 'format' property must be one of 'buffer', 'view', 'utf8'\")\n    }\n\n    if (options.createViewTranscoder) {\n      this.createViewTranscoder = options.createViewTranscoder\n    }\n\n    if (options.createBufferTranscoder) {\n      this.createBufferTranscoder = options.createBufferTranscoder\n    }\n\n    if (options.createUTF8Transcoder) {\n      this.createUTF8Transcoder = options.createUTF8Transcoder\n    }\n  }\n\n  get commonName () {\n    return /** @type {string} */ (this.name.split('+')[0])\n  }\n\n  /** @return {BufferFormat<TIn,TOut>} */\n  createBufferTranscoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'buffer'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n\n  /** @return {ViewFormat<TIn,TOut>} */\n  createViewTranscoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'view'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n\n  /** @return {UTF8Format<TIn,TOut>} */\n  createUTF8Transcoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'utf8'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n}\n\nexports.Encoding = Encoding\n\n/**\n * @typedef {import('./encoding').IEncoding<TIn,TFormat,TOut>} IEncoding\n * @template TIn, TFormat, TOut\n */\n\n/**\n * @typedef {import('./formats').BufferFormat<TIn,TOut>} BufferFormat\n * @template TIn, TOut\n */\n\n/**\n * @typedef {import('./formats').ViewFormat<TIn,TOut>} ViewFormat\n * @template TIn, TOut\n */\n\n/**\n * @typedef {import('./formats').UTF8Format<TIn,TOut>} UTF8Format\n * @template TIn, TOut\n */\n", "'use strict'\n\nconst { Buffer } = require('buffer') || {}\nconst { Encoding } = require('./encoding')\nconst textEndec = require('./text-endec')\n\n/**\n * @template TIn, TOut\n * @extends {Encoding<TIn,Buffer,TOut>}\n */\nclass BufferFormat extends Encoding {\n  /**\n   * @param {Omit<IEncoding<TIn, Buffer, TOut>, 'format'>} options\n   */\n  constructor (options) {\n    super({ ...options, format: 'buffer' })\n  }\n\n  /** @override */\n  createViewTranscoder () {\n    return new ViewFormat({\n      encode: this.encode, // Buffer is a view (UInt8Array)\n      decode: (data) => this.decode(\n        Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n      ),\n      name: `${this.name}+view`\n    })\n  }\n\n  /** @override */\n  createBufferTranscoder () {\n    return this\n  }\n}\n\n/**\n * @extends {Encoding<TIn,Uint8Array,TOut>}\n * @template TIn, TOut\n */\nclass ViewFormat extends Encoding {\n  /**\n   * @param {Omit<IEncoding<TIn, Uint8Array, TOut>, 'format'>} options\n   */\n  constructor (options) {\n    super({ ...options, format: 'view' })\n  }\n\n  /** @override */\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: (data) => {\n        const view = this.encode(data)\n        return Buffer.from(view.buffer, view.byteOffset, view.byteLength)\n      },\n      decode: this.decode, // Buffer is a view (UInt8Array)\n      name: `${this.name}+buffer`\n    })\n  }\n\n  /** @override */\n  createViewTranscoder () {\n    return this\n  }\n}\n\n/**\n * @extends {Encoding<TIn,string,TOut>}\n * @template TIn, TOut\n */\nclass UTF8Format extends Encoding {\n  /**\n   * @param {Omit<IEncoding<TIn, string, TOut>, 'format'>} options\n   */\n  constructor (options) {\n    super({ ...options, format: 'utf8' })\n  }\n\n  /** @override */\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: (data) => Buffer.from(this.encode(data), 'utf8'),\n      decode: (data) => this.decode(data.toString('utf8')),\n      name: `${this.name}+buffer`\n    })\n  }\n\n  /** @override */\n  createViewTranscoder () {\n    const { textEncoder, textDecoder } = textEndec()\n\n    return new ViewFormat({\n      encode: (data) => textEncoder.encode(this.encode(data)),\n      decode: (data) => this.decode(textDecoder.decode(data)),\n      name: `${this.name}+view`\n    })\n  }\n\n  /** @override */\n  createUTF8Transcoder () {\n    return this\n  }\n}\n\nexports.BufferFormat = BufferFormat\nexports.ViewFormat = ViewFormat\nexports.UTF8Format = UTF8Format\n\n/**\n * @typedef {import('./encoding').IEncoding<TIn,TFormat,TOut>} IEncoding\n * @template TIn, TFormat, TOut\n */\n", "'use strict'\n\nconst { Buffer } = require('buffer') || { Buffer: { isBuffer: () => false } }\nconst { textEncoder, textDecoder } = require('./text-endec')()\nconst { BufferFormat, ViewFormat, UTF8Format } = require('./formats')\n\n/** @type {<T>(v: T) => v} */\nconst identity = (v) => v\n\n/**\n * @type {typeof import('./encodings').utf8}\n */\nexports.utf8 = new UTF8Format({\n  encode: function (data) {\n    // On node 16.9.1 buffer.toString() is 5x faster than TextDecoder\n    return Buffer.isBuffer(data)\n      ? data.toString('utf8')\n      : ArrayBuffer.isView(data)\n        ? textDecoder.decode(data)\n        : String(data)\n  },\n  decode: identity,\n  name: 'utf8',\n  createViewTranscoder () {\n    return new ViewFormat({\n      encode: function (data) {\n        return ArrayBuffer.isView(data) ? data : textEncoder.encode(data)\n      },\n      decode: function (data) {\n        return textDecoder.decode(data)\n      },\n      name: `${this.name}+view`\n    })\n  },\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: function (data) {\n        return Buffer.isBuffer(data)\n          ? data\n          : ArrayBuffer.isView(data)\n            ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n            : Buffer.from(String(data), 'utf8')\n      },\n      decode: function (data) {\n        return data.toString('utf8')\n      },\n      name: `${this.name}+buffer`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').json}\n */\nexports.json = new UTF8Format({\n  encode: JSON.stringify,\n  decode: JSON.parse,\n  name: 'json'\n})\n\n/**\n * @type {typeof import('./encodings').buffer}\n */\nexports.buffer = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data)\n      ? data\n      : ArrayBuffer.isView(data)\n        ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n        : Buffer.from(String(data), 'utf8')\n  },\n  decode: identity,\n  name: 'buffer',\n  createViewTranscoder () {\n    return new ViewFormat({\n      encode: function (data) {\n        return ArrayBuffer.isView(data) ? data : Buffer.from(String(data), 'utf8')\n      },\n      decode: function (data) {\n        return Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n      },\n      name: `${this.name}+view`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').view}\n */\nexports.view = new ViewFormat({\n  encode: function (data) {\n    return ArrayBuffer.isView(data) ? data : textEncoder.encode(data)\n  },\n  decode: identity,\n  name: 'view',\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: function (data) {\n        return Buffer.isBuffer(data)\n          ? data\n          : ArrayBuffer.isView(data)\n            ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n            : Buffer.from(String(data), 'utf8')\n      },\n      decode: identity,\n      name: `${this.name}+buffer`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').hex}\n */\nexports.hex = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data) ? data : Buffer.from(String(data), 'hex')\n  },\n  decode: function (buffer) {\n    return buffer.toString('hex')\n  },\n  name: 'hex'\n})\n\n/**\n * @type {typeof import('./encodings').base64}\n */\nexports.base64 = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data) ? data : Buffer.from(String(data), 'base64')\n  },\n  decode: function (buffer) {\n    return buffer.toString('base64')\n  },\n  name: 'base64'\n})\n", "'use strict'\n\nconst ModuleError = require('module-error')\nconst encodings = require('./lib/encodings')\nconst { Encoding } = require('./lib/encoding')\nconst { BufferFormat, ViewFormat, UTF8Format } = require('./lib/formats')\n\nconst kFormats = Symbol('formats')\nconst kEncodings = Symbol('encodings')\nconst validFormats = new Set(['buffer', 'view', 'utf8'])\n\n/** @template T */\nclass Transcoder {\n  /**\n   * @param {Array<'buffer'|'view'|'utf8'>} formats\n   */\n  constructor (formats) {\n    if (!Array.isArray(formats)) {\n      throw new TypeError(\"The first argument 'formats' must be an array\")\n    } else if (!formats.every(f => validFormats.has(f))) {\n      // Note: we only only support aliases in key- and valueEncoding options (where we already did)\n      throw new TypeError(\"Format must be one of 'buffer', 'view', 'utf8'\")\n    }\n\n    /** @type {Map<string|MixedEncoding<any, any, any>, Encoding<any, any, any>>} */\n    this[kEncodings] = new Map()\n    this[kFormats] = new Set(formats)\n\n    // Register encodings (done early in order to populate encodings())\n    for (const k in encodings) {\n      try {\n        this.encoding(k)\n      } catch (err) {\n        /* istanbul ignore if: assertion */\n        if (err.code !== 'LEVEL_ENCODING_NOT_SUPPORTED') throw err\n      }\n    }\n  }\n\n  /**\n   * @returns {Array<Encoding<any,T,any>>}\n   */\n  encodings () {\n    return Array.from(new Set(this[kEncodings].values()))\n  }\n\n  /**\n   * @param {string|MixedEncoding<any, any, any>} encoding\n   * @returns {Encoding<any, T, any>}\n   */\n  encoding (encoding) {\n    let resolved = this[kEncodings].get(encoding)\n\n    if (resolved === undefined) {\n      if (typeof encoding === 'string' && encoding !== '') {\n        resolved = lookup[encoding]\n\n        if (!resolved) {\n          throw new ModuleError(`Encoding '${encoding}' is not found`, {\n            code: 'LEVEL_ENCODING_NOT_FOUND'\n          })\n        }\n      } else if (typeof encoding !== 'object' || encoding === null) {\n        throw new TypeError(\"First argument 'encoding' must be a string or object\")\n      } else {\n        resolved = from(encoding)\n      }\n\n      const { name, format } = resolved\n\n      if (!this[kFormats].has(format)) {\n        if (this[kFormats].has('view')) {\n          resolved = resolved.createViewTranscoder()\n        } else if (this[kFormats].has('buffer')) {\n          resolved = resolved.createBufferTranscoder()\n        } else if (this[kFormats].has('utf8')) {\n          resolved = resolved.createUTF8Transcoder()\n        } else {\n          throw new ModuleError(`Encoding '${name}' cannot be transcoded`, {\n            code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n          })\n        }\n      }\n\n      for (const k of [encoding, name, resolved.name, resolved.commonName]) {\n        this[kEncodings].set(k, resolved)\n      }\n    }\n\n    return resolved\n  }\n}\n\nexports.Transcoder = Transcoder\n\n/**\n * @param {MixedEncoding<any, any, any>} options\n * @returns {Encoding<any, any, any>}\n */\nfunction from (options) {\n  if (options instanceof Encoding) {\n    return options\n  }\n\n  // Loosely typed for ecosystem compatibility\n  const maybeType = 'type' in options && typeof options.type === 'string' ? options.type : undefined\n  const name = options.name || maybeType || `anonymous-${anonymousCount++}`\n\n  switch (detectFormat(options)) {\n    case 'view': return new ViewFormat({ ...options, name })\n    case 'utf8': return new UTF8Format({ ...options, name })\n    case 'buffer': return new BufferFormat({ ...options, name })\n    default: {\n      throw new TypeError(\"Format must be one of 'buffer', 'view', 'utf8'\")\n    }\n  }\n}\n\n/**\n * If format is not provided, fallback to detecting `level-codec`\n * or `multiformats` encodings, else assume a format of buffer.\n * @param {MixedEncoding<any, any, any>} options\n * @returns {string}\n */\nfunction detectFormat (options) {\n  if ('format' in options && options.format !== undefined) {\n    return options.format\n  } else if ('buffer' in options && typeof options.buffer === 'boolean') {\n    return options.buffer ? 'buffer' : 'utf8' // level-codec\n  } else if ('code' in options && Number.isInteger(options.code)) {\n    return 'view' // multiformats\n  } else {\n    return 'buffer'\n  }\n}\n\n/**\n * @typedef {import('./lib/encoding').MixedEncoding<TIn,TFormat,TOut>} MixedEncoding\n * @template TIn, TFormat, TOut\n */\n\n/**\n * @type {Object.<string, Encoding<any, any, any>>}\n */\nconst aliases = {\n  binary: encodings.buffer,\n  'utf-8': encodings.utf8\n}\n\n/**\n * @type {Object.<string, Encoding<any, any, any>>}\n */\nconst lookup = {\n  ...encodings,\n  ...aliases\n}\n\nlet anonymousCount = 0\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n", "module.exports = typeof queueMicrotask === 'function' ? queueMicrotask : (fn) => Promise.resolve().then(fn)\n", "'use strict'\n\nvar nextTick = require('./next-tick')\n\nexports.fromCallback = function (callback, symbol) {\n  if (callback === undefined) {\n    var promise = new Promise(function (resolve, reject) {\n      callback = function (err, res) {\n        if (err) reject(err)\n        else resolve(res)\n      }\n    })\n\n    callback[symbol !== undefined ? symbol : 'promise'] = promise\n  } else if (typeof callback !== 'function') {\n    throw new TypeError('Callback must be a function')\n  }\n\n  return callback\n}\n\nexports.fromPromise = function (promise, callback) {\n  if (callback === undefined) return promise\n\n  promise\n    .then(function (res) { nextTick(() => callback(null, res)) })\n    .catch(function (err) { nextTick(() => callback(err)) })\n}\n", "'use strict'\n\nexports.getCallback = function (options, callback) {\n  return typeof options === 'function' ? options : callback\n}\n\nexports.getOptions = function (options, def) {\n  if (typeof options === 'object' && options !== null) {\n    return options\n  }\n\n  if (def !== undefined) {\n    return def\n  }\n\n  return {}\n}\n", "'use strict'\n\nconst { fromCallback } = require('catering')\nconst ModuleError = require('module-error')\nconst { getOptions, getCallback } = require('./lib/common')\n\nconst kPromise = Symbol('promise')\nconst kCallback = Symbol('callback')\nconst kWorking = Symbol('working')\nconst kHandleOne = Symbol('handleOne')\nconst kHandleMany = Symbol('handleMany')\nconst kAutoClose = Symbol('autoClose')\nconst kFinishWork = Symbol('finishWork')\nconst kReturnMany = Symbol('returnMany')\nconst kClosing = Symbol('closing')\nconst kHandleClose = Symbol('handleClose')\nconst kClosed = Symbol('closed')\nconst kCloseCallbacks = Symbol('closeCallbacks')\nconst kKeyEncoding = Symbol('keyEncoding')\nconst kValueEncoding = Symbol('valueEncoding')\nconst kAbortOnClose = Symbol('abortOnClose')\nconst kLegacy = Symbol('legacy')\nconst kKeys = Symbol('keys')\nconst kValues = Symbol('values')\nconst kLimit = Symbol('limit')\nconst kCount = Symbol('count')\n\nconst emptyOptions = Object.freeze({})\nconst noop = () => {}\nlet warnedEnd = false\n\n// This class is an internal utility for common functionality between AbstractIterator,\n// AbstractKeyIterator and AbstractValueIterator. It's not exported.\nclass CommonIterator {\n  constructor (db, options, legacy) {\n    if (typeof db !== 'object' || db === null) {\n      const hint = db === null ? 'null' : typeof db\n      throw new TypeError(`The first argument must be an abstract-level database, received ${hint}`)\n    }\n\n    if (typeof options !== 'object' || options === null) {\n      throw new TypeError('The second argument must be an options object')\n    }\n\n    this[kClosed] = false\n    this[kCloseCallbacks] = []\n    this[kWorking] = false\n    this[kClosing] = false\n    this[kAutoClose] = false\n    this[kCallback] = null\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n    this[kHandleClose] = this[kHandleClose].bind(this)\n    this[kKeyEncoding] = options[kKeyEncoding]\n    this[kValueEncoding] = options[kValueEncoding]\n    this[kLegacy] = legacy\n    this[kLimit] = Number.isInteger(options.limit) && options.limit >= 0 ? options.limit : Infinity\n    this[kCount] = 0\n\n    // Undocumented option to abort pending work on close(). Used by the\n    // many-level module as a temporary solution to a blocked close().\n    // TODO (next major): consider making this the default behavior. Native\n    // implementations should have their own logic to safely close iterators.\n    this[kAbortOnClose] = !!options.abortOnClose\n\n    this.db = db\n    this.db.attachResource(this)\n    this.nextTick = db.nextTick\n  }\n\n  get count () {\n    return this[kCount]\n  }\n\n  get limit () {\n    return this[kLimit]\n  }\n\n  next (callback) {\n    let promise\n\n    if (callback === undefined) {\n      promise = new Promise((resolve, reject) => {\n        callback = (err, key, value) => {\n          if (err) reject(err)\n          else if (!this[kLegacy]) resolve(key)\n          else if (key === undefined && value === undefined) resolve()\n          else resolve([key, value])\n        }\n      })\n    } else if (typeof callback !== 'function') {\n      throw new TypeError('Callback must be a function')\n    }\n\n    if (this[kClosing]) {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call next() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    } else if (this[kWorking]) {\n      this.nextTick(callback, new ModuleError('Iterator is busy: cannot call next() until previous call has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      }))\n    } else {\n      this[kWorking] = true\n      this[kCallback] = callback\n\n      if (this[kCount] >= this[kLimit]) this.nextTick(this[kHandleOne], null)\n      else this._next(this[kHandleOne])\n    }\n\n    return promise\n  }\n\n  _next (callback) {\n    this.nextTick(callback)\n  }\n\n  nextv (size, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, emptyOptions)\n\n    if (!Number.isInteger(size)) {\n      this.nextTick(callback, new TypeError(\"The first argument 'size' must be an integer\"))\n      return callback[kPromise]\n    }\n\n    if (this[kClosing]) {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call nextv() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    } else if (this[kWorking]) {\n      this.nextTick(callback, new ModuleError('Iterator is busy: cannot call nextv() until previous call has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      }))\n    } else {\n      if (size < 1) size = 1\n      if (this[kLimit] < Infinity) size = Math.min(size, this[kLimit] - this[kCount])\n\n      this[kWorking] = true\n      this[kCallback] = callback\n\n      if (size <= 0) this.nextTick(this[kHandleMany], null, [])\n      else this._nextv(size, options, this[kHandleMany])\n    }\n\n    return callback[kPromise]\n  }\n\n  _nextv (size, options, callback) {\n    const acc = []\n    const onnext = (err, key, value) => {\n      if (err) {\n        return callback(err)\n      } else if (this[kLegacy] ? key === undefined && value === undefined : key === undefined) {\n        return callback(null, acc)\n      }\n\n      acc.push(this[kLegacy] ? [key, value] : key)\n\n      if (acc.length === size) {\n        callback(null, acc)\n      } else {\n        this._next(onnext)\n      }\n    }\n\n    this._next(onnext)\n  }\n\n  all (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, emptyOptions)\n\n    if (this[kClosing]) {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call all() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    } else if (this[kWorking]) {\n      this.nextTick(callback, new ModuleError('Iterator is busy: cannot call all() until previous call has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      }))\n    } else {\n      this[kWorking] = true\n      this[kCallback] = callback\n      this[kAutoClose] = true\n\n      if (this[kCount] >= this[kLimit]) this.nextTick(this[kHandleMany], null, [])\n      else this._all(options, this[kHandleMany])\n    }\n\n    return callback[kPromise]\n  }\n\n  _all (options, callback) {\n    // Must count here because we're directly calling _nextv()\n    let count = this[kCount]\n    const acc = []\n\n    const nextv = () => {\n      // Not configurable, because implementations should optimize _all().\n      const size = this[kLimit] < Infinity ? Math.min(1e3, this[kLimit] - count) : 1e3\n\n      if (size <= 0) {\n        this.nextTick(callback, null, acc)\n      } else {\n        this._nextv(size, emptyOptions, onnextv)\n      }\n    }\n\n    const onnextv = (err, items) => {\n      if (err) {\n        callback(err)\n      } else if (items.length === 0) {\n        callback(null, acc)\n      } else {\n        acc.push.apply(acc, items)\n        count += items.length\n        nextv()\n      }\n    }\n\n    nextv()\n  }\n\n  [kFinishWork] () {\n    const cb = this[kCallback]\n\n    // Callback will be null if work was aborted on close\n    if (this[kAbortOnClose] && cb === null) return noop\n\n    this[kWorking] = false\n    this[kCallback] = null\n\n    if (this[kClosing]) this._close(this[kHandleClose])\n\n    return cb\n  }\n\n  [kReturnMany] (cb, err, items) {\n    if (this[kAutoClose]) {\n      this.close(cb.bind(null, err, items))\n    } else {\n      cb(err, items)\n    }\n  }\n\n  seek (target, options) {\n    options = getOptions(options, emptyOptions)\n\n    if (this[kClosing]) {\n      // Don't throw here, to be kind to implementations that wrap\n      // another db and don't necessarily control when the db is closed\n    } else if (this[kWorking]) {\n      throw new ModuleError('Iterator is busy: cannot call seek() until next() has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      })\n    } else {\n      const keyEncoding = this.db.keyEncoding(options.keyEncoding || this[kKeyEncoding])\n      const keyFormat = keyEncoding.format\n\n      if (options.keyEncoding !== keyFormat) {\n        options = { ...options, keyEncoding: keyFormat }\n      }\n\n      const mapped = this.db.prefixKey(keyEncoding.encode(target), keyFormat)\n      this._seek(mapped, options)\n    }\n  }\n\n  _seek (target, options) {\n    throw new ModuleError('Iterator does not support seek()', {\n      code: 'LEVEL_NOT_SUPPORTED'\n    })\n  }\n\n  close (callback) {\n    callback = fromCallback(callback, kPromise)\n\n    if (this[kClosed]) {\n      this.nextTick(callback)\n    } else if (this[kClosing]) {\n      this[kCloseCallbacks].push(callback)\n    } else {\n      this[kClosing] = true\n      this[kCloseCallbacks].push(callback)\n\n      if (!this[kWorking]) {\n        this._close(this[kHandleClose])\n      } else if (this[kAbortOnClose]) {\n        // Don't wait for work to finish. Subsequently ignore the result.\n        const cb = this[kFinishWork]()\n\n        cb(new ModuleError('Aborted on iterator close()', {\n          code: 'LEVEL_ITERATOR_NOT_OPEN'\n        }))\n      }\n    }\n\n    return callback[kPromise]\n  }\n\n  _close (callback) {\n    this.nextTick(callback)\n  }\n\n  [kHandleClose] () {\n    this[kClosed] = true\n    this.db.detachResource(this)\n\n    const callbacks = this[kCloseCallbacks]\n    this[kCloseCallbacks] = []\n\n    for (const cb of callbacks) {\n      cb()\n    }\n  }\n\n  async * [Symbol.asyncIterator] () {\n    try {\n      let item\n\n      while ((item = (await this.next())) !== undefined) {\n        yield item\n      }\n    } finally {\n      if (!this[kClosed]) await this.close()\n    }\n  }\n}\n\n// For backwards compatibility this class is not (yet) called AbstractEntryIterator.\nclass AbstractIterator extends CommonIterator {\n  constructor (db, options) {\n    super(db, options, true)\n    this[kKeys] = options.keys !== false\n    this[kValues] = options.values !== false\n  }\n\n  [kHandleOne] (err, key, value) {\n    const cb = this[kFinishWork]()\n    if (err) return cb(err)\n\n    try {\n      key = this[kKeys] && key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n      value = this[kValues] && value !== undefined ? this[kValueEncoding].decode(value) : undefined\n    } catch (err) {\n      return cb(new IteratorDecodeError('entry', err))\n    }\n\n    if (!(key === undefined && value === undefined)) {\n      this[kCount]++\n    }\n\n    cb(null, key, value)\n  }\n\n  [kHandleMany] (err, entries) {\n    const cb = this[kFinishWork]()\n    if (err) return this[kReturnMany](cb, err)\n\n    try {\n      for (const entry of entries) {\n        const key = entry[0]\n        const value = entry[1]\n\n        entry[0] = this[kKeys] && key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n        entry[1] = this[kValues] && value !== undefined ? this[kValueEncoding].decode(value) : undefined\n      }\n    } catch (err) {\n      return this[kReturnMany](cb, new IteratorDecodeError('entries', err))\n    }\n\n    this[kCount] += entries.length\n    this[kReturnMany](cb, null, entries)\n  }\n\n  end (callback) {\n    if (!warnedEnd && typeof console !== 'undefined') {\n      warnedEnd = true\n      console.warn(new ModuleError(\n        'The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version',\n        { code: 'LEVEL_LEGACY' }\n      ))\n    }\n\n    return this.close(callback)\n  }\n}\n\nclass AbstractKeyIterator extends CommonIterator {\n  constructor (db, options) {\n    super(db, options, false)\n  }\n\n  [kHandleOne] (err, key) {\n    const cb = this[kFinishWork]()\n    if (err) return cb(err)\n\n    try {\n      key = key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n    } catch (err) {\n      return cb(new IteratorDecodeError('key', err))\n    }\n\n    if (key !== undefined) this[kCount]++\n    cb(null, key)\n  }\n\n  [kHandleMany] (err, keys) {\n    const cb = this[kFinishWork]()\n    if (err) return this[kReturnMany](cb, err)\n\n    try {\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i]\n        keys[i] = key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n      }\n    } catch (err) {\n      return this[kReturnMany](cb, new IteratorDecodeError('keys', err))\n    }\n\n    this[kCount] += keys.length\n    this[kReturnMany](cb, null, keys)\n  }\n}\n\nclass AbstractValueIterator extends CommonIterator {\n  constructor (db, options) {\n    super(db, options, false)\n  }\n\n  [kHandleOne] (err, value) {\n    const cb = this[kFinishWork]()\n    if (err) return cb(err)\n\n    try {\n      value = value !== undefined ? this[kValueEncoding].decode(value) : undefined\n    } catch (err) {\n      return cb(new IteratorDecodeError('value', err))\n    }\n\n    if (value !== undefined) this[kCount]++\n    cb(null, value)\n  }\n\n  [kHandleMany] (err, values) {\n    const cb = this[kFinishWork]()\n    if (err) return this[kReturnMany](cb, err)\n\n    try {\n      for (let i = 0; i < values.length; i++) {\n        const value = values[i]\n        values[i] = value !== undefined ? this[kValueEncoding].decode(value) : undefined\n      }\n    } catch (err) {\n      return this[kReturnMany](cb, new IteratorDecodeError('values', err))\n    }\n\n    this[kCount] += values.length\n    this[kReturnMany](cb, null, values)\n  }\n}\n\n// Internal utility, not typed or exported\nclass IteratorDecodeError extends ModuleError {\n  constructor (subject, cause) {\n    super(`Iterator could not decode ${subject}`, {\n      code: 'LEVEL_DECODE_ERROR',\n      cause\n    })\n  }\n}\n\n// To help migrating to abstract-level\nfor (const k of ['_ended property', '_nexting property', '_end method']) {\n  Object.defineProperty(AbstractIterator.prototype, k.split(' ')[0], {\n    get () { throw new ModuleError(`The ${k} has been removed`, { code: 'LEVEL_LEGACY' }) },\n    set () { throw new ModuleError(`The ${k} has been removed`, { code: 'LEVEL_LEGACY' }) }\n  })\n}\n\n// Exposed so that AbstractLevel can set these options\nAbstractIterator.keyEncoding = kKeyEncoding\nAbstractIterator.valueEncoding = kValueEncoding\n\nexports.AbstractIterator = AbstractIterator\nexports.AbstractKeyIterator = AbstractKeyIterator\nexports.AbstractValueIterator = AbstractValueIterator\n", "'use strict'\n\nconst { AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\n\nconst kIterator = Symbol('iterator')\nconst kCallback = Symbol('callback')\nconst kHandleOne = Symbol('handleOne')\nconst kHandleMany = Symbol('handleMany')\n\nclass DefaultKeyIterator extends AbstractKeyIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kIterator] = db.iterator({ ...options, keys: true, values: false })\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n  }\n}\n\nclass DefaultValueIterator extends AbstractValueIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kIterator] = db.iterator({ ...options, keys: false, values: true })\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n  }\n}\n\nfor (const Iterator of [DefaultKeyIterator, DefaultValueIterator]) {\n  const keys = Iterator === DefaultKeyIterator\n  const mapEntry = keys ? (entry) => entry[0] : (entry) => entry[1]\n\n  Iterator.prototype._next = function (callback) {\n    this[kCallback] = callback\n    this[kIterator].next(this[kHandleOne])\n  }\n\n  Iterator.prototype[kHandleOne] = function (err, key, value) {\n    const callback = this[kCallback]\n    if (err) callback(err)\n    else callback(null, keys ? key : value)\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    this[kCallback] = callback\n    this[kIterator].nextv(size, options, this[kHandleMany])\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    this[kCallback] = callback\n    this[kIterator].all(options, this[kHandleMany])\n  }\n\n  Iterator.prototype[kHandleMany] = function (err, entries) {\n    const callback = this[kCallback]\n    if (err) callback(err)\n    else callback(null, entries.map(mapEntry))\n  }\n\n  Iterator.prototype._seek = function (target, options) {\n    this[kIterator].seek(target, options)\n  }\n\n  Iterator.prototype._close = function (callback) {\n    this[kIterator].close(callback)\n  }\n}\n\n// Internal utilities, should be typed as AbstractKeyIterator and AbstractValueIterator\nexports.DefaultKeyIterator = DefaultKeyIterator\nexports.DefaultValueIterator = DefaultValueIterator\n", "'use strict'\n\nconst { AbstractIterator, AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\nconst ModuleError = require('module-error')\n\nconst kNut = Symbol('nut')\nconst kUndefer = Symbol('undefer')\nconst kFactory = Symbol('factory')\n\nclass DeferredIterator extends AbstractIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.iterator(options)\n\n    this.db.defer(() => this[kUndefer]())\n  }\n}\n\nclass DeferredKeyIterator extends AbstractKeyIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.keys(options)\n\n    this.db.defer(() => this[kUndefer]())\n  }\n}\n\nclass DeferredValueIterator extends AbstractValueIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.values(options)\n\n    this.db.defer(() => this[kUndefer]())\n  }\n}\n\nfor (const Iterator of [DeferredIterator, DeferredKeyIterator, DeferredValueIterator]) {\n  Iterator.prototype[kUndefer] = function () {\n    if (this.db.status === 'open') {\n      this[kNut] = this[kFactory]()\n    }\n  }\n\n  Iterator.prototype._next = function (callback) {\n    if (this[kNut] !== null) {\n      this[kNut].next(callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._next(callback))\n    } else {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call next() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    }\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    if (this[kNut] !== null) {\n      this[kNut].nextv(size, options, callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._nextv(size, options, callback))\n    } else {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call nextv() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    }\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    if (this[kNut] !== null) {\n      this[kNut].all(callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._all(options, callback))\n    } else {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call all() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    }\n  }\n\n  Iterator.prototype._seek = function (target, options) {\n    if (this[kNut] !== null) {\n      // TODO: explain why we need _seek() rather than seek() here\n      this[kNut]._seek(target, options)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._seek(target, options))\n    }\n  }\n\n  Iterator.prototype._close = function (callback) {\n    if (this[kNut] !== null) {\n      this[kNut].close(callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._close(callback))\n    } else {\n      this.nextTick(callback)\n    }\n  }\n}\n\nexports.DeferredIterator = DeferredIterator\nexports.DeferredKeyIterator = DeferredKeyIterator\nexports.DeferredValueIterator = DeferredValueIterator\n", "'use strict'\n\nconst { fromCallback } = require('catering')\nconst ModuleError = require('module-error')\nconst { getCallback, getOptions } = require('./lib/common')\n\nconst kPromise = Symbol('promise')\nconst kStatus = Symbol('status')\nconst kOperations = Symbol('operations')\nconst kFinishClose = Symbol('finishClose')\nconst kCloseCallbacks = Symbol('closeCallbacks')\n\nclass AbstractChainedBatch {\n  constructor (db) {\n    if (typeof db !== 'object' || db === null) {\n      const hint = db === null ? 'null' : typeof db\n      throw new TypeError(`The first argument must be an abstract-level database, received ${hint}`)\n    }\n\n    this[kOperations] = []\n    this[kCloseCallbacks] = []\n    this[kStatus] = 'open'\n    this[kFinishClose] = this[kFinishClose].bind(this)\n\n    this.db = db\n    this.db.attachResource(this)\n    this.nextTick = db.nextTick\n  }\n\n  get length () {\n    return this[kOperations].length\n  }\n\n  put (key, value, options) {\n    if (this[kStatus] !== 'open') {\n      throw new ModuleError('Batch is not open: cannot call put() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      })\n    }\n\n    const err = this.db._checkKey(key) || this.db._checkValue(value)\n    if (err) throw err\n\n    const db = options && options.sublevel != null ? options.sublevel : this.db\n    const original = options\n    const keyEncoding = db.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = db.valueEncoding(options && options.valueEncoding)\n    const keyFormat = keyEncoding.format\n\n    // Forward encoding options\n    options = { ...options, keyEncoding: keyFormat, valueEncoding: valueEncoding.format }\n\n    // Prevent double prefixing\n    if (db !== this.db) {\n      options.sublevel = null\n    }\n\n    const mappedKey = db.prefixKey(keyEncoding.encode(key), keyFormat)\n    const mappedValue = valueEncoding.encode(value)\n\n    this._put(mappedKey, mappedValue, options)\n    this[kOperations].push({ ...original, type: 'put', key, value })\n\n    return this\n  }\n\n  _put (key, value, options) {}\n\n  del (key, options) {\n    if (this[kStatus] !== 'open') {\n      throw new ModuleError('Batch is not open: cannot call del() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      })\n    }\n\n    const err = this.db._checkKey(key)\n    if (err) throw err\n\n    const db = options && options.sublevel != null ? options.sublevel : this.db\n    const original = options\n    const keyEncoding = db.keyEncoding(options && options.keyEncoding)\n    const keyFormat = keyEncoding.format\n\n    // Forward encoding options\n    options = { ...options, keyEncoding: keyFormat }\n\n    // Prevent double prefixing\n    if (db !== this.db) {\n      options.sublevel = null\n    }\n\n    this._del(db.prefixKey(keyEncoding.encode(key), keyFormat), options)\n    this[kOperations].push({ ...original, type: 'del', key })\n\n    return this\n  }\n\n  _del (key, options) {}\n\n  clear () {\n    if (this[kStatus] !== 'open') {\n      throw new ModuleError('Batch is not open: cannot call clear() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      })\n    }\n\n    this._clear()\n    this[kOperations] = []\n\n    return this\n  }\n\n  _clear () {}\n\n  write (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options)\n\n    if (this[kStatus] !== 'open') {\n      this.nextTick(callback, new ModuleError('Batch is not open: cannot call write() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      }))\n    } else if (this.length === 0) {\n      this.close(callback)\n    } else {\n      this[kStatus] = 'writing'\n      this._write(options, (err) => {\n        this[kStatus] = 'closing'\n        this[kCloseCallbacks].push(() => callback(err))\n\n        // Emit after setting 'closing' status, because event may trigger a\n        // db close which in turn triggers (idempotently) closing this batch.\n        if (!err) this.db.emit('batch', this[kOperations])\n\n        this._close(this[kFinishClose])\n      })\n    }\n\n    return callback[kPromise]\n  }\n\n  _write (options, callback) {}\n\n  close (callback) {\n    callback = fromCallback(callback, kPromise)\n\n    if (this[kStatus] === 'closing') {\n      this[kCloseCallbacks].push(callback)\n    } else if (this[kStatus] === 'closed') {\n      this.nextTick(callback)\n    } else {\n      this[kCloseCallbacks].push(callback)\n\n      if (this[kStatus] !== 'writing') {\n        this[kStatus] = 'closing'\n        this._close(this[kFinishClose])\n      }\n    }\n\n    return callback[kPromise]\n  }\n\n  _close (callback) {\n    this.nextTick(callback)\n  }\n\n  [kFinishClose] () {\n    this[kStatus] = 'closed'\n    this.db.detachResource(this)\n\n    const callbacks = this[kCloseCallbacks]\n    this[kCloseCallbacks] = []\n\n    for (const cb of callbacks) {\n      cb()\n    }\n  }\n}\n\nexports.AbstractChainedBatch = AbstractChainedBatch\n", "'use strict'\n\nconst { AbstractChainedBatch } = require('../abstract-chained-batch')\nconst ModuleError = require('module-error')\nconst kEncoded = Symbol('encoded')\n\n// Functional default for chained batch, with support of deferred open\nclass DefaultChainedBatch extends AbstractChainedBatch {\n  constructor (db) {\n    super(db)\n    this[kEncoded] = []\n  }\n\n  _put (key, value, options) {\n    this[kEncoded].push({ ...options, type: 'put', key, value })\n  }\n\n  _del (key, options) {\n    this[kEncoded].push({ ...options, type: 'del', key })\n  }\n\n  _clear () {\n    this[kEncoded] = []\n  }\n\n  // Assumes this[kEncoded] cannot change after write()\n  _write (options, callback) {\n    if (this.db.status === 'opening') {\n      this.db.defer(() => this._write(options, callback))\n    } else if (this.db.status === 'open') {\n      if (this[kEncoded].length === 0) this.nextTick(callback)\n      else this.db._batch(this[kEncoded], options, callback)\n    } else {\n      this.nextTick(callback, new ModuleError('Batch is not open: cannot call write() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      }))\n    }\n  }\n}\n\nexports.DefaultChainedBatch = DefaultChainedBatch\n", "'use strict'\n\nconst ModuleError = require('module-error')\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nconst rangeOptions = new Set(['lt', 'lte', 'gt', 'gte'])\n\nmodule.exports = function (options, keyEncoding) {\n  const result = {}\n\n  for (const k in options) {\n    if (!hasOwnProperty.call(options, k)) continue\n    if (k === 'keyEncoding' || k === 'valueEncoding') continue\n\n    if (k === 'start' || k === 'end') {\n      throw new ModuleError(`The legacy range option '${k}' has been removed`, {\n        code: 'LEVEL_LEGACY'\n      })\n    } else if (k === 'encoding') {\n      // To help migrating to abstract-level\n      throw new ModuleError(\"The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead\", {\n        code: 'LEVEL_LEGACY'\n      })\n    }\n\n    if (rangeOptions.has(k)) {\n      // Note that we don't reject nullish and empty options here. While\n      // those types are invalid as keys, they are valid as range options.\n      result[k] = keyEncoding.encode(options[k])\n    } else {\n      result[k] = options[k]\n    }\n  }\n\n  result.reverse = !!result.reverse\n  result.limit = Number.isInteger(result.limit) && result.limit >= 0 ? result.limit : -1\n\n  return result\n}\n", "/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n", "'use strict'\n\nconst queueMicrotask = require('queue-microtask')\n\nmodule.exports = function (fn, ...args) {\n  if (args.length === 0) {\n    queueMicrotask(fn)\n  } else {\n    queueMicrotask(() => fn(...args))\n  }\n}\n", "'use strict'\n\nconst { AbstractIterator, AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\n\nconst kUnfix = Symbol('unfix')\nconst kIterator = Symbol('iterator')\nconst kHandleOne = Symbol('handleOne')\nconst kHandleMany = Symbol('handleMany')\nconst kCallback = Symbol('callback')\n\n// TODO: unfix natively if db supports it\nclass AbstractSublevelIterator extends AbstractIterator {\n  constructor (db, options, iterator, unfix) {\n    super(db, options)\n\n    this[kIterator] = iterator\n    this[kUnfix] = unfix\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n    this[kCallback] = null\n  }\n\n  [kHandleOne] (err, key, value) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n    if (key !== undefined) key = this[kUnfix](key)\n    callback(err, key, value)\n  }\n\n  [kHandleMany] (err, entries) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n\n    for (const entry of entries) {\n      const key = entry[0]\n      if (key !== undefined) entry[0] = this[kUnfix](key)\n    }\n\n    callback(err, entries)\n  }\n}\n\nclass AbstractSublevelKeyIterator extends AbstractKeyIterator {\n  constructor (db, options, iterator, unfix) {\n    super(db, options)\n\n    this[kIterator] = iterator\n    this[kUnfix] = unfix\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n    this[kCallback] = null\n  }\n\n  [kHandleOne] (err, key) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n    if (key !== undefined) key = this[kUnfix](key)\n    callback(err, key)\n  }\n\n  [kHandleMany] (err, keys) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      if (key !== undefined) keys[i] = this[kUnfix](key)\n    }\n\n    callback(err, keys)\n  }\n}\n\nclass AbstractSublevelValueIterator extends AbstractValueIterator {\n  constructor (db, options, iterator) {\n    super(db, options)\n    this[kIterator] = iterator\n  }\n}\n\nfor (const Iterator of [AbstractSublevelIterator, AbstractSublevelKeyIterator]) {\n  Iterator.prototype._next = function (callback) {\n    this[kCallback] = callback\n    this[kIterator].next(this[kHandleOne])\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    this[kCallback] = callback\n    this[kIterator].nextv(size, options, this[kHandleMany])\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    this[kCallback] = callback\n    this[kIterator].all(options, this[kHandleMany])\n  }\n}\n\nfor (const Iterator of [AbstractSublevelValueIterator]) {\n  Iterator.prototype._next = function (callback) {\n    this[kIterator].next(callback)\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    this[kIterator].nextv(size, options, callback)\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    this[kIterator].all(options, callback)\n  }\n}\n\nfor (const Iterator of [AbstractSublevelIterator, AbstractSublevelKeyIterator, AbstractSublevelValueIterator]) {\n  Iterator.prototype._seek = function (target, options) {\n    this[kIterator].seek(target, options)\n  }\n\n  Iterator.prototype._close = function (callback) {\n    this[kIterator].close(callback)\n  }\n}\n\nexports.AbstractSublevelIterator = AbstractSublevelIterator\nexports.AbstractSublevelKeyIterator = AbstractSublevelKeyIterator\nexports.AbstractSublevelValueIterator = AbstractSublevelValueIterator\n", "'use strict'\n\nconst ModuleError = require('module-error')\nconst { Buffer } = require('buffer') || {}\nconst {\n  AbstractSublevelIterator,\n  AbstractSublevelKeyIterator,\n  AbstractSublevelValueIterator\n} = require('./abstract-sublevel-iterator')\n\nconst kPrefix = Symbol('prefix')\nconst kUpperBound = Symbol('upperBound')\nconst kPrefixRange = Symbol('prefixRange')\nconst kParent = Symbol('parent')\nconst kUnfix = Symbol('unfix')\n\nconst textEncoder = new TextEncoder()\nconst defaults = { separator: '!' }\n\n// Wrapped to avoid circular dependency\nmodule.exports = function ({ AbstractLevel }) {\n  class AbstractSublevel extends AbstractLevel {\n    static defaults (options) {\n      // To help migrating from subleveldown to abstract-level\n      if (typeof options === 'string') {\n        throw new ModuleError('The subleveldown string shorthand for { separator } has been removed', {\n          code: 'LEVEL_LEGACY'\n        })\n      } else if (options && options.open) {\n        throw new ModuleError('The subleveldown open option has been removed', {\n          code: 'LEVEL_LEGACY'\n        })\n      }\n\n      if (options == null) {\n        return defaults\n      } else if (!options.separator) {\n        return { ...options, separator: '!' }\n      } else {\n        return options\n      }\n    }\n\n    // TODO: add autoClose option, which if true, does parent.attachResource(this)\n    constructor (db, name, options) {\n      // Don't forward AbstractSublevel options to AbstractLevel\n      const { separator, manifest, ...forward } = AbstractSublevel.defaults(options)\n      name = trim(name, separator)\n\n      // Reserve one character between separator and name to give us an upper bound\n      const reserved = separator.charCodeAt(0) + 1\n      const parent = db[kParent] || db\n\n      // Keys should sort like ['!a!', '!a!!a!', '!a\"', '!aa!', '!b!'].\n      // Use ASCII for consistent length between string, Buffer and Uint8Array\n      if (!textEncoder.encode(name).every(x => x > reserved && x < 127)) {\n        throw new ModuleError(`Prefix must use bytes > ${reserved} < ${127}`, {\n          code: 'LEVEL_INVALID_PREFIX'\n        })\n      }\n\n      super(mergeManifests(parent, manifest), forward)\n\n      const prefix = (db.prefix || '') + separator + name + separator\n      const upperBound = prefix.slice(0, -1) + String.fromCharCode(reserved)\n\n      this[kParent] = parent\n      this[kPrefix] = new MultiFormat(prefix)\n      this[kUpperBound] = new MultiFormat(upperBound)\n      this[kUnfix] = new Unfixer()\n\n      this.nextTick = parent.nextTick\n    }\n\n    prefixKey (key, keyFormat) {\n      if (keyFormat === 'utf8') {\n        return this[kPrefix].utf8 + key\n      } else if (key.byteLength === 0) {\n        // Fast path for empty key (no copy)\n        return this[kPrefix][keyFormat]\n      } else if (keyFormat === 'view') {\n        const view = this[kPrefix].view\n        const result = new Uint8Array(view.byteLength + key.byteLength)\n\n        result.set(view, 0)\n        result.set(key, view.byteLength)\n\n        return result\n      } else {\n        const buffer = this[kPrefix].buffer\n        return Buffer.concat([buffer, key], buffer.byteLength + key.byteLength)\n      }\n    }\n\n    // Not exposed for now.\n    [kPrefixRange] (range, keyFormat) {\n      if (range.gte !== undefined) {\n        range.gte = this.prefixKey(range.gte, keyFormat)\n      } else if (range.gt !== undefined) {\n        range.gt = this.prefixKey(range.gt, keyFormat)\n      } else {\n        range.gte = this[kPrefix][keyFormat]\n      }\n\n      if (range.lte !== undefined) {\n        range.lte = this.prefixKey(range.lte, keyFormat)\n      } else if (range.lt !== undefined) {\n        range.lt = this.prefixKey(range.lt, keyFormat)\n      } else {\n        range.lte = this[kUpperBound][keyFormat]\n      }\n    }\n\n    get prefix () {\n      return this[kPrefix].utf8\n    }\n\n    get db () {\n      return this[kParent]\n    }\n\n    _open (options, callback) {\n      // The parent db must open itself or be (re)opened by the user because\n      // a sublevel should not initiate state changes on the rest of the db.\n      this[kParent].open({ passive: true }, callback)\n    }\n\n    _put (key, value, options, callback) {\n      this[kParent].put(key, value, options, callback)\n    }\n\n    _get (key, options, callback) {\n      this[kParent].get(key, options, callback)\n    }\n\n    _getMany (keys, options, callback) {\n      this[kParent].getMany(keys, options, callback)\n    }\n\n    _del (key, options, callback) {\n      this[kParent].del(key, options, callback)\n    }\n\n    _batch (operations, options, callback) {\n      this[kParent].batch(operations, options, callback)\n    }\n\n    _clear (options, callback) {\n      // TODO (refactor): move to AbstractLevel\n      this[kPrefixRange](options, options.keyEncoding)\n      this[kParent].clear(options, callback)\n    }\n\n    _iterator (options) {\n      // TODO (refactor): move to AbstractLevel\n      this[kPrefixRange](options, options.keyEncoding)\n      const iterator = this[kParent].iterator(options)\n      const unfix = this[kUnfix].get(this[kPrefix].utf8.length, options.keyEncoding)\n      return new AbstractSublevelIterator(this, options, iterator, unfix)\n    }\n\n    _keys (options) {\n      this[kPrefixRange](options, options.keyEncoding)\n      const iterator = this[kParent].keys(options)\n      const unfix = this[kUnfix].get(this[kPrefix].utf8.length, options.keyEncoding)\n      return new AbstractSublevelKeyIterator(this, options, iterator, unfix)\n    }\n\n    _values (options) {\n      this[kPrefixRange](options, options.keyEncoding)\n      const iterator = this[kParent].values(options)\n      return new AbstractSublevelValueIterator(this, options, iterator)\n    }\n  }\n\n  return { AbstractSublevel }\n}\n\nconst mergeManifests = function (parent, manifest) {\n  return {\n    // Inherit manifest of parent db\n    ...parent.supports,\n\n    // Disable unsupported features\n    createIfMissing: false,\n    errorIfExists: false,\n\n    // Unset additional events because we're not forwarding them\n    events: {},\n\n    // Unset additional methods (like approximateSize) which we can't support here unless\n    // the AbstractSublevel class is overridden by an implementation of `abstract-level`.\n    additionalMethods: {},\n\n    // Inherit manifest of custom AbstractSublevel subclass. Such a class is not\n    // allowed to override encodings.\n    ...manifest,\n\n    encodings: {\n      utf8: supportsEncoding(parent, 'utf8'),\n      buffer: supportsEncoding(parent, 'buffer'),\n      view: supportsEncoding(parent, 'view')\n    }\n  }\n}\n\nconst supportsEncoding = function (parent, encoding) {\n  // Prefer a non-transcoded encoding for optimal performance\n  return parent.supports.encodings[encoding]\n    ? parent.keyEncoding(encoding).name === encoding\n    : false\n}\n\nclass MultiFormat {\n  constructor (key) {\n    this.utf8 = key\n    this.view = textEncoder.encode(key)\n    this.buffer = Buffer ? Buffer.from(this.view.buffer, 0, this.view.byteLength) : {}\n  }\n}\n\nclass Unfixer {\n  constructor () {\n    this.cache = new Map()\n  }\n\n  get (prefixLength, keyFormat) {\n    let unfix = this.cache.get(keyFormat)\n\n    if (unfix === undefined) {\n      if (keyFormat === 'view') {\n        unfix = function (prefixLength, key) {\n          // Avoid Uint8Array#slice() because it copies\n          return key.subarray(prefixLength)\n        }.bind(null, prefixLength)\n      } else {\n        unfix = function (prefixLength, key) {\n          // Avoid Buffer#subarray() because it's slow\n          return key.slice(prefixLength)\n        }.bind(null, prefixLength)\n      }\n\n      this.cache.set(keyFormat, unfix)\n    }\n\n    return unfix\n  }\n}\n\nconst trim = function (str, char) {\n  let start = 0\n  let end = str.length\n\n  while (start < end && str[start] === char) start++\n  while (end > start && str[end - 1] === char) end--\n\n  return str.slice(start, end)\n}\n", "'use strict'\n\nconst { supports } = require('level-supports')\nconst { Transcoder } = require('level-transcoder')\nconst { EventEmitter } = require('events')\nconst { fromCallback } = require('catering')\nconst ModuleError = require('module-error')\nconst { AbstractIterator } = require('./abstract-iterator')\nconst { DefaultKeyIterator, DefaultValueIterator } = require('./lib/default-kv-iterator')\nconst { DeferredIterator, DeferredKeyIterator, DeferredValueIterator } = require('./lib/deferred-iterator')\nconst { DefaultChainedBatch } = require('./lib/default-chained-batch')\nconst { getCallback, getOptions } = require('./lib/common')\nconst rangeOptions = require('./lib/range-options')\n\nconst kPromise = Symbol('promise')\nconst kLanded = Symbol('landed')\nconst kResources = Symbol('resources')\nconst kCloseResources = Symbol('closeResources')\nconst kOperations = Symbol('operations')\nconst kUndefer = Symbol('undefer')\nconst kDeferOpen = Symbol('deferOpen')\nconst kOptions = Symbol('options')\nconst kStatus = Symbol('status')\nconst kDefaultOptions = Symbol('defaultOptions')\nconst kTranscoder = Symbol('transcoder')\nconst kKeyEncoding = Symbol('keyEncoding')\nconst kValueEncoding = Symbol('valueEncoding')\nconst noop = () => {}\n\nclass AbstractLevel extends EventEmitter {\n  constructor (manifest, options) {\n    super()\n\n    if (typeof manifest !== 'object' || manifest === null) {\n      throw new TypeError(\"The first argument 'manifest' must be an object\")\n    }\n\n    options = getOptions(options)\n    const { keyEncoding, valueEncoding, passive, ...forward } = options\n\n    this[kResources] = new Set()\n    this[kOperations] = []\n    this[kDeferOpen] = true\n    this[kOptions] = forward\n    this[kStatus] = 'opening'\n\n    this.supports = supports(manifest, {\n      status: true,\n      promises: true,\n      clear: true,\n      getMany: true,\n      deferredOpen: true,\n\n      // TODO (next major): add seek\n      snapshots: manifest.snapshots !== false,\n      permanence: manifest.permanence !== false,\n\n      // TODO: remove from level-supports because it's always supported\n      keyIterator: true,\n      valueIterator: true,\n      iteratorNextv: true,\n      iteratorAll: true,\n\n      encodings: manifest.encodings || {},\n      events: Object.assign({}, manifest.events, {\n        opening: true,\n        open: true,\n        closing: true,\n        closed: true,\n        put: true,\n        del: true,\n        batch: true,\n        clear: true\n      })\n    })\n\n    this[kTranscoder] = new Transcoder(formats(this))\n    this[kKeyEncoding] = this[kTranscoder].encoding(keyEncoding || 'utf8')\n    this[kValueEncoding] = this[kTranscoder].encoding(valueEncoding || 'utf8')\n\n    // Add custom and transcoder encodings to manifest\n    for (const encoding of this[kTranscoder].encodings()) {\n      if (!this.supports.encodings[encoding.commonName]) {\n        this.supports.encodings[encoding.commonName] = true\n      }\n    }\n\n    this[kDefaultOptions] = {\n      empty: Object.freeze({}),\n      entry: Object.freeze({\n        keyEncoding: this[kKeyEncoding].commonName,\n        valueEncoding: this[kValueEncoding].commonName\n      }),\n      key: Object.freeze({\n        keyEncoding: this[kKeyEncoding].commonName\n      })\n    }\n\n    // Let subclass finish its constructor\n    this.nextTick(() => {\n      if (this[kDeferOpen]) {\n        this.open({ passive: false }, noop)\n      }\n    })\n  }\n\n  get status () {\n    return this[kStatus]\n  }\n\n  keyEncoding (encoding) {\n    return this[kTranscoder].encoding(encoding != null ? encoding : this[kKeyEncoding])\n  }\n\n  valueEncoding (encoding) {\n    return this[kTranscoder].encoding(encoding != null ? encoding : this[kValueEncoding])\n  }\n\n  open (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n\n    options = { ...this[kOptions], ...getOptions(options) }\n\n    options.createIfMissing = options.createIfMissing !== false\n    options.errorIfExists = !!options.errorIfExists\n\n    const maybeOpened = (err) => {\n      if (this[kStatus] === 'closing' || this[kStatus] === 'opening') {\n        // Wait until pending state changes are done\n        this.once(kLanded, err ? () => maybeOpened(err) : maybeOpened)\n      } else if (this[kStatus] !== 'open') {\n        callback(new ModuleError('Database is not open', {\n          code: 'LEVEL_DATABASE_NOT_OPEN',\n          cause: err\n        }))\n      } else {\n        callback()\n      }\n    }\n\n    if (options.passive) {\n      if (this[kStatus] === 'opening') {\n        this.once(kLanded, maybeOpened)\n      } else {\n        this.nextTick(maybeOpened)\n      }\n    } else if (this[kStatus] === 'closed' || this[kDeferOpen]) {\n      this[kDeferOpen] = false\n      this[kStatus] = 'opening'\n      this.emit('opening')\n\n      this._open(options, (err) => {\n        if (err) {\n          this[kStatus] = 'closed'\n\n          // Resources must be safe to close in any db state\n          this[kCloseResources](() => {\n            this.emit(kLanded)\n            maybeOpened(err)\n          })\n\n          this[kUndefer]()\n          return\n        }\n\n        this[kStatus] = 'open'\n        this[kUndefer]()\n        this.emit(kLanded)\n\n        // Only emit public event if pending state changes are done\n        if (this[kStatus] === 'open') this.emit('open')\n\n        // TODO (next major): remove this alias\n        if (this[kStatus] === 'open') this.emit('ready')\n\n        maybeOpened()\n      })\n    } else if (this[kStatus] === 'open') {\n      this.nextTick(maybeOpened)\n    } else {\n      this.once(kLanded, () => this.open(options, callback))\n    }\n\n    return callback[kPromise]\n  }\n\n  _open (options, callback) {\n    this.nextTick(callback)\n  }\n\n  close (callback) {\n    callback = fromCallback(callback, kPromise)\n\n    const maybeClosed = (err) => {\n      if (this[kStatus] === 'opening' || this[kStatus] === 'closing') {\n        // Wait until pending state changes are done\n        this.once(kLanded, err ? maybeClosed(err) : maybeClosed)\n      } else if (this[kStatus] !== 'closed') {\n        callback(new ModuleError('Database is not closed', {\n          code: 'LEVEL_DATABASE_NOT_CLOSED',\n          cause: err\n        }))\n      } else {\n        callback()\n      }\n    }\n\n    if (this[kStatus] === 'open') {\n      this[kStatus] = 'closing'\n      this.emit('closing')\n\n      const cancel = (err) => {\n        this[kStatus] = 'open'\n        this[kUndefer]()\n        this.emit(kLanded)\n        maybeClosed(err)\n      }\n\n      this[kCloseResources](() => {\n        this._close((err) => {\n          if (err) return cancel(err)\n\n          this[kStatus] = 'closed'\n          this[kUndefer]()\n          this.emit(kLanded)\n\n          // Only emit public event if pending state changes are done\n          if (this[kStatus] === 'closed') this.emit('closed')\n\n          maybeClosed()\n        })\n      })\n    } else if (this[kStatus] === 'closed') {\n      this.nextTick(maybeClosed)\n    } else {\n      this.once(kLanded, () => this.close(callback))\n    }\n\n    return callback[kPromise]\n  }\n\n  [kCloseResources] (callback) {\n    if (this[kResources].size === 0) {\n      return this.nextTick(callback)\n    }\n\n    let pending = this[kResources].size\n    let sync = true\n\n    const next = () => {\n      if (--pending === 0) {\n        // We don't have tests for generic resources, so dezalgo\n        if (sync) this.nextTick(callback)\n        else callback()\n      }\n    }\n\n    // In parallel so that all resources know they are closed\n    for (const resource of this[kResources]) {\n      resource.close(next)\n    }\n\n    sync = false\n    this[kResources].clear()\n  }\n\n  _close (callback) {\n    this.nextTick(callback)\n  }\n\n  get (key, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].entry)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.get(key, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const err = this._checkKey(key)\n\n    if (err) {\n      this.nextTick(callback, err)\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options to the underlying store\n    if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      // Avoid spread operator because of https://bugs.chromium.org/p/chromium/issues/detail?id=1204540\n      options = Object.assign({}, options, { keyEncoding: keyFormat, valueEncoding: valueFormat })\n    }\n\n    this._get(this.prefixKey(keyEncoding.encode(key), keyFormat), options, (err, value) => {\n      if (err) {\n        // Normalize not found error for backwards compatibility with abstract-leveldown and level(up)\n        if (err.code === 'LEVEL_NOT_FOUND' || err.notFound || /NotFound/i.test(err)) {\n          if (!err.code) err.code = 'LEVEL_NOT_FOUND' // Preferred way going forward\n          if (!err.notFound) err.notFound = true // Same as level-errors\n          if (!err.status) err.status = 404 // Same as level-errors\n        }\n\n        return callback(err)\n      }\n\n      try {\n        value = valueEncoding.decode(value)\n      } catch (err) {\n        return callback(new ModuleError('Could not decode value', {\n          code: 'LEVEL_DECODE_ERROR',\n          cause: err\n        }))\n      }\n\n      callback(null, value)\n    })\n\n    return callback[kPromise]\n  }\n\n  _get (key, options, callback) {\n    this.nextTick(callback, new Error('NotFound'))\n  }\n\n  getMany (keys, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].entry)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.getMany(keys, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    if (!Array.isArray(keys)) {\n      this.nextTick(callback, new TypeError(\"The first argument 'keys' must be an array\"))\n      return callback[kPromise]\n    }\n\n    if (keys.length === 0) {\n      this.nextTick(callback, null, [])\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options\n    if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      options = Object.assign({}, options, { keyEncoding: keyFormat, valueEncoding: valueFormat })\n    }\n\n    const mappedKeys = new Array(keys.length)\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      const err = this._checkKey(key)\n\n      if (err) {\n        this.nextTick(callback, err)\n        return callback[kPromise]\n      }\n\n      mappedKeys[i] = this.prefixKey(keyEncoding.encode(key), keyFormat)\n    }\n\n    this._getMany(mappedKeys, options, (err, values) => {\n      if (err) return callback(err)\n\n      try {\n        for (let i = 0; i < values.length; i++) {\n          if (values[i] !== undefined) {\n            values[i] = valueEncoding.decode(values[i])\n          }\n        }\n      } catch (err) {\n        return callback(new ModuleError(`Could not decode one or more of ${values.length} value(s)`, {\n          code: 'LEVEL_DECODE_ERROR',\n          cause: err\n        }))\n      }\n\n      callback(null, values)\n    })\n\n    return callback[kPromise]\n  }\n\n  _getMany (keys, options, callback) {\n    this.nextTick(callback, null, new Array(keys.length).fill(undefined))\n  }\n\n  put (key, value, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].entry)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.put(key, value, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const err = this._checkKey(key) || this._checkValue(value)\n\n    if (err) {\n      this.nextTick(callback, err)\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options\n    if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      options = Object.assign({}, options, { keyEncoding: keyFormat, valueEncoding: valueFormat })\n    }\n\n    const mappedKey = this.prefixKey(keyEncoding.encode(key), keyFormat)\n    const mappedValue = valueEncoding.encode(value)\n\n    this._put(mappedKey, mappedValue, options, (err) => {\n      if (err) return callback(err)\n      this.emit('put', key, value)\n      callback()\n    })\n\n    return callback[kPromise]\n  }\n\n  _put (key, value, options, callback) {\n    this.nextTick(callback)\n  }\n\n  del (key, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].key)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.del(key, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const err = this._checkKey(key)\n\n    if (err) {\n      this.nextTick(callback, err)\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const keyFormat = keyEncoding.format\n\n    // Forward encoding options\n    if (options.keyEncoding !== keyFormat) {\n      options = Object.assign({}, options, { keyEncoding: keyFormat })\n    }\n\n    this._del(this.prefixKey(keyEncoding.encode(key), keyFormat), options, (err) => {\n      if (err) return callback(err)\n      this.emit('del', key)\n      callback()\n    })\n\n    return callback[kPromise]\n  }\n\n  _del (key, options, callback) {\n    this.nextTick(callback)\n  }\n\n  batch (operations, options, callback) {\n    if (!arguments.length) {\n      if (this[kStatus] === 'opening') return new DefaultChainedBatch(this)\n      if (this[kStatus] !== 'open') {\n        throw new ModuleError('Database is not open', {\n          code: 'LEVEL_DATABASE_NOT_OPEN'\n        })\n      }\n      return this._chainedBatch()\n    }\n\n    if (typeof operations === 'function') callback = operations\n    else callback = getCallback(options, callback)\n\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].empty)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.batch(operations, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    if (!Array.isArray(operations)) {\n      this.nextTick(callback, new TypeError(\"The first argument 'operations' must be an array\"))\n      return callback[kPromise]\n    }\n\n    if (operations.length === 0) {\n      this.nextTick(callback)\n      return callback[kPromise]\n    }\n\n    const mapped = new Array(operations.length)\n    const { keyEncoding: ke, valueEncoding: ve, ...forward } = options\n\n    for (let i = 0; i < operations.length; i++) {\n      if (typeof operations[i] !== 'object' || operations[i] === null) {\n        this.nextTick(callback, new TypeError('A batch operation must be an object'))\n        return callback[kPromise]\n      }\n\n      const op = Object.assign({}, operations[i])\n\n      if (op.type !== 'put' && op.type !== 'del') {\n        this.nextTick(callback, new TypeError(\"A batch operation must have a type property that is 'put' or 'del'\"))\n        return callback[kPromise]\n      }\n\n      const err = this._checkKey(op.key)\n\n      if (err) {\n        this.nextTick(callback, err)\n        return callback[kPromise]\n      }\n\n      const db = op.sublevel != null ? op.sublevel : this\n      const keyEncoding = db.keyEncoding(op.keyEncoding || ke)\n      const keyFormat = keyEncoding.format\n\n      op.key = db.prefixKey(keyEncoding.encode(op.key), keyFormat)\n      op.keyEncoding = keyFormat\n\n      if (op.type === 'put') {\n        const valueErr = this._checkValue(op.value)\n\n        if (valueErr) {\n          this.nextTick(callback, valueErr)\n          return callback[kPromise]\n        }\n\n        const valueEncoding = db.valueEncoding(op.valueEncoding || ve)\n\n        op.value = valueEncoding.encode(op.value)\n        op.valueEncoding = valueEncoding.format\n      }\n\n      // Prevent double prefixing\n      if (db !== this) {\n        op.sublevel = null\n      }\n\n      mapped[i] = op\n    }\n\n    this._batch(mapped, forward, (err) => {\n      if (err) return callback(err)\n      this.emit('batch', operations)\n      callback()\n    })\n\n    return callback[kPromise]\n  }\n\n  _batch (operations, options, callback) {\n    this.nextTick(callback)\n  }\n\n  sublevel (name, options) {\n    return this._sublevel(name, AbstractSublevel.defaults(options))\n  }\n\n  _sublevel (name, options) {\n    return new AbstractSublevel(this, name, options)\n  }\n\n  prefixKey (key, keyFormat) {\n    return key\n  }\n\n  clear (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].empty)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.clear(options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const original = options\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n    options.keyEncoding = keyEncoding.format\n\n    if (options.limit === 0) {\n      this.nextTick(callback)\n    } else {\n      this._clear(options, (err) => {\n        if (err) return callback(err)\n        this.emit('clear', original)\n        callback()\n      })\n    }\n\n    return callback[kPromise]\n  }\n\n  _clear (options, callback) {\n    this.nextTick(callback)\n  }\n\n  iterator (options) {\n    const keyEncoding = this.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options && options.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n    options.keys = options.keys !== false\n    options.values = options.values !== false\n\n    // We need the original encoding options in AbstractIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this[kStatus] === 'opening') {\n      return new DeferredIterator(this, options)\n    } else if (this[kStatus] !== 'open') {\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n\n    return this._iterator(options)\n  }\n\n  _iterator (options) {\n    return new AbstractIterator(this, options)\n  }\n\n  keys (options) {\n    // Also include valueEncoding (though unused) because we may fallback to _iterator()\n    const keyEncoding = this.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options && options.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n\n    // We need the original encoding options in AbstractKeyIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this[kStatus] === 'opening') {\n      return new DeferredKeyIterator(this, options)\n    } else if (this[kStatus] !== 'open') {\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n\n    return this._keys(options)\n  }\n\n  _keys (options) {\n    return new DefaultKeyIterator(this, options)\n  }\n\n  values (options) {\n    const keyEncoding = this.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options && options.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n\n    // We need the original encoding options in AbstractValueIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this[kStatus] === 'opening') {\n      return new DeferredValueIterator(this, options)\n    } else if (this[kStatus] !== 'open') {\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n\n    return this._values(options)\n  }\n\n  _values (options) {\n    return new DefaultValueIterator(this, options)\n  }\n\n  defer (fn) {\n    if (typeof fn !== 'function') {\n      throw new TypeError('The first argument must be a function')\n    }\n\n    this[kOperations].push(fn)\n  }\n\n  [kUndefer] () {\n    if (this[kOperations].length === 0) {\n      return\n    }\n\n    const operations = this[kOperations]\n    this[kOperations] = []\n\n    for (const op of operations) {\n      op()\n    }\n  }\n\n  // TODO: docs and types\n  attachResource (resource) {\n    if (typeof resource !== 'object' || resource === null ||\n      typeof resource.close !== 'function') {\n      throw new TypeError('The first argument must be a resource object')\n    }\n\n    this[kResources].add(resource)\n  }\n\n  // TODO: docs and types\n  detachResource (resource) {\n    this[kResources].delete(resource)\n  }\n\n  _chainedBatch () {\n    return new DefaultChainedBatch(this)\n  }\n\n  _checkKey (key) {\n    if (key === null || key === undefined) {\n      return new ModuleError('Key cannot be null or undefined', {\n        code: 'LEVEL_INVALID_KEY'\n      })\n    }\n  }\n\n  _checkValue (value) {\n    if (value === null || value === undefined) {\n      return new ModuleError('Value cannot be null or undefined', {\n        code: 'LEVEL_INVALID_VALUE'\n      })\n    }\n  }\n}\n\n// Expose browser-compatible nextTick for dependents\n// TODO: after we drop node 10, also use queueMicrotask in node\nAbstractLevel.prototype.nextTick = require('./lib/next-tick')\n\nconst { AbstractSublevel } = require('./lib/abstract-sublevel')({ AbstractLevel })\n\nexports.AbstractLevel = AbstractLevel\nexports.AbstractSublevel = AbstractSublevel\n\nconst maybeError = function (db, callback) {\n  if (db[kStatus] !== 'open') {\n    db.nextTick(callback, new ModuleError('Database is not open', {\n      code: 'LEVEL_DATABASE_NOT_OPEN'\n    }))\n    return true\n  }\n\n  return false\n}\n\nconst formats = function (db) {\n  return Object.keys(db.supports.encodings)\n    .filter(k => !!db.supports.encodings[k])\n}\n", "'use strict'\n\nexports.AbstractLevel = require('./abstract-level').AbstractLevel\nexports.AbstractSublevel = require('./abstract-level').AbstractSublevel\nexports.AbstractIterator = require('./abstract-iterator').AbstractIterator\nexports.AbstractKeyIterator = require('./abstract-iterator').AbstractKeyIterator\nexports.AbstractValueIterator = require('./abstract-iterator').AbstractValueIterator\nexports.AbstractChainedBatch = require('./abstract-chained-batch').AbstractChainedBatch\n", "/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nmodule.exports = runParallelLimit\n\nconst queueMicrotask = require('queue-microtask')\n\nfunction runParallelLimit (tasks, limit, cb) {\n  if (typeof limit !== 'number') throw new Error('second argument must be a Number')\n  let results, len, pending, keys, isErrored\n  let isSync = true\n  let next\n\n  if (Array.isArray(tasks)) {\n    results = []\n    pending = len = tasks.length\n  } else {\n    keys = Object.keys(tasks)\n    results = {}\n    pending = len = keys.length\n  }\n\n  function done (err) {\n    function end () {\n      if (cb) cb(err, results)\n      cb = null\n    }\n    if (isSync) queueMicrotask(end)\n    else end()\n  }\n\n  function each (i, err, result) {\n    results[i] = result\n    if (err) isErrored = true\n    if (--pending === 0 || err) {\n      done(err)\n    } else if (!isErrored && next < len) {\n      let key\n      if (keys) {\n        key = keys[next]\n        next += 1\n        tasks[key](function (err, result) { each(key, err, result) })\n      } else {\n        key = next\n        next += 1\n        tasks[key](function (err, result) { each(key, err, result) })\n      }\n    }\n  }\n\n  next = limit\n  if (!pending) {\n    // empty\n    done(null)\n  } else if (keys) {\n    // object\n    keys.some(function (key, i) {\n      tasks[key](function (err, result) { each(key, err, result) })\n      if (i === limit - 1) return true // early return\n      return false\n    })\n  } else {\n    // array\n    tasks.some(function (task, i) {\n      task(function (err, result) { each(i, err, result) })\n      if (i === limit - 1) return true // early return\n      return false\n    })\n  }\n\n  isSync = false\n}\n", "/* global IDBKeyRange */\n\n'use strict'\n\nmodule.exports = function createKeyRange (options) {\n  const lower = options.gte !== undefined ? options.gte : options.gt !== undefined ? options.gt : undefined\n  const upper = options.lte !== undefined ? options.lte : options.lt !== undefined ? options.lt : undefined\n  const lowerExclusive = options.gte === undefined\n  const upperExclusive = options.lte === undefined\n\n  if (lower !== undefined && upper !== undefined) {\n    return IDBKeyRange.bound(lower, upper, lowerExclusive, upperExclusive)\n  } else if (lower !== undefined) {\n    return IDBKeyRange.lowerBound(lower, lowerExclusive)\n  } else if (upper !== undefined) {\n    return IDBKeyRange.upperBound(upper, upperExclusive)\n  } else {\n    return null\n  }\n}\n", "'use strict'\n\nconst textEncoder = new TextEncoder()\n\nmodule.exports = function (data) {\n  if (data instanceof Uint8Array) {\n    return data\n  } else if (data instanceof ArrayBuffer) {\n    return new Uint8Array(data)\n  } else {\n    // Non-binary data stored with an old version (level-js < 5.0.0)\n    return textEncoder.encode(data)\n  }\n}\n", "'use strict'\n\nconst { AbstractIterator } = require('abstract-level')\nconst createKeyRange = require('./util/key-range')\nconst deserialize = require('./util/deserialize')\n\nconst kCache = Symbol('cache')\nconst kFinished = Symbol('finished')\nconst kOptions = Symbol('options')\nconst kCurrentOptions = Symbol('currentOptions')\nconst kPosition = Symbol('position')\nconst kLocation = Symbol('location')\nconst kFirst = Symbol('first')\nconst emptyOptions = {}\n\nclass Iterator extends AbstractIterator {\n  constructor (db, location, options) {\n    super(db, options)\n\n    this[kCache] = []\n    this[kFinished] = this.limit === 0\n    this[kOptions] = options\n    this[kCurrentOptions] = { ...options }\n    this[kPosition] = undefined\n    this[kLocation] = location\n    this[kFirst] = true\n  }\n\n  // Note: if called by _all() then size can be Infinity. This is an internal\n  // detail; by design AbstractIterator.nextv() does not support Infinity.\n  _nextv (size, options, callback) {\n    this[kFirst] = false\n\n    if (this[kFinished]) {\n      return this.nextTick(callback, null, [])\n    } else if (this[kCache].length > 0) {\n      // TODO: mixing next and nextv is not covered by test suite\n      size = Math.min(size, this[kCache].length)\n      return this.nextTick(callback, null, this[kCache].splice(0, size))\n    }\n\n    // Adjust range by what we already visited\n    if (this[kPosition] !== undefined) {\n      if (this[kOptions].reverse) {\n        this[kCurrentOptions].lt = this[kPosition]\n        this[kCurrentOptions].lte = undefined\n      } else {\n        this[kCurrentOptions].gt = this[kPosition]\n        this[kCurrentOptions].gte = undefined\n      }\n    }\n\n    let keyRange\n\n    try {\n      keyRange = createKeyRange(this[kCurrentOptions])\n    } catch (_) {\n      // The lower key is greater than the upper key.\n      // IndexedDB throws an error, but we'll just return 0 results.\n      this[kFinished] = true\n      return this.nextTick(callback, null, [])\n    }\n\n    const transaction = this.db.db.transaction([this[kLocation]], 'readonly')\n    const store = transaction.objectStore(this[kLocation])\n    const entries = []\n\n    if (!this[kOptions].reverse) {\n      let keys\n      let values\n\n      const complete = () => {\n        // Wait for both requests to complete\n        if (keys === undefined || values === undefined) return\n\n        const length = Math.max(keys.length, values.length)\n\n        if (length === 0 || size === Infinity) {\n          this[kFinished] = true\n        } else {\n          this[kPosition] = keys[length - 1]\n        }\n\n        // Resize\n        entries.length = length\n\n        // Merge keys and values\n        for (let i = 0; i < length; i++) {\n          const key = keys[i]\n          const value = values[i]\n\n          entries[i] = [\n            this[kOptions].keys && key !== undefined ? deserialize(key) : undefined,\n            this[kOptions].values && value !== undefined ? deserialize(value) : undefined\n          ]\n        }\n\n        maybeCommit(transaction)\n      }\n\n      // If keys were not requested and size is Infinity, we don't have to keep\n      // track of position and can thus skip getting keys.\n      if (this[kOptions].keys || size < Infinity) {\n        store.getAllKeys(keyRange, size < Infinity ? size : undefined).onsuccess = (ev) => {\n          keys = ev.target.result\n          complete()\n        }\n      } else {\n        keys = []\n        this.nextTick(complete)\n      }\n\n      if (this[kOptions].values) {\n        store.getAll(keyRange, size < Infinity ? size : undefined).onsuccess = (ev) => {\n          values = ev.target.result\n          complete()\n        }\n      } else {\n        values = []\n        this.nextTick(complete)\n      }\n    } else {\n      // Can't use getAll() in reverse, so use a slower cursor that yields one item at a time\n      // TODO: test if all target browsers support openKeyCursor\n      const method = !this[kOptions].values && store.openKeyCursor ? 'openKeyCursor' : 'openCursor'\n\n      store[method](keyRange, 'prev').onsuccess = (ev) => {\n        const cursor = ev.target.result\n\n        if (cursor) {\n          const { key, value } = cursor\n          this[kPosition] = key\n\n          entries.push([\n            this[kOptions].keys && key !== undefined ? deserialize(key) : undefined,\n            this[kOptions].values && value !== undefined ? deserialize(value) : undefined\n          ])\n\n          if (entries.length < size) {\n            cursor.continue()\n          } else {\n            maybeCommit(transaction)\n          }\n        } else {\n          this[kFinished] = true\n        }\n      }\n    }\n\n    // If an error occurs (on the request), the transaction will abort.\n    transaction.onabort = () => {\n      callback(transaction.error || new Error('aborted by user'))\n      callback = null\n    }\n\n    transaction.oncomplete = () => {\n      callback(null, entries)\n      callback = null\n    }\n  }\n\n  _next (callback) {\n    if (this[kCache].length > 0) {\n      const [key, value] = this[kCache].shift()\n      this.nextTick(callback, null, key, value)\n    } else if (this[kFinished]) {\n      this.nextTick(callback)\n    } else {\n      let size = Math.min(100, this.limit - this.count)\n\n      if (this[kFirst]) {\n        // It's common to only want one entry initially or after a seek()\n        this[kFirst] = false\n        size = 1\n      }\n\n      this._nextv(size, emptyOptions, (err, entries) => {\n        if (err) return callback(err)\n        this[kCache] = entries\n        this._next(callback)\n      })\n    }\n  }\n\n  _all (options, callback) {\n    this[kFirst] = false\n\n    // TODO: mixing next and all is not covered by test suite\n    const cache = this[kCache].splice(0, this[kCache].length)\n    const size = this.limit - this.count - cache.length\n\n    if (size <= 0) {\n      return this.nextTick(callback, null, cache)\n    }\n\n    this._nextv(size, emptyOptions, (err, entries) => {\n      if (err) return callback(err)\n      if (cache.length > 0) entries = cache.concat(entries)\n      callback(null, entries)\n    })\n  }\n\n  _seek (target, options) {\n    this[kFirst] = true\n    this[kCache] = []\n    this[kFinished] = false\n    this[kPosition] = undefined\n\n    // TODO: not covered by test suite\n    this[kCurrentOptions] = { ...this[kOptions] }\n\n    let keyRange\n\n    try {\n      keyRange = createKeyRange(this[kOptions])\n    } catch (_) {\n      this[kFinished] = true\n      return\n    }\n\n    if (keyRange !== null && !keyRange.includes(target)) {\n      this[kFinished] = true\n    } else if (this[kOptions].reverse) {\n      this[kCurrentOptions].lte = target\n    } else {\n      this[kCurrentOptions].gte = target\n    }\n  }\n}\n\nexports.Iterator = Iterator\n\nfunction maybeCommit (transaction) {\n  // Commit (meaning close) now instead of waiting for auto-commit\n  if (typeof transaction.commit === 'function') {\n    transaction.commit()\n  }\n}\n", "'use strict'\n\nmodule.exports = function clear (db, location, keyRange, options, callback) {\n  if (options.limit === 0) return db.nextTick(callback)\n\n  const transaction = db.db.transaction([location], 'readwrite')\n  const store = transaction.objectStore(location)\n  let count = 0\n\n  transaction.oncomplete = function () {\n    callback()\n  }\n\n  transaction.onabort = function () {\n    callback(transaction.error || new Error('aborted by user'))\n  }\n\n  // A key cursor is faster (skips reading values) but not supported by IE\n  // TODO: we no longer support IE. Test others\n  const method = store.openKeyCursor ? 'openKeyCursor' : 'openCursor'\n  const direction = options.reverse ? 'prev' : 'next'\n\n  store[method](keyRange, direction).onsuccess = function (ev) {\n    const cursor = ev.target.result\n\n    if (cursor) {\n      // Wait for a request to complete before continuing, saving CPU.\n      store.delete(cursor.key).onsuccess = function () {\n        if (options.limit <= 0 || ++count < options.limit) {\n          cursor.continue()\n        }\n      }\n    }\n  }\n}\n", "/* global indexedDB */\n\n'use strict'\n\nconst { AbstractLevel } = require('abstract-level')\nconst ModuleError = require('module-error')\nconst parallel = require('run-parallel-limit')\nconst { fromCallback } = require('catering')\nconst { Iterator } = require('./iterator')\nconst deserialize = require('./util/deserialize')\nconst clear = require('./util/clear')\nconst createKeyRange = require('./util/key-range')\n\n// Keep as-is for compatibility with existing level-js databases\nconst DEFAULT_PREFIX = 'level-js-'\n\nconst kIDB = Symbol('idb')\nconst kNamePrefix = Symbol('namePrefix')\nconst kLocation = Symbol('location')\nconst kVersion = Symbol('version')\nconst kStore = Symbol('store')\nconst kOnComplete = Symbol('onComplete')\nconst kPromise = Symbol('promise')\n\nclass BrowserLevel extends AbstractLevel {\n  constructor (location, options, _) {\n    // To help migrating to abstract-level\n    if (typeof options === 'function' || typeof _ === 'function') {\n      throw new ModuleError('The levelup-style callback argument has been removed', {\n        code: 'LEVEL_LEGACY'\n      })\n    }\n\n    const { prefix, version, ...forward } = options || {}\n\n    super({\n      encodings: { view: true },\n      snapshots: false,\n      createIfMissing: false,\n      errorIfExists: false,\n      seek: true\n    }, forward)\n\n    if (typeof location !== 'string') {\n      throw new Error('constructor requires a location string argument')\n    }\n\n    // TODO (next major): remove default prefix\n    this[kLocation] = location\n    this[kNamePrefix] = prefix == null ? DEFAULT_PREFIX : prefix\n    this[kVersion] = parseInt(version || 1, 10)\n    this[kIDB] = null\n  }\n\n  get location () {\n    return this[kLocation]\n  }\n\n  get namePrefix () {\n    return this[kNamePrefix]\n  }\n\n  get version () {\n    return this[kVersion]\n  }\n\n  // Exposed for backwards compat and unit tests\n  get db () {\n    return this[kIDB]\n  }\n\n  get type () {\n    return 'browser-level'\n  }\n\n  _open (options, callback) {\n    const req = indexedDB.open(this[kNamePrefix] + this[kLocation], this[kVersion])\n\n    req.onerror = function () {\n      callback(req.error || new Error('unknown error'))\n    }\n\n    req.onsuccess = () => {\n      this[kIDB] = req.result\n      callback()\n    }\n\n    req.onupgradeneeded = (ev) => {\n      const db = ev.target.result\n\n      if (!db.objectStoreNames.contains(this[kLocation])) {\n        db.createObjectStore(this[kLocation])\n      }\n    }\n  }\n\n  [kStore] (mode) {\n    const transaction = this[kIDB].transaction([this[kLocation]], mode)\n    return transaction.objectStore(this[kLocation])\n  }\n\n  [kOnComplete] (request, callback) {\n    const transaction = request.transaction\n\n    // Take advantage of the fact that a non-canceled request error aborts\n    // the transaction. I.e. no need to listen for \"request.onerror\".\n    transaction.onabort = function () {\n      callback(transaction.error || new Error('aborted by user'))\n    }\n\n    transaction.oncomplete = function () {\n      callback(null, request.result)\n    }\n  }\n\n  _get (key, options, callback) {\n    const store = this[kStore]('readonly')\n    let req\n\n    try {\n      req = store.get(key)\n    } catch (err) {\n      return this.nextTick(callback, err)\n    }\n\n    this[kOnComplete](req, function (err, value) {\n      if (err) return callback(err)\n\n      if (value === undefined) {\n        return callback(new ModuleError('Entry not found', {\n          code: 'LEVEL_NOT_FOUND'\n        }))\n      }\n\n      callback(null, deserialize(value))\n    })\n  }\n\n  _getMany (keys, options, callback) {\n    const store = this[kStore]('readonly')\n    const tasks = keys.map((key) => (next) => {\n      let request\n\n      try {\n        request = store.get(key)\n      } catch (err) {\n        return next(err)\n      }\n\n      request.onsuccess = () => {\n        const value = request.result\n        next(null, value === undefined ? value : deserialize(value))\n      }\n\n      request.onerror = (ev) => {\n        ev.stopPropagation()\n        next(request.error)\n      }\n    })\n\n    parallel(tasks, 16, callback)\n  }\n\n  _del (key, options, callback) {\n    const store = this[kStore]('readwrite')\n    let req\n\n    try {\n      req = store.delete(key)\n    } catch (err) {\n      return this.nextTick(callback, err)\n    }\n\n    this[kOnComplete](req, callback)\n  }\n\n  _put (key, value, options, callback) {\n    const store = this[kStore]('readwrite')\n    let req\n\n    try {\n      // Will throw a DataError or DataCloneError if the environment\n      // does not support serializing the key or value respectively.\n      req = store.put(value, key)\n    } catch (err) {\n      return this.nextTick(callback, err)\n    }\n\n    this[kOnComplete](req, callback)\n  }\n\n  // TODO: implement key and value iterators\n  _iterator (options) {\n    return new Iterator(this, this[kLocation], options)\n  }\n\n  _batch (operations, options, callback) {\n    const store = this[kStore]('readwrite')\n    const transaction = store.transaction\n    let index = 0\n    let error\n\n    transaction.onabort = function () {\n      callback(error || transaction.error || new Error('aborted by user'))\n    }\n\n    transaction.oncomplete = function () {\n      callback()\n    }\n\n    // Wait for a request to complete before making the next, saving CPU.\n    function loop () {\n      const op = operations[index++]\n      const key = op.key\n\n      let req\n\n      try {\n        req = op.type === 'del' ? store.delete(key) : store.put(op.value, key)\n      } catch (err) {\n        error = err\n        transaction.abort()\n        return\n      }\n\n      if (index < operations.length) {\n        req.onsuccess = loop\n      } else if (typeof transaction.commit === 'function') {\n        // Commit now instead of waiting for auto-commit\n        transaction.commit()\n      }\n    }\n\n    loop()\n  }\n\n  _clear (options, callback) {\n    let keyRange\n    let req\n\n    try {\n      keyRange = createKeyRange(options)\n    } catch (e) {\n      // The lower key is greater than the upper key.\n      // IndexedDB throws an error, but we'll just do nothing.\n      return this.nextTick(callback)\n    }\n\n    if (options.limit >= 0) {\n      // IDBObjectStore#delete(range) doesn't have such an option.\n      // Fall back to cursor-based implementation.\n      return clear(this, this[kLocation], keyRange, options, callback)\n    }\n\n    try {\n      const store = this[kStore]('readwrite')\n      req = keyRange ? store.delete(keyRange) : store.clear()\n    } catch (err) {\n      return this.nextTick(callback, err)\n    }\n\n    this[kOnComplete](req, callback)\n  }\n\n  _close (callback) {\n    this[kIDB].close()\n    this.nextTick(callback)\n  }\n}\n\nBrowserLevel.destroy = function (location, prefix, callback) {\n  if (typeof prefix === 'function') {\n    callback = prefix\n    prefix = DEFAULT_PREFIX\n  }\n\n  callback = fromCallback(callback, kPromise)\n  const request = indexedDB.deleteDatabase(prefix + location)\n\n  request.onsuccess = function () {\n    callback()\n  }\n\n  request.onerror = function (err) {\n    callback(err)\n  }\n\n  return callback[kPromise]\n}\n\nexports.BrowserLevel = BrowserLevel\n", "exports.Level = require('browser-level').BrowserLevel\n", "'use strict'\n\nmodule.exports = function getTime () {\n  return Date.now()\n}\n", "'use strict'\n\nconst getTime = require('./time')\n\nclass Retimer {\n  constructor (callback, timeout, args) {\n    const that = this\n\n    this._started = getTime()\n    this._rescheduled = 0\n    this._scheduled = timeout\n    this._args = args\n    this._triggered = false\n\n    this._timerWrapper = () => {\n      if (that._rescheduled > 0) {\n        that._scheduled = that._rescheduled - (getTime() - that._started)\n        that._schedule(that._scheduled)\n      } else {\n        that._triggered = true\n        callback.apply(null, that._args)\n      }\n    }\n\n    this._timer = setTimeout(this._timerWrapper, timeout)\n  }\n\n  reschedule (timeout) {\n    if (!timeout) {\n      timeout = this._scheduled\n    }\n    const now = getTime()\n    if ((now + timeout) - (this._started + this._scheduled) < 0) {\n      clearTimeout(this._timer)\n      this._schedule(timeout)\n    } else if (!this._triggered) {\n      this._started = now\n      this._rescheduled = timeout\n    } else {\n      this._schedule(timeout)\n    }\n  }\n\n  _schedule (timeout) {\n    this._triggered = false\n    this._started = getTime()\n    this._rescheduled = 0\n    this._scheduled = timeout\n    this._timer = setTimeout(this._timerWrapper, timeout)\n  }\n\n  clear () {\n    clearTimeout(this._timer)\n  }\n}\n\nfunction retimer () {\n  if (typeof arguments[0] !== 'function') {\n    throw new Error('callback needed')\n  }\n\n  if (typeof arguments[1] !== 'number') {\n    throw new Error('timeout needed')\n  }\n\n  let args\n\n  if (arguments.length > 0) {\n    args = new Array(arguments.length - 2)\n\n    /* eslint-disable no-var */\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i + 2]\n    }\n  }\n\n  return new Retimer(arguments[0], arguments[1], args)\n}\n\nmodule.exports = retimer\n", "'use strict'\n\nconst { AbortController } = globalThis\n\n// @ts-expect-error no types\nconst retimer = require('retimer')\n\nclass TimeoutController extends AbortController {\n  /**\n   * @constructor\n   * @param {number} ms milliseconds\n   */\n  constructor (ms) {\n    super()\n    this._ms = ms\n    this._timer = retimer(() => this.abort(), ms)\n    // Patch for safari not supported extending built in classes\n    Object.setPrototypeOf(this, TimeoutController.prototype)\n  }\n\n  /**\n   * Aborts the controller and clears the timer\n   */\n  abort () {\n    this._timer.clear()\n    return super.abort()\n  }\n\n  /**\n   * Clears the timer\n   */\n  clear () {\n    this._timer.clear()\n  }\n\n  /**\n   * Resets the timer\n   */\n  reset () {\n    this._timer.clear()\n    this._timer = retimer(() => this.abort(), this._ms)\n  }\n}\n\nmodule.exports = {\n  TimeoutController\n}\n", "/**\n * Takes an array of AbortSignals and returns a single signal.\n * If any signals are aborted, the returned signal will be aborted.\n * @param {Array<AbortSignal>} signals\n * @returns {AbortSignal}\n */\nfunction anySignal (signals) {\n  const controller = new globalThis.AbortController()\n\n  function onAbort () {\n    controller.abort()\n\n    for (const signal of signals) {\n      if (!signal || !signal.removeEventListener) continue\n      signal.removeEventListener('abort', onAbort)\n    }\n  }\n\n  for (const signal of signals) {\n    if (!signal || !signal.addEventListener) continue\n    if (signal.aborted) {\n      onAbort()\n      break\n    }\n    signal.addEventListener('abort', onAbort)\n  }\n\n  return controller.signal\n}\n\nmodule.exports = anySignal\nmodule.exports.anySignal = anySignal\n", "'use strict'\n\n/**\n * Returns the last item of an (async) iterable, unless empty, in which case\n * return `undefined`.\n *\n * @template T\n * @param {AsyncIterable<T>|Iterable<T>} source\n */\nconst last = async (source) => {\n  let res\n\n  for await (const entry of source) {\n    res = entry\n  }\n\n  return res\n}\n\nmodule.exports = last\n", "'use strict'\n\nconst isReactNative =\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative'\n\nfunction getDefaultBase () {\n  if (isReactNative) {\n    return 'http://localhost'\n  }\n  // in some environments i.e. cloudflare workers location is not available\n  if (!self.location) {\n    return ''\n  }\n\n  return self.location.protocol + '//' + self.location.host\n}\n\nconst URL = self.URL\nconst defaultBase = getDefaultBase()\n\nclass URLWithLegacySupport {\n  constructor (url = '', base = defaultBase) {\n    this.super = new URL(url, base)\n    this.path = this.pathname + this.search\n    this.auth =\n            this.username && this.password\n              ? this.username + ':' + this.password\n              : null\n\n    this.query =\n            this.search && this.search.startsWith('?')\n              ? this.search.slice(1)\n              : null\n  }\n\n  get hash () {\n    return this.super.hash\n  }\n\n  get host () {\n    return this.super.host\n  }\n\n  get hostname () {\n    return this.super.hostname\n  }\n\n  get href () {\n    return this.super.href\n  }\n\n  get origin () {\n    return this.super.origin\n  }\n\n  get password () {\n    return this.super.password\n  }\n\n  get pathname () {\n    return this.super.pathname\n  }\n\n  get port () {\n    return this.super.port\n  }\n\n  get protocol () {\n    return this.super.protocol\n  }\n\n  get search () {\n    return this.super.search\n  }\n\n  get searchParams () {\n    return this.super.searchParams\n  }\n\n  get username () {\n    return this.super.username\n  }\n\n  set hash (hash) {\n    this.super.hash = hash\n  }\n\n  set host (host) {\n    this.super.host = host\n  }\n\n  set hostname (hostname) {\n    this.super.hostname = hostname\n  }\n\n  set href (href) {\n    this.super.href = href\n  }\n\n  set password (password) {\n    this.super.password = password\n  }\n\n  set pathname (pathname) {\n    this.super.pathname = pathname\n  }\n\n  set port (port) {\n    this.super.port = port\n  }\n\n  set protocol (protocol) {\n    this.super.protocol = protocol\n  }\n\n  set search (search) {\n    this.super.search = search\n  }\n\n  set username (username) {\n    this.super.username = username\n  }\n\n  /**\n   * @param {any} o\n   */\n  static createObjectURL (o) {\n    return URL.createObjectURL(o)\n  }\n\n  /**\n   * @param {string} o\n   */\n  static revokeObjectURL (o) {\n    URL.revokeObjectURL(o)\n  }\n\n  toJSON () {\n    return this.super.toJSON()\n  }\n\n  toString () {\n    return this.super.toString()\n  }\n\n  format () {\n    return this.toString()\n  }\n}\n\n/**\n * @param {string | import('url').UrlObject} obj\n */\nfunction format (obj) {\n  if (typeof obj === 'string') {\n    const url = new URL(obj)\n\n    return url.toString()\n  }\n\n  if (!(obj instanceof URL)) {\n    const userPass =\n            // @ts-ignore its not supported in node but we normalise\n            obj.username && obj.password\n              // @ts-ignore its not supported in node but we normalise\n              ? `${obj.username}:${obj.password}@`\n              : ''\n    const auth = obj.auth ? obj.auth + '@' : ''\n    const port = obj.port ? ':' + obj.port : ''\n    const protocol = obj.protocol ? obj.protocol + '//' : ''\n    const host = obj.host || ''\n    const hostname = obj.hostname || ''\n    const search = obj.search || (obj.query ? '?' + obj.query : '')\n    const hash = obj.hash || ''\n    const pathname = obj.pathname || ''\n    // @ts-ignore - path is not supported in node but we normalise\n    const path = obj.path || pathname + search\n\n    return `${protocol}${userPass || auth}${\n            host || hostname + port\n        }${path}${hash}`\n  }\n}\n\nmodule.exports = {\n  URLWithLegacySupport,\n  URLSearchParams: self.URLSearchParams,\n  defaultBase,\n  format\n}\n", "'use strict'\n\nconst { URLWithLegacySupport, format } = require('./url')\n\n/**\n * @param {string | undefined} url\n * @param {any} [location]\n * @param {any} [protocolMap]\n * @param {any} [defaultProtocol]\n */\nmodule.exports = (url, location = {}, protocolMap = {}, defaultProtocol) => {\n  let protocol = location.protocol\n    ? location.protocol.replace(':', '')\n    : 'http'\n\n  // Check protocol map\n  protocol = (protocolMap[protocol] || defaultProtocol || protocol) + ':'\n  let urlParsed\n\n  try {\n    urlParsed = new URLWithLegacySupport(url)\n  } catch (err) {\n    urlParsed = {}\n  }\n\n  const base = Object.assign({}, location, {\n    protocol: protocol || urlParsed.protocol,\n    host: location.host || urlParsed.host\n  })\n\n  return new URLWithLegacySupport(url, format(base)).toString()\n}\n", "'use strict'\n\nconst {\n  URLWithLegacySupport,\n  format,\n  URLSearchParams,\n  defaultBase\n} = require('./src/url')\nconst relative = require('./src/relative')\n\nmodule.exports = {\n  URL: URLWithLegacySupport,\n  URLSearchParams,\n  format,\n  relative,\n  defaultBase\n}\n", "'use strict'\n\n/**\n * @template T\n * @typedef {Object} Peek\n * @property {() => IteratorResult<T, void>} peek\n */\n\n/**\n * @template T\n * @typedef {Object} AsyncPeek\n * @property {() => Promise<IteratorResult<T, void>>} peek\n */\n\n/**\n * @template T\n * @typedef {Object} Push\n * @property {(value:T) => void} push\n */\n\n/**\n * @template T\n * @typedef {Iterable<T> & Peek<T> & Push<T> & Iterator<T>} Peekable<T>\n */\n\n/**\n * @template T\n * @typedef {AsyncIterable<T> & AsyncPeek<T> & Push<T> & AsyncIterator<T>} AsyncPeekable<T>\n */\n\n/**\n * @template {Iterable<any> | AsyncIterable<any>} I\n * @param {I} iterable\n * @returns {I extends Iterable<infer T>\n *  ? Peekable<T>\n *  : I extends AsyncIterable<infer T>\n *  ? AsyncPeekable<T>\n *  : never\n * }\n */\nfunction peekableIterator (iterable) {\n  // @ts-ignore\n  const [iterator, symbol] = iterable[Symbol.asyncIterator]\n    // @ts-ignore\n    ? [iterable[Symbol.asyncIterator](), Symbol.asyncIterator]\n    // @ts-ignore\n    : [iterable[Symbol.iterator](), Symbol.iterator]\n\n  /** @type {any[]} */\n  const queue = []\n\n  // @ts-ignore\n  return {\n    peek: () => {\n      return iterator.next()\n    },\n    push: (value) => {\n      queue.push(value)\n    },\n    next: () => {\n      if (queue.length) {\n        return {\n          done: false,\n          value: queue.shift()\n        }\n      }\n\n      return iterator.next()\n    },\n    [symbol] () {\n      return this\n    }\n  }\n}\n\nmodule.exports = peekableIterator\n", "// Re-export your entry components here\nexport { Transaction, encode } from './transaction';\nexport { createDagRepo, importBuffer } from './dagRepo';\n", "// https://github.com/mikeal/car-transaction/blob/main/index.js\r\n\r\nimport * as CBW from '../../node_modules/@ipld/car/esm/lib/buffer-writer.js';\r\n// import * as CBW from '@ipld/car/esm/lib/buffer-writer.js'; // not exported\r\n// import * as CBW from './modules/buffer-writer.js'; // esbuild\r\n\r\nimport { CarReader } from '@ipld/car';\r\nimport { bytes as byteslib } from 'multiformats';\r\nimport { decode as digest } from 'multiformats/hashes/digest';\r\nimport * as dagcbor from '@ipld/dag-cbor';\r\nimport * as raw from 'multiformats/codecs/raw';\r\nimport { sha256 } from 'multiformats/hashes/sha2';\r\nimport * as Block from 'multiformats/block';\r\nimport mitt from 'mitt'; // a small emitter\r\n\r\nconst { isBinary } = byteslib;\r\n\r\nexport const encode = (value) => {\r\n\tif (isBinary(value)) {\r\n\t\treturn Block.encode({ value, hasher: sha256, codec: raw });\r\n\t}\r\n\treturn Block.encode({ value, hasher: sha256, codec: dagcbor });\r\n};\r\n\r\nconst decode = ({ bytes, cid }) => {\r\n\tlet hasher, codec;\r\n\tconst { code } = cid;\r\n\tconst hashcode = cid.multihash.code || digest(cid.multihash).code;\r\n\r\n\tif (hashcode === 0x12) {\r\n\t\thasher = sha256;\r\n\t} else {\r\n\t\tthrow new Error('Unsupported hash function: ' + hashcode);\r\n\t}\r\n\r\n\tif (code === 0x71) {\r\n\t\tcodec = dagcbor;\r\n\t} else if (code === 0x55) {\r\n\t\tcodec = raw;\r\n\t} else {\r\n\t\tthrow new Error('Unsupported codec: ' + code);\r\n\t}\r\n\r\n\treturn Block.create({ bytes, cid, codec, hasher });\r\n};\r\n\r\nexport class Transaction {\r\n\tconstructor() {\r\n\t\tObject.assign(this, mitt());\r\n\t\tthis.blocks = [];\r\n\t}\r\n\r\n\tstatic create(): Transaction {\r\n\t\treturn new this();\r\n\t}\r\n\r\n\tstatic async load(buffer) {\r\n\t\tconst reader = await CarReader.fromBytes(buffer);\r\n\t\tconst [root] = await reader.getRoots();\r\n\t\tconst get = (cid) =>\r\n\t\t\treader\r\n\t\t\t\t.get(cid)\r\n\t\t\t\t.then((block) => decode(block))\r\n\t\t\t\t.then(({ value }) => value);\r\n\t\treturn { root, get };\r\n\t}\r\n\r\n\tasync add(obj) {\r\n\t\tconst block = await encode(obj);\r\n\t\tthis.last = block;\r\n\t\tthis.blocks.push(block);\r\n\t\tthis.emit('size', this.size);\r\n\t\treturn block.cid;\r\n\t}\r\n\r\n\tasync get(block) {\r\n\t\tconst { cid, bytes, value } = await decode(block);\r\n\t\treturn { cid, bytes, value };\r\n\t}\r\n\r\n\tundo() {\r\n\t\treturn this.blocks.pop();\r\n\t}\r\n\r\n\tasync commit() {\r\n\t\tconst cid = this.last.cid;\r\n\t\tlet size = 0;\r\n\t\tlet headerSize = CBW.headerLength({ roots: [cid] });\r\n\t\tsize += headerSize;\r\n\t\tfor (const block of this.blocks) {\r\n\t\t\tsize += CBW.blockLength(block);\r\n\t\t}\r\n\t\tconst buffer = new Uint8Array(size);\r\n\t\tconst writer = await CBW.createWriter(buffer, { headerSize });\r\n\t\twriter.addRoot(cid);\r\n\t\tfor (const block of this.blocks) {\r\n\t\t\twriter.write(block);\r\n\t\t}\r\n\t\tawait writer.close();\r\n\t\treturn writer.bytes;\r\n\t}\r\n\r\n\tget size() {\r\n\t\tif (!this?.last) return 0;\r\n\t\tconst cid = this.last.cid;\r\n\t\tlet size = 0;\r\n\t\tlet headerSize = CBW.headerLength({ roots: [cid] });\r\n\t\tsize += headerSize;\r\n\t\tfor (const block of this.blocks) {\r\n\t\t\tsize += CBW.blockLength(block);\r\n\t\t}\r\n\t\treturn size;\r\n\t}\r\n}\r\n", "import varint from 'varint';\nimport {\n  Token,\n  Type\n} from 'cborg';\nimport { tokensToLength } from 'cborg/length';\nimport * as CBOR from '@ipld/dag-cbor';\nclass CarBufferWriter {\n  constructor(bytes, headerSize) {\n    this.bytes = bytes;\n    this.byteOffset = headerSize;\n    this.roots = [];\n    this.headerSize = headerSize;\n  }\n  addRoot(root, options) {\n    addRoot(this, root, options);\n    return this;\n  }\n  write(block) {\n    addBlock(this, block);\n    return this;\n  }\n  close(options) {\n    return close(this, options);\n  }\n}\nexport const addRoot = (writer, root, options = {}) => {\n  const {\n    resize = false\n  } = options;\n  const {bytes, headerSize, byteOffset, roots} = writer;\n  writer.roots.push(root);\n  const size = headerLength(writer);\n  if (size > headerSize) {\n    if (size - headerSize + byteOffset < bytes.byteLength) {\n      if (resize) {\n        resizeHeader(writer, size);\n      } else {\n        roots.pop();\n        throw new RangeError(`Header of size ${ headerSize } has no capacity for new root ${ root }.\n  However there is a space in the buffer and you could call addRoot(root, { resize: root }) to resize header to make a space for this root.`);\n      }\n    } else {\n      roots.pop();\n      throw new RangeError(`Buffer has no capacity for a new root ${ root }`);\n    }\n  }\n};\nexport const blockLength = ({cid, bytes}) => {\n  const size = cid.bytes.byteLength + bytes.byteLength;\n  return varint.encodingLength(size) + size;\n};\nexport const addBlock = (writer, {cid, bytes}) => {\n  const byteLength = cid.bytes.byteLength + bytes.byteLength;\n  const size = varint.encode(byteLength);\n  if (writer.byteOffset + size.length + byteLength > writer.bytes.byteLength) {\n    throw new RangeError('Buffer has no capacity for this block');\n  } else {\n    writeBytes(writer, size);\n    writeBytes(writer, cid.bytes);\n    writeBytes(writer, bytes);\n  }\n};\nexport const close = (writer, options = {}) => {\n  const {\n    resize = false\n  } = options;\n  const {roots, bytes, byteOffset, headerSize} = writer;\n  const headerBytes = CBOR.encode({\n    version: 1,\n    roots\n  });\n  const varintBytes = varint.encode(headerBytes.length);\n  const size = varintBytes.length + headerBytes.byteLength;\n  const offset = headerSize - size;\n  if (offset === 0) {\n    writeHeader(writer, varintBytes, headerBytes);\n    return bytes.subarray(0, byteOffset);\n  } else if (resize) {\n    resizeHeader(writer, size);\n    writeHeader(writer, varintBytes, headerBytes);\n    return bytes.subarray(0, writer.byteOffset);\n  } else {\n    throw new RangeError(`Header size was overestimated.\nYou can use close({ resize: true }) to resize header`);\n  }\n};\nexport const resizeHeader = (writer, byteLength) => {\n  const {bytes, headerSize} = writer;\n  bytes.set(bytes.subarray(headerSize, writer.byteOffset), byteLength);\n  writer.byteOffset += byteLength - headerSize;\n  writer.headerSize = byteLength;\n};\nconst writeBytes = (writer, bytes) => {\n  writer.bytes.set(bytes, writer.byteOffset);\n  writer.byteOffset += bytes.length;\n};\nconst writeHeader = ({bytes}, varint, header) => {\n  bytes.set(varint);\n  bytes.set(header, varint.length);\n};\nconst headerPreludeTokens = [\n  new Token(Type.map, 2),\n  new Token(Type.string, 'version'),\n  new Token(Type.uint, 1),\n  new Token(Type.string, 'roots')\n];\nconst CID_TAG = new Token(Type.tag, 42);\nexport const calculateHeaderLength = rootLengths => {\n  const tokens = [...headerPreludeTokens];\n  tokens.push(new Token(Type.array, rootLengths.length));\n  for (const rootLength of rootLengths) {\n    tokens.push(CID_TAG);\n    tokens.push(new Token(Type.bytes, { length: rootLength + 1 }));\n  }\n  const length = tokensToLength(tokens);\n  return varint.encodingLength(length) + length;\n};\nexport const headerLength = ({roots}) => calculateHeaderLength(roots.map(cid => cid.bytes.byteLength));\nexport const estimateHeaderLength = (rootCount, rootByteLength = 36) => calculateHeaderLength(new Array(rootCount).fill(rootByteLength));\nexport const createWriter = (buffer, options = {}) => {\n  const {roots = [], byteOffset = 0, byteLength = buffer.byteLength, headerSize = headerLength({ roots })} = options;\n  const bytes = new Uint8Array(buffer, byteOffset, byteLength);\n  const writer = new CarBufferWriter(bytes, headerSize);\n  for (const root of roots) {\n    writer.addRoot(root);\n  }\n  return writer;\n};", "import { encode } from './lib/encode.js';\nimport { decode } from './lib/decode.js';\nimport {\n  Token,\n  Type\n} from './lib/token.js';\nexport {\n  decode,\n  encode,\n  Token,\n  Type\n};", "import { is } from './is.js';\nimport {\n  Token,\n  Type\n} from './token.js';\nimport { Bl } from './bl.js';\nimport { encodeErrPrefix } from './common.js';\nimport { quickEncodeToken } from './jump.js';\nimport { asU8A } from './byte-utils.js';\nimport { encodeUint } from './0uint.js';\nimport { encodeNegint } from './1negint.js';\nimport { encodeBytes } from './2bytes.js';\nimport { encodeString } from './3string.js';\nimport { encodeArray } from './4array.js';\nimport { encodeMap } from './5map.js';\nimport { encodeTag } from './6tag.js';\nimport { encodeFloat } from './7float.js';\nconst defaultEncodeOptions = {\n  float64: false,\n  mapSorter,\n  quickEncodeToken\n};\nexport function makeCborEncoders() {\n  const encoders = [];\n  encoders[Type.uint.major] = encodeUint;\n  encoders[Type.negint.major] = encodeNegint;\n  encoders[Type.bytes.major] = encodeBytes;\n  encoders[Type.string.major] = encodeString;\n  encoders[Type.array.major] = encodeArray;\n  encoders[Type.map.major] = encodeMap;\n  encoders[Type.tag.major] = encodeTag;\n  encoders[Type.float.major] = encodeFloat;\n  return encoders;\n}\nconst cborEncoders = makeCborEncoders();\nconst buf = new Bl();\nclass Ref {\n  constructor(obj, parent) {\n    this.obj = obj;\n    this.parent = parent;\n  }\n  includes(obj) {\n    let p = this;\n    do {\n      if (p.obj === obj) {\n        return true;\n      }\n    } while (p = p.parent);\n    return false;\n  }\n  static createCheck(stack, obj) {\n    if (stack && stack.includes(obj)) {\n      throw new Error(`${ encodeErrPrefix } object contains circular references`);\n    }\n    return new Ref(obj, stack);\n  }\n}\nconst simpleTokens = {\n  null: new Token(Type.null, null),\n  undefined: new Token(Type.undefined, undefined),\n  true: new Token(Type.true, true),\n  false: new Token(Type.false, false),\n  emptyArray: new Token(Type.array, 0),\n  emptyMap: new Token(Type.map, 0)\n};\nconst typeEncoders = {\n  number(obj, _typ, _options, _refStack) {\n    if (!Number.isInteger(obj) || !Number.isSafeInteger(obj)) {\n      return new Token(Type.float, obj);\n    } else if (obj >= 0) {\n      return new Token(Type.uint, obj);\n    } else {\n      return new Token(Type.negint, obj);\n    }\n  },\n  bigint(obj, _typ, _options, _refStack) {\n    if (obj >= BigInt(0)) {\n      return new Token(Type.uint, obj);\n    } else {\n      return new Token(Type.negint, obj);\n    }\n  },\n  Uint8Array(obj, _typ, _options, _refStack) {\n    return new Token(Type.bytes, obj);\n  },\n  string(obj, _typ, _options, _refStack) {\n    return new Token(Type.string, obj);\n  },\n  boolean(obj, _typ, _options, _refStack) {\n    return obj ? simpleTokens.true : simpleTokens.false;\n  },\n  null(_obj, _typ, _options, _refStack) {\n    return simpleTokens.null;\n  },\n  undefined(_obj, _typ, _options, _refStack) {\n    return simpleTokens.undefined;\n  },\n  ArrayBuffer(obj, _typ, _options, _refStack) {\n    return new Token(Type.bytes, new Uint8Array(obj));\n  },\n  DataView(obj, _typ, _options, _refStack) {\n    return new Token(Type.bytes, new Uint8Array(obj.buffer, obj.byteOffset, obj.byteLength));\n  },\n  Array(obj, _typ, options, refStack) {\n    if (!obj.length) {\n      if (options.addBreakTokens === true) {\n        return [\n          simpleTokens.emptyArray,\n          new Token(Type.break)\n        ];\n      }\n      return simpleTokens.emptyArray;\n    }\n    refStack = Ref.createCheck(refStack, obj);\n    const entries = [];\n    let i = 0;\n    for (const e of obj) {\n      entries[i++] = objectToTokens(e, options, refStack);\n    }\n    if (options.addBreakTokens) {\n      return [\n        new Token(Type.array, obj.length),\n        entries,\n        new Token(Type.break)\n      ];\n    }\n    return [\n      new Token(Type.array, obj.length),\n      entries\n    ];\n  },\n  Object(obj, typ, options, refStack) {\n    const isMap = typ !== 'Object';\n    const keys = isMap ? obj.keys() : Object.keys(obj);\n    const length = isMap ? obj.size : keys.length;\n    if (!length) {\n      if (options.addBreakTokens === true) {\n        return [\n          simpleTokens.emptyMap,\n          new Token(Type.break)\n        ];\n      }\n      return simpleTokens.emptyMap;\n    }\n    refStack = Ref.createCheck(refStack, obj);\n    const entries = [];\n    let i = 0;\n    for (const key of keys) {\n      entries[i++] = [\n        objectToTokens(key, options, refStack),\n        objectToTokens(isMap ? obj.get(key) : obj[key], options, refStack)\n      ];\n    }\n    sortMapEntries(entries, options);\n    if (options.addBreakTokens) {\n      return [\n        new Token(Type.map, length),\n        entries,\n        new Token(Type.break)\n      ];\n    }\n    return [\n      new Token(Type.map, length),\n      entries\n    ];\n  }\n};\ntypeEncoders.Map = typeEncoders.Object;\ntypeEncoders.Buffer = typeEncoders.Uint8Array;\nfor (const typ of 'Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64'.split(' ')) {\n  typeEncoders[`${ typ }Array`] = typeEncoders.DataView;\n}\nfunction objectToTokens(obj, options = {}, refStack) {\n  const typ = is(obj);\n  const customTypeEncoder = options && options.typeEncoders && options.typeEncoders[typ] || typeEncoders[typ];\n  if (typeof customTypeEncoder === 'function') {\n    const tokens = customTypeEncoder(obj, typ, options, refStack);\n    if (tokens != null) {\n      return tokens;\n    }\n  }\n  const typeEncoder = typeEncoders[typ];\n  if (!typeEncoder) {\n    throw new Error(`${ encodeErrPrefix } unsupported type: ${ typ }`);\n  }\n  return typeEncoder(obj, typ, options, refStack);\n}\nfunction sortMapEntries(entries, options) {\n  if (options.mapSorter) {\n    entries.sort(options.mapSorter);\n  }\n}\nfunction mapSorter(e1, e2) {\n  const keyToken1 = Array.isArray(e1[0]) ? e1[0][0] : e1[0];\n  const keyToken2 = Array.isArray(e2[0]) ? e2[0][0] : e2[0];\n  if (keyToken1.type !== keyToken2.type) {\n    return keyToken1.type.compare(keyToken2.type);\n  }\n  const major = keyToken1.type.major;\n  const tcmp = cborEncoders[major].compareTokens(keyToken1, keyToken2);\n  if (tcmp === 0) {\n    console.warn('WARNING: complex key types used, CBOR key sorting guarantees are gone');\n  }\n  return tcmp;\n}\nfunction tokensToEncoded(buf, tokens, encoders, options) {\n  if (Array.isArray(tokens)) {\n    for (const token of tokens) {\n      tokensToEncoded(buf, token, encoders, options);\n    }\n  } else {\n    encoders[tokens.type.major](buf, tokens, options);\n  }\n}\nfunction encodeCustom(data, encoders, options) {\n  const tokens = objectToTokens(data, options);\n  if (!Array.isArray(tokens) && options.quickEncodeToken) {\n    const quickBytes = options.quickEncodeToken(tokens);\n    if (quickBytes) {\n      return quickBytes;\n    }\n    const encoder = encoders[tokens.type.major];\n    if (encoder.encodedSize) {\n      const size = encoder.encodedSize(tokens, options);\n      const buf = new Bl(size);\n      encoder(buf, tokens, options);\n      if (buf.chunks.length !== 1) {\n        throw new Error(`Unexpected error: pre-calculated length for ${ tokens } was wrong`);\n      }\n      return asU8A(buf.chunks[0]);\n    }\n  }\n  buf.reset();\n  tokensToEncoded(buf, tokens, encoders, options);\n  return buf.toBytes(true);\n}\nfunction encode(data, options) {\n  options = Object.assign({}, defaultEncodeOptions, options);\n  return encodeCustom(data, cborEncoders, options);\n}\nexport {\n  objectToTokens,\n  encode,\n  encodeCustom,\n  Ref\n};", "const typeofs = [\n  'string',\n  'number',\n  'bigint',\n  'symbol'\n];\nconst objectTypeNames = [\n  'Function',\n  'Generator',\n  'AsyncGenerator',\n  'GeneratorFunction',\n  'AsyncGeneratorFunction',\n  'AsyncFunction',\n  'Observable',\n  'Array',\n  'Buffer',\n  'Object',\n  'RegExp',\n  'Date',\n  'Error',\n  'Map',\n  'Set',\n  'WeakMap',\n  'WeakSet',\n  'ArrayBuffer',\n  'SharedArrayBuffer',\n  'DataView',\n  'Promise',\n  'URL',\n  'HTMLElement',\n  'Int8Array',\n  'Uint8Array',\n  'Uint8ClampedArray',\n  'Int16Array',\n  'Uint16Array',\n  'Int32Array',\n  'Uint32Array',\n  'Float32Array',\n  'Float64Array',\n  'BigInt64Array',\n  'BigUint64Array'\n];\nexport function is(value) {\n  if (value === null) {\n    return 'null';\n  }\n  if (value === undefined) {\n    return 'undefined';\n  }\n  if (value === true || value === false) {\n    return 'boolean';\n  }\n  const typeOf = typeof value;\n  if (typeofs.includes(typeOf)) {\n    return typeOf;\n  }\n  if (typeOf === 'function') {\n    return 'Function';\n  }\n  if (Array.isArray(value)) {\n    return 'Array';\n  }\n  if (isBuffer(value)) {\n    return 'Buffer';\n  }\n  const objectType = getObjectType(value);\n  if (objectType) {\n    return objectType;\n  }\n  return 'Object';\n}\nfunction isBuffer(value) {\n  return value && value.constructor && value.constructor.isBuffer && value.constructor.isBuffer.call(null, value);\n}\nfunction getObjectType(value) {\n  const objectTypeName = Object.prototype.toString.call(value).slice(8, -1);\n  if (objectTypeNames.includes(objectTypeName)) {\n    return objectTypeName;\n  }\n  return undefined;\n}", "class Type {\n  constructor(major, name, terminal) {\n    this.major = major;\n    this.majorEncoded = major << 5;\n    this.name = name;\n    this.terminal = terminal;\n  }\n  toString() {\n    return `Type[${ this.major }].${ this.name }`;\n  }\n  compare(typ) {\n    return this.major < typ.major ? -1 : this.major > typ.major ? 1 : 0;\n  }\n}\nType.uint = new Type(0, 'uint', true);\nType.negint = new Type(1, 'negint', true);\nType.bytes = new Type(2, 'bytes', true);\nType.string = new Type(3, 'string', true);\nType.array = new Type(4, 'array', false);\nType.map = new Type(5, 'map', false);\nType.tag = new Type(6, 'tag', false);\nType.float = new Type(7, 'float', true);\nType.false = new Type(7, 'false', true);\nType.true = new Type(7, 'true', true);\nType.null = new Type(7, 'null', true);\nType.undefined = new Type(7, 'undefined', true);\nType.break = new Type(7, 'break', true);\nclass Token {\n  constructor(type, value, encodedLength) {\n    this.type = type;\n    this.value = value;\n    this.encodedLength = encodedLength;\n    this.encodedBytes = undefined;\n    this.byteValue = undefined;\n  }\n  toString() {\n    return `Token[${ this.type }].${ this.value }`;\n  }\n}\nexport {\n  Type,\n  Token\n};", "import {\n  alloc,\n  concat,\n  slice\n} from './byte-utils.js';\nconst defaultChunkSize = 256;\nexport class Bl {\n  constructor(chunkSize = defaultChunkSize) {\n    this.chunkSize = chunkSize;\n    this.cursor = 0;\n    this.maxCursor = -1;\n    this.chunks = [];\n    this._initReuseChunk = null;\n  }\n  reset() {\n    this.cursor = 0;\n    this.maxCursor = -1;\n    if (this.chunks.length) {\n      this.chunks = [];\n    }\n    if (this._initReuseChunk !== null) {\n      this.chunks.push(this._initReuseChunk);\n      this.maxCursor = this._initReuseChunk.length - 1;\n    }\n  }\n  push(bytes) {\n    let topChunk = this.chunks[this.chunks.length - 1];\n    const newMax = this.cursor + bytes.length;\n    if (newMax <= this.maxCursor + 1) {\n      const chunkPos = topChunk.length - (this.maxCursor - this.cursor) - 1;\n      topChunk.set(bytes, chunkPos);\n    } else {\n      if (topChunk) {\n        const chunkPos = topChunk.length - (this.maxCursor - this.cursor) - 1;\n        if (chunkPos < topChunk.length) {\n          this.chunks[this.chunks.length - 1] = topChunk.subarray(0, chunkPos);\n          this.maxCursor = this.cursor - 1;\n        }\n      }\n      if (bytes.length < 64 && bytes.length < this.chunkSize) {\n        topChunk = alloc(this.chunkSize);\n        this.chunks.push(topChunk);\n        this.maxCursor += topChunk.length;\n        if (this._initReuseChunk === null) {\n          this._initReuseChunk = topChunk;\n        }\n        topChunk.set(bytes, 0);\n      } else {\n        this.chunks.push(bytes);\n        this.maxCursor += bytes.length;\n      }\n    }\n    this.cursor += bytes.length;\n  }\n  toBytes(reset = false) {\n    let byts;\n    if (this.chunks.length === 1) {\n      const chunk = this.chunks[0];\n      if (reset && this.cursor > chunk.length / 2) {\n        byts = this.cursor === chunk.length ? chunk : chunk.subarray(0, this.cursor);\n        this._initReuseChunk = null;\n        this.chunks = [];\n      } else {\n        byts = slice(chunk, 0, this.cursor);\n      }\n    } else {\n      byts = concat(this.chunks, this.cursor);\n    }\n    if (reset) {\n      this.reset();\n    }\n    return byts;\n  }\n}", "export const useBuffer = globalThis.process && !globalThis.process.browser && globalThis.Buffer && typeof globalThis.Buffer.isBuffer === 'function';\nconst textDecoder = new TextDecoder();\nconst textEncoder = new TextEncoder();\nfunction isBuffer(buf) {\n  return useBuffer && globalThis.Buffer.isBuffer(buf);\n}\nexport function asU8A(buf) {\n  if (!(buf instanceof Uint8Array)) {\n    return Uint8Array.from(buf);\n  }\n  return isBuffer(buf) ? new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength) : buf;\n}\nexport const toString = useBuffer ? (bytes, start, end) => {\n  return end - start > 64 ? globalThis.Buffer.from(bytes.subarray(start, end)).toString('utf8') : utf8Slice(bytes, start, end);\n} : (bytes, start, end) => {\n  return end - start > 64 ? textDecoder.decode(bytes.subarray(start, end)) : utf8Slice(bytes, start, end);\n};\nexport const fromString = useBuffer ? string => {\n  return string.length > 64 ? globalThis.Buffer.from(string) : utf8ToBytes(string);\n} : string => {\n  return string.length > 64 ? textEncoder.encode(string) : utf8ToBytes(string);\n};\nexport const fromArray = arr => {\n  return Uint8Array.from(arr);\n};\nexport const slice = useBuffer ? (bytes, start, end) => {\n  if (isBuffer(bytes)) {\n    return new Uint8Array(bytes.subarray(start, end));\n  }\n  return bytes.slice(start, end);\n} : (bytes, start, end) => {\n  return bytes.slice(start, end);\n};\nexport const concat = useBuffer ? (chunks, length) => {\n  chunks = chunks.map(c => c instanceof Uint8Array ? c : globalThis.Buffer.from(c));\n  return asU8A(globalThis.Buffer.concat(chunks, length));\n} : (chunks, length) => {\n  const out = new Uint8Array(length);\n  let off = 0;\n  for (let b of chunks) {\n    if (off + b.length > out.length) {\n      b = b.subarray(0, out.length - off);\n    }\n    out.set(b, off);\n    off += b.length;\n  }\n  return out;\n};\nexport const alloc = useBuffer ? size => {\n  return globalThis.Buffer.allocUnsafe(size);\n} : size => {\n  return new Uint8Array(size);\n};\nexport const toHex = useBuffer ? d => {\n  if (typeof d === 'string') {\n    return d;\n  }\n  return globalThis.Buffer.from(toBytes(d)).toString('hex');\n} : d => {\n  if (typeof d === 'string') {\n    return d;\n  }\n  return Array.prototype.reduce.call(toBytes(d), (p, c) => `${ p }${ c.toString(16).padStart(2, '0') }`, '');\n};\nexport const fromHex = useBuffer ? hex => {\n  if (hex instanceof Uint8Array) {\n    return hex;\n  }\n  return globalThis.Buffer.from(hex, 'hex');\n} : hex => {\n  if (hex instanceof Uint8Array) {\n    return hex;\n  }\n  if (!hex.length) {\n    return new Uint8Array(0);\n  }\n  return new Uint8Array(hex.split('').map((c, i, d) => i % 2 === 0 ? `0x${ c }${ d[i + 1] }` : '').filter(Boolean).map(e => parseInt(e, 16)));\n};\nfunction toBytes(obj) {\n  if (obj instanceof Uint8Array && obj.constructor.name === 'Uint8Array') {\n    return obj;\n  }\n  if (obj instanceof ArrayBuffer) {\n    return new Uint8Array(obj);\n  }\n  if (ArrayBuffer.isView(obj)) {\n    return new Uint8Array(obj.buffer, obj.byteOffset, obj.byteLength);\n  }\n  throw new Error('Unknown type, must be binary type');\n}\nexport function compare(b1, b2) {\n  if (isBuffer(b1) && isBuffer(b2)) {\n    return b1.compare(b2);\n  }\n  for (let i = 0; i < b1.length; i++) {\n    if (b1[i] === b2[i]) {\n      continue;\n    }\n    return b1[i] < b2[i] ? -1 : 1;\n  }\n  return 0;\n}\nfunction utf8ToBytes(string, units = Infinity) {\n  let codePoint;\n  const length = string.length;\n  let leadSurrogate = null;\n  const bytes = [];\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i);\n    if (codePoint > 55295 && codePoint < 57344) {\n      if (!leadSurrogate) {\n        if (codePoint > 56319) {\n          if ((units -= 3) > -1)\n            bytes.push(239, 191, 189);\n          continue;\n        } else if (i + 1 === length) {\n          if ((units -= 3) > -1)\n            bytes.push(239, 191, 189);\n          continue;\n        }\n        leadSurrogate = codePoint;\n        continue;\n      }\n      if (codePoint < 56320) {\n        if ((units -= 3) > -1)\n          bytes.push(239, 191, 189);\n        leadSurrogate = codePoint;\n        continue;\n      }\n      codePoint = (leadSurrogate - 55296 << 10 | codePoint - 56320) + 65536;\n    } else if (leadSurrogate) {\n      if ((units -= 3) > -1)\n        bytes.push(239, 191, 189);\n    }\n    leadSurrogate = null;\n    if (codePoint < 128) {\n      if ((units -= 1) < 0)\n        break;\n      bytes.push(codePoint);\n    } else if (codePoint < 2048) {\n      if ((units -= 2) < 0)\n        break;\n      bytes.push(codePoint >> 6 | 192, codePoint & 63 | 128);\n    } else if (codePoint < 65536) {\n      if ((units -= 3) < 0)\n        break;\n      bytes.push(codePoint >> 12 | 224, codePoint >> 6 & 63 | 128, codePoint & 63 | 128);\n    } else if (codePoint < 1114112) {\n      if ((units -= 4) < 0)\n        break;\n      bytes.push(codePoint >> 18 | 240, codePoint >> 12 & 63 | 128, codePoint >> 6 & 63 | 128, codePoint & 63 | 128);\n    } else {\n      throw new Error('Invalid code point');\n    }\n  }\n  return bytes;\n}\nfunction utf8Slice(buf, offset, end) {\n  const res = [];\n  while (offset < end) {\n    const firstByte = buf[offset];\n    let codePoint = null;\n    let bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;\n    if (offset + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint;\n      switch (bytesPerSequence) {\n      case 1:\n        if (firstByte < 128) {\n          codePoint = firstByte;\n        }\n        break;\n      case 2:\n        secondByte = buf[offset + 1];\n        if ((secondByte & 192) === 128) {\n          tempCodePoint = (firstByte & 31) << 6 | secondByte & 63;\n          if (tempCodePoint > 127) {\n            codePoint = tempCodePoint;\n          }\n        }\n        break;\n      case 3:\n        secondByte = buf[offset + 1];\n        thirdByte = buf[offset + 2];\n        if ((secondByte & 192) === 128 && (thirdByte & 192) === 128) {\n          tempCodePoint = (firstByte & 15) << 12 | (secondByte & 63) << 6 | thirdByte & 63;\n          if (tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343)) {\n            codePoint = tempCodePoint;\n          }\n        }\n        break;\n      case 4:\n        secondByte = buf[offset + 1];\n        thirdByte = buf[offset + 2];\n        fourthByte = buf[offset + 3];\n        if ((secondByte & 192) === 128 && (thirdByte & 192) === 128 && (fourthByte & 192) === 128) {\n          tempCodePoint = (firstByte & 15) << 18 | (secondByte & 63) << 12 | (thirdByte & 63) << 6 | fourthByte & 63;\n          if (tempCodePoint > 65535 && tempCodePoint < 1114112) {\n            codePoint = tempCodePoint;\n          }\n        }\n      }\n    }\n    if (codePoint === null) {\n      codePoint = 65533;\n      bytesPerSequence = 1;\n    } else if (codePoint > 65535) {\n      codePoint -= 65536;\n      res.push(codePoint >>> 10 & 1023 | 55296);\n      codePoint = 56320 | codePoint & 1023;\n    }\n    res.push(codePoint);\n    offset += bytesPerSequence;\n  }\n  return decodeCodePointsArray(res);\n}\nconst MAX_ARGUMENTS_LENGTH = 4096;\nexport function decodeCodePointsArray(codePoints) {\n  const len = codePoints.length;\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints);\n  }\n  let res = '';\n  let i = 0;\n  while (i < len) {\n    res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n  }\n  return res;\n}", "const decodeErrPrefix = 'CBOR decode error:';\nconst encodeErrPrefix = 'CBOR encode error:';\nconst uintMinorPrefixBytes = [];\nuintMinorPrefixBytes[23] = 1;\nuintMinorPrefixBytes[24] = 2;\nuintMinorPrefixBytes[25] = 3;\nuintMinorPrefixBytes[26] = 5;\nuintMinorPrefixBytes[27] = 9;\nfunction assertEnoughData(data, pos, need) {\n  if (data.length - pos < need) {\n    throw new Error(`${ decodeErrPrefix } not enough data for type`);\n  }\n}\nexport {\n  decodeErrPrefix,\n  encodeErrPrefix,\n  uintMinorPrefixBytes,\n  assertEnoughData\n};", "import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nimport * as negint from './1negint.js';\nimport * as bytes from './2bytes.js';\nimport * as string from './3string.js';\nimport * as array from './4array.js';\nimport * as map from './5map.js';\nimport * as tag from './6tag.js';\nimport * as float from './7float.js';\nimport { decodeErrPrefix } from './common.js';\nimport { fromArray } from './byte-utils.js';\nfunction invalidMinor(data, pos, minor) {\n  throw new Error(`${ decodeErrPrefix } encountered invalid minor (${ minor }) for major ${ data[pos] >>> 5 }`);\n}\nfunction errorer(msg) {\n  return () => {\n    throw new Error(`${ decodeErrPrefix } ${ msg }`);\n  };\n}\nexport const jump = [];\nfor (let i = 0; i <= 23; i++) {\n  jump[i] = invalidMinor;\n}\njump[24] = uint.decodeUint8;\njump[25] = uint.decodeUint16;\njump[26] = uint.decodeUint32;\njump[27] = uint.decodeUint64;\njump[28] = invalidMinor;\njump[29] = invalidMinor;\njump[30] = invalidMinor;\njump[31] = invalidMinor;\nfor (let i = 32; i <= 55; i++) {\n  jump[i] = invalidMinor;\n}\njump[56] = negint.decodeNegint8;\njump[57] = negint.decodeNegint16;\njump[58] = negint.decodeNegint32;\njump[59] = negint.decodeNegint64;\njump[60] = invalidMinor;\njump[61] = invalidMinor;\njump[62] = invalidMinor;\njump[63] = invalidMinor;\nfor (let i = 64; i <= 87; i++) {\n  jump[i] = bytes.decodeBytesCompact;\n}\njump[88] = bytes.decodeBytes8;\njump[89] = bytes.decodeBytes16;\njump[90] = bytes.decodeBytes32;\njump[91] = bytes.decodeBytes64;\njump[92] = invalidMinor;\njump[93] = invalidMinor;\njump[94] = invalidMinor;\njump[95] = errorer('indefinite length bytes/strings are not supported');\nfor (let i = 96; i <= 119; i++) {\n  jump[i] = string.decodeStringCompact;\n}\njump[120] = string.decodeString8;\njump[121] = string.decodeString16;\njump[122] = string.decodeString32;\njump[123] = string.decodeString64;\njump[124] = invalidMinor;\njump[125] = invalidMinor;\njump[126] = invalidMinor;\njump[127] = errorer('indefinite length bytes/strings are not supported');\nfor (let i = 128; i <= 151; i++) {\n  jump[i] = array.decodeArrayCompact;\n}\njump[152] = array.decodeArray8;\njump[153] = array.decodeArray16;\njump[154] = array.decodeArray32;\njump[155] = array.decodeArray64;\njump[156] = invalidMinor;\njump[157] = invalidMinor;\njump[158] = invalidMinor;\njump[159] = array.decodeArrayIndefinite;\nfor (let i = 160; i <= 183; i++) {\n  jump[i] = map.decodeMapCompact;\n}\njump[184] = map.decodeMap8;\njump[185] = map.decodeMap16;\njump[186] = map.decodeMap32;\njump[187] = map.decodeMap64;\njump[188] = invalidMinor;\njump[189] = invalidMinor;\njump[190] = invalidMinor;\njump[191] = map.decodeMapIndefinite;\nfor (let i = 192; i <= 215; i++) {\n  jump[i] = tag.decodeTagCompact;\n}\njump[216] = tag.decodeTag8;\njump[217] = tag.decodeTag16;\njump[218] = tag.decodeTag32;\njump[219] = tag.decodeTag64;\njump[220] = invalidMinor;\njump[221] = invalidMinor;\njump[222] = invalidMinor;\njump[223] = invalidMinor;\nfor (let i = 224; i <= 243; i++) {\n  jump[i] = errorer('simple values are not supported');\n}\njump[244] = invalidMinor;\njump[245] = invalidMinor;\njump[246] = invalidMinor;\njump[247] = float.decodeUndefined;\njump[248] = errorer('simple values are not supported');\njump[249] = float.decodeFloat16;\njump[250] = float.decodeFloat32;\njump[251] = float.decodeFloat64;\njump[252] = invalidMinor;\njump[253] = invalidMinor;\njump[254] = invalidMinor;\njump[255] = float.decodeBreak;\nexport const quick = [];\nfor (let i = 0; i < 24; i++) {\n  quick[i] = new Token(Type.uint, i, 1);\n}\nfor (let i = -1; i >= -24; i--) {\n  quick[31 - i] = new Token(Type.negint, i, 1);\n}\nquick[64] = new Token(Type.bytes, new Uint8Array(0), 1);\nquick[96] = new Token(Type.string, '', 1);\nquick[128] = new Token(Type.array, 0, 1);\nquick[160] = new Token(Type.map, 0, 1);\nquick[244] = new Token(Type.false, false, 1);\nquick[245] = new Token(Type.true, true, 1);\nquick[246] = new Token(Type.null, null, 1);\nexport function quickEncodeToken(token) {\n  switch (token.type) {\n  case Type.false:\n    return fromArray([244]);\n  case Type.true:\n    return fromArray([245]);\n  case Type.null:\n    return fromArray([246]);\n  case Type.bytes:\n    if (!token.value.length) {\n      return fromArray([64]);\n    }\n    return;\n  case Type.string:\n    if (token.value === '') {\n      return fromArray([96]);\n    }\n    return;\n  case Type.array:\n    if (token.value === 0) {\n      return fromArray([128]);\n    }\n    return;\n  case Type.map:\n    if (token.value === 0) {\n      return fromArray([160]);\n    }\n    return;\n  case Type.uint:\n    if (token.value < 24) {\n      return fromArray([Number(token.value)]);\n    }\n    return;\n  case Type.negint:\n    if (token.value >= -24) {\n      return fromArray([31 - Number(token.value)]);\n    }\n  }\n}", "import {\n  Token,\n  Type\n} from './token.js';\nimport {\n  decodeErrPrefix,\n  assertEnoughData\n} from './common.js';\nexport const uintBoundaries = [\n  24,\n  256,\n  65536,\n  4294967296,\n  BigInt('18446744073709551616')\n];\nexport function readUint8(data, offset, options) {\n  assertEnoughData(data, offset, 1);\n  const value = data[offset];\n  if (options.strict === true && value < uintBoundaries[0]) {\n    throw new Error(`${ decodeErrPrefix } integer encoded in more bytes than necessary (strict decode)`);\n  }\n  return value;\n}\nexport function readUint16(data, offset, options) {\n  assertEnoughData(data, offset, 2);\n  const value = data[offset] << 8 | data[offset + 1];\n  if (options.strict === true && value < uintBoundaries[1]) {\n    throw new Error(`${ decodeErrPrefix } integer encoded in more bytes than necessary (strict decode)`);\n  }\n  return value;\n}\nexport function readUint32(data, offset, options) {\n  assertEnoughData(data, offset, 4);\n  const value = data[offset] * 16777216 + (data[offset + 1] << 16) + (data[offset + 2] << 8) + data[offset + 3];\n  if (options.strict === true && value < uintBoundaries[2]) {\n    throw new Error(`${ decodeErrPrefix } integer encoded in more bytes than necessary (strict decode)`);\n  }\n  return value;\n}\nexport function readUint64(data, offset, options) {\n  assertEnoughData(data, offset, 8);\n  const hi = data[offset] * 16777216 + (data[offset + 1] << 16) + (data[offset + 2] << 8) + data[offset + 3];\n  const lo = data[offset + 4] * 16777216 + (data[offset + 5] << 16) + (data[offset + 6] << 8) + data[offset + 7];\n  const value = (BigInt(hi) << BigInt(32)) + BigInt(lo);\n  if (options.strict === true && value < uintBoundaries[3]) {\n    throw new Error(`${ decodeErrPrefix } integer encoded in more bytes than necessary (strict decode)`);\n  }\n  if (value <= Number.MAX_SAFE_INTEGER) {\n    return Number(value);\n  }\n  if (options.allowBigInt === true) {\n    return value;\n  }\n  throw new Error(`${ decodeErrPrefix } integers outside of the safe integer range are not supported`);\n}\nexport function decodeUint8(data, pos, _minor, options) {\n  return new Token(Type.uint, readUint8(data, pos + 1, options), 2);\n}\nexport function decodeUint16(data, pos, _minor, options) {\n  return new Token(Type.uint, readUint16(data, pos + 1, options), 3);\n}\nexport function decodeUint32(data, pos, _minor, options) {\n  return new Token(Type.uint, readUint32(data, pos + 1, options), 5);\n}\nexport function decodeUint64(data, pos, _minor, options) {\n  return new Token(Type.uint, readUint64(data, pos + 1, options), 9);\n}\nexport function encodeUint(buf, token) {\n  return encodeUintValue(buf, 0, token.value);\n}\nexport function encodeUintValue(buf, major, uint) {\n  if (uint < uintBoundaries[0]) {\n    const nuint = Number(uint);\n    buf.push([major | nuint]);\n  } else if (uint < uintBoundaries[1]) {\n    const nuint = Number(uint);\n    buf.push([\n      major | 24,\n      nuint\n    ]);\n  } else if (uint < uintBoundaries[2]) {\n    const nuint = Number(uint);\n    buf.push([\n      major | 25,\n      nuint >>> 8,\n      nuint & 255\n    ]);\n  } else if (uint < uintBoundaries[3]) {\n    const nuint = Number(uint);\n    buf.push([\n      major | 26,\n      nuint >>> 24 & 255,\n      nuint >>> 16 & 255,\n      nuint >>> 8 & 255,\n      nuint & 255\n    ]);\n  } else {\n    const buint = BigInt(uint);\n    if (buint < uintBoundaries[4]) {\n      const set = [\n        major | 27,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0\n      ];\n      let lo = Number(buint & BigInt(4294967295));\n      let hi = Number(buint >> BigInt(32) & BigInt(4294967295));\n      set[8] = lo & 255;\n      lo = lo >> 8;\n      set[7] = lo & 255;\n      lo = lo >> 8;\n      set[6] = lo & 255;\n      lo = lo >> 8;\n      set[5] = lo & 255;\n      set[4] = hi & 255;\n      hi = hi >> 8;\n      set[3] = hi & 255;\n      hi = hi >> 8;\n      set[2] = hi & 255;\n      hi = hi >> 8;\n      set[1] = hi & 255;\n      buf.push(set);\n    } else {\n      throw new Error(`${ decodeErrPrefix } encountered BigInt larger than allowable range`);\n    }\n  }\n}\nencodeUint.encodedSize = function encodedSize(token) {\n  return encodeUintValue.encodedSize(token.value);\n};\nencodeUintValue.encodedSize = function encodedSize(uint) {\n  if (uint < uintBoundaries[0]) {\n    return 1;\n  }\n  if (uint < uintBoundaries[1]) {\n    return 2;\n  }\n  if (uint < uintBoundaries[2]) {\n    return 3;\n  }\n  if (uint < uintBoundaries[3]) {\n    return 5;\n  }\n  return 9;\n};\nencodeUint.compareTokens = function compareTokens(tok1, tok2) {\n  return tok1.value < tok2.value ? -1 : tok1.value > tok2.value ? 1 : 0;\n};", "import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nimport { decodeErrPrefix } from './common.js';\nexport function decodeNegint8(data, pos, _minor, options) {\n  return new Token(Type.negint, -1 - uint.readUint8(data, pos + 1, options), 2);\n}\nexport function decodeNegint16(data, pos, _minor, options) {\n  return new Token(Type.negint, -1 - uint.readUint16(data, pos + 1, options), 3);\n}\nexport function decodeNegint32(data, pos, _minor, options) {\n  return new Token(Type.negint, -1 - uint.readUint32(data, pos + 1, options), 5);\n}\nconst neg1b = BigInt(-1);\nconst pos1b = BigInt(1);\nexport function decodeNegint64(data, pos, _minor, options) {\n  const int = uint.readUint64(data, pos + 1, options);\n  if (typeof int !== 'bigint') {\n    const value = -1 - int;\n    if (value >= Number.MIN_SAFE_INTEGER) {\n      return new Token(Type.negint, value, 9);\n    }\n  }\n  if (options.allowBigInt !== true) {\n    throw new Error(`${ decodeErrPrefix } integers outside of the safe integer range are not supported`);\n  }\n  return new Token(Type.negint, neg1b - BigInt(int), 9);\n}\nexport function encodeNegint(buf, token) {\n  const negint = token.value;\n  const unsigned = typeof negint === 'bigint' ? negint * neg1b - pos1b : negint * -1 - 1;\n  uint.encodeUintValue(buf, token.type.majorEncoded, unsigned);\n}\nencodeNegint.encodedSize = function encodedSize(token) {\n  const negint = token.value;\n  const unsigned = typeof negint === 'bigint' ? negint * neg1b - pos1b : negint * -1 - 1;\n  if (unsigned < uint.uintBoundaries[0]) {\n    return 1;\n  }\n  if (unsigned < uint.uintBoundaries[1]) {\n    return 2;\n  }\n  if (unsigned < uint.uintBoundaries[2]) {\n    return 3;\n  }\n  if (unsigned < uint.uintBoundaries[3]) {\n    return 5;\n  }\n  return 9;\n};\nencodeNegint.compareTokens = function compareTokens(tok1, tok2) {\n  return tok1.value < tok2.value ? 1 : tok1.value > tok2.value ? -1 : 0;\n};", "import {\n  Token,\n  Type\n} from './token.js';\nimport {\n  assertEnoughData,\n  decodeErrPrefix\n} from './common.js';\nimport * as uint from './0uint.js';\nimport {\n  compare,\n  fromString,\n  slice\n} from './byte-utils.js';\nfunction toToken(data, pos, prefix, length) {\n  assertEnoughData(data, pos, prefix + length);\n  const buf = slice(data, pos + prefix, pos + prefix + length);\n  return new Token(Type.bytes, buf, prefix + length);\n}\nexport function decodeBytesCompact(data, pos, minor, _options) {\n  return toToken(data, pos, 1, minor);\n}\nexport function decodeBytes8(data, pos, _minor, options) {\n  return toToken(data, pos, 2, uint.readUint8(data, pos + 1, options));\n}\nexport function decodeBytes16(data, pos, _minor, options) {\n  return toToken(data, pos, 3, uint.readUint16(data, pos + 1, options));\n}\nexport function decodeBytes32(data, pos, _minor, options) {\n  return toToken(data, pos, 5, uint.readUint32(data, pos + 1, options));\n}\nexport function decodeBytes64(data, pos, _minor, options) {\n  const l = uint.readUint64(data, pos + 1, options);\n  if (typeof l === 'bigint') {\n    throw new Error(`${ decodeErrPrefix } 64-bit integer bytes lengths not supported`);\n  }\n  return toToken(data, pos, 9, l);\n}\nfunction tokenBytes(token) {\n  if (token.encodedBytes === undefined) {\n    token.encodedBytes = token.type === Type.string ? fromString(token.value) : token.value;\n  }\n  return token.encodedBytes;\n}\nexport function encodeBytes(buf, token) {\n  const bytes = tokenBytes(token);\n  uint.encodeUintValue(buf, token.type.majorEncoded, bytes.length);\n  buf.push(bytes);\n}\nencodeBytes.encodedSize = function encodedSize(token) {\n  const bytes = tokenBytes(token);\n  return uint.encodeUintValue.encodedSize(bytes.length) + bytes.length;\n};\nencodeBytes.compareTokens = function compareTokens(tok1, tok2) {\n  return compareBytes(tokenBytes(tok1), tokenBytes(tok2));\n};\nexport function compareBytes(b1, b2) {\n  return b1.length < b2.length ? -1 : b1.length > b2.length ? 1 : compare(b1, b2);\n}", "import {\n  Token,\n  Type\n} from './token.js';\nimport {\n  assertEnoughData,\n  decodeErrPrefix\n} from './common.js';\nimport * as uint from './0uint.js';\nimport { encodeBytes } from './2bytes.js';\nimport {\n  toString,\n  slice\n} from './byte-utils.js';\nfunction toToken(data, pos, prefix, length, options) {\n  const totLength = prefix + length;\n  assertEnoughData(data, pos, totLength);\n  const tok = new Token(Type.string, toString(data, pos + prefix, pos + totLength), totLength);\n  if (options.retainStringBytes === true) {\n    tok.byteValue = slice(data, pos + prefix, pos + totLength);\n  }\n  return tok;\n}\nexport function decodeStringCompact(data, pos, minor, options) {\n  return toToken(data, pos, 1, minor, options);\n}\nexport function decodeString8(data, pos, _minor, options) {\n  return toToken(data, pos, 2, uint.readUint8(data, pos + 1, options), options);\n}\nexport function decodeString16(data, pos, _minor, options) {\n  return toToken(data, pos, 3, uint.readUint16(data, pos + 1, options), options);\n}\nexport function decodeString32(data, pos, _minor, options) {\n  return toToken(data, pos, 5, uint.readUint32(data, pos + 1, options), options);\n}\nexport function decodeString64(data, pos, _minor, options) {\n  const l = uint.readUint64(data, pos + 1, options);\n  if (typeof l === 'bigint') {\n    throw new Error(`${ decodeErrPrefix } 64-bit integer string lengths not supported`);\n  }\n  return toToken(data, pos, 9, l, options);\n}\nexport const encodeString = encodeBytes;", "import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nimport { decodeErrPrefix } from './common.js';\nfunction toToken(_data, _pos, prefix, length) {\n  return new Token(Type.array, length, prefix);\n}\nexport function decodeArrayCompact(data, pos, minor, _options) {\n  return toToken(data, pos, 1, minor);\n}\nexport function decodeArray8(data, pos, _minor, options) {\n  return toToken(data, pos, 2, uint.readUint8(data, pos + 1, options));\n}\nexport function decodeArray16(data, pos, _minor, options) {\n  return toToken(data, pos, 3, uint.readUint16(data, pos + 1, options));\n}\nexport function decodeArray32(data, pos, _minor, options) {\n  return toToken(data, pos, 5, uint.readUint32(data, pos + 1, options));\n}\nexport function decodeArray64(data, pos, _minor, options) {\n  const l = uint.readUint64(data, pos + 1, options);\n  if (typeof l === 'bigint') {\n    throw new Error(`${ decodeErrPrefix } 64-bit integer array lengths not supported`);\n  }\n  return toToken(data, pos, 9, l);\n}\nexport function decodeArrayIndefinite(data, pos, _minor, options) {\n  if (options.allowIndefinite === false) {\n    throw new Error(`${ decodeErrPrefix } indefinite length items not allowed`);\n  }\n  return toToken(data, pos, 1, Infinity);\n}\nexport function encodeArray(buf, token) {\n  uint.encodeUintValue(buf, Type.array.majorEncoded, token.value);\n}\nencodeArray.compareTokens = uint.encodeUint.compareTokens;\nencodeArray.encodedSize = function encodedSize(token) {\n  return uint.encodeUintValue.encodedSize(token.value);\n};", "import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nimport { decodeErrPrefix } from './common.js';\nfunction toToken(_data, _pos, prefix, length) {\n  return new Token(Type.map, length, prefix);\n}\nexport function decodeMapCompact(data, pos, minor, _options) {\n  return toToken(data, pos, 1, minor);\n}\nexport function decodeMap8(data, pos, _minor, options) {\n  return toToken(data, pos, 2, uint.readUint8(data, pos + 1, options));\n}\nexport function decodeMap16(data, pos, _minor, options) {\n  return toToken(data, pos, 3, uint.readUint16(data, pos + 1, options));\n}\nexport function decodeMap32(data, pos, _minor, options) {\n  return toToken(data, pos, 5, uint.readUint32(data, pos + 1, options));\n}\nexport function decodeMap64(data, pos, _minor, options) {\n  const l = uint.readUint64(data, pos + 1, options);\n  if (typeof l === 'bigint') {\n    throw new Error(`${ decodeErrPrefix } 64-bit integer map lengths not supported`);\n  }\n  return toToken(data, pos, 9, l);\n}\nexport function decodeMapIndefinite(data, pos, _minor, options) {\n  if (options.allowIndefinite === false) {\n    throw new Error(`${ decodeErrPrefix } indefinite length items not allowed`);\n  }\n  return toToken(data, pos, 1, Infinity);\n}\nexport function encodeMap(buf, token) {\n  uint.encodeUintValue(buf, Type.map.majorEncoded, token.value);\n}\nencodeMap.compareTokens = uint.encodeUint.compareTokens;\nencodeMap.encodedSize = function encodedSize(token) {\n  return uint.encodeUintValue.encodedSize(token.value);\n};", "import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nexport function decodeTagCompact(_data, _pos, minor, _options) {\n  return new Token(Type.tag, minor, 1);\n}\nexport function decodeTag8(data, pos, _minor, options) {\n  return new Token(Type.tag, uint.readUint8(data, pos + 1, options), 2);\n}\nexport function decodeTag16(data, pos, _minor, options) {\n  return new Token(Type.tag, uint.readUint16(data, pos + 1, options), 3);\n}\nexport function decodeTag32(data, pos, _minor, options) {\n  return new Token(Type.tag, uint.readUint32(data, pos + 1, options), 5);\n}\nexport function decodeTag64(data, pos, _minor, options) {\n  return new Token(Type.tag, uint.readUint64(data, pos + 1, options), 9);\n}\nexport function encodeTag(buf, token) {\n  uint.encodeUintValue(buf, Type.tag.majorEncoded, token.value);\n}\nencodeTag.compareTokens = uint.encodeUint.compareTokens;\nencodeTag.encodedSize = function encodedSize(token) {\n  return uint.encodeUintValue.encodedSize(token.value);\n};", "import {\n  Token,\n  Type\n} from './token.js';\nimport { decodeErrPrefix } from './common.js';\nimport { encodeUint } from './0uint.js';\nconst MINOR_FALSE = 20;\nconst MINOR_TRUE = 21;\nconst MINOR_NULL = 22;\nconst MINOR_UNDEFINED = 23;\nexport function decodeUndefined(_data, _pos, _minor, options) {\n  if (options.allowUndefined === false) {\n    throw new Error(`${ decodeErrPrefix } undefined values are not supported`);\n  } else if (options.coerceUndefinedToNull === true) {\n    return new Token(Type.null, null, 1);\n  }\n  return new Token(Type.undefined, undefined, 1);\n}\nexport function decodeBreak(_data, _pos, _minor, options) {\n  if (options.allowIndefinite === false) {\n    throw new Error(`${ decodeErrPrefix } indefinite length items not allowed`);\n  }\n  return new Token(Type.break, undefined, 1);\n}\nfunction createToken(value, bytes, options) {\n  if (options) {\n    if (options.allowNaN === false && Number.isNaN(value)) {\n      throw new Error(`${ decodeErrPrefix } NaN values are not supported`);\n    }\n    if (options.allowInfinity === false && (value === Infinity || value === -Infinity)) {\n      throw new Error(`${ decodeErrPrefix } Infinity values are not supported`);\n    }\n  }\n  return new Token(Type.float, value, bytes);\n}\nexport function decodeFloat16(data, pos, _minor, options) {\n  return createToken(readFloat16(data, pos + 1), 3, options);\n}\nexport function decodeFloat32(data, pos, _minor, options) {\n  return createToken(readFloat32(data, pos + 1), 5, options);\n}\nexport function decodeFloat64(data, pos, _minor, options) {\n  return createToken(readFloat64(data, pos + 1), 9, options);\n}\nexport function encodeFloat(buf, token, options) {\n  const float = token.value;\n  if (float === false) {\n    buf.push([Type.float.majorEncoded | MINOR_FALSE]);\n  } else if (float === true) {\n    buf.push([Type.float.majorEncoded | MINOR_TRUE]);\n  } else if (float === null) {\n    buf.push([Type.float.majorEncoded | MINOR_NULL]);\n  } else if (float === undefined) {\n    buf.push([Type.float.majorEncoded | MINOR_UNDEFINED]);\n  } else {\n    let decoded;\n    let success = false;\n    if (!options || options.float64 !== true) {\n      encodeFloat16(float);\n      decoded = readFloat16(ui8a, 1);\n      if (float === decoded || Number.isNaN(float)) {\n        ui8a[0] = 249;\n        buf.push(ui8a.slice(0, 3));\n        success = true;\n      } else {\n        encodeFloat32(float);\n        decoded = readFloat32(ui8a, 1);\n        if (float === decoded) {\n          ui8a[0] = 250;\n          buf.push(ui8a.slice(0, 5));\n          success = true;\n        }\n      }\n    }\n    if (!success) {\n      encodeFloat64(float);\n      decoded = readFloat64(ui8a, 1);\n      ui8a[0] = 251;\n      buf.push(ui8a.slice(0, 9));\n    }\n  }\n}\nencodeFloat.encodedSize = function encodedSize(token, options) {\n  const float = token.value;\n  if (float === false || float === true || float === null || float === undefined) {\n    return 1;\n  }\n  if (!options || options.float64 !== true) {\n    encodeFloat16(float);\n    let decoded = readFloat16(ui8a, 1);\n    if (float === decoded || Number.isNaN(float)) {\n      return 3;\n    }\n    encodeFloat32(float);\n    decoded = readFloat32(ui8a, 1);\n    if (float === decoded) {\n      return 5;\n    }\n  }\n  return 9;\n};\nconst buffer = new ArrayBuffer(9);\nconst dataView = new DataView(buffer, 1);\nconst ui8a = new Uint8Array(buffer, 0);\nfunction encodeFloat16(inp) {\n  if (inp === Infinity) {\n    dataView.setUint16(0, 31744, false);\n  } else if (inp === -Infinity) {\n    dataView.setUint16(0, 64512, false);\n  } else if (Number.isNaN(inp)) {\n    dataView.setUint16(0, 32256, false);\n  } else {\n    dataView.setFloat32(0, inp);\n    const valu32 = dataView.getUint32(0);\n    const exponent = (valu32 & 2139095040) >> 23;\n    const mantissa = valu32 & 8388607;\n    if (exponent === 255) {\n      dataView.setUint16(0, 31744, false);\n    } else if (exponent === 0) {\n      dataView.setUint16(0, (inp & 2147483648) >> 16 | mantissa >> 13, false);\n    } else {\n      const logicalExponent = exponent - 127;\n      if (logicalExponent < -24) {\n        dataView.setUint16(0, 0);\n      } else if (logicalExponent < -14) {\n        dataView.setUint16(0, (valu32 & 2147483648) >> 16 | 1 << 24 + logicalExponent, false);\n      } else {\n        dataView.setUint16(0, (valu32 & 2147483648) >> 16 | logicalExponent + 15 << 10 | mantissa >> 13, false);\n      }\n    }\n  }\n}\nfunction readFloat16(ui8a, pos) {\n  if (ui8a.length - pos < 2) {\n    throw new Error(`${ decodeErrPrefix } not enough data for float16`);\n  }\n  const half = (ui8a[pos] << 8) + ui8a[pos + 1];\n  if (half === 31744) {\n    return Infinity;\n  }\n  if (half === 64512) {\n    return -Infinity;\n  }\n  if (half === 32256) {\n    return NaN;\n  }\n  const exp = half >> 10 & 31;\n  const mant = half & 1023;\n  let val;\n  if (exp === 0) {\n    val = mant * 2 ** -24;\n  } else if (exp !== 31) {\n    val = (mant + 1024) * 2 ** (exp - 25);\n  } else {\n    val = mant === 0 ? Infinity : NaN;\n  }\n  return half & 32768 ? -val : val;\n}\nfunction encodeFloat32(inp) {\n  dataView.setFloat32(0, inp, false);\n}\nfunction readFloat32(ui8a, pos) {\n  if (ui8a.length - pos < 4) {\n    throw new Error(`${ decodeErrPrefix } not enough data for float32`);\n  }\n  const offset = (ui8a.byteOffset || 0) + pos;\n  return new DataView(ui8a.buffer, offset, 4).getFloat32(0, false);\n}\nfunction encodeFloat64(inp) {\n  dataView.setFloat64(0, inp, false);\n}\nfunction readFloat64(ui8a, pos) {\n  if (ui8a.length - pos < 8) {\n    throw new Error(`${ decodeErrPrefix } not enough data for float64`);\n  }\n  const offset = (ui8a.byteOffset || 0) + pos;\n  return new DataView(ui8a.buffer, offset, 8).getFloat64(0, false);\n}\nencodeFloat.compareTokens = encodeUint.compareTokens;", "import { decodeErrPrefix } from './common.js';\nimport { Type } from './token.js';\nimport {\n  jump,\n  quick\n} from './jump.js';\nconst defaultDecodeOptions = {\n  strict: false,\n  allowIndefinite: true,\n  allowUndefined: true,\n  allowBigInt: true\n};\nclass Tokeniser {\n  constructor(data, options = {}) {\n    this.pos = 0;\n    this.data = data;\n    this.options = options;\n  }\n  done() {\n    return this.pos >= this.data.length;\n  }\n  next() {\n    const byt = this.data[this.pos];\n    let token = quick[byt];\n    if (token === undefined) {\n      const decoder = jump[byt];\n      if (!decoder) {\n        throw new Error(`${ decodeErrPrefix } no decoder for major type ${ byt >>> 5 } (byte 0x${ byt.toString(16).padStart(2, '0') })`);\n      }\n      const minor = byt & 31;\n      token = decoder(this.data, this.pos, minor, this.options);\n    }\n    this.pos += token.encodedLength;\n    return token;\n  }\n}\nconst DONE = Symbol.for('DONE');\nconst BREAK = Symbol.for('BREAK');\nfunction tokenToArray(token, tokeniser, options) {\n  const arr = [];\n  for (let i = 0; i < token.value; i++) {\n    const value = tokensToObject(tokeniser, options);\n    if (value === BREAK) {\n      if (token.value === Infinity) {\n        break;\n      }\n      throw new Error(`${ decodeErrPrefix } got unexpected break to lengthed array`);\n    }\n    if (value === DONE) {\n      throw new Error(`${ decodeErrPrefix } found array but not enough entries (got ${ i }, expected ${ token.value })`);\n    }\n    arr[i] = value;\n  }\n  return arr;\n}\nfunction tokenToMap(token, tokeniser, options) {\n  const useMaps = options.useMaps === true;\n  const obj = useMaps ? undefined : {};\n  const m = useMaps ? new Map() : undefined;\n  for (let i = 0; i < token.value; i++) {\n    const key = tokensToObject(tokeniser, options);\n    if (key === BREAK) {\n      if (token.value === Infinity) {\n        break;\n      }\n      throw new Error(`${ decodeErrPrefix } got unexpected break to lengthed map`);\n    }\n    if (key === DONE) {\n      throw new Error(`${ decodeErrPrefix } found map but not enough entries (got ${ i } [no key], expected ${ token.value })`);\n    }\n    if (useMaps !== true && typeof key !== 'string') {\n      throw new Error(`${ decodeErrPrefix } non-string keys not supported (got ${ typeof key })`);\n    }\n    const value = tokensToObject(tokeniser, options);\n    if (value === DONE) {\n      throw new Error(`${ decodeErrPrefix } found map but not enough entries (got ${ i } [no value], expected ${ token.value })`);\n    }\n    if (useMaps) {\n      m.set(key, value);\n    } else {\n      obj[key] = value;\n    }\n  }\n  return useMaps ? m : obj;\n}\nfunction tokensToObject(tokeniser, options) {\n  if (tokeniser.done()) {\n    return DONE;\n  }\n  const token = tokeniser.next();\n  if (token.type === Type.break) {\n    return BREAK;\n  }\n  if (token.type.terminal) {\n    return token.value;\n  }\n  if (token.type === Type.array) {\n    return tokenToArray(token, tokeniser, options);\n  }\n  if (token.type === Type.map) {\n    return tokenToMap(token, tokeniser, options);\n  }\n  if (token.type === Type.tag) {\n    if (options.tags && typeof options.tags[token.value] === 'function') {\n      const tagged = tokensToObject(tokeniser, options);\n      return options.tags[token.value](tagged);\n    }\n    throw new Error(`${ decodeErrPrefix } tag not supported (${ token.value })`);\n  }\n  throw new Error('unsupported');\n}\nfunction decode(data, options) {\n  if (!(data instanceof Uint8Array)) {\n    throw new Error(`${ decodeErrPrefix } data to decode must be a Uint8Array`);\n  }\n  options = Object.assign({}, defaultDecodeOptions, options);\n  const tokeniser = options.tokenizer || new Tokeniser(data, options);\n  const decoded = tokensToObject(tokeniser, options);\n  if (decoded === DONE) {\n    throw new Error(`${ decodeErrPrefix } did not find any content to decode`);\n  }\n  if (decoded === BREAK) {\n    throw new Error(`${ decodeErrPrefix } got unexpected break`);\n  }\n  if (!tokeniser.done()) {\n    throw new Error(`${ decodeErrPrefix } too many terminals, data makes no sense`);\n  }\n  return decoded;\n}\nexport {\n  Tokeniser,\n  tokensToObject,\n  decode\n};", "import {\n  makeCborEncoders,\n  objectToTokens\n} from './encode.js';\nimport { quickEncodeToken } from './jump.js';\nconst cborEncoders = makeCborEncoders();\nconst defaultEncodeOptions = {\n  float64: false,\n  quickEncodeToken\n};\nexport function encodedLength(data, options) {\n  options = Object.assign({}, defaultEncodeOptions, options);\n  options.mapSorter = undefined;\n  const tokens = objectToTokens(data, options);\n  return tokensToLength(tokens, cborEncoders, options);\n}\nexport function tokensToLength(tokens, encoders = cborEncoders, options = defaultEncodeOptions) {\n  if (Array.isArray(tokens)) {\n    let len = 0;\n    for (const token of tokens) {\n      len += tokensToLength(token, encoders, options);\n    }\n    return len;\n  } else {\n    const encoder = encoders[tokens.type.major];\n    if (encoder.encodedSize === undefined || typeof encoder.encodedSize !== 'function') {\n      throw new Error(`Encoder for ${ tokens.type.name } does not have an encodedSize()`);\n    }\n    return encoder.encodedSize(tokens, options);\n  }\n}", "import * as cborg from 'cborg';\nimport { CID } from 'multiformats/cid';\nconst CID_CBOR_TAG = 42;\nfunction cidEncoder(obj) {\n  if (obj.asCID !== obj) {\n    return null;\n  }\n  const cid = CID.asCID(obj);\n  if (!cid) {\n    return null;\n  }\n  const bytes = new Uint8Array(cid.bytes.byteLength + 1);\n  bytes.set(cid.bytes, 1);\n  return [\n    new cborg.Token(cborg.Type.tag, CID_CBOR_TAG),\n    new cborg.Token(cborg.Type.bytes, bytes)\n  ];\n}\nfunction undefinedEncoder() {\n  throw new Error('`undefined` is not supported by the IPLD Data Model and cannot be encoded');\n}\nfunction numberEncoder(num) {\n  if (Number.isNaN(num)) {\n    throw new Error('`NaN` is not supported by the IPLD Data Model and cannot be encoded');\n  }\n  if (num === Infinity || num === -Infinity) {\n    throw new Error('`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded');\n  }\n  return null;\n}\nconst encodeOptions = {\n  float64: true,\n  typeEncoders: {\n    Object: cidEncoder,\n    undefined: undefinedEncoder,\n    number: numberEncoder\n  }\n};\nfunction cidDecoder(bytes) {\n  if (bytes[0] !== 0) {\n    throw new Error('Invalid CID for CBOR tag 42; expected leading 0x00');\n  }\n  return CID.decode(bytes.subarray(1));\n}\nconst decodeOptions = {\n  allowIndefinite: false,\n  coerceUndefinedToNull: true,\n  allowNaN: false,\n  allowInfinity: false,\n  allowBigInt: true,\n  strict: true,\n  useMaps: false,\n  tags: []\n};\ndecodeOptions.tags[CID_CBOR_TAG] = cidDecoder;\nexport const name = 'dag-cbor';\nexport const code = 113;\nexport const encode = node => cborg.encode(node, encodeOptions);\nexport const decode = data => cborg.decode(data, decodeOptions);", "import { CarReader } from './lib/reader-browser.js';\nimport { CarIndexer } from './lib/indexer.js';\nimport {\n  CarBlockIterator,\n  CarCIDIterator\n} from './lib/iterator.js';\nimport { CarWriter } from './lib/writer-browser.js';\nimport { CarIndexedReader } from './lib/indexed-reader-browser.js';\nexport {\n  CarReader,\n  CarIndexer,\n  CarBlockIterator,\n  CarCIDIterator,\n  CarWriter,\n  CarIndexedReader\n};", "import {\n  asyncIterableReader,\n  bytesReader,\n  createDecoder\n} from './decoder.js';\nexport class CarReader {\n  constructor(header, blocks) {\n    this._header = header;\n    this._blocks = blocks;\n    this._keys = blocks.map(b => b.cid.toString());\n  }\n  get version() {\n    return this._header.version;\n  }\n  async getRoots() {\n    return this._header.roots;\n  }\n  async has(key) {\n    return this._keys.indexOf(key.toString()) > -1;\n  }\n  async get(key) {\n    const index = this._keys.indexOf(key.toString());\n    return index > -1 ? this._blocks[index] : undefined;\n  }\n  async *blocks() {\n    for (const block of this._blocks) {\n      yield block;\n    }\n  }\n  async *cids() {\n    for (const block of this._blocks) {\n      yield block.cid;\n    }\n  }\n  static async fromBytes(bytes) {\n    if (!(bytes instanceof Uint8Array)) {\n      throw new TypeError('fromBytes() requires a Uint8Array');\n    }\n    return decodeReaderComplete(bytesReader(bytes));\n  }\n  static async fromIterable(asyncIterable) {\n    if (!asyncIterable || !(typeof asyncIterable[Symbol.asyncIterator] === 'function')) {\n      throw new TypeError('fromIterable() requires an async iterable');\n    }\n    return decodeReaderComplete(asyncIterableReader(asyncIterable));\n  }\n}\nexport async function decodeReaderComplete(reader) {\n  const decoder = createDecoder(reader);\n  const header = await decoder.header();\n  const blocks = [];\n  for await (const block of decoder.blocks()) {\n    blocks.push(block);\n  }\n  return new CarReader(header, blocks);\n}\nexport const __browser = true;", "import varint from 'varint';\nimport { CID } from 'multiformats/cid';\nimport * as Digest from 'multiformats/hashes/digest';\nimport { decode as decodeDagCbor } from '@ipld/dag-cbor';\nimport { CarHeader as headerValidator } from './header-validator.js';\nconst CIDV0_BYTES = {\n  SHA2_256: 18,\n  LENGTH: 32,\n  DAG_PB: 112\n};\nconst V2_HEADER_LENGTH = 16 + 8 + 8 + 8;\nasync function readVarint(reader) {\n  const bytes = await reader.upTo(8);\n  if (!bytes.length) {\n    throw new Error('Unexpected end of data');\n  }\n  const i = varint.decode(bytes);\n  reader.seek(varint.decode.bytes);\n  return i;\n}\nasync function readV2Header(reader) {\n  const bytes = await reader.exactly(V2_HEADER_LENGTH);\n  const dv = new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);\n  let offset = 0;\n  const header = {\n    version: 2,\n    characteristics: [\n      dv.getBigUint64(offset, true),\n      dv.getBigUint64(offset += 8, true)\n    ],\n    dataOffset: Number(dv.getBigUint64(offset += 8, true)),\n    dataSize: Number(dv.getBigUint64(offset += 8, true)),\n    indexOffset: Number(dv.getBigUint64(offset += 8, true))\n  };\n  reader.seek(V2_HEADER_LENGTH);\n  return header;\n}\nexport async function readHeader(reader, strictVersion) {\n  const length = await readVarint(reader);\n  if (length === 0) {\n    throw new Error('Invalid CAR header (zero length)');\n  }\n  const header = await reader.exactly(length);\n  reader.seek(length);\n  const block = decodeDagCbor(header);\n  if (!headerValidator(block)) {\n    throw new Error('Invalid CAR header format');\n  }\n  if (block.version !== 1 && block.version !== 2 || strictVersion !== undefined && block.version !== strictVersion) {\n    throw new Error(`Invalid CAR version: ${ block.version }${ strictVersion !== undefined ? ` (expected ${ strictVersion })` : '' }`);\n  }\n  const hasRoots = Array.isArray(block.roots);\n  if (block.version === 1 && !hasRoots || block.version === 2 && hasRoots) {\n    throw new Error('Invalid CAR header format');\n  }\n  if (block.version === 1) {\n    return block;\n  }\n  const v2Header = await readV2Header(reader);\n  reader.seek(v2Header.dataOffset - reader.pos);\n  const v1Header = await readHeader(reader, 1);\n  return Object.assign(v1Header, v2Header);\n}\nasync function readMultihash(reader) {\n  const bytes = await reader.upTo(8);\n  varint.decode(bytes);\n  const codeLength = varint.decode.bytes;\n  const length = varint.decode(bytes.subarray(varint.decode.bytes));\n  const lengthLength = varint.decode.bytes;\n  const mhLength = codeLength + lengthLength + length;\n  const multihash = await reader.exactly(mhLength);\n  reader.seek(mhLength);\n  return multihash;\n}\nasync function readCid(reader) {\n  const first = await reader.exactly(2);\n  if (first[0] === CIDV0_BYTES.SHA2_256 && first[1] === CIDV0_BYTES.LENGTH) {\n    const bytes = await reader.exactly(34);\n    reader.seek(34);\n    const multihash = Digest.decode(bytes);\n    return CID.create(0, CIDV0_BYTES.DAG_PB, multihash);\n  }\n  const version = await readVarint(reader);\n  if (version !== 1) {\n    throw new Error(`Unexpected CID version (${ version })`);\n  }\n  const codec = await readVarint(reader);\n  const bytes = await readMultihash(reader);\n  const multihash = Digest.decode(bytes);\n  return CID.create(version, codec, multihash);\n}\nexport async function readBlockHead(reader) {\n  const start = reader.pos;\n  let length = await readVarint(reader);\n  if (length === 0) {\n    throw new Error('Invalid CAR section (zero length)');\n  }\n  length += reader.pos - start;\n  const cid = await readCid(reader);\n  const blockLength = length - Number(reader.pos - start);\n  return {\n    cid,\n    length,\n    blockLength\n  };\n}\nasync function readBlock(reader) {\n  const {cid, blockLength} = await readBlockHead(reader);\n  const bytes = await reader.exactly(blockLength);\n  reader.seek(blockLength);\n  return {\n    bytes,\n    cid\n  };\n}\nasync function readBlockIndex(reader) {\n  const offset = reader.pos;\n  const {cid, length, blockLength} = await readBlockHead(reader);\n  const index = {\n    cid,\n    length,\n    blockLength,\n    offset,\n    blockOffset: reader.pos\n  };\n  reader.seek(index.blockLength);\n  return index;\n}\nexport function createDecoder(reader) {\n  const headerPromise = (async () => {\n    const header = await readHeader(reader);\n    if (header.version === 2) {\n      const v1length = reader.pos - header.dataOffset;\n      reader = limitReader(reader, header.dataSize - v1length);\n    }\n    return header;\n  })();\n  return {\n    header: () => headerPromise,\n    async *blocks() {\n      await headerPromise;\n      while ((await reader.upTo(8)).length > 0) {\n        yield await readBlock(reader);\n      }\n    },\n    async *blocksIndex() {\n      await headerPromise;\n      while ((await reader.upTo(8)).length > 0) {\n        yield await readBlockIndex(reader);\n      }\n    }\n  };\n}\nexport function bytesReader(bytes) {\n  let pos = 0;\n  return {\n    async upTo(length) {\n      return bytes.subarray(pos, pos + Math.min(length, bytes.length - pos));\n    },\n    async exactly(length) {\n      if (length > bytes.length - pos) {\n        throw new Error('Unexpected end of data');\n      }\n      return bytes.subarray(pos, pos + length);\n    },\n    seek(length) {\n      pos += length;\n    },\n    get pos() {\n      return pos;\n    }\n  };\n}\nexport function chunkReader(readChunk) {\n  let pos = 0;\n  let have = 0;\n  let offset = 0;\n  let currentChunk = new Uint8Array(0);\n  const read = async length => {\n    have = currentChunk.length - offset;\n    const bufa = [currentChunk.subarray(offset)];\n    while (have < length) {\n      const chunk = await readChunk();\n      if (chunk == null) {\n        break;\n      }\n      if (have < 0) {\n        if (chunk.length > have) {\n          bufa.push(chunk.subarray(-have));\n        }\n      } else {\n        bufa.push(chunk);\n      }\n      have += chunk.length;\n    }\n    currentChunk = new Uint8Array(bufa.reduce((p, c) => p + c.length, 0));\n    let off = 0;\n    for (const b of bufa) {\n      currentChunk.set(b, off);\n      off += b.length;\n    }\n    offset = 0;\n  };\n  return {\n    async upTo(length) {\n      if (currentChunk.length - offset < length) {\n        await read(length);\n      }\n      return currentChunk.subarray(offset, offset + Math.min(currentChunk.length - offset, length));\n    },\n    async exactly(length) {\n      if (currentChunk.length - offset < length) {\n        await read(length);\n      }\n      if (currentChunk.length - offset < length) {\n        throw new Error('Unexpected end of data');\n      }\n      return currentChunk.subarray(offset, offset + length);\n    },\n    seek(length) {\n      pos += length;\n      offset += length;\n    },\n    get pos() {\n      return pos;\n    }\n  };\n}\nexport function asyncIterableReader(asyncIterable) {\n  const iterator = asyncIterable[Symbol.asyncIterator]();\n  async function readChunk() {\n    const next = await iterator.next();\n    if (next.done) {\n      return null;\n    }\n    return next.value;\n  }\n  return chunkReader(readChunk);\n}\nexport function limitReader(reader, byteLimit) {\n  let bytesRead = 0;\n  return {\n    async upTo(length) {\n      let bytes = await reader.upTo(length);\n      if (bytes.length + bytesRead > byteLimit) {\n        bytes = bytes.subarray(0, byteLimit - bytesRead);\n      }\n      return bytes;\n    },\n    async exactly(length) {\n      const bytes = await reader.exactly(length);\n      if (bytes.length + bytesRead > byteLimit) {\n        throw new Error('Unexpected end of data');\n      }\n      return bytes;\n    },\n    seek(length) {\n      bytesRead += length;\n      reader.seek(length);\n    },\n    get pos() {\n      return reader.pos;\n    }\n  };\n}", "const Kinds = {\n  Null: obj => obj === null,\n  Int: obj => Number.isInteger(obj),\n  Float: obj => typeof obj === 'number' && Number.isFinite(obj),\n  String: obj => typeof obj === 'string',\n  Bool: obj => typeof obj === 'boolean',\n  Bytes: obj => obj instanceof Uint8Array,\n  Link: obj => !Kinds.Null(obj) && typeof obj === 'object' && obj.asCID === obj,\n  List: obj => Array.isArray(obj),\n  Map: obj => !Kinds.Null(obj) && typeof obj === 'object' && obj.asCID !== obj && !Kinds.List(obj) && !Kinds.Bytes(obj)\n};\nconst Types = {\n  Int: Kinds.Int,\n  'CarHeader > version': obj => Types.Int(obj),\n  'CarHeader > roots (anon) > valueType (anon)': Kinds.Link,\n  'CarHeader > roots (anon)': obj => Kinds.List(obj) && Array.prototype.every.call(obj, Types['CarHeader > roots (anon) > valueType (anon)']),\n  'CarHeader > roots': obj => Types['CarHeader > roots (anon)'](obj),\n  CarHeader: obj => {\n    const keys = obj && Object.keys(obj);\n    return Kinds.Map(obj) && ['version'].every(k => keys.includes(k)) && Object.entries(obj).every(([name, value]) => Types['CarHeader > ' + name] && Types['CarHeader > ' + name](value));\n  }\n};\nexport const CarHeader = Types.CarHeader;", "import {\n  asyncIterableReader,\n  bytesReader,\n  createDecoder\n} from './decoder.js';\nexport class CarIndexer {\n  constructor(version, roots, iterator) {\n    this._version = version;\n    this._roots = roots;\n    this._iterator = iterator;\n  }\n  get version() {\n    return this._version;\n  }\n  async getRoots() {\n    return this._roots;\n  }\n  [Symbol.asyncIterator]() {\n    return this._iterator;\n  }\n  static async fromBytes(bytes) {\n    if (!(bytes instanceof Uint8Array)) {\n      throw new TypeError('fromBytes() requires a Uint8Array');\n    }\n    return decodeIndexerComplete(bytesReader(bytes));\n  }\n  static async fromIterable(asyncIterable) {\n    if (!asyncIterable || !(typeof asyncIterable[Symbol.asyncIterator] === 'function')) {\n      throw new TypeError('fromIterable() requires an async iterable');\n    }\n    return decodeIndexerComplete(asyncIterableReader(asyncIterable));\n  }\n}\nasync function decodeIndexerComplete(reader) {\n  const decoder = createDecoder(reader);\n  const {version, roots} = await decoder.header();\n  return new CarIndexer(version, roots, decoder.blocksIndex());\n}", "import {\n  asyncIterableReader,\n  bytesReader,\n  createDecoder\n} from './decoder.js';\nexport class CarIteratorBase {\n  constructor(version, roots, iterable) {\n    this._version = version;\n    this._roots = roots;\n    this._iterable = iterable;\n    this._decoded = false;\n  }\n  get version() {\n    return this._version;\n  }\n  async getRoots() {\n    return this._roots;\n  }\n}\nexport class CarBlockIterator extends CarIteratorBase {\n  [Symbol.asyncIterator]() {\n    if (this._decoded) {\n      throw new Error('Cannot decode more than once');\n    }\n    if (!this._iterable) {\n      throw new Error('Block iterable not found');\n    }\n    this._decoded = true;\n    return this._iterable[Symbol.asyncIterator]();\n  }\n  static async fromBytes(bytes) {\n    const {version, roots, iterator} = await fromBytes(bytes);\n    return new CarBlockIterator(version, roots, iterator);\n  }\n  static async fromIterable(asyncIterable) {\n    const {version, roots, iterator} = await fromIterable(asyncIterable);\n    return new CarBlockIterator(version, roots, iterator);\n  }\n}\nexport class CarCIDIterator extends CarIteratorBase {\n  [Symbol.asyncIterator]() {\n    if (this._decoded) {\n      throw new Error('Cannot decode more than once');\n    }\n    if (!this._iterable) {\n      throw new Error('Block iterable not found');\n    }\n    this._decoded = true;\n    const iterable = this._iterable[Symbol.asyncIterator]();\n    return {\n      async next() {\n        const next = await iterable.next();\n        if (next.done) {\n          return next;\n        }\n        return {\n          done: false,\n          value: next.value.cid\n        };\n      }\n    };\n  }\n  static async fromBytes(bytes) {\n    const {version, roots, iterator} = await fromBytes(bytes);\n    return new CarCIDIterator(version, roots, iterator);\n  }\n  static async fromIterable(asyncIterable) {\n    const {version, roots, iterator} = await fromIterable(asyncIterable);\n    return new CarCIDIterator(version, roots, iterator);\n  }\n}\nasync function fromBytes(bytes) {\n  if (!(bytes instanceof Uint8Array)) {\n    throw new TypeError('fromBytes() requires a Uint8Array');\n  }\n  return decodeIterator(bytesReader(bytes));\n}\nasync function fromIterable(asyncIterable) {\n  if (!asyncIterable || !(typeof asyncIterable[Symbol.asyncIterator] === 'function')) {\n    throw new TypeError('fromIterable() requires an async iterable');\n  }\n  return decodeIterator(asyncIterableReader(asyncIterable));\n}\nasync function decodeIterator(reader) {\n  const decoder = createDecoder(reader);\n  const {version, roots} = await decoder.header();\n  return {\n    version,\n    roots,\n    iterator: decoder.blocks()\n  };\n}", "import { CID } from 'multiformats/cid';\nimport {\n  createEncoder,\n  createHeader\n} from './encoder.js';\nimport { create as iteratorChannel } from './iterator-channel.js';\nimport {\n  bytesReader,\n  readHeader\n} from './decoder.js';\nexport class CarWriter {\n  constructor(roots, encoder) {\n    this._encoder = encoder;\n    this._mutex = encoder.setRoots(roots);\n    this._ended = false;\n  }\n  async put(block) {\n    if (!(block.bytes instanceof Uint8Array) || !block.cid) {\n      throw new TypeError('Can only write {cid, bytes} objects');\n    }\n    if (this._ended) {\n      throw new Error('Already closed');\n    }\n    const cid = CID.asCID(block.cid);\n    if (!cid) {\n      throw new TypeError('Can only write {cid, bytes} objects');\n    }\n    this._mutex = this._mutex.then(() => this._encoder.writeBlock({\n      cid,\n      bytes: block.bytes\n    }));\n    return this._mutex;\n  }\n  async close() {\n    if (this._ended) {\n      throw new Error('Already closed');\n    }\n    await this._mutex;\n    this._ended = true;\n    return this._encoder.close();\n  }\n  static create(roots) {\n    roots = toRoots(roots);\n    const {encoder, iterator} = encodeWriter();\n    const writer = new CarWriter(roots, encoder);\n    const out = new CarWriterOut(iterator);\n    return {\n      writer,\n      out\n    };\n  }\n  static createAppender() {\n    const {encoder, iterator} = encodeWriter();\n    encoder.setRoots = () => Promise.resolve();\n    const writer = new CarWriter([], encoder);\n    const out = new CarWriterOut(iterator);\n    return {\n      writer,\n      out\n    };\n  }\n  static async updateRootsInBytes(bytes, roots) {\n    const reader = bytesReader(bytes);\n    await readHeader(reader);\n    const newHeader = createHeader(roots);\n    if (Number(reader.pos) !== newHeader.length) {\n      throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${ reader.pos } bytes, new header is ${ newHeader.length } bytes)`);\n    }\n    bytes.set(newHeader, 0);\n    return bytes;\n  }\n}\nexport class CarWriterOut {\n  constructor(iterator) {\n    this._iterator = iterator;\n  }\n  [Symbol.asyncIterator]() {\n    if (this._iterating) {\n      throw new Error('Multiple iterator not supported');\n    }\n    this._iterating = true;\n    return this._iterator;\n  }\n}\nfunction encodeWriter() {\n  const iw = iteratorChannel();\n  const {writer, iterator} = iw;\n  const encoder = createEncoder(writer);\n  return {\n    encoder,\n    iterator\n  };\n}\nfunction toRoots(roots) {\n  if (roots === undefined) {\n    return [];\n  }\n  if (!Array.isArray(roots)) {\n    const cid = CID.asCID(roots);\n    if (!cid) {\n      throw new TypeError('roots must be a single CID or an array of CIDs');\n    }\n    return [cid];\n  }\n  const _roots = [];\n  for (const root of roots) {\n    const _root = CID.asCID(root);\n    if (!_root) {\n      throw new TypeError('roots must be a single CID or an array of CIDs');\n    }\n    _roots.push(_root);\n  }\n  return _roots;\n}\nexport const __browser = true;", "import varint from 'varint';\nimport { encode as dagCborEncode } from '@ipld/dag-cbor';\nexport function createHeader(roots) {\n  const headerBytes = dagCborEncode({\n    version: 1,\n    roots\n  });\n  const varintBytes = varint.encode(headerBytes.length);\n  const header = new Uint8Array(varintBytes.length + headerBytes.length);\n  header.set(varintBytes, 0);\n  header.set(headerBytes, varintBytes.length);\n  return header;\n}\nfunction createEncoder(writer) {\n  return {\n    async setRoots(roots) {\n      const bytes = createHeader(roots);\n      await writer.write(bytes);\n    },\n    async writeBlock(block) {\n      const {cid, bytes} = block;\n      await writer.write(new Uint8Array(varint.encode(cid.bytes.length + bytes.length)));\n      await writer.write(cid.bytes);\n      if (bytes.length) {\n        await writer.write(bytes);\n      }\n    },\n    async close() {\n      await writer.end();\n    }\n  };\n}\nexport {\n  createEncoder\n};", "function noop() {\n}\nexport function create() {\n  const chunkQueue = [];\n  let drainer = null;\n  let drainerResolver = noop;\n  let ended = false;\n  let outWait = null;\n  let outWaitResolver = noop;\n  const makeDrainer = () => {\n    if (!drainer) {\n      drainer = new Promise(resolve => {\n        drainerResolver = () => {\n          drainer = null;\n          drainerResolver = noop;\n          resolve();\n        };\n      });\n    }\n    return drainer;\n  };\n  const writer = {\n    write(chunk) {\n      chunkQueue.push(chunk);\n      const drainer = makeDrainer();\n      outWaitResolver();\n      return drainer;\n    },\n    async end() {\n      ended = true;\n      const drainer = makeDrainer();\n      outWaitResolver();\n      await drainer;\n    }\n  };\n  const iterator = {\n    async next() {\n      const chunk = chunkQueue.shift();\n      if (chunk) {\n        if (chunkQueue.length === 0) {\n          drainerResolver();\n        }\n        return {\n          done: false,\n          value: chunk\n        };\n      }\n      if (ended) {\n        drainerResolver();\n        return {\n          done: true,\n          value: undefined\n        };\n      }\n      if (!outWait) {\n        outWait = new Promise(resolve => {\n          outWaitResolver = () => {\n            outWait = null;\n            outWaitResolver = noop;\n            return resolve(iterator.next());\n          };\n        });\n      }\n      return outWait;\n    }\n  };\n  return {\n    writer,\n    iterator\n  };\n}", "export class CarIndexedReader {\n  static async fromFile() {\n    throw new Error('Unsupported in this environment');\n  }\n}\nexport const __browser = true;", "import {\n  bytes as binary,\n  CID\n} from './index.js';\nconst readonly = ({enumerable = true, configurable = false} = {}) => ({\n  enumerable,\n  configurable,\n  writable: false\n});\nconst links = function* (source, base) {\n  if (source == null)\n    return;\n  if (source instanceof Uint8Array)\n    return;\n  for (const [key, value] of Object.entries(source)) {\n    const path = [\n      ...base,\n      key\n    ];\n    if (value != null && typeof value === 'object') {\n      if (Array.isArray(value)) {\n        for (const [index, element] of value.entries()) {\n          const elementPath = [\n            ...path,\n            index\n          ];\n          const cid = CID.asCID(element);\n          if (cid) {\n            yield [\n              elementPath.join('/'),\n              cid\n            ];\n          } else if (typeof element === 'object') {\n            yield* links(element, elementPath);\n          }\n        }\n      } else {\n        const cid = CID.asCID(value);\n        if (cid) {\n          yield [\n            path.join('/'),\n            cid\n          ];\n        } else {\n          yield* links(value, path);\n        }\n      }\n    }\n  }\n};\nconst tree = function* (source, base) {\n  if (source == null)\n    return;\n  for (const [key, value] of Object.entries(source)) {\n    const path = [\n      ...base,\n      key\n    ];\n    yield path.join('/');\n    if (value != null && !(value instanceof Uint8Array) && typeof value === 'object' && !CID.asCID(value)) {\n      if (Array.isArray(value)) {\n        for (const [index, element] of value.entries()) {\n          const elementPath = [\n            ...path,\n            index\n          ];\n          yield elementPath.join('/');\n          if (typeof element === 'object' && !CID.asCID(element)) {\n            yield* tree(element, elementPath);\n          }\n        }\n      } else {\n        yield* tree(value, path);\n      }\n    }\n  }\n};\nconst get = (source, path) => {\n  let node = source;\n  for (const [index, key] of path.entries()) {\n    node = node[key];\n    if (node == null) {\n      throw new Error(`Object has no property at ${ path.slice(0, index + 1).map(part => `[${ JSON.stringify(part) }]`).join('') }`);\n    }\n    const cid = CID.asCID(node);\n    if (cid) {\n      return {\n        value: cid,\n        remaining: path.slice(index + 1).join('/')\n      };\n    }\n  }\n  return { value: node };\n};\nclass Block {\n  constructor({cid, bytes, value}) {\n    if (!cid || !bytes || typeof value === 'undefined')\n      throw new Error('Missing required argument');\n    this.cid = cid;\n    this.bytes = bytes;\n    this.value = value;\n    this.asBlock = this;\n    Object.defineProperties(this, {\n      cid: readonly(),\n      bytes: readonly(),\n      value: readonly(),\n      asBlock: readonly()\n    });\n  }\n  links() {\n    return links(this.value, []);\n  }\n  tree() {\n    return tree(this.value, []);\n  }\n  get(path = '/') {\n    return get(this.value, path.split('/').filter(Boolean));\n  }\n}\nconst encode = async ({value, codec, hasher}) => {\n  if (typeof value === 'undefined')\n    throw new Error('Missing required argument \"value\"');\n  if (!codec || !hasher)\n    throw new Error('Missing required argument: codec or hasher');\n  const bytes = codec.encode(value);\n  const hash = await hasher.digest(bytes);\n  const cid = CID.create(1, codec.code, hash);\n  return new Block({\n    value,\n    bytes,\n    cid\n  });\n};\nconst decode = async ({bytes, codec, hasher}) => {\n  if (!bytes)\n    throw new Error('Missing required argument \"bytes\"');\n  if (!codec || !hasher)\n    throw new Error('Missing required argument: codec or hasher');\n  const value = codec.decode(bytes);\n  const hash = await hasher.digest(bytes);\n  const cid = CID.create(1, codec.code, hash);\n  return new Block({\n    value,\n    bytes,\n    cid\n  });\n};\nconst createUnsafe = ({\n  bytes,\n  cid,\n  value: maybeValue,\n  codec\n}) => {\n  const value = maybeValue !== undefined ? maybeValue : codec && codec.decode(bytes);\n  if (value === undefined)\n    throw new Error('Missing required argument, must either provide \"value\" or \"codec\"');\n  return new Block({\n    cid,\n    bytes,\n    value\n  });\n};\nconst create = async ({bytes, cid, hasher, codec}) => {\n  if (!bytes)\n    throw new Error('Missing required argument \"bytes\"');\n  if (!hasher)\n    throw new Error('Missing required argument \"hasher\"');\n  const value = codec.decode(bytes);\n  const hash = await hasher.digest(bytes);\n  if (!binary.equals(cid.multihash.bytes, hash.bytes)) {\n    throw new Error('CID hash does not match bytes');\n  }\n  return createUnsafe({\n    bytes,\n    cid,\n    value,\n    codec\n  });\n};\nexport {\n  encode,\n  decode,\n  create,\n  createUnsafe,\n  Block\n};", "export type EventType = string | symbol;\n\n// An event handler can take an optional event argument\n// and should not return a value\nexport type Handler<T = unknown> = (event: T) => void;\nexport type WildcardHandler<T = Record<string, unknown>> = (\n\ttype: keyof T,\n\tevent: T[keyof T]\n) => void;\n\n// An array of all currently registered event handlers for a type\nexport type EventHandlerList<T = unknown> = Array<Handler<T>>;\nexport type WildCardEventHandlerList<T = Record<string, unknown>> = Array<WildcardHandler<T>>;\n\n// A map of event types and their corresponding event handlers.\nexport type EventHandlerMap<Events extends Record<EventType, unknown>> = Map<\n\tkeyof Events | '*',\n\tEventHandlerList<Events[keyof Events]> | WildCardEventHandlerList<Events>\n>;\n\nexport interface Emitter<Events extends Record<EventType, unknown>> {\n\tall: EventHandlerMap<Events>;\n\n\ton<Key extends keyof Events>(type: Key, handler: Handler<Events[Key]>): void;\n\ton(type: '*', handler: WildcardHandler<Events>): void;\n\n\toff<Key extends keyof Events>(type: Key, handler?: Handler<Events[Key]>): void;\n\toff(type: '*', handler: WildcardHandler<Events>): void;\n\n\temit<Key extends keyof Events>(type: Key, event: Events[Key]): void;\n\temit<Key extends keyof Events>(type: undefined extends Events[Key] ? Key : never): void;\n}\n\n/**\n * Mitt: Tiny (~200b) functional event emitter / pubsub.\n * @name mitt\n * @returns {Mitt}\n */\nexport default function mitt<Events extends Record<EventType, unknown>>(\n\tall?: EventHandlerMap<Events>\n): Emitter<Events> {\n\ttype GenericEventHandler =\n\t\t| Handler<Events[keyof Events]>\n\t\t| WildcardHandler<Events>;\n\tall = all || new Map();\n\n\treturn {\n\n\t\t/**\n\t\t * A Map of event names to registered handler functions.\n\t\t */\n\t\tall,\n\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t * @param {string|symbol} type Type of event to listen for, or `'*'` for all events\n\t\t * @param {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton<Key extends keyof Events>(type: Key, handler: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\thandlers.push(handler);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tall!.set(type, [handler] as EventHandlerList<Events[keyof Events]>);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t * If `handler` is omitted, all handlers of the given type are removed.\n\t\t * @param {string|symbol} type Type of event to unregister `handler` from, or `'*'`\n\t\t * @param {Function} [handler] Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff<Key extends keyof Events>(type: Key, handler?: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\tif (handler) {\n\t\t\t\t\thandlers.splice(handlers.indexOf(handler) >>> 0, 1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tall!.set(type, []);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `'*'` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * Note: Manually firing '*' handlers is not supported.\n\t\t *\n\t\t * @param {string|symbol} type The event type to invoke\n\t\t * @param {Any} [evt] Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit<Key extends keyof Events>(type: Key, evt?: Events[Key]) {\n\t\t\tlet handlers = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as EventHandlerList<Events[keyof Events]>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(evt!);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\thandlers = all!.get('*');\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as WildCardEventHandlerList<Events>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(type, evt!);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n", "// import { createRepo } from 'ipfs-core-config/src/repo.browser.js'; // breaks on build, mortice issue\r\nimport { createRepo as createBrowserIDB } from '../../node_modules/ipfs-core-config/src/repo.browser.js';\r\n// import { createRepo } from './modules/repo.browser.js'; // esbuilt in package.json\r\n\r\nimport { createRepo } from 'ipfs-repo';\r\n\r\n// import { DagAPI } from './modules/DagAPI/index.js'; // esbuilt, because self not defined in base64-js\r\nimport { DagAPI } from '../../node_modules/ipfs-core/src/components/dag/index'; // esbuilt, because self not defined in base64-js\r\n\r\n// import { PinAPI } from 'ipfs-core/src/components/pin/index';\r\n// import { BlockAPI } from 'ipfs-core/src/components/block/index';\r\nimport * as dagcbor from '@ipld/dag-cbor';\r\nimport * as raw from 'multiformats/codecs/raw';\r\nimport { sha256 } from 'multiformats/hashes/sha2';\r\nimport { identity } from 'multiformats/hashes/identity';\r\nimport { hashes, codecs } from 'multiformats/basics';\r\nimport * as dagCBOR from '@ipld/dag-cbor';\r\nimport * as dagJOSE from 'dag-jose';\r\nimport { Multicodecs } from 'ipfs-core-utils/multicodecs';\r\nimport { Multihashes } from 'ipfs-core-utils/multihashes';\r\nimport { makeIterable } from './utils';\r\nimport all from 'it-all';\r\nimport mitt from 'mitt'; // a small emitter\r\nimport { CID } from 'multiformats';\r\n\r\nimport { Transaction } from './transaction';\r\n\r\nimport { MemoryDatastore } from 'datastore-core/memory';\r\nimport { MemoryBlockstore } from 'blockstore-core/memory';\r\n\r\n// import { createPreloader } from 'ipfs-core/src/preload';\r\n// import { Storage } from 'ipfs-core/src/components/storage';\r\n\r\nimport type { IPFSRepo } from 'ipfs-repo'; // https://github.com/ipfs/js-ipfs-repo/blob/master/packages/ipfs-repo/src/types.ts\r\n\r\nexport async function repoInit(options = {}): Promise<IPFSRepo> {\r\n\tconst repoPath = options.path || 'ipfs';\r\n\tconst loadCodec = (codeOrName) => {\r\n\t\tconst lookup = {\r\n\t\t\t[raw.code]: raw,\r\n\t\t\t[raw.name]: raw,\r\n\t\t\t[dagCbor.code]: dagCbor,\r\n\t\t\t[dagCbor.name]: dagCbor\r\n\t\t};\r\n\r\n\t\treturn Promise.resolve(lookup[codeOrName]);\r\n\t};\r\n\tconst repo = createRepo(repoPath, loadCodec);\r\n\tawait repo.init();\r\n\treturn repo;\r\n}\r\n\r\n/**\r\n * Add ipfs.dag functionality to ipfs-repo\r\n */\r\nexport type DagRepo = DagAPI & {\r\n\trepo: IPFSRepo;\r\n\t// block: BlockAPI;\r\n\t// pin: PinAPI;\r\n\ttx: {\r\n\t\tpending: Transaction;\r\n\t\tadd: Function;\r\n\t\tcommit: Function;\r\n\t};\r\n};\r\n\r\nexport class DagRepo extends DagAPI {\r\n\tconstructor({ repo, codecs, options }) {\r\n\t\t/** @type {MultihashHasher[]} */\r\n\t\tconst multihashHashers = Object.values(hashes);\r\n\r\n\t\t(options.ipld && options.ipld.hashers ? options.ipld.hashers : []).forEach((hasher) =>\r\n\t\t\tmultihashHashers.push(hasher)\r\n\t\t);\r\n\r\n\t\tconst hashers = new Multihashes({\r\n\t\t\thashers: multihashHashers,\r\n\t\t\tloadHasher: options.ipld && options.ipld.loadHasher\r\n\t\t});\r\n\r\n\t\tsuper({\r\n\t\t\trepo,\r\n\t\t\tcodecs,\r\n\t\t\thashers,\r\n\t\t\tpreload: (cid) => {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}); // DagAPI\r\n\r\n\t\tObject.assign(this, mitt()); // make this an emitter\r\n\r\n\t\t// this.pin = new PinAPI({ repo, codecs });\r\n\t\t// this.block = new BlockAPI({\r\n\t\t// \trepo,\r\n\t\t// \tcodecs,\r\n\t\t// \thashers,\r\n\t\t// \tpreload: (cid) => {\r\n\t\t// \t\treturn;\r\n\t\t// \t}\r\n\t\t// });\r\n\r\n\t\tthis.repo = repo;\r\n\r\n\t\tthis.rootCID;\r\n\r\n\t\tthis.tx = {\r\n\t\t\t// TODO: Check for existing open transactions that havent been commited?\r\n\t\t\tpending: Transaction.create(),\r\n\t\t\t/**\r\n\t\t\t * When a Transaction is added, the dag should check the dag to see if the tag already exists,\r\n\t\t\t * and link the prev value to build an iterable chain of versions.\r\n\t\t\t */\r\n\t\t\tcheckSize: async (data: object): Promise<number> => {\r\n\t\t\t\tconst t = Transaction.create();\r\n\t\t\t\tawait t.add(data);\r\n\t\t\t\treturn t.size;\r\n\t\t\t},\r\n\t\t\tgetExistingTx: async () => {\r\n\t\t\t\tlet existingTx = {};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet last = this.tx.pending.last;\r\n\t\t\t\t\tif (!last) return;\r\n\t\t\t\t\tlet lastBlock = await this.tx.pending.get(last);\r\n\t\t\t\t\texistingTx = lastBlock.value;\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\t// console.log(`No existingTx`, error);\r\n\t\t\t\t}\r\n\t\t\t\treturn existingTx;\r\n\t\t\t},\r\n\t\t\taddData: async (data: object): Promise<CID> => {\r\n\t\t\t\treturn await this.tx.pending.add(data);\r\n\t\t\t},\r\n\t\t\taddTag: async (tag: string, tagNode: object): Promise<CID> => {\r\n\t\t\t\treturn await this.tx.add(tag, tagNode);\r\n\t\t\t},\r\n\t\t\tadd: async (tag: string, tagNode: object): Promise<CID> => {\r\n\t\t\t\tif (!tagNode) return;\r\n\t\t\t\t// cleanse input object of undefined values, IPLD doesnt like undefined properies\r\n\t\t\t\ttagNode = Object.fromEntries(\r\n\t\t\t\t\tObject.entries(tagNode).map(([k, v]) => (v === undefined ? [k, null] : [k, v]))\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// check to see if the tag already exists\r\n\t\t\t\tlet prev: CID | false = false;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * First, check to see if there is a previous value in the existing Tx\r\n\t\t\t\t */\r\n\t\t\t\tlet existingTx = await this.tx.getExistingTx();\r\n\t\t\t\tif (existingTx && existingTx[tag]) {\r\n\t\t\t\t\t// if so, track current tx cid as previous\r\n\t\t\t\t\tprev = !!existingTx[tag] ? existingTx[tag] : false;\r\n\t\t\t\t} else if (this.rootCID) {\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Otherwise, list previous transaction from the DAG, if exists\r\n\t\t\t\t\t */\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlet rootObj = (await this.get(this.rootCID)).value;\r\n\t\t\t\t\t\tprev = !!rootObj[tag] ? rootObj[tag] : false;\r\n\t\t\t\t\t} catch (msg) {\r\n\t\t\t\t\t\t// console.log(`no prev dag ${tag}`, msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t/**\r\n\t\t\t\t * [tag] overwrites existingTx[tag], but that's ok since we stored any previous data in prev\r\n\t\t\t\t */\r\n\t\t\t\tlet tagNodeCid = await this.tx.pending.add(tagNode);\r\n\t\t\t\tlet newBlock = Object.assign({}, existingTx, { [tag]: { obj: tagNodeCid, prev } }); //item, node, root, cid?\r\n\t\t\t\tlet txCid = await this.tx.pending.add(newBlock);\r\n\t\t\t\tthis.emit('added', txCid);\r\n\t\t\t\treturn txCid;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Once the Tx is committed, it's dag imported which merges the blocks into the existing DAG\r\n\t\t\t * Tx CID and prev Root CID is updated to new Root CID\r\n\t\t\t * and a new Transaction needs to be created\r\n\t\t\t */\r\n\t\t\tcommit: async () => {\r\n\t\t\t\t// get existing Tx to be commited\r\n\t\t\t\tlet existingTx = await this.tx.getExistingTx();\r\n\r\n\t\t\t\t// get current dag\r\n\t\t\t\tlet currentDag = {};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (this.rootCID) currentDag = (await this.get(this.rootCID)).value;\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\t// brand new dag, leave current empty\r\n\t\t\t\t\tconsole.log({ error });\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// merge existing and current Tag Nodes to make new root CID\r\n\t\t\t\t// Only Tag Nodes, so filter existingTx by if it has own properties obj and prev\r\n\t\t\t\tlet merged = Object.assign(\r\n\t\t\t\t\t{},\r\n\t\t\t\t\tcurrentDag,\r\n\t\t\t\t\tObject.fromEntries(\r\n\t\t\t\t\t\tObject.entries(existingTx).filter(([k, v]) => v.obj && v.hasOwnProperty('prev'))\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// add and commit merged\r\n\t\t\t\tthis.rootCID = await this.tx.pending.add(merged);\r\n\t\t\t\tconst buffer = await this.tx.pending.commit();\r\n\r\n\t\t\t\t// load commited blocks in the local dag\r\n\t\t\t\tawait this.importBuffer(buffer);\r\n\r\n\t\t\t\tthis.tx.pending = Transaction.create(); // once merged, refresh Tx\r\n\t\t\t\treturn buffer; // now save this delta to update your database, cloud, Arweave, peers, wherever\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Convenience function to get latest Tag object value\r\n\t */\r\n\tasync latest(tag: string) {\r\n\t\tconst res = await this.get(this.rootCID, { path: `/${tag}/obj` });\r\n\t\treturn res.value;\r\n\t}\r\n\r\n\tasync importBuffers(buffers: Uint8Array[]) {\r\n\t\tlet root;\r\n\t\tfor (const buffer of buffers) {\r\n\t\t\t// TODO: assumes the last buffer imported holds the root CID, this may be a wrong assumption...\r\n\t\t\troot = await this.importBuffer(buffer);\r\n\t\t}\r\n\t\treturn root;\r\n\t}\r\n\r\n\tasync importBuffer(buffer: Uint8Array) {\r\n\t\treturn importBuffer(this, buffer);\r\n\t}\r\n}\r\n\r\nexport async function importBuffer(dag: DagAPI, buffer: Uint8Array) {\r\n\tconst it = await makeIterable([buffer]); // dag.import needs asyncIterable\r\n\tconst [{ root }] = await all(dag.import(it));\r\n\treturn root.cid;\r\n}\r\n\r\nexport async function createDagRepo(options = {}): Promise<DagRepo> {\r\n\t/**\r\n\t * @type {BlockCodec}\r\n\t */\r\n\tconst id = {\r\n\t\tname: identity.name,\r\n\t\tcode: identity.code,\r\n\t\tencode: (id) => id,\r\n\t\tdecode: (id) => id\r\n\t};\r\n\t/** @type {BlockCodec[]} */\r\n\tconst blockCodecs = Object.values(codecs);\r\n\t[dagCBOR, dagJOSE, id]\r\n\t\t.concat((options.ipld && options.ipld.codecs) || [])\r\n\t\t.forEach((codec) => blockCodecs.push(codec));\r\n\r\n\tconst multicodecs = new Multicodecs({\r\n\t\tcodecs: blockCodecs,\r\n\t\tloadCodec: options.ipld && options.ipld.loadCodec\r\n\t});\r\n\r\n\tconst repoPath = options.path || 'ipfs';\r\n\r\n\tlet repo;\r\n\r\n\tif (options?.persist) {\r\n\t\trepo = createBrowserIDB(console.log, multicodecs, {\r\n\t\t\tpath: repoPath,\r\n\t\t\tautoMigrate: true\r\n\t\t});\r\n\t} else {\r\n\t\t// in memory\r\n\t\t/**\r\n\t\t * @param {string} path - Where this repo is stored\r\n\t\t * @param {import('./types').loadCodec} loadCodec - a function that will load multiformat block codecs\r\n\t\t * @param {import('./types').Backends} backends - backends used by this repo\r\n\t\t * @param {Partial<Options>} [options] - Configuration\r\n\t\t * @returns {import('./types').IPFSRepo}\r\n\t\t */\r\n\t\trepo = createRepo(\r\n\t\t\trepoPath,\r\n\t\t\t(codeOrName) => multicodecs.getCodec(codeOrName),\r\n\t\t\t{\r\n\t\t\t\tblocks: new MemoryBlockstore(),\r\n\t\t\t\tdatastore: new MemoryDatastore(),\r\n\t\t\t\troot: new MemoryDatastore(),\r\n\t\t\t\tkeys: new MemoryDatastore(),\r\n\t\t\t\tpins: new MemoryDatastore()\r\n\t\t\t},\r\n\t\t\toptions\r\n\t\t);\r\n\t}\r\n\r\n\tconst initConfig = {}; // Datastore:{}\r\n\r\n\ttry {\r\n\t\tawait repo.init(initConfig);\r\n\t\tawait repo.open();\r\n\t} catch (/** @type {any} */ err) {\r\n\t\tthrow err;\r\n\t}\r\n\r\n\tconst repoConfig = await repo.config.getAll();\r\n\r\n\treturn new DagRepo({\r\n\t\trepo,\r\n\t\tcodecs: multicodecs,\r\n\t\toptions: { ...options, repoConfig }\r\n\t});\r\n}\r\n", "import { createRepo as create } from 'ipfs-repo'\nimport { LevelDatastore } from 'datastore-level'\nimport { BlockstoreDatastoreAdapter } from 'blockstore-datastore-adapter'\nimport { MemoryLock } from 'ipfs-repo/locks/memory'\n\n/**\n * @typedef {import('ipfs-repo-migrations').ProgressCallback} MigrationProgressCallback\n */\n\n/**\n * @param {(...args: any[]) => void} print\n * @param {import('ipfs-core-utils/multicodecs').Multicodecs} codecs\n * @param {object} options\n * @param {string} [options.path]\n * @param {boolean} [options.autoMigrate]\n * @param {MigrationProgressCallback} [options.onMigrationProgress]\n * @param {number} [options.peerStoreCacheSize]\n */\nexport function createRepo (print, codecs, options) {\n  const repoPath = options.path || 'ipfs'\n\n  return create(repoPath, (codeOrName) => codecs.getCodec(codeOrName), {\n    root: new LevelDatastore(repoPath, {\n      prefix: '',\n      version: 2\n    }),\n    blocks: new BlockstoreDatastoreAdapter(\n      new LevelDatastore(`${repoPath}/blocks`, {\n        prefix: '',\n        version: 2\n      })\n    ),\n    datastore: new LevelDatastore(`${repoPath}/datastore`, {\n      prefix: '',\n      version: 2\n    }),\n    keys: new LevelDatastore(`${repoPath}/keys`, {\n      prefix: '',\n      version: 2\n    }),\n    pins: new LevelDatastore(`${repoPath}/pins`, {\n      prefix: '',\n      version: 2\n    })\n  }, {\n    autoMigrate: options.autoMigrate,\n    onMigrationProgress: options.onMigrationProgress || print,\n    repoLock: MemoryLock\n  })\n}\n", "import _get from 'just-safe-get'\nimport debug from 'debug'\nimport errCode from 'err-code'\nimport * as migrator from 'ipfs-repo-migrations'\nimport bytes from 'bytes'\nimport merge from 'merge-options'\nimport * as CONSTANTS from './constants.js'\nimport { version } from './version.js'\nimport { config } from './config.js'\nimport { spec } from './spec.js'\nimport { apiAddr } from './api-addr.js'\nimport { createIdStore } from './idstore.js'\nimport defaultOptions from './default-options.js'\nimport defaultDatastore from './default-datastore.js'\nimport * as ERRORS from './errors.js'\nimport { PinManager } from './pin-manager.js'\nimport { createPinnedBlockstore } from './pinned-blockstore.js'\n// @ts-ignore - no types\nimport mortice from 'mortice'\nimport { gc } from './gc.js'\n\nconst log = debug('ipfs:repo')\n\nconst noLimit = Number.MAX_SAFE_INTEGER\nconst AUTO_MIGRATE_CONFIG_KEY = 'repoAutoMigrate'\n\n/**\n * @typedef {import('./types').Options} Options\n * @typedef {import('./types').RepoLock} RepoLock\n * @typedef {import('./types').LockCloser} LockCloser\n * @typedef {import('./types').GCLock} GCLock\n * @typedef {import('./types').Stat} Stat\n * @typedef {import('./types').Config} Config\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('./types').Backends} Backends\n * @typedef {import('./types').IPFSRepo} IPFSRepo\n */\n\n/**\n * IPFSRepo implements all required functionality to read and write to an ipfs repo.\n */\nclass Repo {\n  /**\n   * @param {string} path - Where this repo is stored\n   * @param {import('./types').loadCodec} loadCodec - a function that will load multiformat block codecs\n   * @param {Backends} backends - backends used by this repo\n   * @param {Partial<Options>} [options] - Configuration\n   */\n  constructor (path, loadCodec, backends, options) {\n    if (typeof path !== 'string') {\n      throw new Error('missing repo path')\n    }\n\n    if (typeof loadCodec !== 'function') {\n      throw new Error('missing codec loader')\n    }\n\n    /** @type {Options} */\n    this.options = merge(defaultOptions, options)\n    this.closed = true\n    this.path = path\n    this.root = backends.root\n    this.datastore = backends.datastore\n    this.keys = backends.keys\n\n    const blockstore = backends.blocks\n    const pinstore = backends.pins\n\n    this.pins = new PinManager({ pinstore, blockstore, loadCodec })\n\n    // this blockstore will not delete blocks that have been pinned\n    const pinnedBlockstore = createPinnedBlockstore(this.pins, blockstore)\n\n    // this blockstore will extract blocks from multihashes with the identity codec\n    this.blocks = createIdStore(pinnedBlockstore)\n\n    this.version = version(this.root)\n    this.config = config(this.root)\n    this.spec = spec(this.root)\n    this.apiAddr = apiAddr(this.root)\n\n    /** @type {GCLock} */\n    this.gcLock = mortice({\n      name: path,\n      singleProcess: this.options.repoOwner !== false\n    })\n\n    this.gc = gc({ gcLock: this.gcLock, pins: this.pins, blockstore: this.blocks, root: this.root, loadCodec })\n  }\n\n  /**\n   * Initialize a new repo.\n   *\n   * @param {import('./types').Config} config - config to write into `config`.\n   * @returns {Promise<void>}\n   */\n  async init (config) {\n    log('initializing at: %s', this.path)\n    await this._openRoot()\n    await this.config.replace(buildConfig(config))\n    await this.spec.set(buildDatastoreSpec(config))\n    await this.version.set(CONSTANTS.repoVersion)\n  }\n\n  /**\n   * Check if the repo is already initialized.\n   *\n   * @returns {Promise<boolean>}\n   */\n  async isInitialized () {\n    if (!this.closed) {\n      // repo is open, must be initialized\n      return true\n    }\n\n    try {\n      // have to open the root datastore in the browser before\n      // we can check whether it's been initialized\n      await this._openRoot()\n      await this._checkInitialized()\n      await this.root.close()\n\n      return true\n    } catch (/** @type {any} */ err) {\n      // FIXME: do not use exceptions for flow control\n      return false\n    }\n  }\n\n  /**\n   * Open the repo. If the repo is already open an error will be thrown.\n   * If the repo is not initialized it will throw an error.\n   *\n   * @returns {Promise<void>}\n   */\n  async open () {\n    if (!this.closed) {\n      throw errCode(new Error('repo is already open'), ERRORS.ERR_REPO_ALREADY_OPEN)\n    }\n    log('opening at: %s', this.path)\n\n    // check if the repo is already initialized\n    try {\n      await this._openRoot()\n      await this._checkInitialized()\n\n      this._lockfile = await this._openLock()\n      log('acquired repo.lock')\n\n      const isCompatible = await this.version.check(CONSTANTS.repoVersion)\n\n      if (!isCompatible) {\n        if (await this._isAutoMigrationEnabled()) {\n          await this._migrate(CONSTANTS.repoVersion, {\n            root: this.root,\n            datastore: this.datastore,\n            pins: this.pins.pinstore,\n            blocks: this.pins.blockstore,\n            keys: this.keys\n          })\n        } else {\n          throw new ERRORS.InvalidRepoVersionError('Incompatible repo versions. Automatic migrations disabled. Please migrate the repo manually.')\n        }\n      }\n\n      log('creating datastore')\n      await this.datastore.open()\n\n      log('creating blocks')\n      await this.blocks.open()\n\n      log('creating keystore')\n      await this.keys.open()\n\n      log('creating pins')\n      await this.pins.pinstore.open()\n\n      this.closed = false\n      log('all opened')\n    } catch (/** @type {any} */ err) {\n      if (this._lockfile) {\n        try {\n          await this._closeLock()\n          this._lockfile = null\n        } catch (/** @type {any} */ err2) {\n          log('error removing lock', err2)\n        }\n      }\n\n      throw err\n    }\n  }\n\n  /**\n   * Opens the root backend, catching and ignoring an 'Already open' error\n   *\n   * @private\n   */\n  async _openRoot () {\n    try {\n      await this.root.open()\n    } catch (/** @type {any} */ err) {\n      if (err.message !== 'Already open') {\n        throw err\n      }\n    }\n  }\n\n  /**\n   * Creates a lock on the repo if a locker is specified. The lockfile object will\n   * be returned in the callback if one has been created.\n   *\n   * @private\n   * @returns {Promise<LockCloser>}\n   */\n  async _openLock () {\n    const lockfile = await this.options.repoLock.lock(this.path)\n\n    if (typeof lockfile.close !== 'function') {\n      throw errCode(new Error('Locks must have a close method'), 'ERR_NO_CLOSE_FUNCTION')\n    }\n\n    return lockfile\n  }\n\n  /**\n   * Closes the lock on the repo\n   *\n   * @private\n   */\n  _closeLock () {\n    return this._lockfile && this._lockfile.close()\n  }\n\n  /**\n   * Check if the repo is already initialized.\n   *\n   * @private\n   */\n  async _checkInitialized () {\n    log('init check')\n    let config\n    try {\n      [config] = await Promise.all([\n        this.config.exists(),\n        this.spec.exists(),\n        this.version.exists()\n      ])\n    } catch (/** @type {any} */ err) {\n      if (err.code === 'ERR_NOT_FOUND') {\n        throw errCode(new Error('repo is not initialized yet'), ERRORS.ERR_REPO_NOT_INITIALIZED, {\n          path: this.path\n        })\n      }\n\n      throw err\n    }\n\n    if (!config) {\n      throw errCode(new Error('repo is not initialized yet'), ERRORS.ERR_REPO_NOT_INITIALIZED, {\n        path: this.path\n      })\n    }\n  }\n\n  /**\n   * Close the repo and cleanup.\n   *\n   * @returns {Promise<void>}\n   */\n  async close () {\n    if (this.closed) {\n      throw errCode(new Error('repo is already closed'), ERRORS.ERR_REPO_ALREADY_CLOSED)\n    }\n    log('closing at: %s', this.path)\n\n    try {\n      // Delete api, ignoring irrelevant errors\n      await this.apiAddr.delete()\n    } catch (/** @type {any} */ err) {\n      if (err.code !== ERRORS.ERR_REPO_NOT_INITIALIZED && !err.message.startsWith('ENOENT')) {\n        throw err\n      }\n    }\n\n    await Promise.all([\n      this.root,\n      this.blocks,\n      this.keys,\n      this.datastore,\n      this.pins.pinstore\n    ].map((store) => store && store.close()))\n\n    log('unlocking')\n    this.closed = true\n    await this._closeLock()\n  }\n\n  /**\n   * Check if a repo exists.\n   *\n   * @returns {Promise<boolean>}\n   */\n  exists () {\n    return this.version.exists()\n  }\n\n  /**\n   * Get repo status.\n   *\n   * @returns {Promise<Stat>}\n   */\n  async stat () {\n    if (this.datastore && this.keys) {\n      const [storageMax, blocks, version, datastore, keys] = await Promise.all([\n        this._storageMaxStat(),\n        this._blockStat(),\n        this.version.get(),\n        getSize(this.datastore),\n        getSize(this.keys)\n      ])\n      const size = blocks.size + datastore + keys\n\n      return {\n        repoPath: this.path,\n        storageMax,\n        version: version,\n        numObjects: blocks.count,\n        repoSize: size\n      }\n    }\n    throw errCode(new Error('repo is not initialized yet'), ERRORS.ERR_REPO_NOT_INITIALIZED, {\n      path: this.path\n    })\n  }\n\n  /**\n   * @private\n   */\n  async _isAutoMigrationEnabled () {\n    if (this.options.autoMigrate !== undefined) {\n      return this.options.autoMigrate\n    }\n\n    // TODO we need to figure out the priority here, between repo options and config.\n    let autoMigrateConfig\n    try {\n      autoMigrateConfig = await this.config.get(AUTO_MIGRATE_CONFIG_KEY)\n    } catch (/** @type {any} */ e) {\n      if (e.code === ERRORS.NotFoundError.code) {\n        autoMigrateConfig = true // Config's default value is True\n      } else {\n        throw e\n      }\n    }\n\n    return autoMigrateConfig\n  }\n\n  /**\n   * Internal migration\n   *\n   * @private\n   * @param {number} toVersion\n   * @param {Backends} backends\n   */\n  async _migrate (toVersion, backends) {\n    const currentRepoVersion = await this.version.get()\n\n    if (currentRepoVersion > toVersion) {\n      log(`reverting to version ${toVersion}`)\n      return migrator.revert(this.path, backends, this.options, toVersion, {\n        ignoreLock: true,\n        onProgress: this.options.onMigrationProgress\n      })\n    } else {\n      log(`migrating to version ${toVersion}`)\n      return migrator.migrate(this.path, backends, this.options, toVersion, {\n        ignoreLock: true,\n        onProgress: this.options.onMigrationProgress\n      })\n    }\n  }\n\n  /**\n   * @private\n   */\n  async _storageMaxStat () {\n    try {\n      const max = /** @type {number} */(await this.config.get('Datastore.StorageMax'))\n      return BigInt(bytes(max))\n    } catch (/** @type {any} */ err) {\n      return BigInt(noLimit)\n    }\n  }\n\n  /**\n   * @private\n   */\n  async _blockStat () {\n    let count = BigInt(0)\n    let size = BigInt(0)\n\n    if (this.blocks) {\n      for await (const { key, value } of this.blocks.query({})) {\n        count += BigInt(1)\n        size += BigInt(value.byteLength)\n        size += BigInt(key.bytes.byteLength)\n      }\n    }\n\n    return { count, size }\n  }\n}\n\n/**\n * @param {Datastore} datastore\n */\nasync function getSize (datastore) {\n  let sum = BigInt(0)\n  for await (const block of datastore.query({})) {\n    sum += BigInt(block.value.byteLength)\n    sum += BigInt(block.key.uint8Array().byteLength)\n  }\n  return sum\n}\n\n/**\n * @param {string} path - Where this repo is stored\n * @param {import('./types').loadCodec} loadCodec - a function that will load multiformat block codecs\n * @param {import('./types').Backends} backends - backends used by this repo\n * @param {Partial<Options>} [options] - Configuration\n * @returns {import('./types').IPFSRepo}\n */\nexport function createRepo (path, loadCodec, backends, options) {\n  return new Repo(path, loadCodec, backends, options)\n}\n\n/**\n * @param {import('./types').Config} _config\n */\nfunction buildConfig (_config) {\n  _config.Datastore = Object.assign({}, defaultDatastore, _get(_config, 'datastore'))\n\n  return _config\n}\n\n/**\n * @param {import('./types').Config} _config\n */\nfunction buildDatastoreSpec (_config) {\n  /** @type { {type: string, mounts: Array<{mountpoint: string, type: string, prefix: string, child: {type: string, path: 'string', sync: boolean, shardFunc: string}}>}} */\n  const spec = {\n    ...defaultDatastore.Spec,\n    ..._get(_config, 'Datastore.Spec')\n  }\n\n  return {\n    type: spec.type,\n    mounts: spec.mounts.map((mounting) => ({\n      mountpoint: mounting.mountpoint,\n      type: mounting.child.type,\n      path: mounting.child.path,\n      shardFunc: mounting.child.shardFunc\n    }))\n  }\n}\n", "var objectSafeGet = get;\n\n/*\n  const obj = {a: {aa: {aaa: 2}}, b: 4};\n\n  get(obj, 'a.aa.aaa'); // 2\n  get(obj, ['a', 'aa', 'aaa']); // 2\n\n  get(obj, 'b.bb.bbb'); // undefined\n  get(obj, ['b', 'bb', 'bbb']); // undefined\n\n  get(obj.a, 'aa.aaa'); // 2\n  get(obj.a, ['aa', 'aaa']); // 2\n\n  get(obj.b, 'bb.bbb'); // undefined\n  get(obj.b, ['bb', 'bbb']); // undefined\n\n  get(obj.b, 'bb.bbb', 42); // 42\n  get(obj.b, ['bb', 'bbb'], 42); // 42\n\n  get(null, 'a'); // undefined\n  get(undefined, ['a']); // undefined\n\n  get(null, 'a', 42); // 42\n  get(undefined, ['a'], 42); // 42\n\n  const obj = {a: {}};\n  const sym = Symbol();\n  obj.a[sym] = 4;\n  get(obj.a, sym); // 4\n*/\n\nfunction get(obj, propsArg, defaultValue) {\n  if (!obj) {\n    return defaultValue;\n  }\n  var props, prop;\n  if (Array.isArray(propsArg)) {\n    props = propsArg.slice(0);\n  }\n  if (typeof propsArg == 'string') {\n    props = propsArg.split('.');\n  }\n  if (typeof propsArg == 'symbol') {\n    props = [propsArg];\n  }\n  if (!Array.isArray(props)) {\n    throw new Error('props arg must be an array, a string or a symbol');\n  }\n  while (props.length) {\n    prop = props.shift();\n    if (!obj) {\n      return defaultValue;\n    }\n    obj = obj[prop];\n    if (obj === undefined) {\n      return defaultValue;\n    }\n  }\n  return obj;\n}\n\nexport {objectSafeGet as default};\n", "/* eslint complexity: [\"error\", 27] */\n\nimport defaultMigrations from '../migrations/index.js'\nimport * as repoVersion from './repo/version.js'\nimport * as Errors from './errors.js'\nimport { wrapBackends } from './utils.js'\nimport debug from 'debug'\n\nconst log = debug('ipfs:repo:migrator')\n\n/**\n * @typedef {import('./types').Migration} Migration\n * @typedef {import('./types').MigrationOptions} MigrationOptions\n * @typedef {import('./types').ProgressCallback} ProgressCallback\n * @typedef {import('./types').MigrationProgressCallback} MigrationProgressCallback\n */\n\n/**\n * Returns the version of latest migration.\n * If no migrations are present returns 0.\n *\n * @param {Migration[]} [migrations] - Array of migrations to consider. If undefined, the bundled migrations are used. Mainly for testing purpose.\n */\nexport function getLatestMigrationVersion (migrations) {\n  migrations = migrations || defaultMigrations\n\n  if (!Array.isArray(migrations) || migrations.length === 0) {\n    return 0\n  }\n\n  return migrations[migrations.length - 1].version\n}\n\n/**\n * Main function to execute forward migrations.\n * It acquire lock on the provided path before doing any migrations.\n *\n * Signature of the progress callback is: function(migrationObject: object, currentMigrationNumber: int, totalMigrationsCount: int)\n *\n * @param {string} path - Path to initialized (!) JS-IPFS repo\n * @param {import('./types').Backends} backends\n * @param {import('./types').RepoOptions} repoOptions - Options that are passed to migrations, that can use them to correctly construct datastore. Options are same like for IPFSRepo.\n * @param {number} toVersion - Version to which the repo should be migrated.\n * @param {MigrationOptions} [options] - Options for migration\n */\nexport async function migrate (path, backends, repoOptions, toVersion, { ignoreLock = false, onProgress, isDryRun = false, migrations }) {\n  migrations = migrations || defaultMigrations\n\n  if (!path) {\n    throw new errors.RequiredParameterError('Path argument is required!')\n  }\n\n  if (!repoOptions) {\n    throw new errors.RequiredParameterError('repoOptions argument is required!')\n  }\n\n  if (!toVersion) {\n    throw new errors.RequiredParameterError('toVersion argument is required!')\n  }\n\n  if (!Number.isInteger(toVersion) || toVersion <= 0) {\n    throw new errors.InvalidValueError('Version has to be positive integer!')\n  }\n\n  // make sure we can read pre-level@5 datastores\n  backends = wrapBackends(backends)\n\n  const currentVersion = await repoVersion.getVersion(backends)\n\n  if (currentVersion === toVersion) {\n    log('Nothing to migrate.')\n    return\n  }\n\n  if (currentVersion > toVersion) {\n    throw new errors.InvalidValueError(`Current repo's version (${currentVersion}) is higher then toVersion (${toVersion}), you probably wanted to revert it?`)\n  }\n\n  verifyAvailableMigrations(migrations, currentVersion, toVersion)\n\n  let lock\n\n  if (!isDryRun && !ignoreLock) {\n    lock = await repoOptions.repoLock.lock(path)\n  }\n\n  try {\n    for (const migration of migrations) {\n      if (toVersion !== undefined && migration.version > toVersion) {\n        break\n      }\n\n      if (migration.version <= currentVersion) {\n        continue\n      }\n\n      log(`Migrating version ${migration.version}`)\n\n      try {\n        if (!isDryRun) {\n          /** @type {MigrationProgressCallback} */\n          let progressCallback = () => {}\n\n          if (onProgress) { // eslint-disable-line max-depth\n            progressCallback = (percent, message) => onProgress(migration.version, percent.toFixed(2), message)\n          }\n\n          await migration.migrate(backends, progressCallback)\n        }\n      } catch (/** @type {any} */ e) {\n        const lastSuccessfullyMigratedVersion = migration.version - 1\n\n        log(`An exception was raised during execution of migration. Setting the repo's version to last successfully migrated version: ${lastSuccessfullyMigratedVersion}`)\n        await repoVersion.setVersion(lastSuccessfullyMigratedVersion, backends)\n\n        throw new Error(`During migration to version ${migration.version} exception was raised: ${e.stack || e.message || e}`)\n      }\n\n      log(`Migrating to version ${migration.version} finished`)\n    }\n\n    if (!isDryRun) {\n      await repoVersion.setVersion(toVersion || getLatestMigrationVersion(migrations), backends)\n    }\n\n    log('Repo successfully migrated', toVersion !== undefined ? `to version ${toVersion}!` : 'to latest version!')\n  } finally {\n    if (!isDryRun && !ignoreLock && lock) {\n      await lock.close()\n    }\n  }\n}\n\n/**\n * Main function to execute backward migration (reversion).\n * It acquire lock on the provided path before doing any migrations.\n *\n * Signature of the progress callback is: function(migrationObject: object, currentMigrationNumber: int, totalMigrationsCount: int)\n *\n * @param {string} path - Path to initialized (!) JS-IPFS repo\n * @param {import('./types').Backends} backends\n * @param {import('./types').RepoOptions} repoOptions - Options that are passed to migrations, that can use them to correctly construct datastore. Options are same like for IPFSRepo.\n * @param {number} toVersion - Version to which the repo will be reverted.\n * @param {MigrationOptions} [options] - Options for the reversion\n */\nexport async function revert (path, backends, repoOptions, toVersion, { ignoreLock = false, onProgress, isDryRun = false, migrations }) {\n  migrations = migrations || defaultMigrations\n\n  if (!path) {\n    throw new errors.RequiredParameterError('Path argument is required!')\n  }\n\n  if (!repoOptions) {\n    throw new errors.RequiredParameterError('repoOptions argument is required!')\n  }\n\n  if (!toVersion) {\n    throw new errors.RequiredParameterError('When reverting migrations, you have to specify to which version to revert!')\n  }\n\n  if (!Number.isInteger(toVersion) || toVersion <= 0) {\n    throw new errors.InvalidValueError('Version has to be positive integer!')\n  }\n\n  // make sure we can read pre-level@5 datastores\n  backends = wrapBackends(backends)\n\n  const currentVersion = await repoVersion.getVersion(backends)\n\n  if (currentVersion === toVersion) {\n    log('Nothing to revert.')\n    return\n  }\n\n  if (currentVersion < toVersion) {\n    throw new errors.InvalidValueError(`Current repo's version (${currentVersion}) is lower then toVersion (${toVersion}), you probably wanted to migrate it?`)\n  }\n\n  verifyAvailableMigrations(migrations, toVersion, currentVersion, true)\n\n  let lock\n  if (!isDryRun && !ignoreLock) {\n    lock = await repoOptions.repoLock.lock(path)\n  }\n\n  log(`Reverting from version ${currentVersion} to ${toVersion}`)\n\n  try {\n    const reversedMigrationArray = migrations.slice().reverse()\n\n    for (const migration of reversedMigrationArray) {\n      if (migration.version <= toVersion) {\n        break\n      }\n\n      if (migration.version > currentVersion) {\n        continue\n      }\n\n      log(`Reverting migration version ${migration.version}`)\n\n      try {\n        if (!isDryRun) {\n          /** @type {MigrationProgressCallback} */\n          let progressCallback = () => {}\n\n          if (onProgress) { // eslint-disable-line max-depth\n            progressCallback = (percent, message) => onProgress(migration.version, percent.toFixed(2), message)\n          }\n\n          await migration.revert(backends, progressCallback)\n        }\n      } catch (/** @type {any} */ e) {\n        const lastSuccessfullyRevertedVersion = migration.version\n        log(`An exception was raised during execution of migration. Setting the repo's version to last successfully reverted version: ${lastSuccessfullyRevertedVersion}`)\n        await repoVersion.setVersion(lastSuccessfullyRevertedVersion, backends)\n\n        e.message = `During reversion to version ${migration.version} exception was raised: ${e.message}`\n        throw e\n      }\n\n      log(`Reverting to version ${migration.version} finished`)\n    }\n\n    if (!isDryRun) {\n      await repoVersion.setVersion(toVersion, backends)\n    }\n\n    log(`All migrations successfully reverted to version ${toVersion}!`)\n  } finally {\n    if (!isDryRun && !ignoreLock && lock) {\n      await lock.close()\n    }\n  }\n}\n\n/**\n * Function checks if all migrations in given range are available.\n *\n * @param {Migration[]} migrations\n * @param {number} fromVersion\n * @param {number} toVersion\n * @param {boolean} checkReversibility - Will additionally checks if all the migrations in the range are reversible\n */\nfunction verifyAvailableMigrations (migrations, fromVersion, toVersion, checkReversibility = false) {\n  let migrationCounter = 0\n  for (const migration of migrations) {\n    if (migration.version > toVersion) {\n      break\n    }\n\n    if (migration.version > fromVersion) {\n      if (checkReversibility && !migration.revert) {\n        throw new errors.NonReversibleMigrationError(`It is not possible to revert to version ${fromVersion} because migration version ${migration.version} is not reversible. Cancelling reversion.`)\n      }\n\n      migrationCounter++\n    }\n  }\n\n  if (migrationCounter !== (toVersion - fromVersion)) {\n    throw new errors.InvalidValueError(`The ipfs-repo-migrations package does not have all migration to migrate from version ${fromVersion} to ${toVersion}`)\n  }\n}\n\nexport const getCurrentRepoVersion = repoVersion.getVersion\nexport const errors = Errors\nexport const migrations = defaultMigrations\n", "import { migration as migration8 } from './migration-8/index.js'\nimport { migration as migration9 } from './migration-9/index.js'\nimport { migration as migration10 } from './migration-10/index.js'\nimport { migration as migration11 } from './migration-11/index.js'\nimport { migration as migration12 } from './migration-12/index.js'\n\n/**\n * @type {import('../src/types').Migration}\n */\nconst emptyMigration = {\n  description: 'Empty migration.',\n  // @ts-ignore\n  migrate: () => {},\n  // @ts-ignore\n  revert: () => {},\n  empty: true\n}\n\nexport default [\n  Object.assign({ version: 1 }, emptyMigration),\n  Object.assign({ version: 2 }, emptyMigration),\n  Object.assign({ version: 3 }, emptyMigration),\n  Object.assign({ version: 4 }, emptyMigration),\n  Object.assign({ version: 5 }, emptyMigration),\n  Object.assign({ version: 6 }, emptyMigration),\n  Object.assign({ version: 7 }, emptyMigration),\n  migration8,\n  migration9,\n  migration10,\n  migration11,\n  migration12\n]\n", "\nimport { CID } from 'multiformats/cid'\nimport { Key } from 'interface-datastore/key'\nimport debug from 'debug'\nimport length from 'it-length'\nimport { base32 } from 'multiformats/bases/base32'\nimport * as raw from 'multiformats/codecs/raw'\nimport * as mhd from 'multiformats/hashes/digest'\n\nconst log = debug('ipfs:repo:migrator:migration-8')\n\n/**\n * @typedef {import('../../src/types').Migration} Migration\n * @typedef {import('interface-datastore').Datastore} Datastore\n */\n\n/**\n * @param {*} blockstore\n * @returns {Datastore}\n */\nfunction unwrap (blockstore) {\n  if (blockstore.child) {\n    return unwrap(blockstore.child)\n  }\n\n  return blockstore\n}\n\n/**\n * @param {Key} key\n */\nfunction keyToMultihash (key) {\n  try {\n    const buf = base32.decode(`b${key.toString().toLowerCase().slice(1)}`)\n\n    // Extract multihash from CID\n    const multihash = CID.decode(buf).multihash.bytes\n\n    // Encode and slice off multibase codec\n    // Should be uppercase for interop with go\n    const multihashStr = base32.encode(multihash).slice(1).toUpperCase()\n\n    return new Key(`/${multihashStr}`, false)\n  } catch (/** @type {any} */ err) {\n    return key\n  }\n}\n\n/**\n * @param {Key} key\n */\nfunction keyToCid (key) {\n  try {\n    const buf = base32.decode(`b${key.toString().toLowerCase().slice(1)}`)\n    const digest = mhd.decode(buf)\n\n    // CID to Key\n    const multihash = base32.encode(CID.createV1(raw.code, digest).bytes).slice(1)\n\n    return new Key(`/${multihash.toUpperCase()}`, false)\n  } catch {\n    return key\n  }\n}\n\n/**\n * @param {import('../../src/types').Backends} backends\n * @param {(percent: number, message: string) => void} onProgress\n * @param {(key: Key) => Key} keyFunction\n */\nasync function process (backends, onProgress, keyFunction) {\n  const blockstore = backends.blocks\n  await blockstore.open()\n\n  const unwrapped = unwrap(blockstore)\n\n  const blockCount = await length(unwrapped.queryKeys({\n    filters: [(key) => {\n      const newKey = keyFunction(key)\n\n      return newKey.toString() !== key.toString()\n    }]\n  }))\n\n  try {\n    let counter = 0\n\n    for await (const block of unwrapped.query({})) {\n      const newKey = keyFunction(block.key)\n\n      // If the Key is base32 CIDv0 then there's nothing to do\n      if (newKey.toString() !== block.key.toString()) {\n        counter += 1\n        log(`Migrating Block from ${block.key} to ${newKey}`, await unwrapped.has(block.key))\n\n        await unwrapped.delete(block.key)\n        await unwrapped.put(newKey, block.value)\n\n        onProgress((counter / blockCount) * 100, `Migrated Block from ${block.key} to ${newKey}`)\n      }\n    }\n  } finally {\n    await blockstore.close()\n  }\n}\n\n/** @type {Migration} */\nexport const migration = {\n  version: 8,\n  description: 'Transforms key names into base32 encoding and converts Block store to use bare multihashes encoded as base32',\n  migrate: (backends, onProgress = () => {}) => {\n    return process(backends, onProgress, keyToMultihash)\n  },\n  revert: (backends, onProgress = () => {}) => {\n    return process(backends, onProgress, keyToCid)\n  }\n}\n", null, "import { urlAlphabet } from './url-alphabet/index.js'\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nlet customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nlet nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n", "let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport { urlAlphabet }\n", "\nimport { CID } from 'multiformats/cid'\nimport * as dagPb from '@ipld/dag-pb'\nimport * as cbor from 'cborg'\nimport * as pinset from './pin-set.js'\nimport { cidToKey, PIN_DS_KEY, PinTypes } from './utils.js'\nimport length from 'it-length'\nimport { sha256 } from 'multiformats/hashes/sha2'\nimport * as mhd from 'multiformats/hashes/digest'\nimport { base32 } from 'multiformats/bases/base32'\n\n/**\n * @typedef {import('../../src/types').Migration} Migration\n * @typedef {import('../../src/types').MigrationProgressCallback} MigrationProgressCallback\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('multiformats/cid').CIDVersion} CIDVersion\n */\n\n/**\n * @param {Blockstore} blockstore\n * @param {Datastore} datastore\n * @param {Datastore} pinstore\n * @param {MigrationProgressCallback} onProgress\n */\nasync function pinsToDatastore (blockstore, datastore, pinstore, onProgress) {\n  if (!await datastore.has(PIN_DS_KEY)) {\n    return\n  }\n\n  const mh = await datastore.get(PIN_DS_KEY)\n  const cid = CID.decode(mh)\n  const pinRootBuf = await blockstore.get(cid)\n  const pinRoot = dagPb.decode(pinRootBuf)\n  let counter = 0\n  const pinCount = (await length(pinset.loadSet(blockstore, pinRoot, PinTypes.recursive))) + (await length(pinset.loadSet(blockstore, pinRoot, PinTypes.direct)))\n\n  for await (const cid of pinset.loadSet(blockstore, pinRoot, PinTypes.recursive)) {\n    counter++\n\n    /** @type {{ depth: number, version?: CIDVersion, codec?: number }} */\n    const pin = {\n      depth: Infinity\n    }\n\n    if (cid.version !== 0) {\n      pin.version = cid.version\n    }\n\n    if (cid.code !== dagPb.code) {\n      pin.codec = cid.code\n    }\n\n    await pinstore.put(cidToKey(cid), cbor.encode(pin))\n\n    onProgress((counter / pinCount) * 100, `Migrated recursive pin ${cid}`)\n  }\n\n  for await (const cid of pinset.loadSet(blockstore, pinRoot, PinTypes.direct)) {\n    counter++\n\n    /** @type {{ depth: number, version?: CIDVersion, codec?: number }} */\n    const pin = {\n      depth: 0\n    }\n\n    if (cid.version !== 0) {\n      pin.version = cid.version\n    }\n\n    if (cid.code !== dagPb.code) {\n      pin.codec = cid.code\n    }\n\n    await pinstore.put(cidToKey(cid), cbor.encode(pin))\n\n    onProgress((counter / pinCount) * 100, `Migrated direct pin ${cid}`)\n  }\n\n  await blockstore.delete(cid)\n  await datastore.delete(PIN_DS_KEY)\n}\n\n/**\n * @param {Blockstore} blockstore\n * @param {Datastore} datastore\n * @param {Datastore} pinstore\n * @param {MigrationProgressCallback} onProgress\n */\nasync function pinsToDAG (blockstore, datastore, pinstore, onProgress) {\n  const recursivePins = []\n  const directPins = []\n  let counter = 0\n  const pinCount = await length(pinstore.queryKeys({}))\n\n  for await (const { key, value } of pinstore.query({})) {\n    counter++\n    const pin = cbor.decode(value)\n    const cid = CID.create(\n      pin.version || 0,\n      pin.codec || dagPb.code,\n      mhd.decode(base32.decode('b' + key.toString().toLowerCase().split('/').pop()))\n    )\n\n    if (pin.depth === 0) {\n      onProgress((counter / pinCount) * 100, `Reverted direct pin ${cid}`)\n\n      directPins.push(cid)\n    } else {\n      onProgress((counter / pinCount) * 100, `Reverted recursive pin ${cid}`)\n\n      recursivePins.push(cid)\n    }\n  }\n\n  onProgress(100, 'Updating pin root')\n  const pinRoot = {\n    Links: [\n      await pinset.storeSet(blockstore, PinTypes.direct, directPins),\n      await pinset.storeSet(blockstore, PinTypes.recursive, recursivePins)\n    ]\n  }\n  const buf = dagPb.encode(pinRoot)\n  const digest = await sha256.digest(buf)\n  const cid = CID.createV0(digest)\n\n  await blockstore.put(cid, buf)\n  await datastore.put(PIN_DS_KEY, cid.bytes)\n}\n\n/**\n * @param {import('../../src/types').Backends} backends\n * @param {MigrationProgressCallback} onProgress\n * @param {*} fn\n */\nasync function process (backends, onProgress, fn) {\n  const blockstore = backends.blocks\n  const datastore = backends.datastore\n  const pinstore = backends.pins\n\n  await blockstore.open()\n  await datastore.open()\n  await pinstore.open()\n\n  try {\n    await fn(blockstore, datastore, pinstore, onProgress)\n  } finally {\n    await pinstore.close()\n    await datastore.close()\n    await blockstore.close()\n  }\n}\n\n/** @type {Migration} */\nexport const migration = {\n  version: 9,\n  description: 'Migrates pins to datastore',\n  migrate: (backends, onProgress = () => {}) => {\n    return process(backends, onProgress, pinsToDatastore)\n  },\n  revert: (backends, onProgress = () => {}) => {\n    return process(backends, onProgress, pinsToDAG)\n  }\n}\n", "import { CID } from 'multiformats/cid';\nimport { decodeNode } from './pb-decode.js';\nimport { encodeNode } from './pb-encode.js';\nimport {\n  prepare,\n  validate,\n  createNode,\n  createLink\n} from './util.js';\nexport const name = 'dag-pb';\nexport const code = 112;\nexport function encode(node) {\n  validate(node);\n  const pbn = {};\n  if (node.Links) {\n    pbn.Links = node.Links.map(l => {\n      const link = {};\n      if (l.Hash) {\n        link.Hash = l.Hash.bytes;\n      }\n      if (l.Name !== undefined) {\n        link.Name = l.Name;\n      }\n      if (l.Tsize !== undefined) {\n        link.Tsize = l.Tsize;\n      }\n      return link;\n    });\n  }\n  if (node.Data) {\n    pbn.Data = node.Data;\n  }\n  return encodeNode(pbn);\n}\nexport function decode(bytes) {\n  const pbn = decodeNode(bytes);\n  const node = {};\n  if (pbn.Data) {\n    node.Data = pbn.Data;\n  }\n  if (pbn.Links) {\n    node.Links = pbn.Links.map(l => {\n      const link = {};\n      try {\n        link.Hash = CID.decode(l.Hash);\n      } catch (e) {\n      }\n      if (!link.Hash) {\n        throw new Error('Invalid Hash field found in link, expected CID');\n      }\n      if (l.Name !== undefined) {\n        link.Name = l.Name;\n      }\n      if (l.Tsize !== undefined) {\n        link.Tsize = l.Tsize;\n      }\n      return link;\n    });\n  }\n  return node;\n}\nexport {\n  prepare,\n  validate,\n  createNode,\n  createLink\n};", "const textDecoder = new TextDecoder();\nfunction decodeVarint(bytes, offset) {\n  let v = 0;\n  for (let shift = 0;; shift += 7) {\n    if (shift >= 64) {\n      throw new Error('protobuf: varint overflow');\n    }\n    if (offset >= bytes.length) {\n      throw new Error('protobuf: unexpected end of data');\n    }\n    const b = bytes[offset++];\n    v += shift < 28 ? (b & 127) << shift : (b & 127) * 2 ** shift;\n    if (b < 128) {\n      break;\n    }\n  }\n  return [\n    v,\n    offset\n  ];\n}\nfunction decodeBytes(bytes, offset) {\n  let byteLen;\n  [byteLen, offset] = decodeVarint(bytes, offset);\n  const postOffset = offset + byteLen;\n  if (byteLen < 0 || postOffset < 0) {\n    throw new Error('protobuf: invalid length');\n  }\n  if (postOffset > bytes.length) {\n    throw new Error('protobuf: unexpected end of data');\n  }\n  return [\n    bytes.subarray(offset, postOffset),\n    postOffset\n  ];\n}\nfunction decodeKey(bytes, index) {\n  let wire;\n  [wire, index] = decodeVarint(bytes, index);\n  return [\n    wire & 7,\n    wire >> 3,\n    index\n  ];\n}\nfunction decodeLink(bytes) {\n  const link = {};\n  const l = bytes.length;\n  let index = 0;\n  while (index < l) {\n    let wireType, fieldNum;\n    [wireType, fieldNum, index] = decodeKey(bytes, index);\n    if (fieldNum === 1) {\n      if (link.Hash) {\n        throw new Error('protobuf: (PBLink) duplicate Hash section');\n      }\n      if (wireType !== 2) {\n        throw new Error(`protobuf: (PBLink) wrong wireType (${ wireType }) for Hash`);\n      }\n      if (link.Name !== undefined) {\n        throw new Error('protobuf: (PBLink) invalid order, found Name before Hash');\n      }\n      if (link.Tsize !== undefined) {\n        throw new Error('protobuf: (PBLink) invalid order, found Tsize before Hash');\n      }\n      ;\n      [link.Hash, index] = decodeBytes(bytes, index);\n    } else if (fieldNum === 2) {\n      if (link.Name !== undefined) {\n        throw new Error('protobuf: (PBLink) duplicate Name section');\n      }\n      if (wireType !== 2) {\n        throw new Error(`protobuf: (PBLink) wrong wireType (${ wireType }) for Name`);\n      }\n      if (link.Tsize !== undefined) {\n        throw new Error('protobuf: (PBLink) invalid order, found Tsize before Name');\n      }\n      let byts;\n      [byts, index] = decodeBytes(bytes, index);\n      link.Name = textDecoder.decode(byts);\n    } else if (fieldNum === 3) {\n      if (link.Tsize !== undefined) {\n        throw new Error('protobuf: (PBLink) duplicate Tsize section');\n      }\n      if (wireType !== 0) {\n        throw new Error(`protobuf: (PBLink) wrong wireType (${ wireType }) for Tsize`);\n      }\n      ;\n      [link.Tsize, index] = decodeVarint(bytes, index);\n    } else {\n      throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${ fieldNum }`);\n    }\n  }\n  if (index > l) {\n    throw new Error('protobuf: (PBLink) unexpected end of data');\n  }\n  return link;\n}\nexport function decodeNode(bytes) {\n  const l = bytes.length;\n  let index = 0;\n  let links;\n  let linksBeforeData = false;\n  let data;\n  while (index < l) {\n    let wireType, fieldNum;\n    [wireType, fieldNum, index] = decodeKey(bytes, index);\n    if (wireType !== 2) {\n      throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${ wireType }`);\n    }\n    if (fieldNum === 1) {\n      if (data) {\n        throw new Error('protobuf: (PBNode) duplicate Data section');\n      }\n      ;\n      [data, index] = decodeBytes(bytes, index);\n      if (links) {\n        linksBeforeData = true;\n      }\n    } else if (fieldNum === 2) {\n      if (linksBeforeData) {\n        throw new Error('protobuf: (PBNode) duplicate Links section');\n      } else if (!links) {\n        links = [];\n      }\n      let byts;\n      [byts, index] = decodeBytes(bytes, index);\n      links.push(decodeLink(byts));\n    } else {\n      throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${ fieldNum }`);\n    }\n  }\n  if (index > l) {\n    throw new Error('protobuf: (PBNode) unexpected end of data');\n  }\n  const node = {};\n  if (data) {\n    node.Data = data;\n  }\n  node.Links = links || [];\n  return node;\n}", "const textEncoder = new TextEncoder();\nconst maxInt32 = 2 ** 32;\nconst maxUInt32 = 2 ** 31;\nfunction encodeLink(link, bytes) {\n  let i = bytes.length;\n  if (typeof link.Tsize === 'number') {\n    if (link.Tsize < 0) {\n      throw new Error('Tsize cannot be negative');\n    }\n    if (!Number.isSafeInteger(link.Tsize)) {\n      throw new Error('Tsize too large for encoding');\n    }\n    i = encodeVarint(bytes, i, link.Tsize) - 1;\n    bytes[i] = 24;\n  }\n  if (typeof link.Name === 'string') {\n    const nameBytes = textEncoder.encode(link.Name);\n    i -= nameBytes.length;\n    bytes.set(nameBytes, i);\n    i = encodeVarint(bytes, i, nameBytes.length) - 1;\n    bytes[i] = 18;\n  }\n  if (link.Hash) {\n    i -= link.Hash.length;\n    bytes.set(link.Hash, i);\n    i = encodeVarint(bytes, i, link.Hash.length) - 1;\n    bytes[i] = 10;\n  }\n  return bytes.length - i;\n}\nexport function encodeNode(node) {\n  const size = sizeNode(node);\n  const bytes = new Uint8Array(size);\n  let i = size;\n  if (node.Data) {\n    i -= node.Data.length;\n    bytes.set(node.Data, i);\n    i = encodeVarint(bytes, i, node.Data.length) - 1;\n    bytes[i] = 10;\n  }\n  if (node.Links) {\n    for (let index = node.Links.length - 1; index >= 0; index--) {\n      const size = encodeLink(node.Links[index], bytes.subarray(0, i));\n      i -= size;\n      i = encodeVarint(bytes, i, size) - 1;\n      bytes[i] = 18;\n    }\n  }\n  return bytes;\n}\nfunction sizeLink(link) {\n  let n = 0;\n  if (link.Hash) {\n    const l = link.Hash.length;\n    n += 1 + l + sov(l);\n  }\n  if (typeof link.Name === 'string') {\n    const l = textEncoder.encode(link.Name).length;\n    n += 1 + l + sov(l);\n  }\n  if (typeof link.Tsize === 'number') {\n    n += 1 + sov(link.Tsize);\n  }\n  return n;\n}\nfunction sizeNode(node) {\n  let n = 0;\n  if (node.Data) {\n    const l = node.Data.length;\n    n += 1 + l + sov(l);\n  }\n  if (node.Links) {\n    for (const link of node.Links) {\n      const l = sizeLink(link);\n      n += 1 + l + sov(l);\n    }\n  }\n  return n;\n}\nfunction encodeVarint(bytes, offset, v) {\n  offset -= sov(v);\n  const base = offset;\n  while (v >= maxUInt32) {\n    bytes[offset++] = v & 127 | 128;\n    v /= 128;\n  }\n  while (v >= 128) {\n    bytes[offset++] = v & 127 | 128;\n    v >>>= 7;\n  }\n  bytes[offset] = v;\n  return base;\n}\nfunction sov(x) {\n  if (x % 2 === 0) {\n    x++;\n  }\n  return Math.floor((len64(x) + 6) / 7);\n}\nfunction len64(x) {\n  let n = 0;\n  if (x >= maxInt32) {\n    x = Math.floor(x / maxInt32);\n    n = 32;\n  }\n  if (x >= 1 << 16) {\n    x >>>= 16;\n    n += 16;\n  }\n  if (x >= 1 << 8) {\n    x >>>= 8;\n    n += 8;\n  }\n  return n + len8tab[x];\n}\nconst len8tab = [\n  0,\n  1,\n  2,\n  2,\n  3,\n  3,\n  3,\n  3,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8\n];", "import { CID } from 'multiformats/cid';\nconst pbNodeProperties = [\n  'Data',\n  'Links'\n];\nconst pbLinkProperties = [\n  'Hash',\n  'Name',\n  'Tsize'\n];\nconst textEncoder = new TextEncoder();\nfunction linkComparator(a, b) {\n  if (a === b) {\n    return 0;\n  }\n  const abuf = a.Name ? textEncoder.encode(a.Name) : [];\n  const bbuf = b.Name ? textEncoder.encode(b.Name) : [];\n  let x = abuf.length;\n  let y = bbuf.length;\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (abuf[i] !== bbuf[i]) {\n      x = abuf[i];\n      y = bbuf[i];\n      break;\n    }\n  }\n  return x < y ? -1 : y < x ? 1 : 0;\n}\nfunction hasOnlyProperties(node, properties) {\n  return !Object.keys(node).some(p => !properties.includes(p));\n}\nfunction asLink(link) {\n  if (typeof link.asCID === 'object') {\n    const Hash = CID.asCID(link);\n    if (!Hash) {\n      throw new TypeError('Invalid DAG-PB form');\n    }\n    return { Hash };\n  }\n  if (typeof link !== 'object' || Array.isArray(link)) {\n    throw new TypeError('Invalid DAG-PB form');\n  }\n  const pbl = {};\n  if (link.Hash) {\n    let cid = CID.asCID(link.Hash);\n    try {\n      if (!cid) {\n        if (typeof link.Hash === 'string') {\n          cid = CID.parse(link.Hash);\n        } else if (link.Hash instanceof Uint8Array) {\n          cid = CID.decode(link.Hash);\n        }\n      }\n    } catch (e) {\n      throw new TypeError(`Invalid DAG-PB form: ${ e.message }`);\n    }\n    if (cid) {\n      pbl.Hash = cid;\n    }\n  }\n  if (!pbl.Hash) {\n    throw new TypeError('Invalid DAG-PB form');\n  }\n  if (typeof link.Name === 'string') {\n    pbl.Name = link.Name;\n  }\n  if (typeof link.Tsize === 'number') {\n    pbl.Tsize = link.Tsize;\n  }\n  return pbl;\n}\nexport function prepare(node) {\n  if (node instanceof Uint8Array || typeof node === 'string') {\n    node = { Data: node };\n  }\n  if (typeof node !== 'object' || Array.isArray(node)) {\n    throw new TypeError('Invalid DAG-PB form');\n  }\n  const pbn = {};\n  if (node.Data !== undefined) {\n    if (typeof node.Data === 'string') {\n      pbn.Data = textEncoder.encode(node.Data);\n    } else if (node.Data instanceof Uint8Array) {\n      pbn.Data = node.Data;\n    } else {\n      throw new TypeError('Invalid DAG-PB form');\n    }\n  }\n  if (node.Links !== undefined) {\n    if (Array.isArray(node.Links)) {\n      pbn.Links = node.Links.map(asLink);\n      pbn.Links.sort(linkComparator);\n    } else {\n      throw new TypeError('Invalid DAG-PB form');\n    }\n  } else {\n    pbn.Links = [];\n  }\n  return pbn;\n}\nexport function validate(node) {\n  if (!node || typeof node !== 'object' || Array.isArray(node)) {\n    throw new TypeError('Invalid DAG-PB form');\n  }\n  if (!hasOnlyProperties(node, pbNodeProperties)) {\n    throw new TypeError('Invalid DAG-PB form (extraneous properties)');\n  }\n  if (node.Data !== undefined && !(node.Data instanceof Uint8Array)) {\n    throw new TypeError('Invalid DAG-PB form (Data must be a Uint8Array)');\n  }\n  if (!Array.isArray(node.Links)) {\n    throw new TypeError('Invalid DAG-PB form (Links must be an array)');\n  }\n  for (let i = 0; i < node.Links.length; i++) {\n    const link = node.Links[i];\n    if (!link || typeof link !== 'object' || Array.isArray(link)) {\n      throw new TypeError('Invalid DAG-PB form (bad link object)');\n    }\n    if (!hasOnlyProperties(link, pbLinkProperties)) {\n      throw new TypeError('Invalid DAG-PB form (extraneous properties on link object)');\n    }\n    if (!link.Hash) {\n      throw new TypeError('Invalid DAG-PB form (link must have a Hash)');\n    }\n    if (link.Hash.asCID !== link.Hash) {\n      throw new TypeError('Invalid DAG-PB form (link Hash must be a CID)');\n    }\n    if (link.Name !== undefined && typeof link.Name !== 'string') {\n      throw new TypeError('Invalid DAG-PB form (link Name must be a string)');\n    }\n    if (link.Tsize !== undefined && (typeof link.Tsize !== 'number' || link.Tsize % 1 !== 0)) {\n      throw new TypeError('Invalid DAG-PB form (link Tsize must be an integer)');\n    }\n    if (i > 0 && linkComparator(link, node.Links[i - 1]) === -1) {\n      throw new TypeError('Invalid DAG-PB form (links must be sorted by Name bytes)');\n    }\n  }\n}\nexport function createNode(data, links = []) {\n  return prepare({\n    Data: data,\n    Links: links\n  });\n}\nexport function createLink(name, size, cid) {\n  return asLink({\n    Hash: cid,\n    Name: name,\n    Tsize: size\n  });\n}", "\nimport { CID } from 'multiformats/cid'\nimport { ipfs } from './pin.js'\n// @ts-ignore\nimport fnv1a from 'fnv1a'\nimport varint from 'varint'\nimport * as dagPb from '@ipld/dag-pb'\nimport { DEFAULT_FANOUT, MAX_ITEMS, EMPTY_KEY } from './utils.js'\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat'\nimport { compare as uint8ArrayCompare } from 'uint8arrays/compare'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\nimport { sha256 } from 'multiformats/hashes/sha2'\n\nconst PinSet = ipfs.pin.Set\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('@ipld/dag-pb').PBNode} PBNode\n *\n * @typedef {object} Pin\n * @property {CID} key\n * @property {Uint8Array} [data]\n */\n\n/**\n * @param {PBNode} rootNode\n */\nfunction readHeader (rootNode) {\n  // rootNode.data should be a buffer of the format:\n  // < varint(headerLength) | header | itemData... >\n  const rootData = rootNode.Data\n\n  if (!rootData) {\n    throw new Error('No data present')\n  }\n\n  const hdrLength = varint.decode(rootData)\n  const vBytes = varint.decode.bytes\n\n  if (vBytes <= 0) {\n    throw new Error('Invalid Set header length')\n  }\n\n  if (vBytes + hdrLength > rootData.length) {\n    throw new Error('Impossibly large set header length')\n  }\n\n  const hdrSlice = rootData.slice(vBytes, hdrLength + vBytes)\n  const header = PinSet.toObject(PinSet.decode(hdrSlice), {\n    defaults: false,\n    arrays: true,\n    longs: Number,\n    objects: false\n  })\n\n  if (header.version !== 1) {\n    throw new Error(`Unsupported Set version: ${header.version}`)\n  }\n\n  if (header.fanout > rootNode.Links.length) {\n    throw new Error('Impossibly large fanout')\n  }\n\n  return {\n    header: header,\n    data: rootData.slice(hdrLength + vBytes)\n  }\n}\n\n/**\n * @param {number} seed\n * @param {CID} key\n */\nfunction hash (seed, key) {\n  const buffer = new Uint8Array(4)\n  const dataView = new DataView(buffer.buffer)\n  dataView.setUint32(0, seed, true)\n  const encodedKey = uint8ArrayFromString(key.toString())\n  const data = uint8ArrayConcat([buffer, encodedKey], buffer.byteLength + encodedKey.byteLength)\n\n  return fnv1a(uint8ArrayToString(data))\n}\n\n/**\n * @param {Blockstore} blockstore\n * @param {PBNode} node\n * @returns {AsyncGenerator<CID, void, undefined>}\n */\nasync function * walkItems (blockstore, node) {\n  const pbh = readHeader(node)\n  let idx = 0\n\n  for (const link of node.Links) {\n    if (idx < pbh.header.fanout) {\n      // the first pbh.header.fanout links are fanout bins\n      // if a fanout bin is not 'empty', dig into and walk its DAGLinks\n      const linkHash = link.Hash\n\n      if (!EMPTY_KEY.equals(linkHash)) {\n        // walk the links of this fanout bin\n        const buf = await blockstore.get(linkHash)\n        const node = dagPb.decode(buf)\n\n        yield * walkItems(blockstore, node)\n      }\n    } else {\n      // otherwise, the link is a pin\n      yield link.Hash\n    }\n\n    idx++\n  }\n}\n\n/**\n * @param {Blockstore} blockstore\n * @param {PBNode} rootNode\n * @param {string} name\n */\nexport async function * loadSet (blockstore, rootNode, name) {\n  const link = rootNode.Links.find(l => l.Name === name)\n\n  if (!link) {\n    throw new Error('No link found with name ' + name)\n  }\n\n  const buf = await blockstore.get(link.Hash)\n  const node = dagPb.decode(buf)\n\n  yield * walkItems(blockstore, node)\n}\n\n/**\n * @param {Blockstore} blockstore\n * @param {Pin[]} items\n */\nfunction storeItems (blockstore, items) {\n  return storePins(items, 0)\n\n  /**\n   * @param {Pin[]} pins\n   * @param {number} depth\n   */\n  async function storePins (pins, depth) {\n    const pbHeader = PinSet.encode({\n      version: 1,\n      fanout: DEFAULT_FANOUT,\n      seed: depth\n    }).finish()\n\n    const header = varint.encode(pbHeader.length)\n    const headerBuf = uint8ArrayConcat([header, pbHeader])\n    const fanoutLinks = []\n\n    for (let i = 0; i < DEFAULT_FANOUT; i++) {\n      fanoutLinks.push({\n        Name: '',\n        Tsize: 1,\n        Hash: EMPTY_KEY\n      })\n    }\n\n    if (pins.length <= MAX_ITEMS) {\n      const nodes = pins\n        .map(item => {\n          return ({\n            link: {\n              Name: '',\n              Tsize: 1,\n              Hash: item.key\n            },\n            data: item.data || new Uint8Array()\n          })\n        })\n        // sorting makes any ordering of `pins` produce the same DAGNode\n        .sort((a, b) => {\n          return uint8ArrayCompare(a.link.Hash.bytes, b.link.Hash.bytes)\n        })\n\n      const rootLinks = fanoutLinks.concat(nodes.map(item => item.link))\n      const rootData = uint8ArrayConcat([headerBuf, ...nodes.map(item => item.data)])\n\n      return {\n        Data: rootData,\n        Links: rootLinks\n      }\n    } else {\n      // If the array of pins is > MAX_ITEMS, we:\n      //  - distribute the pins among `DEFAULT_FANOUT` bins\n      //    - create a DAGNode for each bin\n      //      - add each pin as a DAGLink to that bin\n      //  - create a root DAGNode\n      //    - add each bin as a DAGLink\n      //  - send that root DAGNode via callback\n      // (using go-ipfs' \"wasteful but simple\" approach for consistency)\n      // https://github.com/ipfs/go-ipfs/blob/master/pin/set.go#L57\n\n      /** @type {Pin[][]} */\n      const bins = pins.reduce((bins, pin) => {\n        const n = hash(depth, pin.key) % DEFAULT_FANOUT\n        // @ts-ignore\n        bins[n] = n in bins ? bins[n].concat([pin]) : [pin]\n        return bins\n      }, [])\n\n      let idx = 0\n      for (const bin of bins) {\n        const child = await storePins(bin, depth + 1)\n\n        await storeChild(child, idx)\n\n        idx++\n      }\n\n      return {\n        Data: headerBuf,\n        Links: fanoutLinks\n      }\n    }\n\n    /**\n     * @param {PBNode} child\n     * @param {number} binIdx\n     */\n    async function storeChild (child, binIdx) {\n      const buf = dagPb.encode(child)\n      const digest = await sha256.digest(buf)\n      const cid = CID.createV0(digest)\n\n      await blockstore.put(cid, buf)\n\n      const size = child.Links.reduce((acc, curr) => acc + (curr.Tsize || 0), 0) + buf.length\n\n      fanoutLinks[binIdx] = {\n        Name: '',\n        Tsize: size,\n        Hash: cid\n      }\n    }\n  }\n}\n\n/**\n * @param {Blockstore} blockstore\n * @param {string} type\n * @param {CID[]} cids\n */\nexport async function storeSet (blockstore, type, cids) {\n  const rootNode = await storeItems(blockstore, cids.map(cid => {\n    return {\n      key: cid\n    }\n  }))\n  const buf = dagPb.encode(rootNode)\n  const digest = await sha256.digest(buf)\n  const cid = CID.createV0(digest)\n\n  await blockstore.put(cid, buf)\n\n  const size = rootNode.Links.reduce((acc, curr) => acc + curr.Tsize, 0) + buf.length\n\n  return {\n    Name: type,\n    Tsize: size,\n    Hash: cid\n  }\n}\n", "/*eslint-disable*/\nimport $protobuf from \"protobufjs/minimal.js\";\n\n// Common aliases\nconst $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n// Exported root namespace\nconst $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport const ipfs = $root.ipfs = (() => {\n\n    /**\n     * Namespace ipfs.\n     * @exports ipfs\n     * @namespace\n     */\n    const ipfs = {};\n\n    ipfs.pin = (function() {\n\n        /**\n         * Namespace pin.\n         * @memberof ipfs\n         * @namespace\n         */\n        const pin = {};\n\n        pin.Set = (function() {\n\n            /**\n             * Properties of a Set.\n             * @memberof ipfs.pin\n             * @interface ISet\n             * @property {number|null} [version] Set version\n             * @property {number|null} [fanout] Set fanout\n             * @property {number|null} [seed] Set seed\n             */\n\n            /**\n             * Constructs a new Set.\n             * @memberof ipfs.pin\n             * @classdesc Represents a Set.\n             * @implements ISet\n             * @constructor\n             * @param {ipfs.pin.ISet=} [p] Properties to set\n             */\n            function Set(p) {\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            /**\n             * Set version.\n             * @member {number} version\n             * @memberof ipfs.pin.Set\n             * @instance\n             */\n            Set.prototype.version = 0;\n\n            /**\n             * Set fanout.\n             * @member {number} fanout\n             * @memberof ipfs.pin.Set\n             * @instance\n             */\n            Set.prototype.fanout = 0;\n\n            /**\n             * Set seed.\n             * @member {number} seed\n             * @memberof ipfs.pin.Set\n             * @instance\n             */\n            Set.prototype.seed = 0;\n\n            /**\n             * Encodes the specified Set message. Does not implicitly {@link ipfs.pin.Set.verify|verify} messages.\n             * @function encode\n             * @memberof ipfs.pin.Set\n             * @static\n             * @param {ipfs.pin.ISet} m Set message or plain object to encode\n             * @param {$protobuf.Writer} [w] Writer to encode to\n             * @returns {$protobuf.Writer} Writer\n             */\n            Set.encode = function encode(m, w) {\n                if (!w)\n                    w = $Writer.create();\n                if (m.version != null && Object.hasOwnProperty.call(m, \"version\"))\n                    w.uint32(8).uint32(m.version);\n                if (m.fanout != null && Object.hasOwnProperty.call(m, \"fanout\"))\n                    w.uint32(16).uint32(m.fanout);\n                if (m.seed != null && Object.hasOwnProperty.call(m, \"seed\"))\n                    w.uint32(29).fixed32(m.seed);\n                return w;\n            };\n\n            /**\n             * Decodes a Set message from the specified reader or buffer.\n             * @function decode\n             * @memberof ipfs.pin.Set\n             * @static\n             * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n             * @param {number} [l] Message length if known beforehand\n             * @returns {ipfs.pin.Set} Set\n             * @throws {Error} If the payload is not a reader or valid buffer\n             * @throws {$protobuf.util.ProtocolError} If required fields are missing\n             */\n            Set.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.ipfs.pin.Set();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        m.version = r.uint32();\n                        break;\n                    case 2:\n                        m.fanout = r.uint32();\n                        break;\n                    case 3:\n                        m.seed = r.fixed32();\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            /**\n             * Creates a Set message from a plain object. Also converts values to their respective internal types.\n             * @function fromObject\n             * @memberof ipfs.pin.Set\n             * @static\n             * @param {Object.<string,*>} d Plain object\n             * @returns {ipfs.pin.Set} Set\n             */\n            Set.fromObject = function fromObject(d) {\n                if (d instanceof $root.ipfs.pin.Set)\n                    return d;\n                var m = new $root.ipfs.pin.Set();\n                if (d.version != null) {\n                    m.version = d.version >>> 0;\n                }\n                if (d.fanout != null) {\n                    m.fanout = d.fanout >>> 0;\n                }\n                if (d.seed != null) {\n                    m.seed = d.seed >>> 0;\n                }\n                return m;\n            };\n\n            /**\n             * Creates a plain object from a Set message. Also converts values to other types if specified.\n             * @function toObject\n             * @memberof ipfs.pin.Set\n             * @static\n             * @param {ipfs.pin.Set} m Set\n             * @param {$protobuf.IConversionOptions} [o] Conversion options\n             * @returns {Object.<string,*>} Plain object\n             */\n            Set.toObject = function toObject(m, o) {\n                if (!o)\n                    o = {};\n                var d = {};\n                if (o.defaults) {\n                    d.version = 0;\n                    d.fanout = 0;\n                    d.seed = 0;\n                }\n                if (m.version != null && m.hasOwnProperty(\"version\")) {\n                    d.version = m.version;\n                }\n                if (m.fanout != null && m.hasOwnProperty(\"fanout\")) {\n                    d.fanout = m.fanout;\n                }\n                if (m.seed != null && m.hasOwnProperty(\"seed\")) {\n                    d.seed = m.seed;\n                }\n                return d;\n            };\n\n            /**\n             * Converts this Set to JSON.\n             * @function toJSON\n             * @memberof ipfs.pin.Set\n             * @instance\n             * @returns {Object.<string,*>} JSON object\n             */\n            Set.prototype.toJSON = function toJSON() {\n                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n            };\n\n            return Set;\n        })();\n\n        return pin;\n    })();\n\n    return ipfs;\n})();\n\nexport { $root as default };\n", "\nimport { Key } from 'interface-datastore/key'\nimport { base32 } from 'multiformats/bases/base32'\nimport { CID } from 'multiformats/cid'\n\nexport const PIN_DS_KEY = new Key('/local/pins')\nexport const DEFAULT_FANOUT = 256\nexport const MAX_ITEMS = 8192\nexport const EMPTY_KEY = CID.parse('QmdfTbBqBPQ7VNxZEYEj14VmRuZBkqFbiwReogJgS1zR1n')\n\nexport const PinTypes = {\n  direct: 'direct',\n  recursive: 'recursive'\n}\n\n/**\n * @param {import('multiformats').CID} cid\n */\n export function cidToKey (cid) {\n  return new Key(`/${base32.encode(cid.multihash.bytes).toUpperCase().substring(1)}`)\n}\n", "export function compare(a, b) {\n  for (let i = 0; i < a.byteLength; i++) {\n    if (a[i] < b[i]) {\n      return -1;\n    }\n    if (a[i] > b[i]) {\n      return 1;\n    }\n  }\n  if (a.byteLength > b.byteLength) {\n    return 1;\n  }\n  if (a.byteLength < b.byteLength) {\n    return -1;\n  }\n  return 0;\n}", "\nimport { findLevelJs } from '../../src/utils.js'\nimport { fromString } from 'uint8arrays/from-string'\nimport { toString } from 'uint8arrays/to-string'\n\n/**\n * @typedef {import('../../src/types').Migration} Migration\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('../../src/types').MigrationProgressCallback} MigrationProgressCallback\n *\n * @typedef {{ type: 'del', key: string | Uint8Array } | { type: 'put', key: string | Uint8Array, value: Uint8Array }} Operation\n * @typedef {function (string, Uint8Array): Operation[]} UpgradeFunction\n * @typedef {function (Uint8Array, Uint8Array): Operation[]} DowngradeFunction\n */\n\n/**\n * @param {string} name\n * @param {Datastore} store\n * @param {(message: string) => void} onProgress\n */\nasync function keysToBinary (name, store, onProgress = () => {}) {\n  const db = findLevelJs(store)\n\n  // only interested in level-js\n  if (!db) {\n    onProgress(`${name} did not need an upgrade`)\n\n    return\n  }\n\n  onProgress(`Upgrading ${name}`)\n\n  /**\n   * @type {UpgradeFunction}\n   */\n  const upgrade = (key, value) => {\n    return [\n      { type: 'del', key: key },\n      { type: 'put', key: fromString(key), value: value }\n    ]\n  }\n\n  await withEach(db, upgrade)\n}\n\n/**\n * @param {string} name\n * @param {Datastore} store\n * @param {(message: string) => void} onProgress\n */\nasync function keysToStrings (name, store, onProgress = () => {}) {\n  const db = findLevelJs(store)\n\n  // only interested in level-js\n  if (!db) {\n    onProgress(`${name} did not need a downgrade`)\n\n    return\n  }\n\n  onProgress(`Downgrading ${name}`)\n\n  /**\n   * @type {DowngradeFunction}\n   */\n  const downgrade = (key, value) => {\n    return [\n      { type: 'del', key: key },\n      { type: 'put', key: toString(key), value: value }\n    ]\n  }\n\n  await withEach(db, downgrade)\n}\n\n/**\n * @param {any} store\n * @returns {Datastore}\n */\nfunction unwrap (store) {\n  if (store.child) {\n    return unwrap(store.child)\n  }\n\n  return store\n}\n\n/**\n * @param {import('../../src/types').Backends} backends\n * @param {MigrationProgressCallback} onProgress\n * @param {*} fn\n */\nasync function process (backends, onProgress, fn) {\n  /**\n   * @type {{ name: string, store: Datastore }[]}\n   */\n  const datastores = Object.entries(backends)\n    .map(([key, backend]) => ({ key, backend: unwrap(backend) }))\n    .filter(({ key, backend }) => backend.constructor.name === 'LevelDatastore')\n    .map(({ key, backend }) => ({\n      name: key,\n      store: backend\n    }))\n\n  onProgress(0, `Migrating ${datastores.length} dbs`)\n  let migrated = 0\n\n  /**\n   * @param {string} message\n   */\n  const progress = (message) => {\n    onProgress(Math.round((migrated / datastores.length) * 100), message)\n  }\n\n  for (const { name, store } of datastores) {\n    await store.open()\n\n    try {\n      await fn(name, store, progress)\n    } finally {\n      migrated++\n      await store.close()\n    }\n  }\n\n  onProgress(100, `Migrated ${datastores.length} dbs`)\n}\n\n/** @type {Migration} */\nexport const migration = {\n  version: 10,\n  description: 'Migrates datastore-level keys to binary',\n  migrate: (backends, onProgress = () => {}) => {\n    return process(backends, onProgress, keysToBinary)\n  },\n  revert: (backends, onProgress = () => {}) => {\n    return process(backends, onProgress, keysToStrings)\n  }\n}\n\n/**\n * Uses the upgrade strategy from level-js@5.x.x - note we can't call the `.upgrade` command\n * directly because it will be removed in level-js@6.x.x and we can't guarantee users will\n * have migrated by then - e.g. they may jump from level-js@4.x.x straight to level-js@6.x.x\n * so we have to duplicate the code here.\n *\n * @param {any} db\n * @param {UpgradeFunction | DowngradeFunction} fn\n * @returns {Promise<void>}\n */\nfunction withEach (db, fn) {\n  /**\n   * @param {Operation[]} operations\n   * @param {(error?: Error) => void} next\n   */\n  function batch (operations, next) {\n    const store = db.store('readwrite')\n    const transaction = store.transaction\n    let index = 0\n    /** @type {Error | undefined} */\n    let error\n\n    transaction.onabort = () => next(error || transaction.error || new Error('aborted by user'))\n    transaction.oncomplete = () => next()\n\n    function loop () {\n      const op = operations[index++]\n      const key = op.key\n      let req\n\n      try {\n        req = op.type === 'del' ? store.delete(key) : store.put(op.value, key)\n      } catch (/** @type {any} */ err) {\n        error = err\n        transaction.abort()\n        return\n      }\n\n      if (index < operations.length) {\n        req.onsuccess = loop\n      }\n    }\n\n    loop()\n  }\n\n  return new Promise((resolve, reject) => {\n    const it = db.iterator()\n    // raw keys and values only\n    /**\n     * @template T\n     * @param {T} data\n     */\n    const id = (data) => data\n    it._deserializeKey = it._deserializeValue = id\n    next()\n\n    function next () {\n      /**\n       * @param {Error | undefined} err\n       * @param {string | undefined} key\n       * @param {Uint8Array} value\n       */\n      const handleNext = (err, key, value) => {\n        if (err || key === undefined) {\n          /**\n           * @param {Error | undefined} err2\n           */\n          const handleEnd = (err2) => {\n            if (err2) {\n              reject(err2)\n              return\n            }\n\n            resolve()\n          }\n\n          it.end(handleEnd)\n\n          return\n        }\n\n        // @ts-ignore\n        batch(fn(key, value), next)\n      }\n      it.next(handleNext)\n    }\n  })\n}\n", "\nimport { Key } from 'interface-datastore/key'\nimport { notFoundError } from 'datastore-core/errors'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n */\n\nexport const CONFIG_KEY = new Key('/config')\nexport const VERSION_KEY = new Key('/version')\n\n/**\n * Level dbs wrap level dbs that wrap level dbs. Find a level-js\n * instance in the chain if one exists.\n *\n * @param {Datastore} store\n * @returns {Datastore | undefined}\n */\nexport function findLevelJs (store) {\n  let db = store\n\n  // @ts-ignore\n  while (db.db || db.child) {\n    // @ts-ignore\n    db = db.db || db.child\n\n    // `Level` is only present in the browser, in node it is LevelDOWN\n    // @ts-ignore\n    if (db.type === 'level-js' || db.constructor.name === 'Level') {\n      return db\n    }\n  }\n}\n\n/**\n * @param {Key} key\n * @param {function (Key): Promise<boolean>} has\n * @param {Datastore} store\n * @returns {Promise<boolean>}\n */\nexport async function hasWithFallback (key, has, store) {\n  const result = await has(key)\n\n  if (result) {\n    return result\n  }\n\n  // Newer versions of level.js changed the key type from Uint8Array|string\n  // to Uint8Array  so fall back to trying Uint8Arrays if we are using level.js\n  // and the string version of the key did not work\n  const levelJs = findLevelJs(store)\n\n  if (!levelJs) {\n    return false\n  }\n\n  return new Promise((resolve, reject) => {\n    // drop down to IndexDB API, otherwise level-js will monkey around with the keys/values\n    // @ts-ignore\n    const req = levelJs.store('readonly').get(key.toString())\n    req.transaction.onabort = () => {\n      reject(req.transaction.error)\n    }\n    req.transaction.oncomplete = () => {\n      resolve(Boolean(req.result))\n    }\n  })\n}\n\n/**\n * @param {import('interface-datastore').Key} key\n * @param {function (Key): Promise<Uint8Array>} get\n * @param {function (Key): Promise<boolean>} has\n * @param {import('interface-datastore').Datastore} store\n * @returns {Promise<Uint8Array>}\n */\nasync function getWithFallback (key, get, has, store) {\n  if (await has(key)) {\n    return get(key)\n  }\n\n  // Newer versions of level.js changed the key type from Uint8Array|string\n  // to Uint8Array so fall back to trying Uint8Arrays if we are using level.js\n  // and the string version of the key did not work\n  const levelJs = findLevelJs(store)\n\n  if (!levelJs) {\n    throw notFoundError()\n  }\n\n  return new Promise((resolve, reject) => {\n    // drop down to IndexDB API, otherwise level-js will monkey around with the keys/values\n    // @ts-ignore\n    const req = levelJs.store('readonly').get(key.toString())\n    req.transaction.onabort = () => {\n      reject(req.transaction.error)\n    }\n    req.transaction.oncomplete = () => {\n      if (req.result) {\n        return resolve(req.result)\n      }\n\n      reject(notFoundError())\n    }\n  })\n}\n\n/**\n * @param {Datastore} store\n */\nfunction wrapStore (store) {\n  // necessary since level-js@5 cannot read keys from level-js@4 and earlier\n  const originalGet = store.get.bind(store)\n  const originalHas = store.has.bind(store)\n  /**\n   * @param {Key} key\n   */\n  store.get = (key) => getWithFallback(key, originalGet, originalHas, store)\n  /**\n   * @param {Key} key\n   */\n  store.has = (key) => hasWithFallback(key, originalHas, store)\n\n  return store\n}\n\n/**\n * @param {import('./types').Backends} backends\n */\nexport function wrapBackends (backends) {\n  return {\n    ...backends,\n    root: wrapStore(backends.root),\n    datastore: wrapStore(backends.datastore),\n    pins: wrapStore(backends.pins),\n    keys: wrapStore(backends.keys)\n  }\n}\n", "import errCode from 'err-code'\n\n/**\n * @param {Error} [err]\n */\nexport function dbOpenFailedError (err) {\n  err = err || new Error('Cannot open database')\n  return errCode(err, 'ERR_DB_OPEN_FAILED')\n}\n\n/**\n * @param {Error} [err]\n */\nexport function dbDeleteFailedError (err) {\n  err = err || new Error('Delete failed')\n  return errCode(err, 'ERR_DB_DELETE_FAILED')\n}\n\n/**\n * @param {Error} [err]\n */\nexport function dbWriteFailedError (err) {\n  err = err || new Error('Write failed')\n  return errCode(err, 'ERR_DB_WRITE_FAILED')\n}\n\n/**\n * @param {Error} [err]\n */\nexport function notFoundError (err) {\n  err = err || new Error('Not Found')\n  return errCode(err, 'ERR_NOT_FOUND')\n}\n\n/**\n * @param {Error} [err]\n */\nexport function abortedError (err) {\n  err = err || new Error('Aborted')\n  return errCode(err, 'ERR_ABORTED')\n}\n", "\nimport { Key } from 'interface-datastore/key'\n\nconst MFS_ROOT_KEY = new Key('/local/filesroot')\n\n/**\n * @param {import('../../src/types').Backends} backends\n * @param {import('../../src/types').MigrationProgressCallback} onProgress\n */\nasync function storeMfsRootInDatastore (backends, onProgress = () => {}) {\n  onProgress(100, 'Migrating MFS root to repo datastore')\n\n  await backends.root.open()\n  await backends.datastore.open()\n\n  if (await backends.root.has(MFS_ROOT_KEY)) {\n    const root = await backends.root.get(MFS_ROOT_KEY)\n    await backends.datastore.put(MFS_ROOT_KEY, root)\n    await backends.root.delete(MFS_ROOT_KEY)\n  }\n\n  await backends.datastore.close()\n  await backends.root.close()\n\n  onProgress(100, 'Stored MFS root in repo datastore')\n}\n\n/**\n * @param {import('../../src/types').Backends} backends\n * @param {import('../../src/types').MigrationProgressCallback} onProgress\n */\nasync function storeMfsRootInRoot (backends, onProgress = () => {}) {\n  onProgress(100, 'Migrating MFS root to repo root datastore')\n\n  await backends.root.open()\n  await backends.datastore.open()\n\n  if (await backends.datastore.has(MFS_ROOT_KEY)) {\n    const root = await backends.datastore.get(MFS_ROOT_KEY)\n    await backends.root.put(MFS_ROOT_KEY, root)\n    await backends.datastore.delete(MFS_ROOT_KEY)\n  }\n\n  await backends.datastore.close()\n  await backends.root.close()\n\n  onProgress(100, 'Stored MFS root in repo root datastore')\n}\n\n/** @type {import('../../src/types').Migration} */\nexport const migration = {\n  version: 11,\n  description: 'Store mfs root in the datastore',\n  migrate: storeMfsRootInDatastore,\n  revert: storeMfsRootInRoot\n}\n", "import $protobuf from \"protobufjs/minimal.js\"\n\n// @ts-expect-error Explicitly disable long.js support\n$protobuf.util.Long = undefined\n$protobuf.configure()\n\nimport { Key } from 'interface-datastore/key'\nimport { Protocols } from './pb/proto-book.js'\nimport { Addresses } from './pb/address-book.js'\nimport { Peer } from './pb/peer.js'\nimport { Envelope } from './pb/envelope.js'\nimport { PeerRecord } from './pb/peer-record.js'\nimport { Multiaddr } from 'multiaddr'\n\n/**\n * @param {import('../../src/types').Backends} backends\n * @param {import('../../src/types').MigrationProgressCallback} onProgress\n */\nasync function storePeerUnderSingleDatastoreKey (backends, onProgress = () => {}) {\n  onProgress(0, 'Storing each peerstore key under a single datastore key')\n\n  await backends.datastore.open()\n\n  /** @type {Record<string, any>} */\n  const peers = {}\n  /** @type {Key[]} */\n  const keys = []\n\n  for await (const { key, value } of backends.datastore.query({\n    prefix: '/peers'\n  })) {\n    keys.push(key)\n    const keyStr = key.toString()\n    const [_, prefix, type, peerId, metadataKey] = keyStr.split('/')\n\n    if (prefix !== 'peers') {\n      continue\n    }\n\n    if (!['protos', 'addrs', 'metadata', 'keys'].includes(type)) {\n      continue\n    }\n\n    if (!peerId) {\n      continue\n    }\n\n    peers[peerId] = peers[peerId] || {\n      addresses: [],\n      protocols: [],\n      metadata: []\n    }\n\n    if (type === 'protos') {\n      const protos = Protocols.decode(value)\n\n      peers[peerId].protocols = protos.protocols.sort()\n    } else if (type === 'addrs') {\n      const addrs = Addresses.decode(value)\n\n      peers[peerId].addresses = addrs.addrs.sort((a, b) => {\n        return new Multiaddr(a.multiaddr).toString().localeCompare(new Multiaddr(b.multiaddr).toString())\n      })\n\n      if (addrs.certifiedRecord && addrs.certifiedRecord.raw) {\n        peers[peerId].peerRecordEnvelope = addrs.certifiedRecord.raw\n      }\n    } else if (type === 'metadata') {\n      peers[peerId].metadata.push({ key: metadataKey, value })\n    } else if (type === 'keys') {\n      peers[peerId].pubKey = value\n    }\n  }\n\n  onProgress(33, 'Read peer data from store')\n\n  for (const key of keys) {\n    await backends.datastore.delete(key)\n  }\n\n  onProgress(66, 'Removed existing peer data from store')\n\n  for (const peerId of Object.keys(peers)) {\n    const peer = peers[peerId]\n    peer.metadata = peer.metadata.sort((/** @type {{ key: string }} */ a, /** @type {{ key: string }} */ b) => a.key.localeCompare(b.key))\n\n    const data = Peer.encode(peer).finish()\n\n    await backends.datastore.put(new Key(`/peers/${peerId}`), data)\n  }\n\n  await backends.datastore.close()\n\n  onProgress(100, 'Stored each peerstore key under a single datastore key')\n}\n\n/**\n * @param {import('../../src/types').Backends} backends\n * @param {import('../../src/types').MigrationProgressCallback} onProgress\n */\nasync function storePeerUnderMultipleDatastoreKeys (backends, onProgress = () => {}) {\n  onProgress(0, 'Storing each peerstore key under a multiple datastore keys')\n\n  await backends.datastore.open()\n\n  /** @type {Record<string, any>} */\n  const peers = {}\n  /** @type {Key[]} */\n  const keys = []\n\n  for await (const { key, value } of backends.datastore.query({\n    prefix: '/peers'\n  })) {\n    keys.push(key)\n    const keyStr = key.toString()\n\n    const [_, _prefix, peerId] = keyStr.split('/')\n\n    peers[peerId] = Peer.decode(value)\n  }\n\n  onProgress(33, 'Read peer data from store')\n\n  for (const key of keys) {\n    await backends.datastore.delete(key)\n  }\n\n  onProgress(66, 'Removed existing peer data from store')\n\n  for (const [peerId, peer] of Object.entries(peers)) {\n    if (peer.protocols && peer.protocols.length > 0) {\n      await backends.datastore.put(new Key(`/peers/protos/${peerId}`), Protocols.encode({\n        protocols: peer.protocols\n      }).finish())\n    }\n\n    if (peer.addresses && peer.addresses.length > 0) {\n      const peerRecordEnvelope = peer.peerRecordEnvelope\n      let certifiedRecord\n\n      if (peerRecordEnvelope) {\n        const envelope = Envelope.decode(peerRecordEnvelope)\n        const record = PeerRecord.decode(envelope.payload)\n\n        certifiedRecord = {\n          raw: peerRecordEnvelope,\n          seq: record.seq\n        }\n      }\n\n      await backends.datastore.put(new Key(`/peers/addrs/${peerId}`), Addresses.encode({\n        addrs: peer.addresses,\n        certifiedRecord\n      }).finish())\n    }\n\n    if (peer.metadata && peer.metadata.length > 0) {\n      for (const { key, value } of peer.metadata) {\n        await backends.datastore.put(new Key(`/peers/metadata/${peerId}/${key}`), value)\n      }\n    }\n\n    if (peer.pubKey) {\n      await backends.datastore.put(new Key(`/peers/keys/${peerId}`), peer.pubKey)\n    }\n  }\n\n  await backends.datastore.close()\n\n  onProgress(100, 'Stored each peerstore key under multiple datastore keys')\n}\n\n/** @type {import('../../src/types').Migration} */\nexport const migration = {\n  version: 12,\n  description: 'Store each peerstore peer under a single datastore key',\n  migrate: storePeerUnderSingleDatastoreKey,\n  revert: storePeerUnderMultipleDatastoreKeys\n}\n", "/*eslint-disable*/\nimport $protobuf from \"protobufjs/minimal.js\";\n\n// Common aliases\nconst $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n// Exported root namespace\nconst $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport const Protocols = $root.Protocols = (() => {\n\n    /**\n     * Properties of a Protocols.\n     * @exports IProtocols\n     * @interface IProtocols\n     * @property {Array.<string>|null} [protocols] Protocols protocols\n     */\n\n    /**\n     * Constructs a new Protocols.\n     * @exports Protocols\n     * @classdesc Represents a Protocols.\n     * @implements IProtocols\n     * @constructor\n     * @param {IProtocols=} [p] Properties to set\n     */\n    function Protocols(p) {\n        this.protocols = [];\n        if (p)\n            for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                if (p[ks[i]] != null)\n                    this[ks[i]] = p[ks[i]];\n    }\n\n    /**\n     * Protocols protocols.\n     * @member {Array.<string>} protocols\n     * @memberof Protocols\n     * @instance\n     */\n    Protocols.prototype.protocols = $util.emptyArray;\n\n    /**\n     * Encodes the specified Protocols message. Does not implicitly {@link Protocols.verify|verify} messages.\n     * @function encode\n     * @memberof Protocols\n     * @static\n     * @param {IProtocols} m Protocols message or plain object to encode\n     * @param {$protobuf.Writer} [w] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Protocols.encode = function encode(m, w) {\n        if (!w)\n            w = $Writer.create();\n        if (m.protocols != null && m.protocols.length) {\n            for (var i = 0; i < m.protocols.length; ++i)\n                w.uint32(10).string(m.protocols[i]);\n        }\n        return w;\n    };\n\n    /**\n     * Decodes a Protocols message from the specified reader or buffer.\n     * @function decode\n     * @memberof Protocols\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n     * @param {number} [l] Message length if known beforehand\n     * @returns {Protocols} Protocols\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Protocols.decode = function decode(r, l) {\n        if (!(r instanceof $Reader))\n            r = $Reader.create(r);\n        var c = l === undefined ? r.len : r.pos + l, m = new $root.Protocols();\n        while (r.pos < c) {\n            var t = r.uint32();\n            switch (t >>> 3) {\n            case 1:\n                if (!(m.protocols && m.protocols.length))\n                    m.protocols = [];\n                m.protocols.push(r.string());\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates a Protocols message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Protocols\n     * @static\n     * @param {Object.<string,*>} d Plain object\n     * @returns {Protocols} Protocols\n     */\n    Protocols.fromObject = function fromObject(d) {\n        if (d instanceof $root.Protocols)\n            return d;\n        var m = new $root.Protocols();\n        if (d.protocols) {\n            if (!Array.isArray(d.protocols))\n                throw TypeError(\".Protocols.protocols: array expected\");\n            m.protocols = [];\n            for (var i = 0; i < d.protocols.length; ++i) {\n                m.protocols[i] = String(d.protocols[i]);\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates a plain object from a Protocols message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Protocols\n     * @static\n     * @param {Protocols} m Protocols\n     * @param {$protobuf.IConversionOptions} [o] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Protocols.toObject = function toObject(m, o) {\n        if (!o)\n            o = {};\n        var d = {};\n        if (o.arrays || o.defaults) {\n            d.protocols = [];\n        }\n        if (m.protocols && m.protocols.length) {\n            d.protocols = [];\n            for (var j = 0; j < m.protocols.length; ++j) {\n                d.protocols[j] = m.protocols[j];\n            }\n        }\n        return d;\n    };\n\n    /**\n     * Converts this Protocols to JSON.\n     * @function toJSON\n     * @memberof Protocols\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Protocols.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return Protocols;\n})();\n\nexport { $root as default };\n", "/*eslint-disable*/\nimport $protobuf from \"protobufjs/minimal.js\";\n\n// Common aliases\nconst $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n// Exported root namespace\nconst $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport const Addresses = $root.Addresses = (() => {\n\n    /**\n     * Properties of an Addresses.\n     * @exports IAddresses\n     * @interface IAddresses\n     * @property {Array.<Addresses.IAddress>|null} [addrs] Addresses addrs\n     * @property {Addresses.ICertifiedRecord|null} [certifiedRecord] Addresses certifiedRecord\n     */\n\n    /**\n     * Constructs a new Addresses.\n     * @exports Addresses\n     * @classdesc Represents an Addresses.\n     * @implements IAddresses\n     * @constructor\n     * @param {IAddresses=} [p] Properties to set\n     */\n    function Addresses(p) {\n        this.addrs = [];\n        if (p)\n            for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                if (p[ks[i]] != null)\n                    this[ks[i]] = p[ks[i]];\n    }\n\n    /**\n     * Addresses addrs.\n     * @member {Array.<Addresses.IAddress>} addrs\n     * @memberof Addresses\n     * @instance\n     */\n    Addresses.prototype.addrs = $util.emptyArray;\n\n    /**\n     * Addresses certifiedRecord.\n     * @member {Addresses.ICertifiedRecord|null|undefined} certifiedRecord\n     * @memberof Addresses\n     * @instance\n     */\n    Addresses.prototype.certifiedRecord = null;\n\n    /**\n     * Encodes the specified Addresses message. Does not implicitly {@link Addresses.verify|verify} messages.\n     * @function encode\n     * @memberof Addresses\n     * @static\n     * @param {IAddresses} m Addresses message or plain object to encode\n     * @param {$protobuf.Writer} [w] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Addresses.encode = function encode(m, w) {\n        if (!w)\n            w = $Writer.create();\n        if (m.addrs != null && m.addrs.length) {\n            for (var i = 0; i < m.addrs.length; ++i)\n                $root.Addresses.Address.encode(m.addrs[i], w.uint32(10).fork()).ldelim();\n        }\n        if (m.certifiedRecord != null && Object.hasOwnProperty.call(m, \"certifiedRecord\"))\n            $root.Addresses.CertifiedRecord.encode(m.certifiedRecord, w.uint32(18).fork()).ldelim();\n        return w;\n    };\n\n    /**\n     * Decodes an Addresses message from the specified reader or buffer.\n     * @function decode\n     * @memberof Addresses\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n     * @param {number} [l] Message length if known beforehand\n     * @returns {Addresses} Addresses\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Addresses.decode = function decode(r, l) {\n        if (!(r instanceof $Reader))\n            r = $Reader.create(r);\n        var c = l === undefined ? r.len : r.pos + l, m = new $root.Addresses();\n        while (r.pos < c) {\n            var t = r.uint32();\n            switch (t >>> 3) {\n            case 1:\n                if (!(m.addrs && m.addrs.length))\n                    m.addrs = [];\n                m.addrs.push($root.Addresses.Address.decode(r, r.uint32()));\n                break;\n            case 2:\n                m.certifiedRecord = $root.Addresses.CertifiedRecord.decode(r, r.uint32());\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates an Addresses message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Addresses\n     * @static\n     * @param {Object.<string,*>} d Plain object\n     * @returns {Addresses} Addresses\n     */\n    Addresses.fromObject = function fromObject(d) {\n        if (d instanceof $root.Addresses)\n            return d;\n        var m = new $root.Addresses();\n        if (d.addrs) {\n            if (!Array.isArray(d.addrs))\n                throw TypeError(\".Addresses.addrs: array expected\");\n            m.addrs = [];\n            for (var i = 0; i < d.addrs.length; ++i) {\n                if (typeof d.addrs[i] !== \"object\")\n                    throw TypeError(\".Addresses.addrs: object expected\");\n                m.addrs[i] = $root.Addresses.Address.fromObject(d.addrs[i]);\n            }\n        }\n        if (d.certifiedRecord != null) {\n            if (typeof d.certifiedRecord !== \"object\")\n                throw TypeError(\".Addresses.certifiedRecord: object expected\");\n            m.certifiedRecord = $root.Addresses.CertifiedRecord.fromObject(d.certifiedRecord);\n        }\n        return m;\n    };\n\n    /**\n     * Creates a plain object from an Addresses message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Addresses\n     * @static\n     * @param {Addresses} m Addresses\n     * @param {$protobuf.IConversionOptions} [o] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Addresses.toObject = function toObject(m, o) {\n        if (!o)\n            o = {};\n        var d = {};\n        if (o.arrays || o.defaults) {\n            d.addrs = [];\n        }\n        if (o.defaults) {\n            d.certifiedRecord = null;\n        }\n        if (m.addrs && m.addrs.length) {\n            d.addrs = [];\n            for (var j = 0; j < m.addrs.length; ++j) {\n                d.addrs[j] = $root.Addresses.Address.toObject(m.addrs[j], o);\n            }\n        }\n        if (m.certifiedRecord != null && m.hasOwnProperty(\"certifiedRecord\")) {\n            d.certifiedRecord = $root.Addresses.CertifiedRecord.toObject(m.certifiedRecord, o);\n        }\n        return d;\n    };\n\n    /**\n     * Converts this Addresses to JSON.\n     * @function toJSON\n     * @memberof Addresses\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Addresses.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    Addresses.Address = (function() {\n\n        /**\n         * Properties of an Address.\n         * @memberof Addresses\n         * @interface IAddress\n         * @property {Uint8Array|null} [multiaddr] Address multiaddr\n         * @property {boolean|null} [isCertified] Address isCertified\n         */\n\n        /**\n         * Constructs a new Address.\n         * @memberof Addresses\n         * @classdesc Represents an Address.\n         * @implements IAddress\n         * @constructor\n         * @param {Addresses.IAddress=} [p] Properties to set\n         */\n        function Address(p) {\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        /**\n         * Address multiaddr.\n         * @member {Uint8Array} multiaddr\n         * @memberof Addresses.Address\n         * @instance\n         */\n        Address.prototype.multiaddr = $util.newBuffer([]);\n\n        /**\n         * Address isCertified.\n         * @member {boolean|null|undefined} isCertified\n         * @memberof Addresses.Address\n         * @instance\n         */\n        Address.prototype.isCertified = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        /**\n         * Address _isCertified.\n         * @member {\"isCertified\"|undefined} _isCertified\n         * @memberof Addresses.Address\n         * @instance\n         */\n        Object.defineProperty(Address.prototype, \"_isCertified\", {\n            get: $util.oneOfGetter($oneOfFields = [\"isCertified\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified Address message. Does not implicitly {@link Addresses.Address.verify|verify} messages.\n         * @function encode\n         * @memberof Addresses.Address\n         * @static\n         * @param {Addresses.IAddress} m Address message or plain object to encode\n         * @param {$protobuf.Writer} [w] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Address.encode = function encode(m, w) {\n            if (!w)\n                w = $Writer.create();\n            if (m.multiaddr != null && Object.hasOwnProperty.call(m, \"multiaddr\"))\n                w.uint32(10).bytes(m.multiaddr);\n            if (m.isCertified != null && Object.hasOwnProperty.call(m, \"isCertified\"))\n                w.uint32(16).bool(m.isCertified);\n            return w;\n        };\n\n        /**\n         * Decodes an Address message from the specified reader or buffer.\n         * @function decode\n         * @memberof Addresses.Address\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n         * @param {number} [l] Message length if known beforehand\n         * @returns {Addresses.Address} Address\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Address.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.Addresses.Address();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.multiaddr = r.bytes();\n                    break;\n                case 2:\n                    m.isCertified = r.bool();\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        /**\n         * Creates an Address message from a plain object. Also converts values to their respective internal types.\n         * @function fromObject\n         * @memberof Addresses.Address\n         * @static\n         * @param {Object.<string,*>} d Plain object\n         * @returns {Addresses.Address} Address\n         */\n        Address.fromObject = function fromObject(d) {\n            if (d instanceof $root.Addresses.Address)\n                return d;\n            var m = new $root.Addresses.Address();\n            if (d.multiaddr != null) {\n                if (typeof d.multiaddr === \"string\")\n                    $util.base64.decode(d.multiaddr, m.multiaddr = $util.newBuffer($util.base64.length(d.multiaddr)), 0);\n                else if (d.multiaddr.length)\n                    m.multiaddr = d.multiaddr;\n            }\n            if (d.isCertified != null) {\n                m.isCertified = Boolean(d.isCertified);\n            }\n            return m;\n        };\n\n        /**\n         * Creates a plain object from an Address message. Also converts values to other types if specified.\n         * @function toObject\n         * @memberof Addresses.Address\n         * @static\n         * @param {Addresses.Address} m Address\n         * @param {$protobuf.IConversionOptions} [o] Conversion options\n         * @returns {Object.<string,*>} Plain object\n         */\n        Address.toObject = function toObject(m, o) {\n            if (!o)\n                o = {};\n            var d = {};\n            if (o.defaults) {\n                if (o.bytes === String)\n                    d.multiaddr = \"\";\n                else {\n                    d.multiaddr = [];\n                    if (o.bytes !== Array)\n                        d.multiaddr = $util.newBuffer(d.multiaddr);\n                }\n            }\n            if (m.multiaddr != null && m.hasOwnProperty(\"multiaddr\")) {\n                d.multiaddr = o.bytes === String ? $util.base64.encode(m.multiaddr, 0, m.multiaddr.length) : o.bytes === Array ? Array.prototype.slice.call(m.multiaddr) : m.multiaddr;\n            }\n            if (m.isCertified != null && m.hasOwnProperty(\"isCertified\")) {\n                d.isCertified = m.isCertified;\n                if (o.oneofs)\n                    d._isCertified = \"isCertified\";\n            }\n            return d;\n        };\n\n        /**\n         * Converts this Address to JSON.\n         * @function toJSON\n         * @memberof Addresses.Address\n         * @instance\n         * @returns {Object.<string,*>} JSON object\n         */\n        Address.prototype.toJSON = function toJSON() {\n            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n        };\n\n        return Address;\n    })();\n\n    Addresses.CertifiedRecord = (function() {\n\n        /**\n         * Properties of a CertifiedRecord.\n         * @memberof Addresses\n         * @interface ICertifiedRecord\n         * @property {number|null} [seq] CertifiedRecord seq\n         * @property {Uint8Array|null} [raw] CertifiedRecord raw\n         */\n\n        /**\n         * Constructs a new CertifiedRecord.\n         * @memberof Addresses\n         * @classdesc Represents a CertifiedRecord.\n         * @implements ICertifiedRecord\n         * @constructor\n         * @param {Addresses.ICertifiedRecord=} [p] Properties to set\n         */\n        function CertifiedRecord(p) {\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        /**\n         * CertifiedRecord seq.\n         * @member {number} seq\n         * @memberof Addresses.CertifiedRecord\n         * @instance\n         */\n        CertifiedRecord.prototype.seq = $util.Long ? $util.Long.fromBits(0,0,true) : 0;\n\n        /**\n         * CertifiedRecord raw.\n         * @member {Uint8Array} raw\n         * @memberof Addresses.CertifiedRecord\n         * @instance\n         */\n        CertifiedRecord.prototype.raw = $util.newBuffer([]);\n\n        /**\n         * Encodes the specified CertifiedRecord message. Does not implicitly {@link Addresses.CertifiedRecord.verify|verify} messages.\n         * @function encode\n         * @memberof Addresses.CertifiedRecord\n         * @static\n         * @param {Addresses.ICertifiedRecord} m CertifiedRecord message or plain object to encode\n         * @param {$protobuf.Writer} [w] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        CertifiedRecord.encode = function encode(m, w) {\n            if (!w)\n                w = $Writer.create();\n            if (m.seq != null && Object.hasOwnProperty.call(m, \"seq\"))\n                w.uint32(8).uint64(m.seq);\n            if (m.raw != null && Object.hasOwnProperty.call(m, \"raw\"))\n                w.uint32(18).bytes(m.raw);\n            return w;\n        };\n\n        /**\n         * Decodes a CertifiedRecord message from the specified reader or buffer.\n         * @function decode\n         * @memberof Addresses.CertifiedRecord\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n         * @param {number} [l] Message length if known beforehand\n         * @returns {Addresses.CertifiedRecord} CertifiedRecord\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        CertifiedRecord.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.Addresses.CertifiedRecord();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.seq = r.uint64();\n                    break;\n                case 2:\n                    m.raw = r.bytes();\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        /**\n         * Creates a CertifiedRecord message from a plain object. Also converts values to their respective internal types.\n         * @function fromObject\n         * @memberof Addresses.CertifiedRecord\n         * @static\n         * @param {Object.<string,*>} d Plain object\n         * @returns {Addresses.CertifiedRecord} CertifiedRecord\n         */\n        CertifiedRecord.fromObject = function fromObject(d) {\n            if (d instanceof $root.Addresses.CertifiedRecord)\n                return d;\n            var m = new $root.Addresses.CertifiedRecord();\n            if (d.seq != null) {\n                if ($util.Long)\n                    (m.seq = $util.Long.fromValue(d.seq)).unsigned = true;\n                else if (typeof d.seq === \"string\")\n                    m.seq = parseInt(d.seq, 10);\n                else if (typeof d.seq === \"number\")\n                    m.seq = d.seq;\n                else if (typeof d.seq === \"object\")\n                    m.seq = new $util.LongBits(d.seq.low >>> 0, d.seq.high >>> 0).toNumber(true);\n            }\n            if (d.raw != null) {\n                if (typeof d.raw === \"string\")\n                    $util.base64.decode(d.raw, m.raw = $util.newBuffer($util.base64.length(d.raw)), 0);\n                else if (d.raw.length)\n                    m.raw = d.raw;\n            }\n            return m;\n        };\n\n        /**\n         * Creates a plain object from a CertifiedRecord message. Also converts values to other types if specified.\n         * @function toObject\n         * @memberof Addresses.CertifiedRecord\n         * @static\n         * @param {Addresses.CertifiedRecord} m CertifiedRecord\n         * @param {$protobuf.IConversionOptions} [o] Conversion options\n         * @returns {Object.<string,*>} Plain object\n         */\n        CertifiedRecord.toObject = function toObject(m, o) {\n            if (!o)\n                o = {};\n            var d = {};\n            if (o.defaults) {\n                if ($util.Long) {\n                    var n = new $util.Long(0, 0, true);\n                    d.seq = o.longs === String ? n.toString() : o.longs === Number ? n.toNumber() : n;\n                } else\n                    d.seq = o.longs === String ? \"0\" : 0;\n                if (o.bytes === String)\n                    d.raw = \"\";\n                else {\n                    d.raw = [];\n                    if (o.bytes !== Array)\n                        d.raw = $util.newBuffer(d.raw);\n                }\n            }\n            if (m.seq != null && m.hasOwnProperty(\"seq\")) {\n                if (typeof m.seq === \"number\")\n                    d.seq = o.longs === String ? String(m.seq) : m.seq;\n                else\n                    d.seq = o.longs === String ? $util.Long.prototype.toString.call(m.seq) : o.longs === Number ? new $util.LongBits(m.seq.low >>> 0, m.seq.high >>> 0).toNumber(true) : m.seq;\n            }\n            if (m.raw != null && m.hasOwnProperty(\"raw\")) {\n                d.raw = o.bytes === String ? $util.base64.encode(m.raw, 0, m.raw.length) : o.bytes === Array ? Array.prototype.slice.call(m.raw) : m.raw;\n            }\n            return d;\n        };\n\n        /**\n         * Converts this CertifiedRecord to JSON.\n         * @function toJSON\n         * @memberof Addresses.CertifiedRecord\n         * @instance\n         * @returns {Object.<string,*>} JSON object\n         */\n        CertifiedRecord.prototype.toJSON = function toJSON() {\n            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n        };\n\n        return CertifiedRecord;\n    })();\n\n    return Addresses;\n})();\n\nexport { $root as default };\n", "/*eslint-disable*/\nimport $protobuf from \"protobufjs/minimal.js\";\n\n// Common aliases\nconst $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n// Exported root namespace\nconst $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport const Peer = $root.Peer = (() => {\n\n    /**\n     * Properties of a Peer.\n     * @exports IPeer\n     * @interface IPeer\n     * @property {Array.<IAddress>|null} [addresses] Peer addresses\n     * @property {Array.<string>|null} [protocols] Peer protocols\n     * @property {Array.<IMetadata>|null} [metadata] Peer metadata\n     * @property {Uint8Array|null} [pubKey] Peer pubKey\n     * @property {Uint8Array|null} [peerRecordEnvelope] Peer peerRecordEnvelope\n     */\n\n    /**\n     * Constructs a new Peer.\n     * @exports Peer\n     * @classdesc Represents a Peer.\n     * @implements IPeer\n     * @constructor\n     * @param {IPeer=} [p] Properties to set\n     */\n    function Peer(p) {\n        this.addresses = [];\n        this.protocols = [];\n        this.metadata = [];\n        if (p)\n            for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                if (p[ks[i]] != null)\n                    this[ks[i]] = p[ks[i]];\n    }\n\n    /**\n     * Peer addresses.\n     * @member {Array.<IAddress>} addresses\n     * @memberof Peer\n     * @instance\n     */\n    Peer.prototype.addresses = $util.emptyArray;\n\n    /**\n     * Peer protocols.\n     * @member {Array.<string>} protocols\n     * @memberof Peer\n     * @instance\n     */\n    Peer.prototype.protocols = $util.emptyArray;\n\n    /**\n     * Peer metadata.\n     * @member {Array.<IMetadata>} metadata\n     * @memberof Peer\n     * @instance\n     */\n    Peer.prototype.metadata = $util.emptyArray;\n\n    /**\n     * Peer pubKey.\n     * @member {Uint8Array|null|undefined} pubKey\n     * @memberof Peer\n     * @instance\n     */\n    Peer.prototype.pubKey = null;\n\n    /**\n     * Peer peerRecordEnvelope.\n     * @member {Uint8Array|null|undefined} peerRecordEnvelope\n     * @memberof Peer\n     * @instance\n     */\n    Peer.prototype.peerRecordEnvelope = null;\n\n    // OneOf field names bound to virtual getters and setters\n    let $oneOfFields;\n\n    /**\n     * Peer _pubKey.\n     * @member {\"pubKey\"|undefined} _pubKey\n     * @memberof Peer\n     * @instance\n     */\n    Object.defineProperty(Peer.prototype, \"_pubKey\", {\n        get: $util.oneOfGetter($oneOfFields = [\"pubKey\"]),\n        set: $util.oneOfSetter($oneOfFields)\n    });\n\n    /**\n     * Peer _peerRecordEnvelope.\n     * @member {\"peerRecordEnvelope\"|undefined} _peerRecordEnvelope\n     * @memberof Peer\n     * @instance\n     */\n    Object.defineProperty(Peer.prototype, \"_peerRecordEnvelope\", {\n        get: $util.oneOfGetter($oneOfFields = [\"peerRecordEnvelope\"]),\n        set: $util.oneOfSetter($oneOfFields)\n    });\n\n    /**\n     * Encodes the specified Peer message. Does not implicitly {@link Peer.verify|verify} messages.\n     * @function encode\n     * @memberof Peer\n     * @static\n     * @param {IPeer} m Peer message or plain object to encode\n     * @param {$protobuf.Writer} [w] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Peer.encode = function encode(m, w) {\n        if (!w)\n            w = $Writer.create();\n        if (m.addresses != null && m.addresses.length) {\n            for (var i = 0; i < m.addresses.length; ++i)\n                $root.Address.encode(m.addresses[i], w.uint32(10).fork()).ldelim();\n        }\n        if (m.protocols != null && m.protocols.length) {\n            for (var i = 0; i < m.protocols.length; ++i)\n                w.uint32(18).string(m.protocols[i]);\n        }\n        if (m.metadata != null && m.metadata.length) {\n            for (var i = 0; i < m.metadata.length; ++i)\n                $root.Metadata.encode(m.metadata[i], w.uint32(26).fork()).ldelim();\n        }\n        if (m.pubKey != null && Object.hasOwnProperty.call(m, \"pubKey\"))\n            w.uint32(34).bytes(m.pubKey);\n        if (m.peerRecordEnvelope != null && Object.hasOwnProperty.call(m, \"peerRecordEnvelope\"))\n            w.uint32(42).bytes(m.peerRecordEnvelope);\n        return w;\n    };\n\n    /**\n     * Decodes a Peer message from the specified reader or buffer.\n     * @function decode\n     * @memberof Peer\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n     * @param {number} [l] Message length if known beforehand\n     * @returns {Peer} Peer\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Peer.decode = function decode(r, l) {\n        if (!(r instanceof $Reader))\n            r = $Reader.create(r);\n        var c = l === undefined ? r.len : r.pos + l, m = new $root.Peer();\n        while (r.pos < c) {\n            var t = r.uint32();\n            switch (t >>> 3) {\n            case 1:\n                if (!(m.addresses && m.addresses.length))\n                    m.addresses = [];\n                m.addresses.push($root.Address.decode(r, r.uint32()));\n                break;\n            case 2:\n                if (!(m.protocols && m.protocols.length))\n                    m.protocols = [];\n                m.protocols.push(r.string());\n                break;\n            case 3:\n                if (!(m.metadata && m.metadata.length))\n                    m.metadata = [];\n                m.metadata.push($root.Metadata.decode(r, r.uint32()));\n                break;\n            case 4:\n                m.pubKey = r.bytes();\n                break;\n            case 5:\n                m.peerRecordEnvelope = r.bytes();\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates a Peer message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Peer\n     * @static\n     * @param {Object.<string,*>} d Plain object\n     * @returns {Peer} Peer\n     */\n    Peer.fromObject = function fromObject(d) {\n        if (d instanceof $root.Peer)\n            return d;\n        var m = new $root.Peer();\n        if (d.addresses) {\n            if (!Array.isArray(d.addresses))\n                throw TypeError(\".Peer.addresses: array expected\");\n            m.addresses = [];\n            for (var i = 0; i < d.addresses.length; ++i) {\n                if (typeof d.addresses[i] !== \"object\")\n                    throw TypeError(\".Peer.addresses: object expected\");\n                m.addresses[i] = $root.Address.fromObject(d.addresses[i]);\n            }\n        }\n        if (d.protocols) {\n            if (!Array.isArray(d.protocols))\n                throw TypeError(\".Peer.protocols: array expected\");\n            m.protocols = [];\n            for (var i = 0; i < d.protocols.length; ++i) {\n                m.protocols[i] = String(d.protocols[i]);\n            }\n        }\n        if (d.metadata) {\n            if (!Array.isArray(d.metadata))\n                throw TypeError(\".Peer.metadata: array expected\");\n            m.metadata = [];\n            for (var i = 0; i < d.metadata.length; ++i) {\n                if (typeof d.metadata[i] !== \"object\")\n                    throw TypeError(\".Peer.metadata: object expected\");\n                m.metadata[i] = $root.Metadata.fromObject(d.metadata[i]);\n            }\n        }\n        if (d.pubKey != null) {\n            if (typeof d.pubKey === \"string\")\n                $util.base64.decode(d.pubKey, m.pubKey = $util.newBuffer($util.base64.length(d.pubKey)), 0);\n            else if (d.pubKey.length)\n                m.pubKey = d.pubKey;\n        }\n        if (d.peerRecordEnvelope != null) {\n            if (typeof d.peerRecordEnvelope === \"string\")\n                $util.base64.decode(d.peerRecordEnvelope, m.peerRecordEnvelope = $util.newBuffer($util.base64.length(d.peerRecordEnvelope)), 0);\n            else if (d.peerRecordEnvelope.length)\n                m.peerRecordEnvelope = d.peerRecordEnvelope;\n        }\n        return m;\n    };\n\n    /**\n     * Creates a plain object from a Peer message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Peer\n     * @static\n     * @param {Peer} m Peer\n     * @param {$protobuf.IConversionOptions} [o] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Peer.toObject = function toObject(m, o) {\n        if (!o)\n            o = {};\n        var d = {};\n        if (o.arrays || o.defaults) {\n            d.addresses = [];\n            d.protocols = [];\n            d.metadata = [];\n        }\n        if (m.addresses && m.addresses.length) {\n            d.addresses = [];\n            for (var j = 0; j < m.addresses.length; ++j) {\n                d.addresses[j] = $root.Address.toObject(m.addresses[j], o);\n            }\n        }\n        if (m.protocols && m.protocols.length) {\n            d.protocols = [];\n            for (var j = 0; j < m.protocols.length; ++j) {\n                d.protocols[j] = m.protocols[j];\n            }\n        }\n        if (m.metadata && m.metadata.length) {\n            d.metadata = [];\n            for (var j = 0; j < m.metadata.length; ++j) {\n                d.metadata[j] = $root.Metadata.toObject(m.metadata[j], o);\n            }\n        }\n        if (m.pubKey != null && m.hasOwnProperty(\"pubKey\")) {\n            d.pubKey = o.bytes === String ? $util.base64.encode(m.pubKey, 0, m.pubKey.length) : o.bytes === Array ? Array.prototype.slice.call(m.pubKey) : m.pubKey;\n            if (o.oneofs)\n                d._pubKey = \"pubKey\";\n        }\n        if (m.peerRecordEnvelope != null && m.hasOwnProperty(\"peerRecordEnvelope\")) {\n            d.peerRecordEnvelope = o.bytes === String ? $util.base64.encode(m.peerRecordEnvelope, 0, m.peerRecordEnvelope.length) : o.bytes === Array ? Array.prototype.slice.call(m.peerRecordEnvelope) : m.peerRecordEnvelope;\n            if (o.oneofs)\n                d._peerRecordEnvelope = \"peerRecordEnvelope\";\n        }\n        return d;\n    };\n\n    /**\n     * Converts this Peer to JSON.\n     * @function toJSON\n     * @memberof Peer\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Peer.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return Peer;\n})();\n\nexport const Address = $root.Address = (() => {\n\n    /**\n     * Properties of an Address.\n     * @exports IAddress\n     * @interface IAddress\n     * @property {Uint8Array|null} [multiaddr] Address multiaddr\n     * @property {boolean|null} [isCertified] Address isCertified\n     */\n\n    /**\n     * Constructs a new Address.\n     * @exports Address\n     * @classdesc Represents an Address.\n     * @implements IAddress\n     * @constructor\n     * @param {IAddress=} [p] Properties to set\n     */\n    function Address(p) {\n        if (p)\n            for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                if (p[ks[i]] != null)\n                    this[ks[i]] = p[ks[i]];\n    }\n\n    /**\n     * Address multiaddr.\n     * @member {Uint8Array} multiaddr\n     * @memberof Address\n     * @instance\n     */\n    Address.prototype.multiaddr = $util.newBuffer([]);\n\n    /**\n     * Address isCertified.\n     * @member {boolean|null|undefined} isCertified\n     * @memberof Address\n     * @instance\n     */\n    Address.prototype.isCertified = null;\n\n    // OneOf field names bound to virtual getters and setters\n    let $oneOfFields;\n\n    /**\n     * Address _isCertified.\n     * @member {\"isCertified\"|undefined} _isCertified\n     * @memberof Address\n     * @instance\n     */\n    Object.defineProperty(Address.prototype, \"_isCertified\", {\n        get: $util.oneOfGetter($oneOfFields = [\"isCertified\"]),\n        set: $util.oneOfSetter($oneOfFields)\n    });\n\n    /**\n     * Encodes the specified Address message. Does not implicitly {@link Address.verify|verify} messages.\n     * @function encode\n     * @memberof Address\n     * @static\n     * @param {IAddress} m Address message or plain object to encode\n     * @param {$protobuf.Writer} [w] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Address.encode = function encode(m, w) {\n        if (!w)\n            w = $Writer.create();\n        if (m.multiaddr != null && Object.hasOwnProperty.call(m, \"multiaddr\"))\n            w.uint32(10).bytes(m.multiaddr);\n        if (m.isCertified != null && Object.hasOwnProperty.call(m, \"isCertified\"))\n            w.uint32(16).bool(m.isCertified);\n        return w;\n    };\n\n    /**\n     * Decodes an Address message from the specified reader or buffer.\n     * @function decode\n     * @memberof Address\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n     * @param {number} [l] Message length if known beforehand\n     * @returns {Address} Address\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Address.decode = function decode(r, l) {\n        if (!(r instanceof $Reader))\n            r = $Reader.create(r);\n        var c = l === undefined ? r.len : r.pos + l, m = new $root.Address();\n        while (r.pos < c) {\n            var t = r.uint32();\n            switch (t >>> 3) {\n            case 1:\n                m.multiaddr = r.bytes();\n                break;\n            case 2:\n                m.isCertified = r.bool();\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates an Address message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Address\n     * @static\n     * @param {Object.<string,*>} d Plain object\n     * @returns {Address} Address\n     */\n    Address.fromObject = function fromObject(d) {\n        if (d instanceof $root.Address)\n            return d;\n        var m = new $root.Address();\n        if (d.multiaddr != null) {\n            if (typeof d.multiaddr === \"string\")\n                $util.base64.decode(d.multiaddr, m.multiaddr = $util.newBuffer($util.base64.length(d.multiaddr)), 0);\n            else if (d.multiaddr.length)\n                m.multiaddr = d.multiaddr;\n        }\n        if (d.isCertified != null) {\n            m.isCertified = Boolean(d.isCertified);\n        }\n        return m;\n    };\n\n    /**\n     * Creates a plain object from an Address message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Address\n     * @static\n     * @param {Address} m Address\n     * @param {$protobuf.IConversionOptions} [o] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Address.toObject = function toObject(m, o) {\n        if (!o)\n            o = {};\n        var d = {};\n        if (o.defaults) {\n            if (o.bytes === String)\n                d.multiaddr = \"\";\n            else {\n                d.multiaddr = [];\n                if (o.bytes !== Array)\n                    d.multiaddr = $util.newBuffer(d.multiaddr);\n            }\n        }\n        if (m.multiaddr != null && m.hasOwnProperty(\"multiaddr\")) {\n            d.multiaddr = o.bytes === String ? $util.base64.encode(m.multiaddr, 0, m.multiaddr.length) : o.bytes === Array ? Array.prototype.slice.call(m.multiaddr) : m.multiaddr;\n        }\n        if (m.isCertified != null && m.hasOwnProperty(\"isCertified\")) {\n            d.isCertified = m.isCertified;\n            if (o.oneofs)\n                d._isCertified = \"isCertified\";\n        }\n        return d;\n    };\n\n    /**\n     * Converts this Address to JSON.\n     * @function toJSON\n     * @memberof Address\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Address.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return Address;\n})();\n\nexport const Metadata = $root.Metadata = (() => {\n\n    /**\n     * Properties of a Metadata.\n     * @exports IMetadata\n     * @interface IMetadata\n     * @property {string|null} [key] Metadata key\n     * @property {Uint8Array|null} [value] Metadata value\n     */\n\n    /**\n     * Constructs a new Metadata.\n     * @exports Metadata\n     * @classdesc Represents a Metadata.\n     * @implements IMetadata\n     * @constructor\n     * @param {IMetadata=} [p] Properties to set\n     */\n    function Metadata(p) {\n        if (p)\n            for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                if (p[ks[i]] != null)\n                    this[ks[i]] = p[ks[i]];\n    }\n\n    /**\n     * Metadata key.\n     * @member {string} key\n     * @memberof Metadata\n     * @instance\n     */\n    Metadata.prototype.key = \"\";\n\n    /**\n     * Metadata value.\n     * @member {Uint8Array} value\n     * @memberof Metadata\n     * @instance\n     */\n    Metadata.prototype.value = $util.newBuffer([]);\n\n    /**\n     * Encodes the specified Metadata message. Does not implicitly {@link Metadata.verify|verify} messages.\n     * @function encode\n     * @memberof Metadata\n     * @static\n     * @param {IMetadata} m Metadata message or plain object to encode\n     * @param {$protobuf.Writer} [w] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Metadata.encode = function encode(m, w) {\n        if (!w)\n            w = $Writer.create();\n        if (m.key != null && Object.hasOwnProperty.call(m, \"key\"))\n            w.uint32(10).string(m.key);\n        if (m.value != null && Object.hasOwnProperty.call(m, \"value\"))\n            w.uint32(18).bytes(m.value);\n        return w;\n    };\n\n    /**\n     * Decodes a Metadata message from the specified reader or buffer.\n     * @function decode\n     * @memberof Metadata\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n     * @param {number} [l] Message length if known beforehand\n     * @returns {Metadata} Metadata\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Metadata.decode = function decode(r, l) {\n        if (!(r instanceof $Reader))\n            r = $Reader.create(r);\n        var c = l === undefined ? r.len : r.pos + l, m = new $root.Metadata();\n        while (r.pos < c) {\n            var t = r.uint32();\n            switch (t >>> 3) {\n            case 1:\n                m.key = r.string();\n                break;\n            case 2:\n                m.value = r.bytes();\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates a Metadata message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Metadata\n     * @static\n     * @param {Object.<string,*>} d Plain object\n     * @returns {Metadata} Metadata\n     */\n    Metadata.fromObject = function fromObject(d) {\n        if (d instanceof $root.Metadata)\n            return d;\n        var m = new $root.Metadata();\n        if (d.key != null) {\n            m.key = String(d.key);\n        }\n        if (d.value != null) {\n            if (typeof d.value === \"string\")\n                $util.base64.decode(d.value, m.value = $util.newBuffer($util.base64.length(d.value)), 0);\n            else if (d.value.length)\n                m.value = d.value;\n        }\n        return m;\n    };\n\n    /**\n     * Creates a plain object from a Metadata message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Metadata\n     * @static\n     * @param {Metadata} m Metadata\n     * @param {$protobuf.IConversionOptions} [o] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Metadata.toObject = function toObject(m, o) {\n        if (!o)\n            o = {};\n        var d = {};\n        if (o.defaults) {\n            d.key = \"\";\n            if (o.bytes === String)\n                d.value = \"\";\n            else {\n                d.value = [];\n                if (o.bytes !== Array)\n                    d.value = $util.newBuffer(d.value);\n            }\n        }\n        if (m.key != null && m.hasOwnProperty(\"key\")) {\n            d.key = m.key;\n        }\n        if (m.value != null && m.hasOwnProperty(\"value\")) {\n            d.value = o.bytes === String ? $util.base64.encode(m.value, 0, m.value.length) : o.bytes === Array ? Array.prototype.slice.call(m.value) : m.value;\n        }\n        return d;\n    };\n\n    /**\n     * Converts this Metadata to JSON.\n     * @function toJSON\n     * @memberof Metadata\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Metadata.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return Metadata;\n})();\n\nexport { $root as default };\n", "/*eslint-disable*/\nimport $protobuf from \"protobufjs/minimal.js\";\n\n// Common aliases\nconst $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n// Exported root namespace\nconst $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport const Envelope = $root.Envelope = (() => {\n\n    /**\n     * Properties of an Envelope.\n     * @exports IEnvelope\n     * @interface IEnvelope\n     * @property {Uint8Array|null} [publicKey] Envelope publicKey\n     * @property {Uint8Array|null} [payloadType] Envelope payloadType\n     * @property {Uint8Array|null} [payload] Envelope payload\n     * @property {Uint8Array|null} [signature] Envelope signature\n     */\n\n    /**\n     * Constructs a new Envelope.\n     * @exports Envelope\n     * @classdesc Represents an Envelope.\n     * @implements IEnvelope\n     * @constructor\n     * @param {IEnvelope=} [p] Properties to set\n     */\n    function Envelope(p) {\n        if (p)\n            for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                if (p[ks[i]] != null)\n                    this[ks[i]] = p[ks[i]];\n    }\n\n    /**\n     * Envelope publicKey.\n     * @member {Uint8Array} publicKey\n     * @memberof Envelope\n     * @instance\n     */\n    Envelope.prototype.publicKey = $util.newBuffer([]);\n\n    /**\n     * Envelope payloadType.\n     * @member {Uint8Array} payloadType\n     * @memberof Envelope\n     * @instance\n     */\n    Envelope.prototype.payloadType = $util.newBuffer([]);\n\n    /**\n     * Envelope payload.\n     * @member {Uint8Array} payload\n     * @memberof Envelope\n     * @instance\n     */\n    Envelope.prototype.payload = $util.newBuffer([]);\n\n    /**\n     * Envelope signature.\n     * @member {Uint8Array} signature\n     * @memberof Envelope\n     * @instance\n     */\n    Envelope.prototype.signature = $util.newBuffer([]);\n\n    /**\n     * Encodes the specified Envelope message. Does not implicitly {@link Envelope.verify|verify} messages.\n     * @function encode\n     * @memberof Envelope\n     * @static\n     * @param {IEnvelope} m Envelope message or plain object to encode\n     * @param {$protobuf.Writer} [w] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Envelope.encode = function encode(m, w) {\n        if (!w)\n            w = $Writer.create();\n        if (m.publicKey != null && Object.hasOwnProperty.call(m, \"publicKey\"))\n            w.uint32(10).bytes(m.publicKey);\n        if (m.payloadType != null && Object.hasOwnProperty.call(m, \"payloadType\"))\n            w.uint32(18).bytes(m.payloadType);\n        if (m.payload != null && Object.hasOwnProperty.call(m, \"payload\"))\n            w.uint32(26).bytes(m.payload);\n        if (m.signature != null && Object.hasOwnProperty.call(m, \"signature\"))\n            w.uint32(42).bytes(m.signature);\n        return w;\n    };\n\n    /**\n     * Decodes an Envelope message from the specified reader or buffer.\n     * @function decode\n     * @memberof Envelope\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n     * @param {number} [l] Message length if known beforehand\n     * @returns {Envelope} Envelope\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Envelope.decode = function decode(r, l) {\n        if (!(r instanceof $Reader))\n            r = $Reader.create(r);\n        var c = l === undefined ? r.len : r.pos + l, m = new $root.Envelope();\n        while (r.pos < c) {\n            var t = r.uint32();\n            switch (t >>> 3) {\n            case 1:\n                m.publicKey = r.bytes();\n                break;\n            case 2:\n                m.payloadType = r.bytes();\n                break;\n            case 3:\n                m.payload = r.bytes();\n                break;\n            case 5:\n                m.signature = r.bytes();\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates an Envelope message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Envelope\n     * @static\n     * @param {Object.<string,*>} d Plain object\n     * @returns {Envelope} Envelope\n     */\n    Envelope.fromObject = function fromObject(d) {\n        if (d instanceof $root.Envelope)\n            return d;\n        var m = new $root.Envelope();\n        if (d.publicKey != null) {\n            if (typeof d.publicKey === \"string\")\n                $util.base64.decode(d.publicKey, m.publicKey = $util.newBuffer($util.base64.length(d.publicKey)), 0);\n            else if (d.publicKey.length)\n                m.publicKey = d.publicKey;\n        }\n        if (d.payloadType != null) {\n            if (typeof d.payloadType === \"string\")\n                $util.base64.decode(d.payloadType, m.payloadType = $util.newBuffer($util.base64.length(d.payloadType)), 0);\n            else if (d.payloadType.length)\n                m.payloadType = d.payloadType;\n        }\n        if (d.payload != null) {\n            if (typeof d.payload === \"string\")\n                $util.base64.decode(d.payload, m.payload = $util.newBuffer($util.base64.length(d.payload)), 0);\n            else if (d.payload.length)\n                m.payload = d.payload;\n        }\n        if (d.signature != null) {\n            if (typeof d.signature === \"string\")\n                $util.base64.decode(d.signature, m.signature = $util.newBuffer($util.base64.length(d.signature)), 0);\n            else if (d.signature.length)\n                m.signature = d.signature;\n        }\n        return m;\n    };\n\n    /**\n     * Creates a plain object from an Envelope message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Envelope\n     * @static\n     * @param {Envelope} m Envelope\n     * @param {$protobuf.IConversionOptions} [o] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Envelope.toObject = function toObject(m, o) {\n        if (!o)\n            o = {};\n        var d = {};\n        if (o.defaults) {\n            if (o.bytes === String)\n                d.publicKey = \"\";\n            else {\n                d.publicKey = [];\n                if (o.bytes !== Array)\n                    d.publicKey = $util.newBuffer(d.publicKey);\n            }\n            if (o.bytes === String)\n                d.payloadType = \"\";\n            else {\n                d.payloadType = [];\n                if (o.bytes !== Array)\n                    d.payloadType = $util.newBuffer(d.payloadType);\n            }\n            if (o.bytes === String)\n                d.payload = \"\";\n            else {\n                d.payload = [];\n                if (o.bytes !== Array)\n                    d.payload = $util.newBuffer(d.payload);\n            }\n            if (o.bytes === String)\n                d.signature = \"\";\n            else {\n                d.signature = [];\n                if (o.bytes !== Array)\n                    d.signature = $util.newBuffer(d.signature);\n            }\n        }\n        if (m.publicKey != null && m.hasOwnProperty(\"publicKey\")) {\n            d.publicKey = o.bytes === String ? $util.base64.encode(m.publicKey, 0, m.publicKey.length) : o.bytes === Array ? Array.prototype.slice.call(m.publicKey) : m.publicKey;\n        }\n        if (m.payloadType != null && m.hasOwnProperty(\"payloadType\")) {\n            d.payloadType = o.bytes === String ? $util.base64.encode(m.payloadType, 0, m.payloadType.length) : o.bytes === Array ? Array.prototype.slice.call(m.payloadType) : m.payloadType;\n        }\n        if (m.payload != null && m.hasOwnProperty(\"payload\")) {\n            d.payload = o.bytes === String ? $util.base64.encode(m.payload, 0, m.payload.length) : o.bytes === Array ? Array.prototype.slice.call(m.payload) : m.payload;\n        }\n        if (m.signature != null && m.hasOwnProperty(\"signature\")) {\n            d.signature = o.bytes === String ? $util.base64.encode(m.signature, 0, m.signature.length) : o.bytes === Array ? Array.prototype.slice.call(m.signature) : m.signature;\n        }\n        return d;\n    };\n\n    /**\n     * Converts this Envelope to JSON.\n     * @function toJSON\n     * @memberof Envelope\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Envelope.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return Envelope;\n})();\n\nexport { $root as default };\n", "/*eslint-disable*/\nimport $protobuf from \"protobufjs/minimal.js\";\n\n// Common aliases\nconst $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n// Exported root namespace\nconst $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport const PeerRecord = $root.PeerRecord = (() => {\n\n    /**\n     * Properties of a PeerRecord.\n     * @exports IPeerRecord\n     * @interface IPeerRecord\n     * @property {Uint8Array|null} [peerId] PeerRecord peerId\n     * @property {number|null} [seq] PeerRecord seq\n     * @property {Array.<PeerRecord.IAddressInfo>|null} [addresses] PeerRecord addresses\n     */\n\n    /**\n     * Constructs a new PeerRecord.\n     * @exports PeerRecord\n     * @classdesc Represents a PeerRecord.\n     * @implements IPeerRecord\n     * @constructor\n     * @param {IPeerRecord=} [p] Properties to set\n     */\n    function PeerRecord(p) {\n        this.addresses = [];\n        if (p)\n            for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                if (p[ks[i]] != null)\n                    this[ks[i]] = p[ks[i]];\n    }\n\n    /**\n     * PeerRecord peerId.\n     * @member {Uint8Array} peerId\n     * @memberof PeerRecord\n     * @instance\n     */\n    PeerRecord.prototype.peerId = $util.newBuffer([]);\n\n    /**\n     * PeerRecord seq.\n     * @member {number} seq\n     * @memberof PeerRecord\n     * @instance\n     */\n    PeerRecord.prototype.seq = $util.Long ? $util.Long.fromBits(0,0,true) : 0;\n\n    /**\n     * PeerRecord addresses.\n     * @member {Array.<PeerRecord.IAddressInfo>} addresses\n     * @memberof PeerRecord\n     * @instance\n     */\n    PeerRecord.prototype.addresses = $util.emptyArray;\n\n    /**\n     * Encodes the specified PeerRecord message. Does not implicitly {@link PeerRecord.verify|verify} messages.\n     * @function encode\n     * @memberof PeerRecord\n     * @static\n     * @param {IPeerRecord} m PeerRecord message or plain object to encode\n     * @param {$protobuf.Writer} [w] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    PeerRecord.encode = function encode(m, w) {\n        if (!w)\n            w = $Writer.create();\n        if (m.peerId != null && Object.hasOwnProperty.call(m, \"peerId\"))\n            w.uint32(10).bytes(m.peerId);\n        if (m.seq != null && Object.hasOwnProperty.call(m, \"seq\"))\n            w.uint32(16).uint64(m.seq);\n        if (m.addresses != null && m.addresses.length) {\n            for (var i = 0; i < m.addresses.length; ++i)\n                $root.PeerRecord.AddressInfo.encode(m.addresses[i], w.uint32(26).fork()).ldelim();\n        }\n        return w;\n    };\n\n    /**\n     * Decodes a PeerRecord message from the specified reader or buffer.\n     * @function decode\n     * @memberof PeerRecord\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n     * @param {number} [l] Message length if known beforehand\n     * @returns {PeerRecord} PeerRecord\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    PeerRecord.decode = function decode(r, l) {\n        if (!(r instanceof $Reader))\n            r = $Reader.create(r);\n        var c = l === undefined ? r.len : r.pos + l, m = new $root.PeerRecord();\n        while (r.pos < c) {\n            var t = r.uint32();\n            switch (t >>> 3) {\n            case 1:\n                m.peerId = r.bytes();\n                break;\n            case 2:\n                m.seq = r.uint64();\n                break;\n            case 3:\n                if (!(m.addresses && m.addresses.length))\n                    m.addresses = [];\n                m.addresses.push($root.PeerRecord.AddressInfo.decode(r, r.uint32()));\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates a PeerRecord message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof PeerRecord\n     * @static\n     * @param {Object.<string,*>} d Plain object\n     * @returns {PeerRecord} PeerRecord\n     */\n    PeerRecord.fromObject = function fromObject(d) {\n        if (d instanceof $root.PeerRecord)\n            return d;\n        var m = new $root.PeerRecord();\n        if (d.peerId != null) {\n            if (typeof d.peerId === \"string\")\n                $util.base64.decode(d.peerId, m.peerId = $util.newBuffer($util.base64.length(d.peerId)), 0);\n            else if (d.peerId.length)\n                m.peerId = d.peerId;\n        }\n        if (d.seq != null) {\n            if ($util.Long)\n                (m.seq = $util.Long.fromValue(d.seq)).unsigned = true;\n            else if (typeof d.seq === \"string\")\n                m.seq = parseInt(d.seq, 10);\n            else if (typeof d.seq === \"number\")\n                m.seq = d.seq;\n            else if (typeof d.seq === \"object\")\n                m.seq = new $util.LongBits(d.seq.low >>> 0, d.seq.high >>> 0).toNumber(true);\n        }\n        if (d.addresses) {\n            if (!Array.isArray(d.addresses))\n                throw TypeError(\".PeerRecord.addresses: array expected\");\n            m.addresses = [];\n            for (var i = 0; i < d.addresses.length; ++i) {\n                if (typeof d.addresses[i] !== \"object\")\n                    throw TypeError(\".PeerRecord.addresses: object expected\");\n                m.addresses[i] = $root.PeerRecord.AddressInfo.fromObject(d.addresses[i]);\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates a plain object from a PeerRecord message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof PeerRecord\n     * @static\n     * @param {PeerRecord} m PeerRecord\n     * @param {$protobuf.IConversionOptions} [o] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    PeerRecord.toObject = function toObject(m, o) {\n        if (!o)\n            o = {};\n        var d = {};\n        if (o.arrays || o.defaults) {\n            d.addresses = [];\n        }\n        if (o.defaults) {\n            if (o.bytes === String)\n                d.peerId = \"\";\n            else {\n                d.peerId = [];\n                if (o.bytes !== Array)\n                    d.peerId = $util.newBuffer(d.peerId);\n            }\n            if ($util.Long) {\n                var n = new $util.Long(0, 0, true);\n                d.seq = o.longs === String ? n.toString() : o.longs === Number ? n.toNumber() : n;\n            } else\n                d.seq = o.longs === String ? \"0\" : 0;\n        }\n        if (m.peerId != null && m.hasOwnProperty(\"peerId\")) {\n            d.peerId = o.bytes === String ? $util.base64.encode(m.peerId, 0, m.peerId.length) : o.bytes === Array ? Array.prototype.slice.call(m.peerId) : m.peerId;\n        }\n        if (m.seq != null && m.hasOwnProperty(\"seq\")) {\n            if (typeof m.seq === \"number\")\n                d.seq = o.longs === String ? String(m.seq) : m.seq;\n            else\n                d.seq = o.longs === String ? $util.Long.prototype.toString.call(m.seq) : o.longs === Number ? new $util.LongBits(m.seq.low >>> 0, m.seq.high >>> 0).toNumber(true) : m.seq;\n        }\n        if (m.addresses && m.addresses.length) {\n            d.addresses = [];\n            for (var j = 0; j < m.addresses.length; ++j) {\n                d.addresses[j] = $root.PeerRecord.AddressInfo.toObject(m.addresses[j], o);\n            }\n        }\n        return d;\n    };\n\n    /**\n     * Converts this PeerRecord to JSON.\n     * @function toJSON\n     * @memberof PeerRecord\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    PeerRecord.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    PeerRecord.AddressInfo = (function() {\n\n        /**\n         * Properties of an AddressInfo.\n         * @memberof PeerRecord\n         * @interface IAddressInfo\n         * @property {Uint8Array|null} [multiaddr] AddressInfo multiaddr\n         */\n\n        /**\n         * Constructs a new AddressInfo.\n         * @memberof PeerRecord\n         * @classdesc Represents an AddressInfo.\n         * @implements IAddressInfo\n         * @constructor\n         * @param {PeerRecord.IAddressInfo=} [p] Properties to set\n         */\n        function AddressInfo(p) {\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        /**\n         * AddressInfo multiaddr.\n         * @member {Uint8Array} multiaddr\n         * @memberof PeerRecord.AddressInfo\n         * @instance\n         */\n        AddressInfo.prototype.multiaddr = $util.newBuffer([]);\n\n        /**\n         * Encodes the specified AddressInfo message. Does not implicitly {@link PeerRecord.AddressInfo.verify|verify} messages.\n         * @function encode\n         * @memberof PeerRecord.AddressInfo\n         * @static\n         * @param {PeerRecord.IAddressInfo} m AddressInfo message or plain object to encode\n         * @param {$protobuf.Writer} [w] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        AddressInfo.encode = function encode(m, w) {\n            if (!w)\n                w = $Writer.create();\n            if (m.multiaddr != null && Object.hasOwnProperty.call(m, \"multiaddr\"))\n                w.uint32(10).bytes(m.multiaddr);\n            return w;\n        };\n\n        /**\n         * Decodes an AddressInfo message from the specified reader or buffer.\n         * @function decode\n         * @memberof PeerRecord.AddressInfo\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n         * @param {number} [l] Message length if known beforehand\n         * @returns {PeerRecord.AddressInfo} AddressInfo\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        AddressInfo.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.PeerRecord.AddressInfo();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.multiaddr = r.bytes();\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        /**\n         * Creates an AddressInfo message from a plain object. Also converts values to their respective internal types.\n         * @function fromObject\n         * @memberof PeerRecord.AddressInfo\n         * @static\n         * @param {Object.<string,*>} d Plain object\n         * @returns {PeerRecord.AddressInfo} AddressInfo\n         */\n        AddressInfo.fromObject = function fromObject(d) {\n            if (d instanceof $root.PeerRecord.AddressInfo)\n                return d;\n            var m = new $root.PeerRecord.AddressInfo();\n            if (d.multiaddr != null) {\n                if (typeof d.multiaddr === \"string\")\n                    $util.base64.decode(d.multiaddr, m.multiaddr = $util.newBuffer($util.base64.length(d.multiaddr)), 0);\n                else if (d.multiaddr.length)\n                    m.multiaddr = d.multiaddr;\n            }\n            return m;\n        };\n\n        /**\n         * Creates a plain object from an AddressInfo message. Also converts values to other types if specified.\n         * @function toObject\n         * @memberof PeerRecord.AddressInfo\n         * @static\n         * @param {PeerRecord.AddressInfo} m AddressInfo\n         * @param {$protobuf.IConversionOptions} [o] Conversion options\n         * @returns {Object.<string,*>} Plain object\n         */\n        AddressInfo.toObject = function toObject(m, o) {\n            if (!o)\n                o = {};\n            var d = {};\n            if (o.defaults) {\n                if (o.bytes === String)\n                    d.multiaddr = \"\";\n                else {\n                    d.multiaddr = [];\n                    if (o.bytes !== Array)\n                        d.multiaddr = $util.newBuffer(d.multiaddr);\n                }\n            }\n            if (m.multiaddr != null && m.hasOwnProperty(\"multiaddr\")) {\n                d.multiaddr = o.bytes === String ? $util.base64.encode(m.multiaddr, 0, m.multiaddr.length) : o.bytes === Array ? Array.prototype.slice.call(m.multiaddr) : m.multiaddr;\n            }\n            return d;\n        };\n\n        /**\n         * Converts this AddressInfo to JSON.\n         * @function toJSON\n         * @memberof PeerRecord.AddressInfo\n         * @instance\n         * @returns {Object.<string,*>} JSON object\n         */\n        AddressInfo.prototype.toJSON = function toJSON() {\n            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n        };\n\n        return AddressInfo;\n    })();\n\n    return PeerRecord;\n})();\n\nexport { $root as default };\n", "\nimport { isRepoInitialized } from './init.js'\nimport { MissingRepoOptionsError, NotInitializedRepoError } from '../errors.js'\nimport { VERSION_KEY } from '../utils.js'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\n\n/**\n * Function that has responsibility to retrieve version of repo from its root datastore's instance.\n * This function needs to be cross-repo-version functional to be able to fetch any version number,\n * even in case of change of repo's versioning.\n *\n * @param {import('../types').Backends} backends\n */\nexport async function getVersion (backends) {\n  if (!(await isRepoInitialized(backends))) {\n    throw new NotInitializedRepoError('Repo is not initialized!')\n  }\n\n  const store = backends.root\n  await store.open()\n\n  try {\n    return parseInt(uint8ArrayToString(await store.get(VERSION_KEY)))\n  } finally {\n    await store.close()\n  }\n}\n\n/**\n * Function for setting a version in cross-repo-version manner.\n *\n * @param {number} version\n * @param {import('../types').Backends} backends\n */\nexport async function setVersion (version, backends) {\n  if (!backends) {\n    throw new MissingRepoOptionsError('Please pass repo options when trying to open a repo')\n  }\n\n  const store = backends.root\n  await store.open()\n  await store.put(VERSION_KEY, uint8ArrayFromString(String(version)))\n  await store.close()\n}\n", "\nimport debug from 'debug'\nimport { CONFIG_KEY, VERSION_KEY } from '../utils.js'\nimport { MissingRepoOptionsError } from '../errors.js'\n\nconst log = debug('ipfs:repo:migrator:repo:init')\n\n/**\n * @param {import('../types').Backends} backends\n */\nexport async function isRepoInitialized (backends) {\n  if (!backends) {\n    throw new MissingRepoOptionsError('Please pass repo options when trying to open a repo')\n  }\n\n  const root = backends.root\n\n  try {\n    await root.open()\n    const versionCheck = await root.has(VERSION_KEY)\n    const configCheck = await root.has(CONFIG_KEY)\n    if (!versionCheck || !configCheck) {\n      log(`Version entry present: ${versionCheck}`)\n      log(`Config entry present: ${configCheck}`)\n      return false\n    }\n\n    return true\n  } catch (/** @type {any} */ e) {\n    log('While checking if repo is initialized error was thrown: ' + e.message)\n    return false\n  } finally {\n    if (root !== undefined) {\n      try {\n        await root.close()\n      } catch {}\n    }\n  }\n}\n", "\n/**\n * Exception raised when trying to revert migration that is not possible\n * to revert.\n */\nexport class NonReversibleMigrationError extends Error {\n  /**\n   * @param {string} message\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'NonReversibleMigrationError'\n    this.code = NonReversibleMigrationError.code\n    this.message = message\n  }\n}\nNonReversibleMigrationError.code = 'ERR_NON_REVERSIBLE_MIGRATION'\n\n/**\n * Exception raised when repo is not initialized.\n */\nexport class NotInitializedRepoError extends Error {\n  /**\n   * @param {string} message\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'NotInitializedRepoError'\n    this.code = NotInitializedRepoError.code\n    this.message = message\n  }\n}\nNotInitializedRepoError.code = 'ERR_NOT_INITIALIZED_REPO'\n\n/**\n * Exception raised when required parameter is not provided.\n */\nexport class RequiredParameterError extends Error {\n  /**\n   * @param {string} message\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'RequiredParameterError'\n    this.code = RequiredParameterError.code\n    this.message = message\n  }\n}\nRequiredParameterError.code = 'ERR_REQUIRED_PARAMETER'\n\n/**\n * Exception raised when value is not valid.\n */\nexport class InvalidValueError extends Error {\n  /**\n   * @param {string} message\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'InvalidValueError'\n    this.code = InvalidValueError.code\n    this.message = message\n  }\n}\nInvalidValueError.code = 'ERR_INVALID_VALUE'\n\n/**\n * Exception raised when config is not passed.\n */\nexport class MissingRepoOptionsError extends Error {\n  /**\n   * @param {string} message\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'MissingRepoOptionsError'\n    this.code = MissingRepoOptionsError.code\n    this.message = message\n  }\n}\nMissingRepoOptionsError.code = 'ERR_MISSING_REPO_OPTIONS'\n", "/**\n * Thin ESM wrapper for CJS named exports.\n *\n * Ref: https://redfin.engineering/node-modules-at-war-why-commonjs-and-es-modules-cant-get-along-9617135eeca1\n */\n\nimport mergeOptions from './index.js';\nexport default mergeOptions;\n", "\nexport const repoVersion = 12\n", "\nimport { Key } from 'interface-datastore/key'\nimport debug from 'debug'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\nimport { getWithFallback, hasWithFallback } from './utils/level.js'\n\nconst log = debug('ipfs:repo:version')\nconst versionKey = new Key('version')\n\n/**\n *\n * @param {import('interface-datastore').Datastore} store\n */\nexport function version (store) {\n  return {\n    /**\n     * Check if a version file exists.\n     *\n     */\n    async exists () { // eslint-disable-line require-await\n      // level-js@5.x cannot read keys from level-js@4.x dbs so fall back to\n      // using IndexedDB API with string keys - only necessary until we do\n      // the migratiion to v10 or above\n      return hasWithFallback(versionKey, store.has.bind(store), store)\n    },\n    /**\n     * Get the current version.\n     *\n     * @returns {Promise<number>}\n     */\n    async get () {\n      // level-js@5.x cannot read keys from level-js@4.x dbs so fall back to\n      // using IndexedDB API with string keys - only necessary until we do\n      // the migratiion to v10 or above\n      const buf = await getWithFallback(versionKey, store.get.bind(store), store.has.bind(store), store)\n      return parseInt(uint8ArrayToString(buf), 10)\n    },\n    /**\n     * Set the version of the repo, writing it to the underlying store.\n     *\n     * @param {number} version\n     * @returns {Promise<void>}\n     */\n    set (version) {\n      return store.put(versionKey, uint8ArrayFromString(String(version)))\n    },\n    /**\n     * Check the current version, and returns true if versions matches\n     *\n     * @param {number} expected\n     */\n    async check (expected) {\n      const version = await this.get()\n      log('comparing version: %s and %s', version, expected)\n      // Version 6 and 7 are the same\n      // TODO: Clean up the compatibility logic. Repo feature detection would be ideal, or a better version schema\n      const compatibleVersion = (version === 6 && expected === 7) || (expected === 6 && version === 7)\n\n      return version === expected || compatibleVersion\n    }\n  }\n}\n", null, "\nimport { NotFoundError } from '../errors.js'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Key} Key\n */\n\n/**\n * @param {Key} key\n * @param {function (Key): Promise<boolean>} has\n * @param {Datastore} store\n * @returns {Promise<boolean>}\n */\nexport async function hasWithFallback (key, has, store) {\n  const result = await has(key)\n\n  if (result) {\n    return result\n  }\n\n  // Newer versions of level.js changed the key type from Uint8Array|string\n  // to Uint8Array  so fall back to trying Uint8Arrays if we are using level.js\n  // and the string version of the key did not work\n  const levelJs = findLevelJs(store)\n\n  if (!levelJs) {\n    return false\n  }\n\n  return new Promise((resolve, reject) => {\n    // drop down to IndexDB API, otherwise level-js will monkey around with the keys/values\n    // @ts-ignore\n    const req = levelJs.store('readonly').get(key.toString())\n    req.transaction.onabort = () => {\n      reject(req.transaction.error)\n    }\n    req.transaction.oncomplete = () => {\n      resolve(Boolean(req.result))\n    }\n  })\n}\n\n/**\n * @param {import('interface-datastore').Key} key\n * @param {function (Key): Promise<Uint8Array>} get\n * @param {function (Key): Promise<boolean>} has\n * @param {import('interface-datastore').Datastore} store\n * @returns {Promise<Uint8Array>}\n */\nexport async function getWithFallback (key, get, has, store) {\n  if (await has(key)) {\n    return get(key)\n  }\n\n  // Newer versions of level.js changed the key type from Uint8Array|string\n  // to Uint8Array so fall back to trying Uint8Arrays if we are using level.js\n  // and the string version of the key did not work\n  const levelJs = findLevelJs(store)\n\n  if (!levelJs) {\n    throw new NotFoundError()\n  }\n\n  return new Promise((resolve, reject) => {\n    // drop down to IndexDB API, otherwise level-js will monkey around with the keys/values\n    // @ts-ignore\n    const req = levelJs.store('readonly').get(key.toString())\n    req.transaction.onabort = () => {\n      reject(req.transaction.error)\n    }\n    req.transaction.oncomplete = () => {\n      if (req.result) {\n        return resolve(req.result)\n      }\n\n      reject(new NotFoundError())\n    }\n  })\n}\n\n/**\n * Level dbs wrap level dbs that wrap level dbs. Find a level-js\n * instance in the chain if one exists.\n *\n * @param {Datastore} store\n * @returns {Datastore | undefined}\n */\nfunction findLevelJs (store) {\n  let db = store\n\n  // @ts-ignore\n  while (db.db || db.child) {\n    // @ts-ignore\n    db = db.db || db.child\n\n    // `Level` is only present in the browser, in node it is LevelDOWN\n    // @ts-ignore\n    if (db.type === 'level-js' || db.constructor.name === 'Level') {\n      return db\n    }\n  }\n}\n", "/**\n * Error raised when there is lock already in place when repo is being opened.\n */\nexport class LockExistsError extends Error {\n  /**\n   * @param {string} [message]\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'LockExistsError'\n    this.code = LockExistsError.code\n  }\n}\nLockExistsError.code = 'ERR_LOCK_EXISTS'\n\n/**\n * Error raised when requested item is not found.\n */\nexport class NotFoundError extends Error {\n  /**\n   * @param {string} [message]\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'NotFoundError'\n    this.code = NotFoundError.code\n  }\n}\nNotFoundError.code = 'ERR_NOT_FOUND'\n\n/**\n * Error raised when version of the stored repo is not compatible with version of this package.\n */\nexport class InvalidRepoVersionError extends Error {\n  /**\n   * @param {string} [message]\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'InvalidRepoVersionError'\n    this.code = InvalidRepoVersionError.code\n  }\n}\nInvalidRepoVersionError.code = 'ERR_INVALID_REPO_VERSION'\n\nexport const ERR_REPO_NOT_INITIALIZED = 'ERR_REPO_NOT_INITIALIZED'\nexport const ERR_REPO_ALREADY_OPEN = 'ERR_REPO_ALREADY_OPEN'\nexport const ERR_REPO_ALREADY_CLOSED = 'ERR_REPO_ALREADY_CLOSED'\n", "\nimport { Key } from 'interface-datastore/key'\nimport PQueue from 'p-queue'\nimport _get from 'just-safe-get'\nimport _set from 'just-safe-set'\nimport errCode from 'err-code'\nimport { NotFoundError } from './errors.js'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\nimport { getWithFallback, hasWithFallback } from './utils/level.js'\n\n// @ts-ignore types are broken in p-queue@6.x.x - also, if we imported via esm\n// we can use the default, if via cjs we need to get the default via prop access\nconst Queue = PQueue.default ? PQueue.default : PQueue\n\nconst configKey = new Key('config')\n\n/**\n * @typedef {import('./types').Config} Config\n * @typedef {import('interface-datastore').Datastore} Datastore\n */\n\n/**\n * @param {Datastore} store\n */\nexport function config (store) {\n  const setQueue = new Queue({ concurrency: 1 })\n\n  const configStore = {\n    /**\n     * Get the current configuration from the repo.\n     *\n     * @param {object} [options] - options\n     * @param {AbortSignal} [options.signal] - abort this config read\n     * @returns {Promise<Config>}\n     */\n    async getAll (options = {}) { // eslint-disable-line require-await\n      // level-js@5.x cannot read keys from level-js@4.x dbs so fall back to\n      // using IndexedDB API with string keys - only necessary until we do\n      // the migratiion to v10 or above\n      const encodedValue = await getWithFallback(configKey, store.get.bind(store), store.has.bind(store), store)\n\n      return JSON.parse(uint8ArrayToString(encodedValue))\n    },\n\n    /**\n     * Get the value for the passed configuration key from the repo.\n     *\n     * @param {string} key - the config key to get\n     * @param {object} [options] - options\n     * @param {AbortSignal} [options.signal] - abort this config read\n     */\n    async get (key, options = {}) {\n      if (key == null) {\n        throw new NotFoundError(`Key ${key} does not exist in config`)\n      }\n\n      const config = await this.getAll(options)\n      const value = _get(config, key)\n\n      if (value === undefined) {\n        throw new NotFoundError(`Key ${key} does not exist in config`)\n      }\n\n      return value\n    },\n\n    /**\n     * Set the current configuration for this repo.\n     *\n     * @param {string} key - the config key to be written\n     * @param {any} [value] - the config value to be written\n     * @param {object} [options] - options\n     * @param {AbortSignal} [options.signal] - abort this config write\n     */\n    set (key, value, options = {}) {\n      // @ts-ignore ts thinks key will only be a string, but it may not be\n      if (typeof key !== 'string' && !(key instanceof String)) {\n        throw errCode(new Error('Invalid key type: ' + typeof key), 'ERR_INVALID_KEY')\n      }\n\n      if (value === undefined || (value instanceof Uint8Array)) {\n        throw errCode(new Error('Invalid value type: ' + typeof value), 'ERR_INVALID_VALUE')\n      }\n\n      return setQueue.add(() => _maybeDoSet({\n        key: key,\n        value: value\n      }, options.signal))\n    },\n\n    /**\n     * Set the current configuration for this repo.\n     *\n     * @param {Config} [value] - the config value to be written\n     * @param {object} [options] - options\n     * @param {AbortSignal} [options.signal] - abort this config write\n     */\n    replace (value, options = {}) {\n      if (!value || (value instanceof Uint8Array)) {\n        throw errCode(new Error('Invalid value type: ' + typeof value), 'ERR_INVALID_VALUE')\n      }\n\n      return setQueue.add(() => _maybeDoSet({\n        key: undefined,\n        value: value\n      }, options.signal))\n    },\n\n    /**\n     * Check if a config file exists.\n     *\n     */\n    async exists () { // eslint-disable-line require-await\n      // level-js@5.x cannot read keys from level-js@4.x dbs so fall back to\n      // using IndexedDB API with string keys - only necessary until we do\n      // the migration to v10 or above\n      return hasWithFallback(configKey, store.has.bind(store), store)\n    }\n  }\n\n  return configStore\n\n  /**\n   * @param {{ key: any; value: any; }} m\n   * @param {AbortSignal | undefined} signal\n   */\n  async function _maybeDoSet (m, signal) {\n    if (signal && signal.aborted) {\n      return\n    }\n\n    const key = m.key\n    const value = m.value\n    if (key) {\n      const config = await configStore.getAll()\n      if (typeof config === 'object' && config !== null) {\n        _set(config, key, value)\n      }\n      return _saveAll(config)\n    }\n    return _saveAll(value)\n  }\n\n  /**\n   * @param {unknown} config\n   */\n  function _saveAll (config) {\n    const buf = uint8ArrayFromString(JSON.stringify(config, null, 2))\n    return store.put(configKey, buf)\n  }\n}\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _PQueue_instances, _PQueue_carryoverConcurrencyCount, _PQueue_isIntervalIgnored, _PQueue_intervalCount, _PQueue_intervalCap, _PQueue_interval, _PQueue_intervalEnd, _PQueue_intervalId, _PQueue_timeoutId, _PQueue_queue, _PQueue_queueClass, _PQueue_pendingCount, _PQueue_concurrency, _PQueue_isPaused, _PQueue_throwOnTimeout, _PQueue_doesIntervalAllowAnother_get, _PQueue_doesConcurrentAllowAnother_get, _PQueue_next, _PQueue_emitEvents, _PQueue_onResumeInterval, _PQueue_isIntervalPaused_get, _PQueue_tryToStartAnother, _PQueue_initializeIntervalIfNeeded, _PQueue_onInterval, _PQueue_processQueue, _PQueue_onEvent;\nimport EventEmitter from 'eventemitter3';\nimport pTimeout, { TimeoutError } from 'p-timeout';\nimport PriorityQueue from './priority-queue.js';\nconst timeoutError = new TimeoutError();\n/**\nThe error thrown by `queue.add()` when a job is aborted before it is run. See `signal`.\n*/\nexport class AbortError extends Error {\n}\n/**\nPromise queue with concurrency control.\n*/\nexport default class PQueue extends EventEmitter {\n    constructor(options) {\n        var _a, _b, _c, _d;\n        super();\n        _PQueue_instances.add(this);\n        _PQueue_carryoverConcurrencyCount.set(this, void 0);\n        _PQueue_isIntervalIgnored.set(this, void 0);\n        _PQueue_intervalCount.set(this, 0);\n        _PQueue_intervalCap.set(this, void 0);\n        _PQueue_interval.set(this, void 0);\n        _PQueue_intervalEnd.set(this, 0);\n        _PQueue_intervalId.set(this, void 0);\n        _PQueue_timeoutId.set(this, void 0);\n        _PQueue_queue.set(this, void 0);\n        _PQueue_queueClass.set(this, void 0);\n        _PQueue_pendingCount.set(this, 0);\n        // The `!` is needed because of https://github.com/microsoft/TypeScript/issues/32194\n        _PQueue_concurrency.set(this, void 0);\n        _PQueue_isPaused.set(this, void 0);\n        _PQueue_throwOnTimeout.set(this, void 0);\n        /**\n        Per-operation timeout in milliseconds. Operations fulfill once `timeout` elapses if they haven't already.\n    \n        Applies to each future operation.\n        */\n        Object.defineProperty(this, \"timeout\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        options = {\n            carryoverConcurrencyCount: false,\n            intervalCap: Number.POSITIVE_INFINITY,\n            interval: 0,\n            concurrency: Number.POSITIVE_INFINITY,\n            autoStart: true,\n            queueClass: PriorityQueue,\n            ...options,\n        };\n        if (!(typeof options.intervalCap === 'number' && options.intervalCap >= 1)) {\n            throw new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${(_b = (_a = options.intervalCap) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : ''}\\` (${typeof options.intervalCap})`);\n        }\n        if (options.interval === undefined || !(Number.isFinite(options.interval) && options.interval >= 0)) {\n            throw new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${(_d = (_c = options.interval) === null || _c === void 0 ? void 0 : _c.toString()) !== null && _d !== void 0 ? _d : ''}\\` (${typeof options.interval})`);\n        }\n        __classPrivateFieldSet(this, _PQueue_carryoverConcurrencyCount, options.carryoverConcurrencyCount, \"f\");\n        __classPrivateFieldSet(this, _PQueue_isIntervalIgnored, options.intervalCap === Number.POSITIVE_INFINITY || options.interval === 0, \"f\");\n        __classPrivateFieldSet(this, _PQueue_intervalCap, options.intervalCap, \"f\");\n        __classPrivateFieldSet(this, _PQueue_interval, options.interval, \"f\");\n        __classPrivateFieldSet(this, _PQueue_queue, new options.queueClass(), \"f\");\n        __classPrivateFieldSet(this, _PQueue_queueClass, options.queueClass, \"f\");\n        this.concurrency = options.concurrency;\n        this.timeout = options.timeout;\n        __classPrivateFieldSet(this, _PQueue_throwOnTimeout, options.throwOnTimeout === true, \"f\");\n        __classPrivateFieldSet(this, _PQueue_isPaused, options.autoStart === false, \"f\");\n    }\n    get concurrency() {\n        return __classPrivateFieldGet(this, _PQueue_concurrency, \"f\");\n    }\n    set concurrency(newConcurrency) {\n        if (!(typeof newConcurrency === 'number' && newConcurrency >= 1)) {\n            throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${newConcurrency}\\` (${typeof newConcurrency})`);\n        }\n        __classPrivateFieldSet(this, _PQueue_concurrency, newConcurrency, \"f\");\n        __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_processQueue).call(this);\n    }\n    /**\n    Adds a sync or async task to the queue. Always returns a promise.\n    */\n    async add(fn, options = {}) {\n        return new Promise((resolve, reject) => {\n            const run = async () => {\n                var _a;\n                var _b, _c;\n                __classPrivateFieldSet(this, _PQueue_pendingCount, (_b = __classPrivateFieldGet(this, _PQueue_pendingCount, \"f\"), _b++, _b), \"f\");\n                __classPrivateFieldSet(this, _PQueue_intervalCount, (_c = __classPrivateFieldGet(this, _PQueue_intervalCount, \"f\"), _c++, _c), \"f\");\n                try {\n                    if ((_a = options.signal) === null || _a === void 0 ? void 0 : _a.aborted) {\n                        // TODO: Use ABORT_ERR code when targeting Node.js 16 (https://nodejs.org/docs/latest-v16.x/api/errors.html#abort_err)\n                        reject(new AbortError('The task was aborted.'));\n                        return;\n                    }\n                    const operation = (this.timeout === undefined && options.timeout === undefined) ? fn({ signal: options.signal }) : pTimeout(Promise.resolve(fn({ signal: options.signal })), (options.timeout === undefined ? this.timeout : options.timeout), () => {\n                        if (options.throwOnTimeout === undefined ? __classPrivateFieldGet(this, _PQueue_throwOnTimeout, \"f\") : options.throwOnTimeout) {\n                            reject(timeoutError);\n                        }\n                        return undefined;\n                    });\n                    const result = await operation;\n                    resolve(result);\n                    this.emit('completed', result);\n                }\n                catch (error) {\n                    reject(error);\n                    this.emit('error', error);\n                }\n                __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_next).call(this);\n            };\n            __classPrivateFieldGet(this, _PQueue_queue, \"f\").enqueue(run, options);\n            __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_tryToStartAnother).call(this);\n            this.emit('add');\n        });\n    }\n    /**\n    Same as `.add()`, but accepts an array of sync or async functions.\n\n    @returns A promise that resolves when all functions are resolved.\n    */\n    async addAll(functions, options) {\n        return Promise.all(functions.map(async (function_) => this.add(function_, options)));\n    }\n    /**\n    Start (or resume) executing enqueued tasks within concurrency limit. No need to call this if queue is not paused (via `options.autoStart = false` or by `.pause()` method.)\n    */\n    start() {\n        if (!__classPrivateFieldGet(this, _PQueue_isPaused, \"f\")) {\n            return this;\n        }\n        __classPrivateFieldSet(this, _PQueue_isPaused, false, \"f\");\n        __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_processQueue).call(this);\n        return this;\n    }\n    /**\n    Put queue execution on hold.\n    */\n    pause() {\n        __classPrivateFieldSet(this, _PQueue_isPaused, true, \"f\");\n    }\n    /**\n    Clear the queue.\n    */\n    clear() {\n        __classPrivateFieldSet(this, _PQueue_queue, new (__classPrivateFieldGet(this, _PQueue_queueClass, \"f\"))(), \"f\");\n    }\n    /**\n    Can be called multiple times. Useful if you for example add additional items at a later time.\n\n    @returns A promise that settles when the queue becomes empty.\n    */\n    async onEmpty() {\n        // Instantly resolve if the queue is empty\n        if (__classPrivateFieldGet(this, _PQueue_queue, \"f\").size === 0) {\n            return;\n        }\n        await __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_onEvent).call(this, 'empty');\n    }\n    /**\n    @returns A promise that settles when the queue size is less than the given limit: `queue.size < limit`.\n\n    If you want to avoid having the queue grow beyond a certain size you can `await queue.onSizeLessThan()` before adding a new item.\n\n    Note that this only limits the number of items waiting to start. There could still be up to `concurrency` jobs already running that this call does not include in its calculation.\n    */\n    async onSizeLessThan(limit) {\n        // Instantly resolve if the queue is empty.\n        if (__classPrivateFieldGet(this, _PQueue_queue, \"f\").size < limit) {\n            return;\n        }\n        await __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_onEvent).call(this, 'next', () => __classPrivateFieldGet(this, _PQueue_queue, \"f\").size < limit);\n    }\n    /**\n    The difference with `.onEmpty` is that `.onIdle` guarantees that all work from the queue has finished. `.onEmpty` merely signals that the queue is empty, but it could mean that some promises haven't completed yet.\n\n    @returns A promise that settles when the queue becomes empty, and all promises have completed; `queue.size === 0 && queue.pending === 0`.\n    */\n    async onIdle() {\n        // Instantly resolve if none pending and if nothing else is queued\n        if (__classPrivateFieldGet(this, _PQueue_pendingCount, \"f\") === 0 && __classPrivateFieldGet(this, _PQueue_queue, \"f\").size === 0) {\n            return;\n        }\n        await __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_onEvent).call(this, 'idle');\n    }\n    /**\n    Size of the queue, the number of queued items waiting to run.\n    */\n    get size() {\n        return __classPrivateFieldGet(this, _PQueue_queue, \"f\").size;\n    }\n    /**\n    Size of the queue, filtered by the given options.\n\n    For example, this can be used to find the number of items remaining in the queue with a specific priority level.\n    */\n    sizeBy(options) {\n        // eslint-disable-next-line unicorn/no-array-callback-reference\n        return __classPrivateFieldGet(this, _PQueue_queue, \"f\").filter(options).length;\n    }\n    /**\n    Number of running items (no longer in the queue).\n    */\n    get pending() {\n        return __classPrivateFieldGet(this, _PQueue_pendingCount, \"f\");\n    }\n    /**\n    Whether the queue is currently paused.\n    */\n    get isPaused() {\n        return __classPrivateFieldGet(this, _PQueue_isPaused, \"f\");\n    }\n}\n_PQueue_carryoverConcurrencyCount = new WeakMap(), _PQueue_isIntervalIgnored = new WeakMap(), _PQueue_intervalCount = new WeakMap(), _PQueue_intervalCap = new WeakMap(), _PQueue_interval = new WeakMap(), _PQueue_intervalEnd = new WeakMap(), _PQueue_intervalId = new WeakMap(), _PQueue_timeoutId = new WeakMap(), _PQueue_queue = new WeakMap(), _PQueue_queueClass = new WeakMap(), _PQueue_pendingCount = new WeakMap(), _PQueue_concurrency = new WeakMap(), _PQueue_isPaused = new WeakMap(), _PQueue_throwOnTimeout = new WeakMap(), _PQueue_instances = new WeakSet(), _PQueue_doesIntervalAllowAnother_get = function _PQueue_doesIntervalAllowAnother_get() {\n    return __classPrivateFieldGet(this, _PQueue_isIntervalIgnored, \"f\") || __classPrivateFieldGet(this, _PQueue_intervalCount, \"f\") < __classPrivateFieldGet(this, _PQueue_intervalCap, \"f\");\n}, _PQueue_doesConcurrentAllowAnother_get = function _PQueue_doesConcurrentAllowAnother_get() {\n    return __classPrivateFieldGet(this, _PQueue_pendingCount, \"f\") < __classPrivateFieldGet(this, _PQueue_concurrency, \"f\");\n}, _PQueue_next = function _PQueue_next() {\n    var _a;\n    __classPrivateFieldSet(this, _PQueue_pendingCount, (_a = __classPrivateFieldGet(this, _PQueue_pendingCount, \"f\"), _a--, _a), \"f\");\n    __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_tryToStartAnother).call(this);\n    this.emit('next');\n}, _PQueue_emitEvents = function _PQueue_emitEvents() {\n    this.emit('empty');\n    if (__classPrivateFieldGet(this, _PQueue_pendingCount, \"f\") === 0) {\n        this.emit('idle');\n    }\n}, _PQueue_onResumeInterval = function _PQueue_onResumeInterval() {\n    __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_onInterval).call(this);\n    __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_initializeIntervalIfNeeded).call(this);\n    __classPrivateFieldSet(this, _PQueue_timeoutId, undefined, \"f\");\n}, _PQueue_isIntervalPaused_get = function _PQueue_isIntervalPaused_get() {\n    const now = Date.now();\n    if (__classPrivateFieldGet(this, _PQueue_intervalId, \"f\") === undefined) {\n        const delay = __classPrivateFieldGet(this, _PQueue_intervalEnd, \"f\") - now;\n        if (delay < 0) {\n            // Act as the interval was done\n            // We don't need to resume it here because it will be resumed on line 160\n            __classPrivateFieldSet(this, _PQueue_intervalCount, (__classPrivateFieldGet(this, _PQueue_carryoverConcurrencyCount, \"f\")) ? __classPrivateFieldGet(this, _PQueue_pendingCount, \"f\") : 0, \"f\");\n        }\n        else {\n            // Act as the interval is pending\n            if (__classPrivateFieldGet(this, _PQueue_timeoutId, \"f\") === undefined) {\n                __classPrivateFieldSet(this, _PQueue_timeoutId, setTimeout(() => {\n                    __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_onResumeInterval).call(this);\n                }, delay), \"f\");\n            }\n            return true;\n        }\n    }\n    return false;\n}, _PQueue_tryToStartAnother = function _PQueue_tryToStartAnother() {\n    if (__classPrivateFieldGet(this, _PQueue_queue, \"f\").size === 0) {\n        // We can clear the interval (\"pause\")\n        // Because we can redo it later (\"resume\")\n        if (__classPrivateFieldGet(this, _PQueue_intervalId, \"f\")) {\n            clearInterval(__classPrivateFieldGet(this, _PQueue_intervalId, \"f\"));\n        }\n        __classPrivateFieldSet(this, _PQueue_intervalId, undefined, \"f\");\n        __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_emitEvents).call(this);\n        return false;\n    }\n    if (!__classPrivateFieldGet(this, _PQueue_isPaused, \"f\")) {\n        const canInitializeInterval = !__classPrivateFieldGet(this, _PQueue_instances, \"a\", _PQueue_isIntervalPaused_get);\n        if (__classPrivateFieldGet(this, _PQueue_instances, \"a\", _PQueue_doesIntervalAllowAnother_get) && __classPrivateFieldGet(this, _PQueue_instances, \"a\", _PQueue_doesConcurrentAllowAnother_get)) {\n            const job = __classPrivateFieldGet(this, _PQueue_queue, \"f\").dequeue();\n            if (!job) {\n                return false;\n            }\n            this.emit('active');\n            job();\n            if (canInitializeInterval) {\n                __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_initializeIntervalIfNeeded).call(this);\n            }\n            return true;\n        }\n    }\n    return false;\n}, _PQueue_initializeIntervalIfNeeded = function _PQueue_initializeIntervalIfNeeded() {\n    if (__classPrivateFieldGet(this, _PQueue_isIntervalIgnored, \"f\") || __classPrivateFieldGet(this, _PQueue_intervalId, \"f\") !== undefined) {\n        return;\n    }\n    __classPrivateFieldSet(this, _PQueue_intervalId, setInterval(() => {\n        __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_onInterval).call(this);\n    }, __classPrivateFieldGet(this, _PQueue_interval, \"f\")), \"f\");\n    __classPrivateFieldSet(this, _PQueue_intervalEnd, Date.now() + __classPrivateFieldGet(this, _PQueue_interval, \"f\"), \"f\");\n}, _PQueue_onInterval = function _PQueue_onInterval() {\n    if (__classPrivateFieldGet(this, _PQueue_intervalCount, \"f\") === 0 && __classPrivateFieldGet(this, _PQueue_pendingCount, \"f\") === 0 && __classPrivateFieldGet(this, _PQueue_intervalId, \"f\")) {\n        clearInterval(__classPrivateFieldGet(this, _PQueue_intervalId, \"f\"));\n        __classPrivateFieldSet(this, _PQueue_intervalId, undefined, \"f\");\n    }\n    __classPrivateFieldSet(this, _PQueue_intervalCount, __classPrivateFieldGet(this, _PQueue_carryoverConcurrencyCount, \"f\") ? __classPrivateFieldGet(this, _PQueue_pendingCount, \"f\") : 0, \"f\");\n    __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_processQueue).call(this);\n}, _PQueue_processQueue = function _PQueue_processQueue() {\n    // eslint-disable-next-line no-empty\n    while (__classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_tryToStartAnother).call(this)) { }\n}, _PQueue_onEvent = async function _PQueue_onEvent(event, filter) {\n    return new Promise(resolve => {\n        const listener = () => {\n            if (filter && !filter()) {\n                return;\n            }\n            this.off(event, listener);\n            resolve();\n        };\n        this.on(event, listener);\n    });\n};\n", "export class TimeoutError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = 'TimeoutError';\n\t}\n}\n\n/**\nAn error to be thrown when the request is aborted by AbortController.\nDOMException is thrown instead of this Error when DOMException is available.\n*/\nexport class AbortError extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\t\tthis.name = 'AbortError';\n\t\tthis.message = message;\n\t}\n}\n\n/**\nTODO: Remove AbortError and just throw DOMException when targeting Node 18.\n*/\nconst getDOMException = errorMessage => globalThis.DOMException === undefined ?\n\tnew AbortError(errorMessage) :\n\tnew DOMException(errorMessage);\n\n/**\nTODO: Remove below function and just 'reject(signal.reason)' when targeting Node 18.\n*/\nconst getAbortedReason = signal => {\n\tconst reason = signal.reason === undefined ?\n\t\tgetDOMException('This operation was aborted.') :\n\t\tsignal.reason;\n\n\treturn reason instanceof Error ? reason : getDOMException(reason);\n};\n\nexport default function pTimeout(promise, milliseconds, fallback, options) {\n\tlet timer;\n\n\tconst cancelablePromise = new Promise((resolve, reject) => {\n\t\tif (typeof milliseconds !== 'number' || Math.sign(milliseconds) !== 1) {\n\t\t\tthrow new TypeError(`Expected \\`milliseconds\\` to be a positive number, got \\`${milliseconds}\\``);\n\t\t}\n\n\t\tif (milliseconds === Number.POSITIVE_INFINITY) {\n\t\t\tresolve(promise);\n\t\t\treturn;\n\t\t}\n\n\t\toptions = {\n\t\t\tcustomTimers: {setTimeout, clearTimeout},\n\t\t\t...options\n\t\t};\n\n\t\tif (options.signal) {\n\t\t\tconst {signal} = options;\n\t\t\tif (signal.aborted) {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t}\n\n\t\t\tsignal.addEventListener('abort', () => {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t});\n\t\t}\n\n\t\ttimer = options.customTimers.setTimeout.call(undefined, () => {\n\t\t\tif (typeof fallback === 'function') {\n\t\t\t\ttry {\n\t\t\t\t\tresolve(fallback());\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst message = typeof fallback === 'string' ? fallback : `Promise timed out after ${milliseconds} milliseconds`;\n\t\t\tconst timeoutError = fallback instanceof Error ? fallback : new TimeoutError(message);\n\n\t\t\tif (typeof promise.cancel === 'function') {\n\t\t\t\tpromise.cancel();\n\t\t\t}\n\n\t\t\treject(timeoutError);\n\t\t}, milliseconds);\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tresolve(await promise);\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t} finally {\n\t\t\t\toptions.customTimers.clearTimeout.call(undefined, timer);\n\t\t\t}\n\t\t})();\n\t});\n\n\tcancelablePromise.clear = () => {\n\t\tclearTimeout(timer);\n\t\ttimer = undefined;\n\t};\n\n\treturn cancelablePromise;\n}\n", "var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _PriorityQueue_queue;\nimport lowerBound from './lower-bound.js';\nexport default class PriorityQueue {\n    constructor() {\n        _PriorityQueue_queue.set(this, []);\n    }\n    enqueue(run, options) {\n        options = {\n            priority: 0,\n            ...options,\n        };\n        const element = {\n            priority: options.priority,\n            run,\n        };\n        if (this.size && __classPrivateFieldGet(this, _PriorityQueue_queue, \"f\")[this.size - 1].priority >= options.priority) {\n            __classPrivateFieldGet(this, _PriorityQueue_queue, \"f\").push(element);\n            return;\n        }\n        const index = lowerBound(__classPrivateFieldGet(this, _PriorityQueue_queue, \"f\"), element, (a, b) => b.priority - a.priority);\n        __classPrivateFieldGet(this, _PriorityQueue_queue, \"f\").splice(index, 0, element);\n    }\n    dequeue() {\n        const item = __classPrivateFieldGet(this, _PriorityQueue_queue, \"f\").shift();\n        return item === null || item === void 0 ? void 0 : item.run;\n    }\n    filter(options) {\n        return __classPrivateFieldGet(this, _PriorityQueue_queue, \"f\").filter((element) => element.priority === options.priority).map((element) => element.run);\n    }\n    get size() {\n        return __classPrivateFieldGet(this, _PriorityQueue_queue, \"f\").length;\n    }\n}\n_PriorityQueue_queue = new WeakMap();\n", "// Port of lower_bound from https://en.cppreference.com/w/cpp/algorithm/lower_bound\n// Used to compute insertion index to keep queue sorted after insertion\nexport default function lowerBound(array, value, comparator) {\n    let first = 0;\n    let count = array.length;\n    while (count > 0) {\n        const step = Math.trunc(count / 2);\n        let it = first + step;\n        if (comparator(array[it], value) <= 0) {\n            first = ++it;\n            count -= step + 1;\n        }\n        else {\n            count = step;\n        }\n    }\n    return first;\n}\n", "var objectSafeSet = set;\n\n/*\n  var obj1 = {};\n  set(obj1, 'a.aa.aaa', 4); // true\n  obj1; // {a: {aa: {aaa: 4}}}\n\n  var obj2 = {};\n  set(obj2, ['a', 'aa', 'aaa'], 4); // true\n  obj2; // {a: {aa: {aaa: 4}}}\n\n  var obj3 = {a: {aa: {aaa: 2}}};\n  set(obj3, 'a.aa.aaa', 3); // true\n  obj3; // {a: {aa: {aaa: 3}}}\n\n  // don't clobber existing\n  var obj4 = {a: {aa: {aaa: 2}}};\n  set(obj4, 'a.aa', {bbb: 7}); // false\n\n  const obj5 = {a: {}};\n  const sym = Symbol();\n  set(obj5.a, sym, 7); // true\n  obj5; // {a: {Symbol(): 7}}\n*/\n\nfunction set(obj, propsArg, value) {\n  var props, lastProp;\n  if (Array.isArray(propsArg)) {\n    props = propsArg.slice(0);\n  }\n  if (typeof propsArg == 'string') {\n    props = propsArg.split('.');\n  }\n  if (typeof propsArg == 'symbol') {\n    props = [propsArg];\n  }\n  if (!Array.isArray(props)) {\n    throw new Error('props arg must be an array, a string or a symbol');\n  }\n  lastProp = props.pop();\n  if (!lastProp) {\n    return false;\n  }\n  prototypeCheck(lastProp);\n  var thisProp;\n  while ((thisProp = props.shift())) {\n    prototypeCheck(thisProp);\n    if (typeof obj[thisProp] == 'undefined') {\n      obj[thisProp] = {};\n    }\n    obj = obj[thisProp];\n    if (!obj || typeof obj != 'object') {\n      return false;\n    }\n  }\n  obj[lastProp] = value;\n  return true;\n}\n\nfunction prototypeCheck(prop) {\n  // coercion is intentional to catch prop values like `['__proto__']`\n  if (prop == '__proto__' || prop == 'constructor' || prop == 'prototype') {\n    throw new Error('setting of prototype values not supported');\n  }\n}\n\nexport {objectSafeSet as default};\n", "\nimport { Key } from 'interface-datastore'\nimport sortKeys from 'sort-keys'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\n\nconst specKey = new Key('datastore_spec')\n\n/**\n *\n * @param {import('interface-datastore').Datastore} store\n */\nexport function spec (store) {\n  return {\n    /**\n     * Check if a datastore spec file exists.\n     *\n     */\n    exists () {\n      return store.has(specKey)\n    },\n    /**\n     * Get the current datastore spec.\n     *\n     * @returns {Promise<Uint8Array>}\n     */\n    async get () {\n      const buf = await store.get(specKey)\n      return JSON.parse(uint8ArrayToString(buf))\n    },\n    /**\n     * Set the datastore spec of the repo, writing it to the underlying store.\n     * TODO unclear on what the type should be or if it's required\n     *\n     * @param {any} spec\n     * @returns {Promise<void>}\n     */\n    async set (spec) {\n      return store.put(specKey, uint8ArrayFromString(JSON.stringify(sortKeys(spec, { deep: true }))))\n    }\n  }\n}\n", null, "import isPlainObject from 'is-plain-obj';\n\nexport default function sortKeys(object, options = {}) {\n\tif (!isPlainObject(object) && !Array.isArray(object)) {\n\t\tthrow new TypeError('Expected a plain object or array');\n\t}\n\n\tconst {deep, compare} = options;\n\tconst seenInput = [];\n\tconst seenOutput = [];\n\n\tconst deepSortArray = array => {\n\t\tconst seenIndex = seenInput.indexOf(array);\n\t\tif (seenIndex !== -1) {\n\t\t\treturn seenOutput[seenIndex];\n\t\t}\n\n\t\tconst result = [];\n\t\tseenInput.push(array);\n\t\tseenOutput.push(result);\n\n\t\tresult.push(...array.map(item => {\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\treturn deepSortArray(item);\n\t\t\t}\n\n\t\t\tif (isPlainObject(item)) {\n\t\t\t\treturn _sortKeys(item);\n\t\t\t}\n\n\t\t\treturn item;\n\t\t}));\n\n\t\treturn result;\n\t};\n\n\tconst _sortKeys = object => {\n\t\tconst seenIndex = seenInput.indexOf(object);\n\t\tif (seenIndex !== -1) {\n\t\t\treturn seenOutput[seenIndex];\n\t\t}\n\n\t\tconst result = {};\n\t\tconst keys = Object.keys(object).sort(compare);\n\n\t\tseenInput.push(object);\n\t\tseenOutput.push(result);\n\n\t\tfor (const key of keys) {\n\t\t\tconst value = object[key];\n\t\t\tlet newValue;\n\n\t\t\tif (deep && Array.isArray(value)) {\n\t\t\t\tnewValue = deepSortArray(value);\n\t\t\t} else {\n\t\t\t\tnewValue = deep && isPlainObject(value) ? _sortKeys(value) : value;\n\t\t\t}\n\n\t\t\tObject.defineProperty(result, key, {\n\t\t\t\t...Object.getOwnPropertyDescriptor(object, key),\n\t\t\t\tvalue: newValue\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tif (Array.isArray(object)) {\n\t\treturn deep ? deepSortArray(object) : object.slice();\n\t}\n\n\treturn _sortKeys(object);\n}\n", "export default function isPlainObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value);\n}\n", "\nimport { Key } from 'interface-datastore/key'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\n\nconst apiFile = new Key('api')\n\n/**\n *\n * @param {import('interface-datastore').Datastore} store\n */\nexport function apiAddr (store) {\n  return {\n    /**\n     * Get the current configuration from the repo.\n     *\n     * @returns {Promise<string>}\n     */\n    async get () {\n      const value = await store.get(apiFile)\n      return value && value.toString()\n    },\n    /**\n     * Set the current configuration for this repo.\n     * TODO: fix find the proper type or remove this API\n     *\n     * @param {string} value - the api address to be written\n     */\n    set (value) {\n      return store.put(apiFile, uint8ArrayFromString(value.toString()))\n    },\n    /**\n     * Deletes api file\n     */\n    delete () {\n      return store.delete(apiFile)\n    }\n  }\n}\n", "\nimport filter from 'it-filter'\nimport { pushable } from 'it-pushable'\nimport drain from 'it-drain'\nimport { CID } from 'multiformats/cid'\nimport errCode from 'err-code'\nimport { identity } from 'multiformats/hashes/identity'\n\n/**\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Options} DatastoreOptions\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n */\n\n/**\n * @param {Blockstore} store\n * @returns {Blockstore}\n */\nexport function createIdStore (store) {\n  return {\n    open () {\n      return store.open()\n    },\n\n    close () {\n      return store.close()\n    },\n\n    query (query, options) {\n      return store.query(query, options)\n    },\n\n    queryKeys (query, options) {\n      return store.queryKeys(query, options)\n    },\n\n    async get (cid, options) {\n      const extracted = extractContents(cid)\n      if (extracted.isIdentity) {\n        return Promise.resolve(extracted.digest)\n      }\n      return store.get(cid, options)\n    },\n\n    async * getMany (cids, options) {\n      for await (const cid of cids) {\n        yield this.get(cid, options)\n      }\n    },\n\n    async put (cid, buf, options) {\n      const { isIdentity } = extractContents(cid)\n\n      if (isIdentity) {\n        return\n      }\n\n      await store.put(cid, buf, options)\n    },\n\n    async * putMany (pairs, options) {\n      // in order to return all blocks. we're going to assemble a seperate iterable\n      // return rather than return the resolves of store.putMany using the same\n      // process used by blockstore.putMany\n      const output = pushable({\n        objectMode: true\n      })\n\n      // process.nextTick runs on the microtask queue, setImmediate runs on the next\n      // event loop iteration so is slower. Use process.nextTick if it is available.\n      const runner = globalThis.process && globalThis.process.nextTick ? globalThis.process.nextTick : (globalThis.setImmediate || globalThis.setTimeout)\n\n      runner(async () => {\n        try {\n          await drain(store.putMany(async function * () {\n            for await (const { key, value } of pairs) {\n              if (!extractContents(key).isIdentity) {\n                yield { key, value }\n              }\n\n              // if non identity blocks successfully write, blocks are included in output\n              output.push({ key, value })\n            }\n          }()))\n\n          output.end()\n        } catch (/** @type {any} */ err) {\n          output.end(err)\n        }\n      })\n\n      yield * output\n    },\n\n    has (cid, options) {\n      const { isIdentity } = extractContents(cid)\n      if (isIdentity) {\n        return Promise.resolve(true)\n      }\n      return store.has(cid, options)\n    },\n\n    delete (cid, options) {\n      const { isIdentity } = extractContents(cid)\n      if (isIdentity) {\n        return Promise.resolve()\n      }\n      return store.delete(cid, options)\n    },\n\n    deleteMany (cids, options) {\n      return store.deleteMany(filter(cids, (cid) => !extractContents(cid).isIdentity), options)\n    },\n\n    batch () {\n      const batch = store.batch()\n\n      return {\n        put (cid, buf) {\n          const { isIdentity } = extractContents(cid)\n\n          if (isIdentity) {\n            return\n          }\n\n          batch.put(cid, buf)\n        },\n        delete (cid) {\n          const { isIdentity } = extractContents(cid)\n\n          if (isIdentity) {\n            return\n          }\n\n          batch.delete(cid)\n        },\n        commit: (options) => {\n          return batch.commit(options)\n        }\n      }\n    }\n  }\n}\n\n/**\n * @param {CID} k\n * @returns {{ isIdentity: false } | { isIdentity: true, digest: Uint8Array}}\n */\nfunction extractContents (k) {\n  const cid = CID.asCID(k)\n\n  if (cid == null) {\n    throw errCode(new Error('Not a valid cid'), 'ERR_INVALID_CID')\n  }\n\n  if (cid.multihash.code !== identity.code) {\n    return {\n      isIdentity: false\n    }\n  }\n\n  return {\n    isIdentity: true,\n    digest: cid.multihash.digest\n  }\n}\n", null, null, "import { MemoryLock } from './locks/memory.js'\n\n/**\n * @type {Partial<import('./types').Options>}\n */\nexport default {\n  autoMigrate: true,\n  onMigrationProgress: () => {},\n  repoOwner: true,\n  repoLock: MemoryLock\n}\n", "\nimport { LockExistsError } from '../errors.js'\nimport debug from 'debug'\n\nconst log = debug('ipfs:repo:lock:memory')\nconst lockFile = 'repo.lock'\n\n/** @type {Record<string,boolean>} */\nconst LOCKS = {}\n\n/**\n * @typedef {import('../types').LockCloser} LockCloser\n */\n\n/**\n * Lock the repo in the given dir.\n *\n * @param {string} dir\n * @returns {Promise<LockCloser>}\n */\nasync function lock (dir) {\n  const file = dir + '/' + lockFile\n  log('locking %s', file)\n\n  if (LOCKS[file] === true) {\n    throw new LockExistsError(`Lock already being held for file: ${file}`)\n  }\n\n  LOCKS[file] = true\n  const closer = {\n    async close () {\n      if (LOCKS[file]) {\n        delete LOCKS[file]\n      }\n    }\n  }\n  return closer\n}\n\n/**\n * Check if the repo in the given directory is locked.\n *\n * @param {string} dir\n * @returns {Promise<boolean>}\n */\nasync function locked (dir) {\n  const file = dir + '/' + lockFile\n  log(`checking lock: ${file}`)\n\n  return Boolean(LOCKS[file])\n}\n\nexport const MemoryLock = {\n  lock,\n  locked\n}\n", "\n// Default configuration for the datastore spec in node.js\nexport default {\n  Spec: {\n    type: 'mount',\n    mounts: [\n      {\n        mountpoint: '/blocks',\n        type: 'measure',\n        prefix: 'flatfs.datastore',\n        child: {\n          type: 'flatfs',\n          path: 'blocks',\n          sync: true,\n          shardFunc: '/repo/flatfs/shard/v1/next-to-last/2'\n        }\n      },\n      {\n        mountpoint: '/',\n        type: 'measure',\n        prefix: 'leveldb.datastore',\n        child: {\n          type: 'levelds',\n          path: 'datastore',\n          compression: 'none'\n        }\n      }\n    ]\n  }\n}\n", "/* eslint max-nested-callbacks: [\"error\", 8] */\n\nimport { CID } from 'multiformats/cid'\nimport errCode from 'err-code'\nimport debug from 'debug'\nimport first from 'it-first'\nimport { createUnsafe } from 'multiformats/block'\nimport * as cborg from 'cborg'\nimport * as dagPb from '@ipld/dag-pb'\nimport {\n  cidToKey,\n  keyToMultihash\n} from './utils/blockstore.js'\nimport { walkDag } from './utils/walk-dag.js'\nimport { PinTypes } from './pin-types.js'\nimport QuickLRU from 'quick-lru'\n\n/**\n * @typedef {import('./types').PinType} PinType\n * @typedef {import('./types').PinQueryType} PinQueryType\n * @typedef {import('multiformats/codecs/interface').BlockCodec<any, any>} BlockCodec\n * @typedef {import('./types').PinOptions} PinOptions\n * @typedef {import('./types').AbortOptions} AbortOptions\n * @typedef {import('./types').Pins} Pins\n */\n\n/**\n * @typedef {object} PinInternal\n * @property {number} depth\n * @property {import('multiformats/cid').CIDVersion} [version]\n * @property {number} [codec]\n * @property {Record<string, any>} [metadata]\n */\n\n/**\n * @typedef {object} FetchCompleteDagOptions\n * @property {AbortSignal} [signal]\n * @property {number} [cidCacheMaxSize]\n */\n\nconst CID_CACHE_MAX_SIZE = 2048\n\n/**\n * @param {string} type\n */\nfunction invalidPinTypeErr (type) {\n  const errMsg = `Invalid type '${type}', must be one of {direct, indirect, recursive, all}`\n  return errCode(new Error(errMsg), 'ERR_INVALID_PIN_TYPE')\n}\n\n/**\n * @implements {Pins}\n */\nexport class PinManager {\n  /**\n   * @param {object} config\n   * @param {import('interface-datastore').Datastore} config.pinstore\n   * @param {import('interface-blockstore').Blockstore} config.blockstore\n   * @param {import('./types').loadCodec} config.loadCodec\n   */\n  constructor ({ pinstore, blockstore, loadCodec }) {\n    this.pinstore = pinstore\n    this.blockstore = blockstore\n    this.loadCodec = loadCodec\n    this.log = debug('ipfs:repo:pin')\n    this.directPins = new Set()\n    this.recursivePins = new Set()\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {PinOptions & AbortOptions} [options]\n   */\n  async pinDirectly (cid, options = {}) {\n    await this.blockstore.get(cid, options)\n\n    /** @type {PinInternal} */\n    const pin = {\n      depth: 0\n    }\n\n    if (cid.version !== 0) {\n      pin.version = cid.version\n    }\n\n    if (cid.code !== dagPb.code) {\n      pin.codec = cid.code\n    }\n\n    if (options.metadata) {\n      pin.metadata = options.metadata\n    }\n\n    return this.pinstore.put(cidToKey(cid), cborg.encode(pin))\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {AbortOptions} [options]\n   */\n  unpin (cid, options) {\n    return this.pinstore.delete(cidToKey(cid), options)\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {PinOptions & FetchCompleteDagOptions & AbortOptions} [options]\n   */\n  async pinRecursively (cid, options = {}) {\n    await this.fetchCompleteDag(cid, options)\n\n    /** @type {PinInternal} */\n    const pin = {\n      depth: Infinity\n    }\n\n    if (cid.version !== 0) {\n      pin.version = cid.version\n    }\n\n    if (cid.code !== dagPb.code) {\n      pin.codec = cid.code\n    }\n\n    if (options.metadata) {\n      pin.metadata = options.metadata\n    }\n\n    await this.pinstore.put(cidToKey(cid), cborg.encode(pin))\n  }\n\n  /**\n   * @param {AbortOptions} [options]\n   */\n  async * directKeys (options) {\n    for await (const entry of this.pinstore.query({\n      filters: [(entry) => {\n        const pin = cborg.decode(entry.value)\n\n        return pin.depth === 0\n      }]\n    })) {\n      const pin = cborg.decode(entry.value)\n      const version = pin.version || 0\n      const codec = pin.codec != null ? pin.codec : dagPb.code\n      const multihash = keyToMultihash(entry.key)\n\n      yield {\n        cid: CID.create(version, codec, multihash),\n        metadata: pin.metadata\n      }\n    }\n  }\n\n  /**\n   * @param {AbortOptions} [options]\n   */\n  async * recursiveKeys (options) {\n    for await (const entry of this.pinstore.query({\n      filters: [(entry) => {\n        const pin = cborg.decode(entry.value)\n\n        return pin.depth === Infinity\n      }]\n    })) {\n      const pin = cborg.decode(entry.value)\n      const version = pin.version || 0\n      const codec = pin.codec != null ? pin.codec : dagPb.code\n      const multihash = keyToMultihash(entry.key)\n\n      yield {\n        cid: CID.create(version, codec, multihash),\n        metadata: pin.metadata\n      }\n    }\n  }\n\n  /**\n   * @param {AbortOptions} [options]\n   */\n  async * indirectKeys (options) {\n    for await (const { cid } of this.recursiveKeys()) {\n      for await (const childCid of walkDag(cid, this.blockstore, this.loadCodec, options)) {\n        // recursive pins override indirect pins\n        const types = [\n          PinTypes.recursive\n        ]\n\n        const result = await this.isPinnedWithType(childCid, types)\n\n        if (result.pinned) {\n          continue\n        }\n\n        yield childCid\n      }\n    }\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {PinQueryType|PinQueryType[]} types\n   * @param {AbortOptions} [options]\n   */\n  async isPinnedWithType (cid, types, options) {\n    if (!Array.isArray(types)) {\n      types = [types]\n    }\n\n    const all = types.includes(PinTypes.all)\n    const direct = types.includes(PinTypes.direct)\n    const recursive = types.includes(PinTypes.recursive)\n    const indirect = types.includes(PinTypes.indirect)\n\n    if (recursive || direct || all) {\n      const result = await first(this.pinstore.query({\n        prefix: cidToKey(cid).toString(),\n        filters: [entry => {\n          if (all) {\n            return true\n          }\n\n          const pin = cborg.decode(entry.value)\n\n          return types.includes(pin.depth === 0 ? PinTypes.direct : PinTypes.recursive)\n        }],\n        limit: 1\n      }))\n\n      if (result) {\n        const pin = cborg.decode(result.value)\n\n        return {\n          cid,\n          pinned: true,\n          reason: pin.depth === 0 ? PinTypes.direct : PinTypes.recursive,\n          metadata: pin.metadata\n        }\n      }\n    }\n\n    const self = this\n\n    /**\n     * @param {CID} key\n     * @param {AsyncIterable<{ cid: CID, metadata: any }>} source\n     */\n    async function * findChild (key, source) {\n      for await (const { cid: parentCid } of source) {\n        for await (const childCid of walkDag(parentCid, self.blockstore, self.loadCodec)) {\n          if (childCid.equals(key)) {\n            yield parentCid\n            return\n          }\n        }\n      }\n    }\n\n    if (all || indirect) {\n      // indirect (default)\n      // check each recursive key to see if multihash is under it\n\n      const parentCid = await first(findChild(cid, this.recursiveKeys()))\n\n      if (parentCid) {\n        return {\n          cid,\n          pinned: true,\n          reason: PinTypes.indirect,\n          parent: parentCid\n        }\n      }\n    }\n\n    return {\n      cid,\n      pinned: false\n    }\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {FetchCompleteDagOptions} [options]\n   */\n  async fetchCompleteDag (cid, options = {}) {\n    const seen = new QuickLRU({ maxSize: options.cidCacheMaxSize ?? CID_CACHE_MAX_SIZE })\n\n    /**\n     * @param {CID} cid\n     * @param {AbortOptions} options\n     */\n    const walkDag = async (cid, options) => {\n      if (seen.has(cid.toString())) {\n        return\n      }\n\n      seen.set(cid.toString(), true)\n\n      const bytes = await this.blockstore.get(cid, options)\n      const codec = await this.loadCodec(cid.code)\n      const block = createUnsafe({ bytes, cid, codec })\n\n      await Promise.all(\n        [...block.links()].map(([, childCid]) => walkDag(childCid, options))\n      )\n    }\n\n    await walkDag(cid, options)\n  }\n\n  /**\n   * Throws an error if the pin type is invalid\n   *\n   * @param {any} type\n   * @returns {type is PinType}\n   */\n  static checkPinType (type) {\n    if (typeof type !== 'string' || !Object.keys(PinTypes).includes(type)) {\n      throw invalidPinTypeErr(type)\n    }\n    return true\n  }\n}\n", "import { Key } from 'interface-datastore/key'\nimport { CID } from 'multiformats'\nimport * as raw from 'multiformats/codecs/raw'\nimport errCode from 'err-code'\nimport { base32 } from 'multiformats/bases/base32'\nimport * as Digest from 'multiformats/hashes/digest'\n\n/**\n * Transform a cid to the appropriate datastore key.\n *\n * @param {CID} c\n */\nexport function cidToKey (c) {\n  const cid = CID.asCID(c)\n\n  if (cid == null) {\n    throw errCode(new Error('Not a valid cid'), 'ERR_INVALID_CID')\n  }\n\n  const encoded = base32.encode(cid.multihash.bytes)\n\n  return new Key('/' + encoded.slice(1).toUpperCase(), false)\n}\n\n/**\n * Transform a datastore Key instance to a CID\n * As Key is a multihash of the CID, it is reconstructed using IPLD's RAW codec.\n * Hence it is highly probable that stored CID will differ from a CID retrieved from blockstore.\n *\n * @param {Key} key\n */\nexport function keyToCid (key) {\n  // Block key is of the form /<base32 encoded string>\n  return CID.createV1(raw.code, keyToMultihash(key))\n}\n\n/**\n * @param {Key | string} key\n */\nexport function keyToMultihash (key) {\n  return Digest.decode(base32.decode(`b${key.toString().toLowerCase().substring(1)}`))\n}\n", "import debug from 'debug'\nimport { createUnsafe } from 'multiformats/block'\n\nconst log = debug('ipfs:repo:utils:walk-dag')\n\n/**\n * @typedef {import('multiformats/cid').CID} CID\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('../types').loadCodec} loadCodec\n * @typedef {import('../types').AbortOptions} AbortOptions\n */\n\n/**\n * @param {CID} cid\n * @param {Blockstore} blockstore\n * @param {loadCodec} loadCodec\n * @param {AbortOptions} [options]\n * @returns {AsyncGenerator<CID, void, undefined>}\n */\nexport async function * walkDag (cid, blockstore, loadCodec, options) {\n  try {\n    const bytes = await blockstore.get(cid, options)\n    const codec = await loadCodec(cid.code)\n    const block = createUnsafe({ bytes, cid, codec })\n\n    for (const [, childCid] of block.links()) {\n      yield childCid\n      yield * walkDag(childCid, blockstore, loadCodec, options)\n    }\n  } catch (/** @type {any} */ err) {\n    log('Could not walk DAG for CID', cid.toString(), err)\n\n    throw err\n  }\n}\n", "\nexport const PinTypes = {\n  /** @type {'direct'} */\n  direct: 'direct',\n  /** @type {'recursive'} */\n  recursive: 'recursive',\n  /** @type {'indirect'} */\n  indirect: 'indirect',\n  /** @type {'all'} */\n  all: 'all'\n}\n", "export default class QuickLRU extends Map {\n\tconstructor(options = {}) {\n\t\tsuper();\n\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tif (typeof options.maxAge === 'number' && options.maxAge === 0) {\n\t\t\tthrow new TypeError('`maxAge` must be a number greater than 0');\n\t\t}\n\n\t\t// TODO: Use private class fields when ESLint supports them.\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.maxAge = options.maxAge || Number.POSITIVE_INFINITY;\n\t\tthis.onEviction = options.onEviction;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t// TODO: Use private class methods when targeting Node.js 16.\n\t_emitEvictions(cache) {\n\t\tif (typeof this.onEviction !== 'function') {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const [key, item] of cache) {\n\t\t\tthis.onEviction(key, item.value);\n\t\t}\n\t}\n\n\t_deleteIfExpired(key, item) {\n\t\tif (typeof item.expiry === 'number' && item.expiry <= Date.now()) {\n\t\t\tif (typeof this.onEviction === 'function') {\n\t\t\t\tthis.onEviction(key, item.value);\n\t\t\t}\n\n\t\t\treturn this.delete(key);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t_getOrDeleteIfExpired(key, item) {\n\t\tconst deleted = this._deleteIfExpired(key, item);\n\t\tif (deleted === false) {\n\t\t\treturn item.value;\n\t\t}\n\t}\n\n\t_getItemValue(key, item) {\n\t\treturn item.expiry ? this._getOrDeleteIfExpired(key, item) : item.value;\n\t}\n\n\t_peek(key, cache) {\n\t\tconst item = cache.get(key);\n\n\t\treturn this._getItemValue(key, item);\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\t\t\tthis._emitEvictions(this.oldCache);\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\t_moveToRecent(key, item) {\n\t\tthis.oldCache.delete(key);\n\t\tthis._set(key, item);\n\t}\n\n\t* _entriesAscending() {\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield item;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (const item of this.cache) {\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\tconst item = this.cache.get(key);\n\n\t\t\treturn this._getItemValue(key, item);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst item = this.oldCache.get(key);\n\t\t\tif (this._deleteIfExpired(key, item) === false) {\n\t\t\t\tthis._moveToRecent(key, item);\n\t\t\t\treturn item.value;\n\t\t\t}\n\t\t}\n\t}\n\n\tset(key, value, {maxAge = this.maxAge} = {}) {\n\t\tconst expiry =\n\t\t\ttypeof maxAge === 'number' && maxAge !== Number.POSITIVE_INFINITY ?\n\t\t\t\tDate.now() + maxAge :\n\t\t\t\tundefined;\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, {\n\t\t\t\tvalue,\n\t\t\t\texpiry\n\t\t\t});\n\t\t} else {\n\t\t\tthis._set(key, {value, expiry});\n\t\t}\n\t}\n\n\thas(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn !this._deleteIfExpired(key, this.cache.get(key));\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn !this._deleteIfExpired(key, this.oldCache.get(key));\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this._peek(key, this.cache);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this._peek(key, this.oldCache);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\tresize(newSize) {\n\t\tif (!(newSize && newSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tconst items = [...this._entriesAscending()];\n\t\tconst removeCount = items.length - newSize;\n\t\tif (removeCount < 0) {\n\t\t\tthis.cache = new Map(items);\n\t\t\tthis.oldCache = new Map();\n\t\t\tthis._size = items.length;\n\t\t} else {\n\t\t\tif (removeCount > 0) {\n\t\t\t\tthis._emitEvictions(items.slice(0, removeCount));\n\t\t\t}\n\n\t\t\tthis.oldCache = new Map(items.slice(removeCount));\n\t\t\tthis.cache = new Map();\n\t\t\tthis._size = 0;\n\t\t}\n\n\t\tthis.maxSize = newSize;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield [key, value.value];\n\t\t\t}\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield [key, value.value];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t* entriesDescending() {\n\t\tlet items = [...this.cache];\n\t\tfor (let i = items.length - 1; i >= 0; --i) {\n\t\t\tconst item = items[i];\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield [key, value.value];\n\t\t\t}\n\t\t}\n\n\t\titems = [...this.oldCache];\n\t\tfor (let i = items.length - 1; i >= 0; --i) {\n\t\t\tconst item = items[i];\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield [key, value.value];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t* entriesAscending() {\n\t\tfor (const [key, value] of this._entriesAscending()) {\n\t\t\tyield [key, value.value];\n\t\t}\n\t}\n\n\tget size() {\n\t\tif (!this._size) {\n\t\t\treturn this.oldCache.size;\n\t\t}\n\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn Math.min(this._size + oldCacheSize, this.maxSize);\n\t}\n\n\tentries() {\n\t\treturn this.entriesAscending();\n\t}\n\n\tforEach(callbackFunction, thisArgument = this) {\n\t\tfor (const [key, value] of this.entriesAscending()) {\n\t\t\tcallbackFunction.call(thisArgument, value, key, this);\n\t\t}\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn JSON.stringify([...this.entriesAscending()]);\n\t}\n}\n", "\nimport map from 'it-map'\nimport errCode from 'err-code'\nimport { PinTypes } from './pin-types.js'\n\n/**\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Options} DatastoreOptions\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('multiformats/cid').CID} CID\n * @typedef {import('./pin-manager').Pins} Pins\n */\n\n/**\n * @param {Pins} pins\n * @param {Blockstore} store\n * @returns {Blockstore}\n */\nexport function createPinnedBlockstore (pins, store) {\n  return {\n    open () {\n      return store.open()\n    },\n\n    close () {\n      return store.close()\n    },\n\n    query (query, options) {\n      return store.query(query, options)\n    },\n\n    queryKeys (query, options) {\n      return store.queryKeys(query, options)\n    },\n\n    async get (cid, options) {\n      return store.get(cid, options)\n    },\n\n    async * getMany (cids, options) {\n      yield * store.getMany(cids, options)\n    },\n\n    async put (cid, buf, options) {\n      await store.put(cid, buf, options)\n    },\n\n    async * putMany (pairs, options) {\n      yield * store.putMany(pairs, options)\n    },\n\n    has (cid, options) {\n      return store.has(cid, options)\n    },\n\n    async delete (cid, options) {\n      await ensureNotPinned(cid, pins)\n\n      return store.delete(cid, options)\n    },\n\n    deleteMany (cids, options) {\n      return store.deleteMany(map(cids, async cid => {\n        await ensureNotPinned(cid, pins)\n\n        return cid\n      }), options)\n    },\n\n    batch () {\n      return store.batch()\n    }\n  }\n}\n\n/**\n * @param {CID} cid\n * @param {Pins} pins\n */\nasync function ensureNotPinned (cid, pins) {\n  const { pinned, reason } = await pins.isPinnedWithType(cid, PinTypes.all)\n\n  if (pinned) {\n    throw errCode(new Error(`pinned: ${reason}`), 'ERR_BLOCK_PINNED')\n  }\n}\n", null, "export class TimeoutError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = 'TimeoutError';\n\t}\n}\n\n/**\nAn error to be thrown when the request is aborted by AbortController.\nDOMException is thrown instead of this Error when DOMException is available.\n*/\nexport class AbortError extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\t\tthis.name = 'AbortError';\n\t\tthis.message = message;\n\t}\n}\n\n/**\nTODO: Remove AbortError and just throw DOMException when targeting Node 18.\n*/\nconst getDOMException = errorMessage => globalThis.DOMException === undefined\n\t? new AbortError(errorMessage)\n\t: new DOMException(errorMessage);\n\n/**\nTODO: Remove below function and just 'reject(signal.reason)' when targeting Node 18.\n*/\nconst getAbortedReason = signal => {\n\tconst reason = signal.reason === undefined\n\t\t? getDOMException('This operation was aborted.')\n\t\t: signal.reason;\n\n\treturn reason instanceof Error ? reason : getDOMException(reason);\n};\n\nexport default function pTimeout(promise, options) {\n\tconst {\n\t\tmilliseconds,\n\t\tfallback,\n\t\tmessage,\n\t\tcustomTimers = {setTimeout, clearTimeout},\n\t} = options;\n\n\tlet timer;\n\n\tconst cancelablePromise = new Promise((resolve, reject) => {\n\t\tif (typeof milliseconds !== 'number' || Math.sign(milliseconds) !== 1) {\n\t\t\tthrow new TypeError(`Expected \\`milliseconds\\` to be a positive number, got \\`${milliseconds}\\``);\n\t\t}\n\n\t\tif (milliseconds === Number.POSITIVE_INFINITY) {\n\t\t\tresolve(promise);\n\t\t\treturn;\n\t\t}\n\n\t\tif (options.signal) {\n\t\t\tconst {signal} = options;\n\t\t\tif (signal.aborted) {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t}\n\n\t\t\tsignal.addEventListener('abort', () => {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t});\n\t\t}\n\n\t\ttimer = customTimers.setTimeout.call(undefined, () => {\n\t\t\tif (fallback) {\n\t\t\t\ttry {\n\t\t\t\t\tresolve(fallback());\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst errorMessage = typeof message === 'string' ? message : `Promise timed out after ${milliseconds} milliseconds`;\n\t\t\tconst timeoutError = message instanceof Error ? message : new TimeoutError(errorMessage);\n\n\t\t\tif (typeof promise.cancel === 'function') {\n\t\t\t\tpromise.cancel();\n\t\t\t}\n\n\t\t\treject(timeoutError);\n\t\t}, milliseconds);\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tresolve(await promise);\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t} finally {\n\t\t\t\tcustomTimers.clearTimeout.call(undefined, timer);\n\t\t\t}\n\t\t})();\n\t});\n\n\tcancelablePromise.clear = () => {\n\t\tcustomTimers.clearTimeout.call(undefined, timer);\n\t\ttimer = undefined;\n\t};\n\n\treturn cancelablePromise;\n}\n", null, "export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n", null, null, "\nimport { CID } from 'multiformats/cid'\nimport debug from 'debug'\nimport { notFoundError } from 'datastore-core/errors'\nimport parallelBatch from 'it-parallel-batch'\nimport { pipe } from 'it-pipe'\nimport merge from 'it-merge'\nimport map from 'it-map'\nimport filter from 'it-filter'\nimport { Key } from 'interface-datastore/key'\nimport { base32 } from 'multiformats/bases/base32'\nimport { walkDag } from './utils/walk-dag.js'\n\nconst log = debug('ipfs:repo:gc')\nconst ERR_NOT_FOUND = notFoundError().code\n\n// Limit on the number of parallel block remove operations\nconst BLOCK_RM_CONCURRENCY = 256\n\nconst MFS_ROOT_KEY = new Key('/local/filesroot')\n\n/**\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('./types').loadCodec} loadCodec\n * @typedef {import('./types').GCErrorResult} GCErrorResult\n * @typedef {import('./types').GCSuccessResult} GCSuccessResult\n */\n\n/**\n * Perform mark and sweep garbage collection\n *\n * @param {object} config\n * @param {import('./types').GCLock} config.gcLock\n * @param {import('./types').Pins} config.pins\n * @param {Blockstore} config.blockstore\n * @param {import('interface-datastore').Datastore} config.root\n * @param {loadCodec} config.loadCodec\n */\nexport function gc ({ gcLock, pins, blockstore, root, loadCodec }) {\n  /**\n   * @returns {AsyncGenerator<GCErrorResult | GCSuccessResult, void, unknown>}\n   */\n  async function * gc () {\n    const start = Date.now()\n    log('Creating set of marked blocks')\n\n    const release = await gcLock.writeLock()\n\n    try {\n      // Mark all blocks that are being used\n      const markedSet = await createMarkedSet({ pins, blockstore, root, loadCodec })\n      // Get all blocks keys from the blockstore\n      const blockKeys = blockstore.queryKeys({})\n\n      // Delete blocks that are not being used\n      // @ts-ignore ts cannot tell that we filter out null results\n      yield * deleteUnmarkedBlocks({ blockstore }, markedSet, blockKeys)\n\n      log(`Complete (${Date.now() - start}ms)`)\n    } finally {\n      release()\n    }\n  }\n\n  return gc\n}\n\n/**\n * Get Set of CIDs of blocks to keep\n *\n * @param {object} config\n * @param {import('./pin-manager').Pins} config.pins\n * @param {import('interface-blockstore').Blockstore} config.blockstore\n * @param {import('interface-datastore').Datastore} config.root\n * @param {loadCodec} config.loadCodec\n */\nasync function createMarkedSet ({ pins, blockstore, loadCodec, root }) {\n  const mfsSource = (async function * () {\n    let mh\n    try {\n      mh = await root.get(MFS_ROOT_KEY)\n    } catch (/** @type {any} */ err) {\n      if (err.code === ERR_NOT_FOUND) {\n        log('No blocks in MFS')\n        return\n      }\n\n      throw err\n    }\n\n    const rootCid = CID.decode(mh)\n    yield rootCid\n    yield * walkDag(rootCid, blockstore, loadCodec)\n  })()\n\n  const pinsSource = merge(\n    map(pins.recursiveKeys(), ({ cid }) => cid),\n    pins.indirectKeys(),\n    map(pins.directKeys(), ({ cid }) => cid),\n    mfsSource\n  )\n\n  const output = new Set()\n\n  for await (const cid of merge(pinsSource, mfsSource)) {\n    output.add(base32.encode(cid.multihash.bytes))\n  }\n\n  return output\n}\n\n/**\n * Delete all blocks that are not marked as in use\n *\n * @param {object} arg\n * @param {Blockstore} arg.blockstore\n * @param {Set<string>} markedSet\n * @param {AsyncIterable<CID>} blockKeys\n */\nasync function * deleteUnmarkedBlocks ({ blockstore }, markedSet, blockKeys) {\n  // Iterate through all blocks and find those that are not in the marked set\n  // blockKeys yields { key: Key() }\n  let blocksCount = 0\n  let removedBlocksCount = 0\n\n  /**\n   * @param {CID} cid\n   */\n  const removeBlock = async (cid) => {\n    return async function remove () {\n      blocksCount++\n\n      try {\n        const b32 = base32.encode(cid.multihash.bytes)\n\n        if (markedSet.has(b32)) {\n          return null\n        }\n\n        try {\n          await blockstore.delete(cid)\n          removedBlocksCount++\n        } catch (/** @type {any} */ err) {\n          return {\n            err: new Error(`Could not delete block with CID ${cid}: ${err.message}`)\n          }\n        }\n\n        return { cid }\n      } catch (/** @type {any} */ err) {\n        const msg = `Could delete block with CID ${cid}`\n        log(msg, err)\n        return { err: new Error(msg + `: ${err.message}`) }\n      }\n    }\n  }\n\n  yield * pipe(\n    parallelBatch(map(blockKeys, removeBlock), BLOCK_RM_CONCURRENCY),\n    // filter nulls (blocks that were retained)\n    source => filter(source, Boolean)\n  )\n\n  log(`Marked set has ${markedSet.size} unique blocks. Blockstore has ${blocksCount} blocks. ` +\n  `Deleted ${removedBlocksCount} blocks.`)\n}\n", null, null, null, "import { Key } from 'interface-datastore'\nimport { BaseDatastore, Errors } from 'datastore-core'\nimport filter from 'it-filter'\nimport map from 'it-map'\nimport take from 'it-take'\nimport sort from 'it-sort'\nimport { Level } from 'level'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Options} QueryOptions\n * @typedef {import('abstract-level').AbstractLevel<any, string, Uint8Array>} LevelDb\n */\n\n/**\n * A datastore backed by leveldb\n */\nexport class LevelDatastore extends BaseDatastore {\n  /**\n   * @param {string | LevelDb} path\n   * @param {import('level').DatabaseOptions<string, Uint8Array> & import('level').OpenOptions} [opts]\n   */\n  constructor (path, opts = {}) {\n    super()\n\n    /** @type {LevelDb} */\n    this.db = typeof path === 'string'\n      ? new Level(path, {\n        ...opts,\n        keyEncoding: 'utf8',\n        valueEncoding: 'view'\n      })\n      : path\n\n    /** @type {import('level').OpenOptions} */\n    this.opts = {\n      createIfMissing: true,\n      compression: false, // same default as go\n      ...opts\n    }\n  }\n\n  async open () {\n    try {\n      await this.db.open(this.opts)\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbOpenFailedError(err)\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} value\n   */\n  async put (key, value) {\n    try {\n      await this.db.put(key.toString(), value)\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbWriteFailedError(err)\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {Promise<Uint8Array>}\n   */\n  async get (key) {\n    let data\n    try {\n      data = await this.db.get(key.toString())\n    } catch (/** @type {any} */ err) {\n      if (err.notFound) throw Errors.notFoundError(err)\n      throw Errors.dbWriteFailedError(err)\n    }\n    return data\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {Promise<boolean>}\n   */\n  async has (key) {\n    try {\n      await this.db.get(key.toString())\n    } catch (/** @type {any} */ err) {\n      if (err.notFound) return false\n      throw err\n    }\n    return true\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {Promise<void>}\n   */\n  async delete (key) {\n    try {\n      await this.db.del(key.toString())\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbDeleteFailedError(err)\n    }\n  }\n\n  close () {\n    return this.db && this.db.close()\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    /** @type {Array<{ type: 'put', key: string, value: Uint8Array; } | { type: 'del', key: string }>} */\n    const ops = []\n    return {\n      put: (key, value) => {\n        ops.push({\n          type: 'put',\n          key: key.toString(),\n          value: value\n        })\n      },\n      delete: (key) => {\n        ops.push({\n          type: 'del',\n          key: key.toString()\n        })\n      },\n      commit: () => {\n        return this.db.batch(ops)\n      }\n    }\n  }\n\n  /**\n   * @param {Query} q\n   */\n  query (q) {\n    let it = this._query({\n      values: true,\n      prefix: q.prefix\n    })\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sort(it, f), it)\n    }\n\n    const { offset, limit } = q\n    if (offset) {\n      let i = 0\n      it = filter(it, () => i++ >= offset)\n    }\n\n    if (limit) {\n      it = take(it, limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {KeyQuery} q\n   */\n  queryKeys (q) {\n    let it = map(this._query({\n      values: false,\n      prefix: q.prefix\n    }), ({ key }) => key)\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sort(it, f), it)\n    }\n\n    const { offset, limit } = q\n    if (offset) {\n      let i = 0\n      it = filter(it, () => i++ >= offset)\n    }\n\n    if (limit) {\n      it = take(it, limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {object} opts\n   * @param {boolean} opts.values\n   * @param {string} [opts.prefix]\n   * @returns {AsyncIterable<Pair>}\n   */\n  _query (opts) {\n    /** @type {import('level').IteratorOptions<string, Uint8Array>} */\n    const iteratorOpts = {\n      keys: true,\n      keyEncoding: 'buffer',\n      values: opts.values\n    }\n\n    // Let the db do the prefix matching\n    if (opts.prefix != null) {\n      const prefix = opts.prefix.toString()\n      // Match keys greater than or equal to `prefix` and\n      iteratorOpts.gte = prefix\n      // less than `prefix` + \\xFF (hex escape sequence)\n      iteratorOpts.lt = prefix + '\\xFF'\n    }\n\n    const iterator = this.db.iterator(iteratorOpts)\n\n    if (iterator[Symbol.asyncIterator]) {\n      return levelIteratorToIterator(iterator)\n    }\n\n    // @ts-expect-error support older level\n    if (iterator.next != null && iterator.end != null) {\n      // @ts-expect-error support older level\n      return oldLevelIteratorToIterator(iterator)\n    }\n\n    throw new Error('Level returned incompatible iterator')\n  }\n}\n\n/**\n * @param {import('level').Iterator<LevelDb, string, Uint8Array>} li - Level iterator\n * @returns {AsyncIterable<Pair>}\n */\nasync function * levelIteratorToIterator (li) {\n  for await (const [key, value] of li) {\n    yield { key: new Key(key, false), value }\n  }\n\n  await li.close()\n}\n\n/**\n * @typedef {object} LevelIterator\n * @property {(cb: (err: Error, key: string | Uint8Array | null, value: any)=> void)=>void} next\n * @property {(cb: (err: Error) => void) => void } end\n */\n\n/**\n * @param {LevelIterator} li - Level iterator\n * @returns {AsyncIterable<Pair>}\n */\nfunction oldLevelIteratorToIterator (li) {\n  return {\n    [Symbol.asyncIterator] () {\n      return {\n        next: () => new Promise((resolve, reject) => {\n          li.next((err, key, value) => {\n            if (err) return reject(err)\n            if (key == null) {\n              return li.end(err => {\n                if (err) return reject(err)\n                resolve({ done: true, value: undefined })\n              })\n            }\n            resolve({ done: false, value: { key: new Key(key, false), value } })\n          })\n        }),\n        return: () => new Promise((resolve, reject) => {\n          li.end(err => {\n            if (err) return reject(err)\n            resolve({ done: true, value: undefined })\n          })\n        })\n      }\n    }\n  }\n}\n", null, null, "import * as Errors from './errors.js'\nimport * as shard from './shard.js'\n\nexport { BaseDatastore } from './base.js'\nexport { MemoryDatastore } from './memory.js'\nexport { KeyTransformDatastore } from './keytransform.js'\nexport { ShardingDatastore } from './sharding.js'\nexport { MountDatastore } from './mount.js'\nexport { TieredDatastore } from './tiered.js'\nexport { NamespaceDatastore } from './namespace.js'\n\nexport { Errors }\nexport { shard }\n\n/**\n * @typedef {import(\"./types\").Shard } Shard\n * @typedef {import(\"./types\").KeyTransform } KeyTransform\n */\n", "import { Key } from 'interface-datastore/key'\n// @ts-expect-error readme is unused\n// eslint-disable-next-line no-unused-vars\nimport readme from './shard-readme.js'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('./types').Shard} Shard\n */\n\nexport const PREFIX = '/repo/flatfs/shard/'\nexport const SHARDING_FN = 'SHARDING'\nexport const README_FN = '_README'\n\n/**\n * @implements {Shard}\n */\nexport class ShardBase {\n  /**\n   * @param {any} param\n   */\n  constructor (param) {\n    this.param = param\n    this.name = 'base'\n    this._padding = ''\n  }\n\n  /**\n   * @param {string} s\n   */\n  fun (s) {\n    return 'implement me'\n  }\n\n  toString () {\n    return `${PREFIX}v1/${this.name}/${this.param}`\n  }\n}\n/**\n * @implements {Shard}\n */\nexport class Prefix extends ShardBase {\n  /**\n   * @param {number} prefixLen\n   */\n  constructor (prefixLen) {\n    super(prefixLen)\n    this._padding = ''.padStart(prefixLen, '_')\n    this.name = 'prefix'\n  }\n\n  /**\n   * @param {string} noslash\n   */\n  fun (noslash) {\n    return (noslash + this._padding).slice(0, this.param)\n  }\n}\n\nexport class Suffix extends ShardBase {\n  /**\n   * @param {number} suffixLen\n   */\n  constructor (suffixLen) {\n    super(suffixLen)\n    this._padding = ''.padStart(suffixLen, '_')\n    this.name = 'suffix'\n  }\n\n  /**\n   * @param {string} noslash\n   */\n  fun (noslash) {\n    const s = this._padding + noslash\n    return s.slice(s.length - this.param)\n  }\n}\n\nexport class NextToLast extends ShardBase {\n  /**\n   * @param {number} suffixLen\n   */\n  constructor (suffixLen) {\n    super(suffixLen)\n    this._padding = ''.padStart(suffixLen + 1, '_')\n    this.name = 'next-to-last'\n  }\n\n  /**\n   * @param {string} noslash\n   */\n  fun (noslash) {\n    const s = this._padding + noslash\n    const offset = s.length - this.param - 1\n    return s.slice(offset, offset + this.param)\n  }\n}\n\n/**\n * Convert a given string to the matching sharding function.\n *\n * @param {string} str\n * @returns {Shard}\n */\nexport function parseShardFun (str) {\n  str = str.trim()\n\n  if (str.length === 0) {\n    throw new Error('empty shard string')\n  }\n\n  if (!str.startsWith(PREFIX)) {\n    throw new Error(`invalid or no path prefix: ${str}`)\n  }\n\n  const parts = str.slice(PREFIX.length).split('/')\n  const version = parts[0]\n\n  if (version !== 'v1') {\n    throw new Error(`expect 'v1' version, got '${version}'`)\n  }\n\n  const name = parts[1]\n\n  if (!parts[2]) {\n    throw new Error('missing param')\n  }\n\n  const param = parseInt(parts[2], 10)\n\n  switch (name) {\n    case 'prefix':\n      return new Prefix(param)\n    case 'suffix':\n      return new Suffix(param)\n    case 'next-to-last':\n      return new NextToLast(param)\n    default:\n      throw new Error(`unkown sharding function: ${name}`)\n  }\n}\n\n/**\n * @param {string | Uint8Array} path\n * @param {Datastore} store\n */\nexport const readShardFun = async (path, store) => {\n  const key = new Key(path).child(new Key(SHARDING_FN))\n  // @ts-ignore\n  const get = typeof store.getRaw === 'function' ? store.getRaw.bind(store) : store.get.bind(store)\n  const res = await get(key)\n  return parseShardFun(new TextDecoder().decode(res || '').trim())\n}\n\nexport { default as readme } from './shard-readme.js'\n", null, "export default `This is a repository of IPLD objects. Each IPLD object is in a single file,\nnamed <base32 encoding of cid>.data. Where <base32 encoding of cid> is the\n\"base32\" encoding of the CID (as specified in\nhttps://github.com/multiformats/multibase) without the 'B' prefix.\nAll the object files are placed in a tree of directories, based on a\nfunction of the CID. This is a form of sharding similar to\nthe objects directory in git repositories. Previously, we used\nprefixes, we now use the next-to-last two charters.\n    func NextToLast(base32cid string) {\n      nextToLastLen := 2\n      offset := len(base32cid) - nextToLastLen - 1\n      return str[offset : offset+nextToLastLen]\n    }\nFor example, an object with a base58 CIDv1 of\n    zb2rhYSxw4ZjuzgCnWSt19Q94ERaeFhu9uSqRgjSdx9bsgM6f\nhas a base32 CIDv1 of\n    BAFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA\nand will be placed at\n    SC/AFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA.data\nwith 'SC' being the last-to-next two characters and the 'B' at the\nbeginning of the CIDv1 string is the multibase prefix that is not\nstored in the filename.\n`\n", "import { sortAll } from './utils.js'\nimport drain from 'it-drain'\nimport filter from 'it-filter'\nimport take from 'it-take'\n\n/**\n * @typedef {import('interface-store').Options} Options\n * @typedef {import('interface-datastore').Key} Key\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Batch} Batch\n */\n\n/**\n * @template O\n * @typedef {import('interface-store').AwaitIterable<O>} AwaitIterable\n */\n\n/**\n * @implements {Datastore}\n */\nexport class BaseDatastore {\n  /**\n   * @returns {Promise<void>}\n   */\n  open () {\n    return Promise.reject(new Error('.open is not implemented'))\n  }\n\n  /**\n   * @returns {Promise<void>}\n   */\n  close () {\n    return Promise.reject(new Error('.close is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} val\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  put (key, val, options) {\n    return Promise.reject(new Error('.put is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   * @returns {Promise<Uint8Array>}\n   */\n  get (key, options) {\n    return Promise.reject(new Error('.get is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   * @returns {Promise<boolean>}\n   */\n  has (key, options) {\n    return Promise.reject(new Error('.has is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  delete (key, options) {\n    return Promise.reject(new Error('.delete is not implemented'))\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    for await (const { key, value } of source) {\n      await this.put(key, value, options)\n      yield { key, value }\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Uint8Array>}\n   */\n  async * getMany (source, options = {}) {\n    for await (const key of source) {\n      yield this.get(key, options)\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  async * deleteMany (source, options = {}) {\n    for await (const key of source) {\n      await this.delete(key, options)\n      yield key\n    }\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    /** @type {Pair[]} */\n    let puts = []\n    /** @type {Key[]} */\n    let dels = []\n\n    return {\n      put (key, value) {\n        puts.push({ key, value })\n      },\n\n      delete (key) {\n        dels.push(key)\n      },\n      commit: async (options) => {\n        await drain(this.putMany(puts, options))\n        puts = []\n        await drain(this.deleteMany(dels, options))\n        dels = []\n      }\n    }\n  }\n\n  /**\n   * Extending classes should override `query` or implement this method\n   *\n   * @param {Query} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _all (q, options) {\n    throw new Error('._all is not implemented')\n  }\n\n  /**\n   * Extending classes should override `queryKeys` or implement this method\n   *\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _allKeys (q, options) {\n    throw new Error('._allKeys is not implemented')\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    let it = this._all(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (e) =>\n        e.key.toString().startsWith(/** @type {string} */ (q.prefix))\n      )\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    let it = this._allKeys(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (key) =>\n        key.toString().startsWith(/** @type {string} */ (q.prefix))\n      )\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n}\n", "\nimport all from 'it-all'\n\n/**\n * Collect all values from the iterable and sort them using\n * the passed sorter function\n *\n * @template T\n * @param {AsyncIterable<T> | Iterable<T>} iterable\n * @param {(a: T, b: T) => -1 | 0 | 1} sorter\n * @returns {AsyncIterable<T>}\n */\nexport const sortAll = (iterable, sorter) => {\n  return (async function * () {\n    const values = await all(iterable)\n    yield * values.sort(sorter)\n  })()\n}\n\n/**\n * @param {string} s\n * @param {string} r\n */\nexport const replaceStartWith = (s, r) => {\n  const matcher = new RegExp('^' + r)\n  return s.replace(matcher, '')\n}\n", "import { BaseDatastore } from './base.js'\nimport { Key } from 'interface-datastore/key'\nimport * as Errors from './errors.js'\n\n/**\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-store').Options} Options\n */\n\n/**\n * @class MemoryDatastore\n * @implements {Datastore}\n */\nexport class MemoryDatastore extends BaseDatastore {\n  constructor () {\n    super()\n\n    /** @type {Record<string, Uint8Array>} */\n    this.data = {}\n  }\n\n  open () {\n    return Promise.resolve()\n  }\n\n  close () {\n    return Promise.resolve()\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} val\n   */\n  async put (key, val) { // eslint-disable-line require-await\n    this.data[key.toString()] = val\n  }\n\n  /**\n   * @param {Key} key\n   */\n  async get (key) {\n    const exists = await this.has(key)\n    if (!exists) throw Errors.notFoundError()\n    return this.data[key.toString()]\n  }\n\n  /**\n   * @param {Key} key\n   */\n  async has (key) { // eslint-disable-line require-await\n    return this.data[key.toString()] !== undefined\n  }\n\n  /**\n   * @param {Key} key\n   */\n  async delete (key) { // eslint-disable-line require-await\n    delete this.data[key.toString()]\n  }\n\n  async * _all () {\n    yield * Object.entries(this.data)\n      .map(([key, value]) => ({ key: new Key(key), value }))\n  }\n\n  async * _allKeys () {\n    yield * Object.entries(this.data)\n      .map(([key]) => new Key(key))\n  }\n}\n", "import { BaseDatastore } from './base.js'\nimport map from 'it-map'\nimport { pipe } from 'it-pipe'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Options} Options\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Key} Key\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('./types').KeyTransform} KeyTransform\n */\n\n/**\n * @template TEntry\n * @typedef {import('interface-store').AwaitIterable<TEntry>} AwaitIterable\n */\n\n/**\n * A datastore shim, that wraps around a given datastore, changing\n * the way keys look to the user, for example namespacing\n * keys, reversing them, etc.\n *\n * @implements {Datastore}\n */\nexport class KeyTransformDatastore extends BaseDatastore {\n  /**\n   * @param {Datastore} child\n   * @param {KeyTransform} transform\n   */\n  constructor (child, transform) {\n    super()\n\n    this.child = child\n    this.transform = transform\n  }\n\n  open () {\n    return this.child.open()\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} val\n   * @param {Options} [options]\n   */\n  put (key, val, options) {\n    return this.child.put(this.transform.convert(key), val, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  get (key, options) {\n    return this.child.get(this.transform.convert(key), options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  has (key, options) {\n    return this.child.has(this.transform.convert(key), options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  delete (key, options) {\n    return this.child.delete(this.transform.convert(key), options)\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    const transform = this.transform\n    const child = this.child\n\n    yield * pipe(\n      source,\n      async function * (source) {\n        yield * map(source, ({ key, value }) => ({\n          key: transform.convert(key),\n          value\n        }))\n      },\n      async function * (source) {\n        yield * child.putMany(source, options)\n      },\n      async function * (source) {\n        yield * map(source, ({ key, value }) => ({\n          key: transform.invert(key),\n          value\n        }))\n      }\n    )\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Uint8Array>}\n   */\n  async * getMany (source, options = {}) {\n    const transform = this.transform\n    const child = this.child\n\n    yield * pipe(\n      source,\n      async function * (source) {\n        yield * map(source, key => transform.convert(key))\n      },\n      async function * (source) {\n        yield * child.getMany(source, options)\n      }\n    )\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  async * deleteMany (source, options = {}) {\n    const transform = this.transform\n    const child = this.child\n\n    yield * pipe(\n      source,\n      async function * (source) {\n        yield * map(source, key => transform.convert(key))\n      },\n      async function * (source) {\n        yield * child.deleteMany(source, options)\n      },\n      async function * (source) {\n        yield * map(source, key => transform.invert(key))\n      }\n    )\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    const b = this.child.batch()\n    return {\n      put: (key, value) => {\n        b.put(this.transform.convert(key), value)\n      },\n      delete: (key) => {\n        b.delete(this.transform.convert(key))\n      },\n      commit: (options) => {\n        return b.commit(options)\n      }\n    }\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    /** @type {Query} */\n    const query = {\n      ...q\n    }\n\n    query.filters = (query.filters || []).map(filter => {\n      return ({ key, value }) => filter({ key: this.transform.convert(key), value })\n    })\n\n    const { prefix } = q\n    if (prefix != null && prefix !== '/') {\n      delete query.prefix\n      query.filters.push(({ key }) => {\n        return this.transform.invert(key).toString().startsWith(prefix)\n      })\n    }\n\n    if (query.orders) {\n      query.orders = query.orders.map(order => {\n        return (a, b) => order(\n          { key: this.transform.invert(a.key), value: a.value },\n          { key: this.transform.invert(b.key), value: b.value }\n        )\n      })\n    }\n\n    return map(this.child.query(query, options), ({ key, value }) => {\n      return {\n        key: this.transform.invert(key),\n        value\n      }\n    })\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    const query = {\n      ...q\n    }\n\n    query.filters = (query.filters || []).map(filter => {\n      return (key) => filter(this.transform.convert(key))\n    })\n\n    const { prefix } = q\n    if (prefix != null && prefix !== '/') {\n      delete query.prefix\n      query.filters.push((key) => {\n        return this.transform.invert(key).toString().startsWith(prefix)\n      })\n    }\n\n    if (query.orders) {\n      query.orders = query.orders.map(order => {\n        return (a, b) => order(\n          this.transform.invert(a),\n          this.transform.invert(b)\n        )\n      })\n    }\n\n    return map(this.child.queryKeys(query, options), key => {\n      return this.transform.invert(key)\n    })\n  }\n\n  close () {\n    return this.child.close()\n  }\n}\n", "import { Key } from 'interface-datastore'\nimport {\n  readShardFun,\n  SHARDING_FN,\n  README_FN,\n  readme\n} from './shard.js'\nimport { BaseDatastore } from './base.js'\nimport { KeyTransformDatastore } from './keytransform.js'\nimport * as Errors from './errors.js'\n\nconst shardKey = new Key(SHARDING_FN)\nconst shardReadmeKey = new Key(README_FN)\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Options} Options\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').QueryFilter} QueryFilter\n * @typedef {import('interface-datastore').QueryOrder} QueryOrder\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').KeyQueryFilter} KeyQueryFilter\n * @typedef {import('interface-datastore').KeyQueryOrder} KeyQueryOrder\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('./types').Shard} Shard\n *\n */\n/**\n * @template TValue\n * @typedef {import('interface-store').Await<TValue> } Await\n */\n\n/**\n * @template TEntry\n * @typedef {import('interface-store').AwaitIterable<TEntry>} AwaitIterable\n */\n\n/**\n * Backend independent abstraction of go-ds-flatfs.\n *\n * Wraps another datastore such that all values are stored\n * sharded according to the given sharding function.\n */\nexport class ShardingDatastore extends BaseDatastore {\n  /**\n   * @param {Datastore} store\n   * @param {Shard} shard\n   */\n  constructor (store, shard) {\n    super()\n\n    this.child = new KeyTransformDatastore(store, {\n      convert: this._convertKey.bind(this),\n      invert: this._invertKey.bind(this)\n    })\n    this.shard = shard\n  }\n\n  async open () {\n    await this.child.open()\n\n    this.shard = await ShardingDatastore.create(this.child, this.shard)\n  }\n\n  /**\n   * @param {Key} key\n   */\n  _convertKey (key) {\n    const s = key.toString()\n    if (s === shardKey.toString() || s === shardReadmeKey.toString()) {\n      return key\n    }\n\n    const parent = new Key(this.shard.fun(s))\n    return parent.child(key)\n  }\n\n  /**\n   * @param {Key} key\n   */\n  _invertKey (key) {\n    const s = key.toString()\n    if (s === shardKey.toString() || s === shardReadmeKey.toString()) {\n      return key\n    }\n    return Key.withNamespaces(key.list().slice(1))\n  }\n\n  /**\n   * @deprecated\n   * @param {Datastore} store\n   * @param {Shard} shard\n   */\n  static async createOrOpen (store, shard) {\n    try {\n      await ShardingDatastore.create(store, shard)\n    } catch (/** @type {any} */ err) {\n      if (err && err.message !== 'datastore exists') throw err\n    }\n    return ShardingDatastore.open(store)\n  }\n\n  /**\n   * @deprecated\n   * @param {Datastore} store\n   */\n  static async open (store) {\n    const shard = await readShardFun('/', store)\n    return new ShardingDatastore(store, shard)\n  }\n\n  /**\n   * @param {Datastore} store\n   * @param {Shard} shard\n   */\n  static async create (store, shard) {\n    const hasShard = await store.has(shardKey)\n    if (!hasShard && !shard) {\n      throw Errors.dbOpenFailedError(Error('Shard is required when datastore doesn\\'t have a shard key already.'))\n    }\n    if (!hasShard) {\n      // @ts-ignore i have no idea what putRaw is or saw any implementation\n      const put = typeof store.putRaw === 'function' ? store.putRaw.bind(store) : store.put.bind(store)\n      await Promise.all([\n        put(shardKey, new TextEncoder().encode(shard.toString() + '\\n')),\n        put(shardReadmeKey, new TextEncoder().encode(readme))\n      ])\n\n      return shard\n    }\n\n    // test shards\n    const diskShard = await readShardFun('/', store)\n    const a = (diskShard || '').toString()\n    const b = shard.toString()\n    if (a !== b) {\n      throw new Error(`specified fun ${b} does not match repo shard fun ${a}`)\n    }\n    return diskShard\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} val\n   * @param {Options} [options]\n   */\n  put (key, val, options) {\n    return this.child.put(key, val, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  get (key, options) {\n    return this.child.get(key, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  has (key, options) {\n    return this.child.has(key, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  delete (key, options) {\n    return this.child.delete(key, options)\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    yield * this.child.putMany(source, options)\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Uint8Array>}\n   */\n  async * getMany (source, options = {}) {\n    yield * this.child.getMany(source, options)\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  async * deleteMany (source, options = {}) {\n    yield * this.child.deleteMany(source, options)\n  }\n\n  batch () {\n    return this.child.batch()\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    /** @type {Query} */\n    const tq = {\n      ...q,\n      filters: [\n        /** @type {QueryFilter} */\n        ({ key }) => key.toString() !== shardKey.toString(),\n        /** @type {QueryFilter} */\n        ({ key }) => key.toString() !== shardReadmeKey.toString()\n      ].concat(q.filters || [])\n    }\n\n    return this.child.query(tq, options)\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    /** @type {KeyQuery} */\n    const tq = {\n      ...q,\n      filters: [\n        /** @type {KeyQueryFilter} */\n        key => key.toString() !== shardKey.toString(),\n        /** @type {KeyQueryFilter} */\n        key => key.toString() !== shardReadmeKey.toString()\n      ].concat(q.filters || [])\n    }\n\n    return this.child.queryKeys(tq, options)\n  }\n\n  close () {\n    return this.child.close()\n  }\n}\n", null, "import filter from 'it-filter'\nimport take from 'it-take'\nimport merge from 'it-merge'\nimport { BaseDatastore } from './base.js'\nimport * as Errors from './errors.js'\nimport {\n  sortAll\n} from './utils.js'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Key} Key\n * @typedef {import('interface-datastore').Options} Options\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('./types').KeyTransform} KeyTransform\n */\n\n/**\n * A datastore that can combine multiple stores inside various\n * key prefixes\n *\n * @implements {Datastore}\n */\nexport class MountDatastore extends BaseDatastore {\n  /**\n   * @param {Array<{prefix: Key, datastore: Datastore}>} mounts\n   */\n  constructor (mounts) {\n    super()\n\n    this.mounts = mounts.slice()\n  }\n\n  async open () {\n    await Promise.all(this.mounts.map((m) => m.datastore.open()))\n  }\n\n  /**\n   * Lookup the matching datastore for the given key\n   *\n   * @private\n   * @param {Key} key\n   * @returns {{datastore: Datastore, mountpoint: Key} | undefined}\n   */\n  _lookup (key) {\n    for (const mount of this.mounts) {\n      if (mount.prefix.toString() === key.toString() || mount.prefix.isAncestorOf(key)) {\n        return {\n          datastore: mount.datastore,\n          mountpoint: mount.prefix\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} value\n   * @param {Options} [options]\n   */\n  put (key, value, options) {\n    const match = this._lookup(key)\n    if (match == null) {\n      throw Errors.dbWriteFailedError(new Error('No datastore mounted for this key'))\n    }\n\n    return match.datastore.put(key, value, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  get (key, options) {\n    const match = this._lookup(key)\n    if (match == null) {\n      throw Errors.notFoundError(new Error('No datastore mounted for this key'))\n    }\n    return match.datastore.get(key, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  has (key, options) {\n    const match = this._lookup(key)\n    if (match == null) {\n      return Promise.resolve(false)\n    }\n    return match.datastore.has(key, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  delete (key, options) {\n    const match = this._lookup(key)\n    if (match == null) {\n      throw Errors.dbDeleteFailedError(new Error('No datastore mounted for this key'))\n    }\n\n    return match.datastore.delete(key, options)\n  }\n\n  async close () {\n    await Promise.all(this.mounts.map((m) => {\n      return m.datastore.close()\n    }))\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    /** @type {Record<string, Batch>} */\n    const batchMounts = {}\n    /**\n     * @param {Key} key\n     */\n    const lookup = (key) => {\n      const match = this._lookup(key)\n      if (match == null) {\n        throw new Error('No datastore mounted for this key')\n      }\n\n      const m = match.mountpoint.toString()\n      if (batchMounts[m] == null) {\n        batchMounts[m] = match.datastore.batch()\n      }\n\n      return {\n        batch: batchMounts[m]\n      }\n    }\n\n    return {\n      put: (key, value) => {\n        const match = lookup(key)\n        match.batch.put(key, value)\n      },\n      delete: (key) => {\n        const match = lookup(key)\n        match.batch.delete(key)\n      },\n      commit: async (options) => {\n        await Promise.all(Object.keys(batchMounts).map(p => batchMounts[p].commit(options)))\n      }\n    }\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    const qs = this.mounts.map(m => {\n      return m.datastore.query({\n        prefix: q.prefix,\n        filters: q.filters\n      }, options)\n    })\n\n    let it = merge(...qs)\n    if (q.filters) q.filters.forEach(f => { it = filter(it, f) })\n    if (q.orders) q.orders.forEach(o => { it = sortAll(it, o) })\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n    if (q.limit != null) it = take(it, q.limit)\n\n    return it\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    const qs = this.mounts.map(m => {\n      return m.datastore.queryKeys({\n        prefix: q.prefix,\n        filters: q.filters\n      }, options)\n    })\n\n    let it = merge(...qs)\n    if (q.filters) q.filters.forEach(f => { it = filter(it, f) })\n    if (q.orders) q.orders.forEach(o => { it = sortAll(it, o) })\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n    if (q.limit != null) it = take(it, q.limit)\n\n    return it\n  }\n}\n", "import { BaseDatastore } from './base.js'\nimport * as Errors from './errors.js'\nimport { logger } from '@libp2p/logger'\nimport { pushable } from 'it-pushable'\nimport drain from 'it-drain'\n\nconst log = logger('datastore:core:tiered')\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Options} Options\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Key} Key\n * @typedef {import('interface-datastore').Pair} Pair\n */\n\n/**\n * @template TEntry\n * @typedef {import('interface-store').AwaitIterable<TEntry>} AwaitIterable\n */\n\n/**\n * A datastore that can combine multiple stores. Puts and deletes\n * will write through to all datastores. Has and get will\n * try each store sequentially. Query will always try the\n * last one first.\n *\n */\nexport class TieredDatastore extends BaseDatastore {\n  /**\n   * @param {Datastore[]} stores\n   */\n  constructor (stores) {\n    super()\n\n    this.stores = stores.slice()\n  }\n\n  async open () {\n    try {\n      await Promise.all(this.stores.map((store) => store.open()))\n    } catch (err) {\n      throw Errors.dbOpenFailedError()\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} value\n   * @param {Options} [options]\n   */\n  async put (key, value, options) {\n    try {\n      await Promise.all(this.stores.map(store => store.put(key, value, options)))\n    } catch (err) {\n      throw Errors.dbWriteFailedError()\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  async get (key, options) {\n    for (const store of this.stores) {\n      try {\n        const res = await store.get(key, options)\n        if (res) return res\n      } catch (err) {\n        log.error(err)\n      }\n    }\n    throw Errors.notFoundError()\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  async has (key, options) {\n    for (const s of this.stores) {\n      if (await s.has(key, options)) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  async delete (key, options) {\n    try {\n      await Promise.all(this.stores.map(store => store.delete(key, options)))\n    } catch (err) {\n      throw Errors.dbDeleteFailedError()\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    let error\n    const pushables = this.stores.map(store => {\n      const source = pushable({\n        objectMode: true\n      })\n\n      drain(store.putMany(source, options))\n        .catch(err => {\n          // store threw while putting, make sure we bubble the error up\n          error = err\n        })\n\n      return source\n    })\n\n    try {\n      for await (const pair of source) {\n        if (error) {\n          throw error\n        }\n\n        pushables.forEach(p => p.push(pair))\n\n        yield pair\n      }\n    } finally {\n      pushables.forEach(p => p.end())\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  async * deleteMany (source, options = {}) {\n    let error\n    const pushables = this.stores.map(store => {\n      const source = pushable({\n        objectMode: true\n      })\n\n      drain(store.deleteMany(source, options))\n        .catch(err => {\n          // store threw while deleting, make sure we bubble the error up\n          error = err\n        })\n\n      return source\n    })\n\n    try {\n      for await (const key of source) {\n        if (error) {\n          throw error\n        }\n\n        pushables.forEach(p => p.push(key))\n\n        yield key\n      }\n    } finally {\n      pushables.forEach(p => p.end())\n    }\n  }\n\n  async close () {\n    await Promise.all(this.stores.map(store => store.close()))\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    const batches = this.stores.map(store => store.batch())\n\n    return {\n      put: (key, value) => {\n        batches.forEach(b => b.put(key, value))\n      },\n      delete: (key) => {\n        batches.forEach(b => b.delete(key))\n      },\n      commit: async (options) => {\n        for (const batch of batches) {\n          await batch.commit(options)\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    return this.stores[this.stores.length - 1].query(q, options)\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    return this.stores[this.stores.length - 1].queryKeys(q, options)\n  }\n}\n", null, null, null, "import { Key } from 'interface-datastore'\nimport { KeyTransformDatastore } from './keytransform.js'\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Options} Options\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('./types').KeyTransform} KeyTransform\n */\n\n/**\n * Wraps a given datastore into a keytransform which\n * makes a given prefix transparent.\n *\n * For example, if the prefix is `new Key(/hello)` a call\n * to `store.put(new Key('/world'), mydata)` would store the data under\n * `/hello/world`.\n */\nexport class NamespaceDatastore extends KeyTransformDatastore {\n  /**\n   * @param {Datastore} child\n   * @param {Key} prefix\n   */\n  constructor (child, prefix) {\n    super(child, {\n      convert (key) {\n        return prefix.child(key)\n      },\n      invert (key) {\n        if (prefix.toString() === '/') {\n          return key\n        }\n\n        if (!prefix.isAncestorOf(key)) {\n          throw new Error(`Expected prefix: (${prefix.toString()}) in key: ${key.toString()}`)\n        }\n\n        return new Key(key.toString().slice(prefix.toString().length), false)\n      }\n    })\n  }\n}\n", "import drain from 'it-drain'\nimport { pushable } from 'it-pushable'\nimport { Key } from 'interface-datastore/key'\nimport { CID } from 'multiformats/cid'\nimport * as raw from 'multiformats/codecs/raw'\nimport * as Digest from 'multiformats/hashes/digest'\nimport { base32, base32pad } from 'multiformats/bases/base32'\nimport { base58btc } from 'multiformats/bases/base58'\nimport errcode from 'err-code'\nimport { BaseBlockstore } from 'blockstore-core/base'\n\n/**\n * Transform a cid to the appropriate datastore key.\n *\n * @param {CID} cid\n * @returns {Key}\n */\nfunction cidToKey (cid) {\n  const c = CID.asCID(cid)\n\n  if (!c) {\n    throw errcode(new Error('Not a valid cid'), 'ERR_INVALID_CID')\n  }\n\n  return new Key('/' + base32.encode(c.multihash.bytes).slice(1).toUpperCase(), false)\n}\n\n/**\n * Transform a datastore Key instance to a CID\n * As Key is a multihash of the CID, it is reconstructed using IPLD's RAW codec.\n * Hence it is highly probable that stored CID will differ from a CID retrieved from blockstore.\n *\n * @param {Key} key\n * @returns {CID}\n */\nfunction keyToCid (key) {\n  // Block key is of the form <base32 encoded string>\n  return CID.createV1(raw.code, Digest.decode(base32.decode('b' + key.toString().slice(1).toLowerCase())))\n}\n\n/**\n * Tries to decode a prefix as the first part of a CID and then\n * strip off the version and codec bytes to just leave part of\n * the multihash.\n *\n * Only really works if the prefix length aligns with the byte\n * boundaries of the encoding.\n *\n * @param {string} prefix\n * @returns {string}\n */\nfunction convertPrefix (prefix) {\n  const firstChar = prefix.substring(0, 1)\n\n  if (firstChar === '/') {\n    return convertPrefix(prefix.substring(1))\n  }\n\n  /** @type {(input: string) => Uint8Array } */\n  let decoder\n\n  if (firstChar.toLowerCase() === 'b') {\n    // v1 cid prefix, remove version and codec bytes\n    decoder = (input) => base32.decode(input.toLowerCase()).subarray(2)\n  } else if (firstChar.toLowerCase() === 'c') {\n    // v1 cid prefix, remove version and codec bytes\n    decoder = (input) => base32pad.decode(input.toLowerCase()).subarray(2)\n  } else if (firstChar === 'z') {\n    // v1 cid\n    decoder = (input) => base58btc.decode(input).subarray(2)\n  } else if (firstChar === 'Q') {\n    // v0 cid prefix\n    decoder = (input) => base58btc.decode('z' + input)\n  } else {\n    decoder = (input) => base32.decode('b' + input.toLowerCase()).subarray(2)\n  }\n\n  let bytes\n\n  // find the longest prefix that we can safely decode\n  for (let i = 1; i < prefix.length; i++) {\n    try {\n      bytes = decoder(prefix.substring(0, i))\n    } catch (/** @type {any} */ err) {\n      if (err.message !== 'Unexpected end of data') {\n        throw err\n      }\n    }\n  }\n\n  let str = '/C'\n\n  if (bytes) {\n    // slice one character from the end of the string to ensure we don't end up\n    // with a padded value which could have a non-matching string at the end\n    str = `/${base32.encode(bytes).slice(1, -1).toUpperCase() || 'C'}`\n  }\n\n  return str\n}\n\n/**\n * @param {import('interface-blockstore').Query} query\n * @returns {import('interface-datastore').Query}\n */\nfunction convertQuery (query) {\n  return {\n    ...query,\n    prefix: query.prefix ? convertPrefix(query.prefix) : undefined,\n    filters: query.filters\n      ? query.filters.map(\n        filter => (pair) => {\n          return filter({ key: keyToCid(pair.key), value: pair.value })\n        }\n      )\n      : undefined,\n    orders: query.orders\n      ? query.orders.map(\n        order => (a, b) => {\n          return order({ key: keyToCid(a.key), value: a.value }, { key: keyToCid(b.key), value: b.value })\n        }\n      )\n      : undefined\n  }\n}\n\n/**\n * @param {import('interface-blockstore').KeyQuery} query\n * @returns {import('interface-datastore').KeyQuery}\n */\nfunction convertKeyQuery (query) {\n  return {\n    ...query,\n    prefix: query.prefix ? convertPrefix(query.prefix) : undefined,\n    filters: query.filters\n      ? query.filters.map(\n        filter => (key) => {\n          return filter(keyToCid(key))\n        }\n      )\n      : undefined,\n    orders: query.orders\n      ? query.orders.map(\n        order => (a, b) => {\n          return order(keyToCid(a), keyToCid(b))\n        }\n      )\n      : undefined\n  }\n}\n\n/**\n * @typedef {import('interface-blockstore').Query} Query\n * @typedef {import('interface-blockstore').KeyQuery} KeyQuery\n * @typedef {import('interface-blockstore').Pair} Pair\n * @typedef {import('interface-blockstore').Options} Options\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n */\n\n/**\n * @implements {Blockstore}\n */\nexport class BlockstoreDatastoreAdapter extends BaseBlockstore {\n  /**\n   * @param {Datastore} datastore\n   */\n  constructor (datastore) {\n    super()\n\n    this.child = datastore\n  }\n\n  open () {\n    return this.child.open()\n  }\n\n  close () {\n    return this.child.close()\n  }\n\n  /**\n   * @param {Query} query\n   * @param {Options} [options]\n   */\n  async * query (query, options) {\n    for await (const { key, value } of this.child.query(convertQuery(query), options)) {\n      yield { key: keyToCid(key), value }\n    }\n  }\n\n  /**\n   * @param {KeyQuery} query\n   * @param {Options} [options]\n   */\n  async * queryKeys (query, options) {\n    for await (const key of this.child.queryKeys(convertKeyQuery(query), options)) {\n      yield keyToCid(key)\n    }\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {Options} [options]\n   * @returns\n   */\n  async get (cid, options) {\n    return this.child.get(cidToKey(cid), options)\n  }\n\n  /**\n   * @param {AsyncIterable<CID> | Iterable<CID>} cids\n   * @param {Options} [options]\n   */\n  async * getMany (cids, options) {\n    for await (const cid of cids) {\n      yield this.get(cid, options)\n    }\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {Uint8Array} value\n   * @param {Options} [options]\n   */\n  async put (cid, value, options) {\n    await this.child.put(cidToKey(cid), value, options)\n  }\n\n  /**\n   * @param {AsyncIterable<Pair> | Iterable<Pair>} blocks\n   * @param {Options} [options]\n   */\n  async * putMany (blocks, options) { // eslint-disable-line require-await\n    // we cannot simply chain to `store.putMany` because we convert a CID into\n    // a key based on the multihash only, so we lose the version & codec and\n    // cannot give the user back the CID they used to create the block, so yield\n    // to `store.putMany` but return the actual block the user passed in.\n    //\n    // nb. we want to use `store.putMany` here so bitswap can control batching\n    // up block HAVEs to send to the network - if we use multiple `store.put`s\n    // it will not be able to guess we are about to `store.put` more blocks\n    const output = pushable({\n      objectMode: true\n    })\n\n    // process.nextTick runs on the microtask queue, setImmediate runs on the next\n    // event loop iteration so is slower. Use process.nextTick if it is available.\n    const runner = globalThis.process && globalThis.process.nextTick ? globalThis.process.nextTick : (globalThis.setImmediate || globalThis.setTimeout)\n\n    runner(async () => {\n      try {\n        const store = this.child\n\n        await drain(this.child.putMany(async function * () {\n          for await (const block of blocks) {\n            const key = cidToKey(block.key)\n            const exists = await store.has(key, options)\n\n            if (!exists) {\n              yield { key, value: block.value }\n            }\n\n            // there is an assumption here that after the yield has completed\n            // the underlying datastore has finished writing the block\n            output.push(block)\n          }\n        }()))\n\n        output.end()\n      } catch (/** @type {any} */ err) {\n        output.end(err)\n      }\n    })\n\n    yield * output\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {Options} [options]\n   */\n  has (cid, options) {\n    return this.child.has(cidToKey(cid), options)\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {Options} [options]\n   */\n  delete (cid, options) {\n    return this.child.delete(cidToKey(cid), options)\n  }\n\n  /**\n   * @param {AsyncIterable<CID> | Iterable<CID>} cids\n   * @param {Options} [options]\n   */\n  deleteMany (cids, options) {\n    const out = pushable({\n      objectMode: true\n    })\n\n    drain(this.child.deleteMany((async function * () {\n      for await (const cid of cids) {\n        yield cidToKey(cid)\n\n        out.push(cid)\n      }\n\n      out.end()\n    }()), options)).catch(err => {\n      out.end(err)\n    })\n\n    return out\n  }\n}\n", null, null, null, "import drain from 'it-drain'\nimport filter from 'it-filter'\nimport take from 'it-take'\nimport all from 'it-all'\n\n/**\n * Collect all values from the iterable and sort them using\n * the passed sorter function\n *\n * @template T\n * @param {AsyncIterable<T> | Iterable<T>} iterable\n * @param {(a: T, b: T) => -1 | 0 | 1} sorter\n * @returns {AsyncIterable<T>}\n */\nconst sortAll = (iterable, sorter) => {\n  return (async function * () {\n    const values = await all(iterable)\n    yield * values.sort(sorter)\n  })()\n}\n\n/**\n * @typedef {import('interface-blockstore').Options} Options\n * @typedef {import('interface-blockstore').Pair} Pair\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('interface-blockstore').Query} Query\n * @typedef {import('interface-blockstore').KeyQuery} KeyQuery\n * @typedef {import('interface-blockstore').Batch} Batch\n *\n * @typedef {import('multiformats').CID} CID\n */\n\n/**\n * @template O\n * @typedef {import('interface-store').AwaitIterable<O>} AwaitIterable\n */\n\n/**\n * @implements {Blockstore}\n */\nexport class BaseBlockstore {\n  /**\n   * @returns {Promise<void>}\n   */\n  open () {\n    return Promise.reject(new Error('.open is not implemented'))\n  }\n\n  /**\n   * @returns {Promise<void>}\n   */\n  close () {\n    return Promise.reject(new Error('.close is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Uint8Array} val\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  put (key, val, options) {\n    return Promise.reject(new Error('.put is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Options} [options]\n   * @returns {Promise<Uint8Array>}\n   */\n  get (key, options) {\n    return Promise.reject(new Error('.get is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Options} [options]\n   * @returns {Promise<boolean>}\n   */\n  has (key, options) {\n    return Promise.reject(new Error('.has is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  delete (key, options) {\n    return Promise.reject(new Error('.delete is not implemented'))\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    for await (const { key, value } of source) {\n      await this.put(key, value, options)\n      yield { key, value }\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<CID>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Uint8Array>}\n   */\n  async * getMany (source, options = {}) {\n    for await (const key of source) {\n      yield this.get(key, options)\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<CID>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<CID>}\n   */\n  async * deleteMany (source, options = {}) {\n    for await (const key of source) {\n      await this.delete(key, options)\n      yield key\n    }\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    /** @type {Pair[]} */\n    let puts = []\n    /** @type {CID[]} */\n    let dels = []\n\n    return {\n      put (key, value) {\n        puts.push({ key, value })\n      },\n\n      delete (key) {\n        dels.push(key)\n      },\n      commit: async (options) => {\n        await drain(this.putMany(puts, options))\n        puts = []\n        await drain(this.deleteMany(dels, options))\n        dels = []\n      }\n    }\n  }\n\n  /**\n   * Extending classes should override `query` or implement this method\n   *\n   * @param {Query} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _all (q, options) {\n    throw new Error('._all is not implemented')\n  }\n\n  /**\n   * Extending classes should override `queryKeys` or implement this method\n   *\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<CID>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _allKeys (q, options) {\n    throw new Error('._allKeys is not implemented')\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    let it = this._all(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (/** @type {Pair} */ e) =>\n        e.key.toString().startsWith(q.prefix || '')\n      )\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= (q.offset || 0))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    let it = this._allKeys(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (/** @type {CID} */ cid) => cid.toString().startsWith(q.prefix || ''))\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n}\n", "import { createExport } from './export.js'\nimport { createGet } from './get.js'\nimport { createImport } from './import.js'\nimport { createPut } from './put.js'\nimport { createResolve } from './resolve.js'\n\nexport class DagAPI {\n  /**\n   * @param {object} config\n   * @param {import('ipfs-core-utils/multihashes').Multihashes} config.hashers\n   * @param {import('ipfs-core-utils/multicodecs').Multicodecs} config.codecs\n   * @param {import('../../types').Preload} config.preload\n   * @param {import('ipfs-repo').IPFSRepo} config.repo\n   */\n  constructor ({ repo, codecs, hashers, preload }) {\n    this.export = createExport({ repo, preload, codecs })\n    this.get = createGet({ codecs, repo, preload })\n    this.import = createImport({ repo })\n    this.resolve = createResolve({ repo, codecs, preload })\n    this.put = createPut({ repo, codecs, hashers, preload })\n  }\n}\n", "import { CID } from 'multiformats/cid'\nimport { createUnsafe } from 'multiformats/block'\nimport { CarWriter } from '@ipld/car/writer'\nimport { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option'\nimport { logger } from '@libp2p/logger'\nimport * as raw from 'multiformats/codecs/raw'\nimport * as json from 'multiformats/codecs/json'\nimport { walk } from 'multiformats/traversal'\n\nconst log = logger('ipfs:components:dag:import')\n\n// blocks that we're OK with not inspecting for links\n/** @type {number[]} */\nconst NO_LINKS_CODECS = [\n  raw.code, // raw\n  json.code // JSON\n]\n\n/**\n * @typedef {import('../../types').Preload} Preload\n * @typedef {import('ipfs-repo').IPFSRepo} IPFSRepo\n * @typedef {import('@ipld/car/api').BlockWriter} BlockWriter\n * @typedef {import('ipfs-core-types/src/utils').AbortOptions} AbortOptions\n */\n\n/**\n * @template T\n * @typedef {import('multiformats/block').Block<T>} Block\n */\n\n/**\n * @param {object} config\n * @param {IPFSRepo} config.repo\n * @param {Preload} config.preload\n * @param {import('ipfs-core-utils/multicodecs').Multicodecs} config.codecs\n */\nexport function createExport ({ repo, preload, codecs }) {\n  /**\n   * @type {import('ipfs-core-types/src/dag').API<{}>[\"export\"]}\n   */\n  async function * dagExport (root, options = {}) {\n    if (options.preload !== false) {\n      preload(root)\n    }\n\n    const cid = CID.asCID(root)\n    if (!cid) {\n      throw new Error(`Unexpected error converting CID type: ${root}`)\n    }\n\n    log(`Exporting ${cid} as car`)\n    const { writer, out } = await CarWriter.create([cid])\n\n    // we need to write with one async channel and send the CarWriter output\n    // with another to the caller, but if the write causes an error we capture\n    // that and make sure it gets propagated\n    /** @type {Error|null} */\n    let err = null\n    ;(async () => {\n      try {\n        const load = makeLoader(repo, writer, {\n          signal: options.signal,\n          timeout: options.timeout\n        }, codecs)\n        await walk({ cid, load })\n      } catch (/** @type {any} */ e) {\n        err = e\n      } finally {\n        writer.close()\n      }\n    })()\n\n    for await (const chunk of out) {\n      if (err) {\n        break\n      }\n      yield chunk\n    }\n    if (err) {\n      throw err\n    }\n  }\n\n  return withTimeoutOption(dagExport)\n}\n\n/**\n * @template T\n * @param {IPFSRepo} repo\n * @param {BlockWriter} writer\n * @param {AbortOptions} options\n * @param {import('ipfs-core-utils/multicodecs').Multicodecs} codecs\n * @returns {(cid:CID)=>Promise<Block<T>|null>}\n */\nfunction makeLoader (repo, writer, options, codecs) {\n  return async (cid) => {\n    const codec = await codecs.getCodec(cid.code)\n\n    if (!codec) {\n      throw new Error(`Can't decode links in block with codec 0x${cid.code.toString(16)} to form complete DAG`)\n    }\n\n    const bytes = await repo.blocks.get(cid, options)\n\n    log(`Adding block ${cid} to car`)\n    await writer.put({ cid, bytes })\n\n    if (NO_LINKS_CODECS.includes(cid.code)) {\n      return null // skip this block, no need to look inside\n    }\n\n    return createUnsafe({ bytes, cid, codec })\n  }\n}\n", "/* eslint-disable no-unreachable */\n\nimport { TimeoutController } from 'timeout-abort-controller'\nimport { anySignal } from 'any-signal'\nimport parseDuration from 'parse-duration'\nimport { TimeoutError } from './errors.js'\n\n/**\n * @template {any[]} Args\n * @template {Promise<any> | AsyncIterable<any>} R - The return type of `fn`\n * @param {(...args:Args) => R} fn\n * @param {number} [optionsArgIndex]\n * @returns {(...args:Args) => R}\n */\nexport function withTimeoutOption (fn, optionsArgIndex) {\n  // eslint-disable-next-line\n  return /** @returns {R} */(/** @type {Args} */...args) => {\n    const options = args[optionsArgIndex == null ? args.length - 1 : optionsArgIndex]\n    if (!options || !options.timeout) return fn(...args)\n\n    const timeout = typeof options.timeout === 'string'\n      ? parseDuration(options.timeout)\n      : options.timeout\n\n    const controller = new TimeoutController(timeout)\n\n    options.signal = anySignal([options.signal, controller.signal])\n\n    const fnRes = fn(...args)\n    // eslint-disable-next-line promise/param-names\n    const timeoutPromise = new Promise((_resolve, reject) => {\n      controller.signal.addEventListener('abort', () => {\n        reject(new TimeoutError())\n      })\n    })\n\n    const start = Date.now()\n\n    const maybeThrowTimeoutError = () => {\n      if (controller.signal.aborted) {\n        throw new TimeoutError()\n      }\n\n      const timeTaken = Date.now() - start\n\n      // if we have starved the event loop by adding microtasks, we could have\n      // timed out already but the TimeoutController will never know because it's\n      // setTimeout will not fire until we stop adding microtasks\n      if (timeTaken > timeout) {\n        controller.abort()\n        throw new TimeoutError()\n      }\n    }\n\n    // @ts-expect-error\n    if (fnRes[Symbol.asyncIterator]) {\n      // @ts-expect-error\n      return (async function * () {\n        // @ts-expect-error\n        const it = fnRes[Symbol.asyncIterator]()\n\n        try {\n          while (true) {\n            const { value, done } = await Promise.race([it.next(), timeoutPromise])\n\n            if (done) {\n              break\n            }\n\n            maybeThrowTimeoutError()\n\n            yield value\n          }\n        } catch (/** @type {any} */ err) {\n          maybeThrowTimeoutError()\n\n          throw err\n        } finally {\n          controller.clear()\n\n          if (it.return) {\n            it.return()\n          }\n        }\n      })()\n    }\n\n    // @ts-expect-error\n    return (async () => {\n      try {\n        const res = await Promise.race([fnRes, timeoutPromise])\n\n        maybeThrowTimeoutError()\n\n        return res\n      } catch (/** @type {any} */ err) {\n        maybeThrowTimeoutError()\n\n        throw err\n      } finally {\n        controller.clear()\n      }\n    })()\n  }\n}\n", "let durationRE = /(-?(?:\\d+\\.?\\d*|\\d*\\.?\\d+)(?:e[-+]?\\d+)?)\\s*([\\p{L}]*)/uig\r\n\r\n\r\n/**\r\n * conversion ratios\r\n */\r\n\r\nparse.nanosecond =\r\nparse.ns = 1 / 1e6\r\n\r\nparse['\u00B5s'] =\r\nparse['\u03BCs'] =\r\nparse.us =\r\nparse.microsecond = 1 / 1e3\r\n\r\nparse.millisecond =\r\nparse.ms =\r\nparse[''] = 1\r\n\r\nparse.second =\r\nparse.sec =\r\nparse.s = parse.ms * 1000\r\n\r\nparse.minute =\r\nparse.min =\r\nparse.m = parse.s * 60\r\n\r\nparse.hour =\r\nparse.hr =\r\nparse.h = parse.m * 60\r\n\r\nparse.day =\r\nparse.d = parse.h * 24\r\n\r\nparse.week =\r\nparse.wk =\r\nparse.w = parse.d * 7\r\n\r\nparse.month =\r\nparse.b =\r\nparse.d * (365.25 / 12)\r\n\r\nparse.year =\r\nparse.yr =\r\nparse.y = parse.d * 365.25\r\n\r\n/**\r\n * convert `str` to ms\r\n *\r\n * @param {String} str\r\n * @param {String} format\r\n * @return {Number}\r\n */\r\n\r\nfunction parse(str='', format='ms'){\r\n  var result = null\r\n  // ignore commas/placeholders\r\n  str = (str+'').replace(/(\\d)[,_](\\d)/g, '$1$2')\r\n  str.replace(durationRE, function(_, n, units){\r\n    units = unitRatio(units)\r\n    if (units) result = (result || 0) + parseFloat(n, 10) * units\r\n  })\r\n\r\n  return result && (result / (unitRatio(format) || 1))\r\n}\r\n\r\nfunction unitRatio(str) {\r\n  return parse[str] || parse[str.toLowerCase().replace(/s$/, '')]\r\n}\r\n\r\nexport default parse\r\n", "\nexport class TimeoutError extends Error {\n  constructor (message = 'request timed out') {\n    super(message)\n    this.name = 'TimeoutError'\n    this.code = TimeoutError.code\n  }\n}\n\nTimeoutError.code = 'ERR_TIMEOUT'\n", null, "import { base58btc } from './bases/base58.js';\nconst walk = async ({cid, load, seen}) => {\n  seen = seen || new Set();\n  const b58Cid = cid.toString(base58btc);\n  if (seen.has(b58Cid)) {\n    return;\n  }\n  const block = await load(cid);\n  seen.add(b58Cid);\n  if (block === null) {\n    return;\n  }\n  for (const [, cid] of block.links()) {\n    await walk({\n      cid,\n      load,\n      seen\n    });\n  }\n};\nexport {\n  walk\n};", "import { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option'\nimport first from 'it-first'\nimport last from 'it-last'\nimport { resolve } from '../../utils.js'\nimport errCode from 'err-code'\n\n/**\n * @param {object} config\n * @param {import('ipfs-core-utils/multicodecs').Multicodecs} config.codecs\n * @param {import('ipfs-repo').IPFSRepo} config.repo\n * @param {import('../../types').Preload} config.preload\n */\nexport function createGet ({ codecs, repo, preload }) {\n  /**\n   * @type {import('ipfs-core-types/src/dag').API<{}>[\"get\"]}\n   */\n  const get = async function get (cid, options = {}) {\n    if (options.preload !== false) {\n      preload(cid)\n    }\n\n    if (options.path) {\n      const entry = options.localResolve\n        ? await first(resolve(cid, options.path, codecs, repo, options))\n        : await last(resolve(cid, options.path, codecs, repo, options))\n      /** @type {import('ipfs-core-types/src/dag').GetResult | undefined} - first and last will return undefined when empty */\n      const result = (entry)\n\n      if (!result) {\n        throw errCode(new Error('Not found'), 'ERR_NOT_FOUND')\n      }\n\n      return result\n    }\n\n    const codec = await codecs.getCodec(cid.code)\n    const block = await repo.blocks.get(cid, options)\n    const node = codec.decode(block)\n\n    return {\n      value: node,\n      remainderPath: ''\n    }\n  }\n\n  return withTimeoutOption(get)\n}\n", "/* eslint-disable no-unreachable */\n\nimport * as isIpfs from 'is-ipfs'\nimport { CID } from 'multiformats/cid'\nimport { Key } from 'interface-datastore/key'\nimport errCode from 'err-code'\nimport { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option'\nimport { toCidAndPath } from 'ipfs-core-utils/to-cid-and-path'\nimport * as dagPB from '@ipld/dag-pb'\n\n/**\n * @typedef {import('ipfs-core-types/src/utils').AbortOptions} AbortOptions\n * @typedef {import('@ipld/dag-pb').PBLink} PBLink\n */\n\nconst ERR_BAD_PATH = 'ERR_BAD_PATH'\n\nexport const OFFLINE_ERROR = 'This command must be run in online mode. Try running \\'ipfs daemon\\' first.'\nexport const MFS_ROOT_KEY = new Key('/local/filesroot')\nexport const MFS_MAX_CHUNK_SIZE = 262144\nexport const MFS_MAX_LINKS = 174\n\n/**\n * Returns a well-formed ipfs Path.\n * The returned path will always be prefixed with /ipfs/ or /ipns/.\n *\n * @param  {string | CID} pathStr - An ipfs-path, or ipns-path or a cid\n * @returns {string} - ipfs-path or ipns-path\n * @throws on an invalid @param pathStr\n */\nexport const normalizePath = (pathStr) => {\n  const cid = CID.asCID(pathStr)\n\n  if (cid) {\n    return `/ipfs/${pathStr}`\n  }\n\n  const str = pathStr.toString()\n\n  try {\n    return `/ipfs/${CID.parse(str)}`\n  } catch {}\n\n  if (isIpfs.path(str)) {\n    return str\n  } else {\n    throw errCode(new Error(`invalid path: ${pathStr}`), ERR_BAD_PATH)\n  }\n}\n\n// TODO: do we need both normalizePath and normalizeCidPath?\n// TODO: don't forget ipfs-core-utils/src/to-cid-and-path\n/**\n * @param {Uint8Array|CID|string} path\n */\nexport const normalizeCidPath = (path) => {\n  if (path instanceof Uint8Array) {\n    return CID.decode(path).toString()\n  }\n\n  path = path.toString()\n\n  if (path.indexOf('/ipfs/') === 0) {\n    path = path.substring('/ipfs/'.length)\n  }\n\n  if (path.charAt(path.length - 1) === '/') {\n    path = path.substring(0, path.length - 1)\n  }\n\n  return path\n}\n\n/**\n * Resolve various styles of an ipfs-path to the hash of the target node.\n * Follows links in the path\n *\n * @param {import('ipfs-repo').IPFSRepo} repo\n * @param {import('ipfs-core-utils/multicodecs').Multicodecs} codecs\n * @param {CID | string | Uint8Array} ipfsPath - A CID or IPFS path\n * @param {{ path?: string, signal?: AbortSignal }} [options] - Optional options passed directly to dag.resolve\n * @returns {Promise<{ cid: CID, remainderPath: string}>}\n */\nexport const resolvePath = async function (repo, codecs, ipfsPath, options = {}) {\n  const {\n    cid,\n    path\n  } = toCidAndPath(ipfsPath)\n\n  if (path) {\n    options.path = path\n  }\n\n  let lastCid = cid\n  let lastRemainderPath = options.path || ''\n\n  if (lastRemainderPath.startsWith('/')) {\n    lastRemainderPath = lastRemainderPath.substring(1)\n  }\n\n  if (options.path) {\n    try {\n      for await (const { value, remainderPath } of resolve(cid, options.path, codecs, repo, {\n        signal: options.signal\n      })) {\n        if (!CID.asCID(value)) {\n          break\n        }\n\n        lastRemainderPath = remainderPath\n        lastCid = value\n      }\n    } catch (/** @type {any} */ err) {\n      // TODO: add error codes to IPLD\n      if (err.message.startsWith('Object has no property')) {\n        err.message = `no link named \"${lastRemainderPath.split('/')[0]}\" under ${lastCid}`\n        err.code = 'ERR_NO_LINK'\n      }\n      throw err\n    }\n  }\n\n  return {\n    cid: lastCid,\n    remainderPath: lastRemainderPath || ''\n  }\n}\n\n/**\n * @typedef {import('ipfs-unixfs-exporter').UnixFSEntry} UnixFSEntry\n *\n * @param {UnixFSEntry} file\n */\nexport const mapFile = (file) => {\n  if (file.type !== 'file' && file.type !== 'directory' && file.type !== 'raw') {\n    // file.type === object | identity not supported yet\n    throw new Error(`Unknown node type '${file.type}'`)\n  }\n\n  /** @type {import('ipfs-core-types/src/root').IPFSEntry} */\n  const output = {\n    cid: file.cid,\n    path: file.path,\n    name: file.name,\n    size: file.size,\n    type: 'file'\n  }\n\n  if (file.type === 'directory') {\n    // @ts-expect-error - TS type can't be changed from File to Directory\n    output.type = 'dir'\n  }\n\n  if (file.type === 'file') {\n    output.size = file.unixfs.fileSize()\n  }\n\n  if (file.type === 'file' || file.type === 'directory') {\n    output.mode = file.unixfs.mode\n\n    if (file.unixfs.mtime !== undefined) {\n      output.mtime = file.unixfs.mtime\n    }\n  }\n\n  return output\n}\n\nexport const withTimeout = withTimeoutOption(\n  /**\n   * @template T\n   * @param {Promise<T>|T} promise\n   * @param {AbortOptions} [_options]\n   * @returns {Promise<T>}\n   */\n  async (promise, _options) => await promise\n)\n\n/**\n * Retrieves IPLD Nodes along the `path` that is rooted at `cid`.\n *\n * @param {CID} cid - the CID where the resolving starts\n * @param {string} path - the path that should be resolved\n * @param {import('ipfs-core-utils/src/multicodecs').Multicodecs} codecs\n * @param {import('ipfs-repo').IPFSRepo} repo\n * @param {AbortOptions} [options]\n */\nexport const resolve = async function * (cid, path, codecs, repo, options) {\n  /**\n   * @param {CID} cid\n   */\n  const load = async (cid) => {\n    const codec = await codecs.getCodec(cid.code)\n    const block = await repo.blocks.get(cid, options)\n\n    return codec.decode(block)\n  }\n\n  const parts = path.split('/').filter(Boolean)\n  let value = await load(cid)\n  let lastCid = cid\n\n  // End iteration if there isn't a CID to follow any more\n  while (parts.length) {\n    const key = parts.shift()\n\n    if (!key) {\n      throw errCode(new Error(`Could not resolve path \"${path}\"`), 'ERR_INVALID_PATH')\n    }\n\n    // special case for dag-pb, use the link name as the path segment\n    if (cid.code === dagPB.code && Array.isArray(value.Links)) {\n      const link = value.Links.find((/** @type {PBLink} */ l) => l.Name === key)\n\n      if (link) {\n        yield {\n          value: link.Hash,\n          remainderPath: parts.join('/')\n        }\n\n        value = await load(link.Hash)\n        lastCid = link.Hash\n\n        continue\n      }\n    }\n\n    if (Object.prototype.hasOwnProperty.call(value, key)) {\n      value = value[key]\n\n      yield {\n        value,\n        remainderPath: parts.join('/')\n      }\n    } else {\n      throw errCode(new Error(`no link named \"${key}\" under ${lastCid}`), 'ERR_NO_LINK')\n    }\n\n    if (CID.asCID(value)) {\n      lastCid = value\n      value = await load(value)\n    }\n  }\n\n  yield {\n    value,\n    remainderPath: ''\n  }\n}\n", null, null, null, null, "import ipRegex from 'ip-regex';\nimport {isMatch} from 'super-regex';\n\nconst maxIPv4Length = 15;\nconst maxIPv6Length = 45;\n\nconst options = {\n\ttimeout: 400,\n};\n\nexport function isIP(string) {\n\treturn isMatch(ipRegex({exact: true}), string.slice(0, maxIPv6Length), options);\n}\n\nexport function isIPv6(string) {\n\treturn isMatch(ipRegex.v6({exact: true}), string.slice(0, maxIPv6Length), options);\n}\n\nexport function isIPv4(string) {\n\treturn isMatch(ipRegex.v4({exact: true}), string.slice(0, maxIPv4Length), options);\n}\n\nexport function ipVersion(string) {\n\treturn isIP(string) ? (isIPv6(string) ? 6 : 4) : undefined;\n}\n", "const word = '[a-fA-F\\\\d:]';\n\nconst boundry = options => options && options.includeBoundaries\n\t? `(?:(?<=\\\\s|^)(?=${word})|(?<=${word})(?=\\\\s|$))`\n\t: '';\n\nconst v4 = '(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}';\n\nconst v6segment = '[a-fA-F\\\\d]{1,4}';\n\nconst v6 = `\n(?:\n(?:${v6segment}:){7}(?:${v6segment}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${v6segment}:){6}(?:${v4}|:${v6segment}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${v6segment}:){5}(?::${v4}|(?::${v6segment}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${v6segment}:){4}(?:(?::${v6segment}){0,1}:${v4}|(?::${v6segment}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${v6segment}:){3}(?:(?::${v6segment}){0,2}:${v4}|(?::${v6segment}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${v6segment}:){2}(?:(?::${v6segment}){0,3}:${v4}|(?::${v6segment}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${v6segment}:){1}(?:(?::${v6segment}){0,4}:${v4}|(?::${v6segment}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${v6segment}){0,5}:${v4}|(?::${v6segment}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\\s*\\/\\/.*$/gm, '').replace(/\\n/g, '').trim();\n\n// Pre-compile only the exact regexes because adding a global flag make regexes stateful\nconst v46Exact = new RegExp(`(?:^${v4}$)|(?:^${v6}$)`);\nconst v4exact = new RegExp(`^${v4}$`);\nconst v6exact = new RegExp(`^${v6}$`);\n\nconst ipRegex = options => options && options.exact\n\t? v46Exact\n\t: new RegExp(`(?:${boundry(options)}${v4}${boundry(options)})|(?:${boundry(options)}${v6}${boundry(options)})`, 'g');\n\nipRegex.v4 = options => options && options.exact ? v4exact : new RegExp(`${boundry(options)}${v4}${boundry(options)}`, 'g');\nipRegex.v6 = options => options && options.exact ? v6exact : new RegExp(`${boundry(options)}${v6}${boundry(options)}`, 'g');\n\nexport default ipRegex;\n", "import functionTimeout, {isTimeoutError} from 'function-timeout';\nimport timeSpan from 'time-span';\nimport cloneRegexp from 'clone-regexp'; // TODO: Use `structuredClone` instead when targeting Node.js 18.\n\nconst resultToMatch = result => ({\n\tmatch: result[0],\n\tindex: result.index,\n\tgroups: result.slice(1),\n\tnamedGroups: result.groups ?? {},\n\tinput: result.input,\n});\n\nexport function isMatch(regex, string, {timeout} = {}) {\n\ttry {\n\t\treturn functionTimeout(() => cloneRegexp(regex).test(string), {timeout})();\n\t} catch (error) {\n\t\tif (isTimeoutError(error)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthrow error;\n\t}\n}\n\nexport function firstMatch(regex, string, {timeout} = {}) {\n\ttry {\n\t\tconst result = functionTimeout(() => cloneRegexp(regex).exec(string), {timeout})();\n\n\t\tif (result === null) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn resultToMatch(result);\n\t} catch (error) {\n\t\tif (isTimeoutError(error)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthrow error;\n\t}\n}\n\nexport function matches(regex, string, {timeout = Number.POSITIVE_INFINITY, matchTimeout = Number.POSITIVE_INFINITY} = {}) {\n\tif (!regex.global) {\n\t\tthrow new Error('The regex must have the global flag, otherwise, use `firstMatch()` instead');\n\t}\n\n\treturn {\n\t\t* [Symbol.iterator]() {\n\t\t\ttry {\n\t\t\t\tconst matches = string.matchAll(regex); // The regex is only executed when iterated over.\n\n\t\t\t\twhile (true) {\n\t\t\t\t\tconst nextMatch = functionTimeout(() => matches.next(), {timeout: (timeout !== Number.POSITIVE_INFINITY || matchTimeout !== Number.POSITIVE_INFINITY) ? Math.min(timeout, matchTimeout) : undefined}); // `matches.next` must be called within an arrow function so that it doesn't loose its context.\n\n\t\t\t\t\tconst end = timeSpan();\n\t\t\t\t\tconst {value, done} = nextMatch();\n\t\t\t\t\ttimeout -= Math.ceil(end());\n\n\t\t\t\t\tif (done) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tyield resultToMatch(value);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tif (!isTimeoutError(error)) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t};\n}\n", "// Even though the browser version is a no-op, we wrap it to ensure consistent behavior.\nexport default function functionTimeout(function_) {\n\tconst wrappedFunction = (...arguments_) => function_(...arguments_);\n\n\tObject.defineProperty(wrappedFunction, 'name', {\n\t\tvalue: `functionTimeout(${function_.name || '<anonymous>'})`,\n\t\tconfigurable: true,\n\t});\n\n\treturn wrappedFunction;\n}\n\nexport function isTimeoutError() {\n\treturn false;\n}\n", "export default function timeSpan() {\n\tconst start = performance.now();\n\n\tconst end = () => performance.now() - start;\n\tend.rounded = () => Math.round(end());\n\tend.seconds = () => end() / 1000;\n\tend.nanoseconds = () => end() * 1000000;\n\n\treturn end;\n}\n", "import isRegexp from 'is-regexp';\n\nconst flagMap = {\n\tglobal: 'g',\n\tignoreCase: 'i',\n\tmultiline: 'm',\n\tdotAll: 's',\n\tsticky: 'y',\n\tunicode: 'u'\n};\n\nexport default function clonedRegexp(regexp, options = {}) {\n\tif (!isRegexp(regexp)) {\n\t\tthrow new TypeError('Expected a RegExp instance');\n\t}\n\n\tconst flags = Object.keys(flagMap).map(flag => (\n\t\t(typeof options[flag] === 'boolean' ? options[flag] : regexp[flag]) ? flagMap[flag] : ''\n\t)).join('');\n\n\tconst clonedRegexp = new RegExp(options.source || regexp.source, flags);\n\n\tclonedRegexp.lastIndex = typeof options.lastIndex === 'number' ?\n\t\toptions.lastIndex :\n\t\tregexp.lastIndex;\n\n\treturn clonedRegexp;\n}\n", "const {toString} = Object.prototype;\n\nexport default function isRegexp(value) {\n\treturn toString.call(value) === '[object RegExp]';\n}\n", null, null, null, null, null, null, null, null, null, "import { CID } from 'multiformats/cid'\nimport errCode from 'err-code'\n\nconst IPFS_PREFIX = '/ipfs/'\n\n/**\n * @param {string|Uint8Array|CID} string\n * @returns {{cid:CID, path?:string}}\n */\nexport function toCidAndPath (string) {\n  if (string instanceof Uint8Array) {\n    try {\n      string = CID.decode(string)\n    } catch (/** @type {any} */ err) {\n      throw errCode(err, 'ERR_INVALID_CID')\n    }\n  }\n\n  let cid = CID.asCID(string)\n\n  if (cid) {\n    return {\n      cid,\n      path: undefined\n    }\n  }\n\n  string = string.toString()\n\n  if (string.startsWith(IPFS_PREFIX)) {\n    string = string.substring(IPFS_PREFIX.length)\n  }\n\n  const parts = string.split('/')\n  let path\n\n  try {\n    cid = CID.parse(parts.shift() || '')\n  } catch (/** @type {any} */ err) {\n    throw errCode(err, 'ERR_INVALID_CID')\n  }\n\n  if (parts.length) {\n    path = `/${parts.join('/')}`\n  }\n\n  return {\n    cid,\n    path\n  }\n}\n", "import { CarBlockIterator } from '@ipld/car/iterator'\nimport { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option'\nimport itPeekable from 'it-peekable'\nimport drain from 'it-drain'\nimport map from 'it-map'\nimport { logger } from '@libp2p/logger'\nconst log = logger('ipfs:components:dag:import')\n\n/**\n * @typedef {import('multiformats/cid').CID} CID\n * @typedef {import('ipfs-repo').IPFSRepo} IPFSRepo\n * @typedef {import('ipfs-core-types/src/utils').AbortOptions} AbortOptions\n * @typedef {import('ipfs-core-types/src/dag/').ImportRootStatus} RootStatus\n */\n\n/**\n * @param {object} config\n * @param {IPFSRepo} config.repo\n */\nexport function createImport ({ repo }) {\n  /**\n   * @type {import('ipfs-core-types/src/dag').API<{}>[\"import\"]}\n   */\n  async function * dagImport (sources, options = {}) {\n    const release = await repo.gcLock.readLock()\n\n    try {\n      const abortOptions = { signal: options.signal, timeout: options.timeout }\n      const peekable = itPeekable(sources)\n\n      const { value, done } = await peekable.peek()\n\n      if (done) {\n        return\n      }\n\n      if (value) {\n        // @ts-expect-error\n        peekable.push(value)\n      }\n\n      /**\n       * @type {AsyncIterable<AsyncIterable<Uint8Array>> | Iterable<AsyncIterable<Uint8Array>>}\n       */\n      let cars\n\n      if (value instanceof Uint8Array) {\n        // @ts-expect-error\n        cars = [peekable]\n      } else {\n        // @ts-expect-error\n        cars = peekable\n      }\n\n      for await (const car of cars) {\n        const roots = await importCar(repo, abortOptions, car)\n\n        if (options.pinRoots !== false) { // default=true\n          for (const cid of roots) {\n            let pinErrorMsg = ''\n\n            try { // eslint-disable-line max-depth\n              if (await repo.blocks.has(cid)) { // eslint-disable-line max-depth\n                log(`Pinning root ${cid}`)\n                await repo.pins.pinRecursively(cid)\n              } else {\n                pinErrorMsg = 'blockstore: block not found'\n              }\n            } catch (/** @type {any} */ err) {\n              pinErrorMsg = err.message\n            }\n\n            yield { root: { cid, pinErrorMsg } }\n          }\n        }\n      }\n    } finally {\n      release()\n    }\n  }\n\n  return withTimeoutOption(dagImport)\n}\n\n/**\n * @param {IPFSRepo} repo\n * @param {AbortOptions} options\n * @param {AsyncIterable<Uint8Array>} source\n * @returns {Promise<CID[]>}\n */\nasync function importCar (repo, options, source) {\n  const reader = await CarBlockIterator.fromIterable(source)\n  const roots = await reader.getRoots()\n\n  await drain(\n    repo.blocks.putMany(\n      map(reader, ({ cid: key, bytes: value }) => {\n        log(`Import block ${key}`)\n\n        return { key, value }\n      }),\n      { signal: options.signal }\n    )\n  )\n\n  return roots\n}\n", "import { CID } from 'multiformats/cid'\nimport { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option'\n\n/**\n * @param {object} config\n * @param {import('ipfs-repo').IPFSRepo} config.repo\n * @param {import('ipfs-core-utils/multicodecs').Multicodecs} config.codecs\n * @param {import('ipfs-core-utils/multihashes').Multihashes} config.hashers\n * @param {import('../../types').Preload} config.preload\n */\nexport function createPut ({ repo, codecs, hashers, preload }) {\n  /**\n   * @type {import('ipfs-core-types/src/dag').API<{}>[\"put\"]}\n   */\n  async function put (dagNode, options = {}) {\n    const release = options.pin ? await repo.gcLock.readLock() : null\n\n    try {\n      const storeCodec = await codecs.getCodec(options.storeCodec || 'dag-cbor')\n      // TODO: doesn't getCodec throw? verify and possibly remove this\n      if (!storeCodec) {\n        throw new Error(`Unknown storeCodec ${options.storeCodec}, please configure additional BlockCodecs for this IPFS instance`)\n      }\n\n      if (options.inputCodec) {\n        if (!(dagNode instanceof Uint8Array)) {\n          throw new Error('Can only inputCodec on raw bytes that can be decoded')\n        }\n        const inputCodec = await codecs.getCodec(options.inputCodec)\n        if (!inputCodec) {\n          throw new Error(`Unknown inputCodec ${options.inputCodec}, please configure additional BlockCodecs for this IPFS instance`)\n        }\n        dagNode = inputCodec.decode(dagNode)\n      }\n\n      const cidVersion = options.version != null ? options.version : 1\n      const hasher = await hashers.getHasher(options.hashAlg || 'sha2-256')\n\n      if (!hasher) {\n        throw new Error(`Unknown hash algorithm ${options.hashAlg}, please configure additional MultihashHashers for this IPFS instance`)\n      }\n\n      const buf = storeCodec.encode(dagNode)\n      const hash = await hasher.digest(buf)\n      const cid = CID.create(cidVersion, storeCodec.code, hash)\n\n      await repo.blocks.put(cid, buf, {\n        signal: options.signal\n      })\n\n      if (options.pin) {\n        await repo.pins.pinRecursively(cid)\n      }\n\n      if (options.preload !== false) {\n        preload(cid)\n      }\n\n      return cid\n    } finally {\n      if (release) {\n        release()\n      }\n    }\n  }\n\n  return withTimeoutOption(put)\n}\n", "import { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option'\nimport { toCidAndPath } from 'ipfs-core-utils/to-cid-and-path'\nimport { resolvePath } from '../../utils.js'\n\n/**\n * @param {object} config\n * @param {import('ipfs-core-utils/multicodecs').Multicodecs} config.codecs\n * @param {import('ipfs-repo').IPFSRepo} config.repo\n * @param {import('../../types').Preload} config.preload\n */\nexport function createResolve ({ repo, codecs, preload }) {\n  /**\n   * @type {import('ipfs-core-types/src/dag').API<{}>[\"resolve\"]}\n   */\n  async function dagResolve (ipfsPath, options = {}) {\n    const {\n      cid\n    } = toCidAndPath(ipfsPath)\n\n    if (options.preload !== false) {\n      preload(cid)\n    }\n\n    return resolvePath(repo, codecs, ipfsPath, options)\n  }\n\n  return withTimeoutOption(dagResolve)\n}\n", null, null, null, null, "/**\n * @typedef {import('multiformats/codecs/interface').BlockCodec<any, any>} BlockCodec\n * @typedef {import('./types').LoadCodecFn} LoadCodecFn\n * @typedef {import('ipfs-core-types/src/utils').AbortOptions} AbortOptions\n */\n\n/**\n * @type {LoadCodecFn}\n */\nconst LOAD_CODEC = (codeOrName) => Promise.reject(new Error(`No codec found for \"${codeOrName}\"`))\n\nexport class Multicodecs {\n  /**\n   * @param {object} options\n   * @param {LoadCodecFn} [options.loadCodec]\n   * @param {BlockCodec[]} options.codecs\n   */\n  constructor (options) {\n    // Object with current list of active resolvers\n    /** @type {Record<string, BlockCodec>}} */\n    this._codecsByName = {}\n\n    // Object with current list of active resolvers\n    /** @type {Record<number, BlockCodec>}} */\n    this._codecsByCode = {}\n\n    this._loadCodec = options.loadCodec || LOAD_CODEC\n\n    // Enable all supplied codecs\n    for (const codec of options.codecs) {\n      this.addCodec(codec)\n    }\n  }\n\n  /**\n   * Add support for a block codec\n   *\n   * @param {BlockCodec} codec\n   */\n  addCodec (codec) {\n    if (this._codecsByName[codec.name] || this._codecsByCode[codec.code]) {\n      throw new Error(`Resolver already exists for codec \"${codec.name}\"`)\n    }\n\n    this._codecsByName[codec.name] = codec\n    this._codecsByCode[codec.code] = codec\n  }\n\n  /**\n   * Remove support for a block codec\n   *\n   * @param {BlockCodec} codec\n   */\n  removeCodec (codec) {\n    delete this._codecsByName[codec.name]\n    delete this._codecsByCode[codec.code]\n  }\n\n  /**\n   * @param {number | string} code\n   */\n  async getCodec (code) {\n    const table = typeof code === 'string' ? this._codecsByName : this._codecsByCode\n\n    if (table[code]) {\n      return table[code]\n    }\n\n    // If not supported, attempt to dynamically load this codec\n    const codec = await this._loadCodec(code)\n\n    if (table[code] == null) {\n      this.addCodec(codec)\n    }\n\n    return codec\n  }\n\n  listCodecs () {\n    return Object.values(this._codecsByName)\n  }\n}\n", "/**\n * @typedef {import('multiformats/hashes/interface').MultihashHasher} MultihashHasher\n * @typedef {import('./types').LoadHasherFn} LoadHasherFn\n * @typedef {import('ipfs-core-types/src/utils').AbortOptions} AbortOptions\n */\n\n/**\n * @type {LoadHasherFn}\n */\nconst LOAD_HASHER = (codeOrName) => Promise.reject(new Error(`No hasher found for \"${codeOrName}\"`))\n\nexport class Multihashes {\n  /**\n   * @param {object} options\n   * @param {LoadHasherFn} [options.loadHasher]\n   * @param {MultihashHasher[]} options.hashers\n   */\n  constructor (options) {\n    // Object with current list of active hashers\n    /** @type {Record<string, MultihashHasher>}} */\n    this._hashersByName = {}\n\n    // Object with current list of active hashers\n    /** @type {Record<number, MultihashHasher>}} */\n    this._hashersByCode = {}\n\n    this._loadHasher = options.loadHasher || LOAD_HASHER\n\n    // Enable all supplied hashers\n    for (const hasher of options.hashers) {\n      this.addHasher(hasher)\n    }\n  }\n\n  /**\n   * Add support for a multibase hasher\n   *\n   * @param {MultihashHasher} hasher\n   */\n  addHasher (hasher) {\n    if (this._hashersByName[hasher.name] || this._hashersByCode[hasher.code]) {\n      throw new Error(`Resolver already exists for codec \"${hasher.name}\"`)\n    }\n\n    this._hashersByName[hasher.name] = hasher\n    this._hashersByCode[hasher.code] = hasher\n  }\n\n  /**\n   * Remove support for a multibase hasher\n   *\n   * @param {MultihashHasher} hasher\n   */\n  removeHasher (hasher) {\n    delete this._hashersByName[hasher.name]\n    delete this._hashersByCode[hasher.code]\n  }\n\n  /**\n   * @param {number | string} code\n   */\n  async getHasher (code) {\n    const table = typeof code === 'string' ? this._hashersByName : this._hashersByCode\n\n    if (table[code]) {\n      return table[code]\n    }\n\n    // If not supported, attempt to dynamically load this hasher\n    const hasher = await this._loadHasher(code)\n\n    if (table[code] == null) {\n      this.addHasher(hasher)\n    }\n\n    return hasher\n  }\n\n  listHashers () {\n    return Object.values(this._hashersByName)\n  }\n}\n", "export async function* makeIterable(array) {\r\n\tlet nextIndex = 0;\r\n\twhile (nextIndex < array.length) {\r\n\t\tyield array[nextIndex++];\r\n\t}\r\n}\r\n\r\n// export async function makeIterable(array) {\r\n// \tlet nextIndex = 0;\r\n// \treturn {\r\n// \t\tnext() {\r\n// \t\t\treturn nextIndex < array.length\r\n// \t\t\t\t? {\r\n// \t\t\t\t\t\tvalue: array[nextIndex++],\r\n// \t\t\t\t\t\tdone: false\r\n// \t\t\t\t  }\r\n// \t\t\t\t: {\r\n// \t\t\t\t\t\tdone: true\r\n// \t\t\t\t  };\r\n// \t\t},\r\n// \t\t[Symbol.asyncIterator]() {\r\n// \t\t\treturn this;\r\n// \t\t}\r\n// \t};\r\n// }\r\n\r\n// export class MakeIterable {\r\n// \t#data;\r\n\r\n// \tconstructor(data) {\r\n// \t\tthis.#data = data;\r\n// \t}\r\n\r\n// \t[Symbol.iterator]() {\r\n// \t\t// Use a new index for each iterator. This makes multiple\r\n// \t\t// iterations over the iterable safe for non-trivial cases,\r\n// \t\t// such as use of break or nested looping over the same iterable.\r\n// \t\tlet index = 0;\r\n\r\n// \t\treturn {\r\n// \t\t\t// Note: using an arrow function allows `this` to point to the\r\n// \t\t\t// one of `[@@iterator]()` instead of `next()`\r\n// \t\t\tnext: () => {\r\n// \t\t\t\tif (index < this.#data.length) {\r\n// \t\t\t\t\treturn { value: this.#data[index++], done: false };\r\n// \t\t\t\t} else {\r\n// \t\t\t\t\treturn { done: true };\r\n// \t\t\t\t}\r\n// \t\t\t}\r\n// \t\t};\r\n// \t}\r\n// }\r\n", "import { BaseBlockstore } from './base.js'\nimport { base32 } from 'multiformats/bases/base32'\nimport * as raw from 'multiformats/codecs/raw'\nimport { CID } from 'multiformats/cid'\nimport * as Digest from 'multiformats/hashes/digest'\nimport * as Errors from './errors.js'\n\n/**\n * @typedef {import('interface-blockstore').Pair} Pair\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('interface-store').Options} Options\n */\n\n/**\n * @class MemoryBlockstore\n * @implements {Blockstore}\n */\nexport class MemoryBlockstore extends BaseBlockstore {\n  constructor () {\n    super()\n\n    /** @type {Record<string, Uint8Array>} */\n    this.data = {}\n  }\n\n  open () {\n    return Promise.resolve()\n  }\n\n  close () {\n    return Promise.resolve()\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Uint8Array} val\n   */\n  async put (key, val) { // eslint-disable-line require-await\n    this.data[base32.encode(key.multihash.bytes)] = val\n  }\n\n  /**\n   * @param {CID} key\n   */\n  async get (key) {\n    const exists = await this.has(key)\n    if (!exists) throw Errors.notFoundError()\n    return this.data[base32.encode(key.multihash.bytes)]\n  }\n\n  /**\n   * @param {CID} key\n   */\n  async has (key) { // eslint-disable-line require-await\n    return this.data[base32.encode(key.multihash.bytes)] !== undefined\n  }\n\n  /**\n   * @param {CID} key\n   */\n  async delete (key) { // eslint-disable-line require-await\n    delete this.data[base32.encode(key.multihash.bytes)]\n  }\n\n  async * _all () {\n    yield * Object.entries(this.data)\n      .map(([key, value]) => ({ key: CID.createV1(raw.code, Digest.decode(base32.decode(key))), value }))\n  }\n\n  async * _allKeys () {\n    yield * Object.entries(this.data)\n      .map(([key]) => CID.createV1(raw.code, Digest.decode(base32.decode(key))))\n  }\n}\n", "import errCode from 'err-code'\n\n/**\n * @param {Error} [err]\n */\nexport function notFoundError (err) {\n  err = err || new Error('Not Found')\n  return errCode(err, 'ERR_NOT_FOUND')\n}\n\n/**\n * @param {Error} [err]\n */\nexport function abortedError (err) {\n  err = err || new Error('Aborted')\n  return errCode(err, 'ERR_ABORTED')\n}\n"],
  "mappings": "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AC5BA,KAAO,EAET,OAAAzR,EAAMpH,GAAU6Y,EACT9I,CACT,CACA,SAAS4tC,GAAIn6C,EAAG,CACd,OAAIA,EAAI,IAAM,GACZA,IAEK,KAAK,OAAOo6C,GAAMp6C,CAAC,EAAI,GAAK,CAAC,CACtC,CACA,SAASo6C,GAAMp6C,EAAG,CAChB,IAAIgB,EAAI,EACR,OAAIhB,GAAK25C,KACP35C,EAAI,KAAK,MAAMA,EAAI25C,EAAQ,EAC3B34C,EAAI,IAEFhB,GAAK,GAAK,KACZA,KAAO,GACPgB,GAAK,IAEHhB,GAAK,GAAK,IACZA,KAAO,EACPgB,GAAK,GAEAA,EAAIq5C,GAAQr6C,EACrB,CACA,IAAMq6C,GAAU,CACd,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,CACF,ECpXA7/C,EAAAA,EAAA2W,GAAAA,EACA,IAAMmpC,GAAmB,CACvB,OACA,OACF,EACMC,GAAmB,CACvB,OACA,OACA,OACF,EACMvhC,GAAc,IAAI,YACxB,SAASwhC,GAAez6C,EAAGjB,EAAG,CAC5B,GAAIiB,IAAMjB,EACR,MAAO,GAET,IAAM27C,EAAO16C,EAAE,KAAOiZ,GAAY,OAAOjZ,EAAE,IAAI,EAAI,CAAC,EAC9C26C,EAAO57C,EAAE,KAAOka,GAAY,OAAOla,EAAE,IAAI,EAAI,CAAC,EAChDkB,EAAIy6C,EAAK,OACTx6C,EAAIy6C,EAAK,OACb,QAAS1/C,EAAI,EAAGC,EAAM,KAAK,IAAI+E,EAAGC,CAAC,EAAGjF,EAAIC,EAAK,EAAED,EAC/C,GAAIy/C,EAAKz/C,KAAO0/C,EAAK1/C,GAAI,CACvBgF,EAAIy6C,EAAKz/C,GACTiF,EAAIy6C,EAAK1/C,GACT,KACF,CAEF,OAAOgF,EAAIC,EAAI,GAAKA,EAAID,EAAI,EAAI,CAClC,CACA,SAAS26C,GAAkB/nC,EAAM6M,EAAY,CAC3C,MAAO,CAAC,OAAO,KAAK7M,CAAI,EAAE,KAAK4F,GAAK,CAACiH,EAAW,SAASjH,CAAC,CAAC,CAC7D,CAsEO,SAASoiC,GAAShoC,EAAM,C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",
  "names": ["require_base64_js", "__commonJSMin", "exports", "init_node_globals", "byteLength", "toByteArray", "fromByteArray", "lookup", "revLookup", "Arr", "code", "i", "len", "getLens", "b64", "validLen", "placeHoldersLen", "lens", "_byteLength", "tmp", "arr", "curByte", "tripletToBase64", "num", "encodeChunk", "uint8", "start", "end", "output", "extraBytes", "parts", "maxChunkLength", "len2", "require_ieee754", "__commonJSMin", "exports", "init_node_globals", "buffer", "offset", "isLE", "mLen", "nBytes", "e", "m", "eLen", "eMax", "eBias", "nBits", "i", "d", "s", "value", "c", "rt", "require_buffer", "__commonJSMin", "exports", "init_node_globals", "base64", "ieee754", "customInspectSymbol", "Buffer", "SlowBuffer", "K_MAX_LENGTH", "typedArraySupport", "arr", "proto", "createBuffer", "length", "buf", "arg", "encodingOrOffset", "allocUnsafe", "from", "value", "fromString", "fromArrayView", "isInstance", "fromArrayBuffer", "valueOf", "b", "fromObject", "assertSize", "size", "alloc", "fill", "encoding", "checked", "string", "byteLength", "actual", "fromArrayLike", "array", "i", "arrayView", "copy", "byteOffset", "obj", "len", "numberIsNaN", "a", "x", "y", "list", "buffer", "pos", "mustMatch", "loweredCase", "utf8ToBytes", "base64ToBytes", "slowToString", "start", "end", "hexSlice", "utf8Slice", "asciiSlice", "latin1Slice", "base64Slice", "utf16leSlice", "swap", "n", "m", "str", "max", "target", "thisStart", "thisEnd", "thisCopy", "targetCopy", "bidirectionalIndexOf", "val", "dir", "arrayIndexOf", "indexSize", "arrLength", "valLength", "read", "foundIndex", "found", "j", "hexWrite", "offset", "remaining", "strLen", "parsed", "utf8Write", "blitBuffer", "asciiWrite", "asciiToBytes", "base64Write", "ucs2Write", "utf16leToBytes", "res", "firstByte", "codePoint", "bytesPerSequence", "secondByte", "thirdByte", "fourthByte", "tempCodePoint", "decodeCodePointsArray", "MAX_ARGUMENTS_LENGTH", "codePoints", "ret", "out", "hexSliceLookupTable", "bytes", "newBuf", "checkOffset", "ext", "noAssert", "mul", "defineBigIntMethod", "validateNumber", "first", "last", "boundsError", "lo", "hi", "checkInt", "min", "maxBytes", "wrtBigUInt64LE", "checkIntBI", "wrtBigUInt64BE", "limit", "sub", "checkIEEE754", "writeFloat", "littleEndian", "writeDouble", "targetStart", "code", "errors", "E", "sym", "getMessage", "Base", "name", "range", "input", "msg", "received", "addNumericalSeparator", "checkBounds", "type", "INVALID_BASE64_RE", "base64clean", "units", "leadSurrogate", "byteArray", "c", "src", "dst", "alphabet", "table", "i16", "fn", "BufferBigIntNotDefined", "require_browser", "__commonJSMin", "exports", "module", "init_node_globals", "process", "cachedSetTimeout", "cachedClearTimeout", "defaultSetTimout", "defaultClearTimeout", "runTimeout", "fun", "runClearTimeout", "marker", "queue", "draining", "currentQueue", "queueIndex", "cleanUpNextTick", "drainQueue", "timeout", "len", "args", "i", "Item", "array", "noop", "name", "dir", "Buffer", "process", "init_node_globals", "__esmMin", "require_log", "__commonJSMin", "exports", "init_node_globals", "LOGS", "Log", "logLevel", "arweave", "str", "type", "require_block", "__commonJSMin", "exports", "init_node_globals", "log_1", "ArdbBlock", "obj", "require_transaction", "__commonJSMin", "exports", "init_node_globals", "log_1", "ArdbTransaction", "obj", "arweave", "require_ardb", "__commonJSMin", "exports", "init_node_globals", "__awaiter", "thisArg", "_arguments", "P", "generator", "adopt", "value", "resolve", "reject", "fulfilled", "step", "e", "rejected", "result", "__importDefault", "mod", "block_1", "transaction_1", "log_1", "ArDB", "arweave", "logLevel", "type", "id", "ids", "name", "tags", "ts", "tag", "values", "$oTags", "owners", "recipients", "min", "max", "limit", "sort", "after", "fields", "toInclude", "field", "filters", "filter", "query", "txs", "res", "edges", "edge", "hasNextPage", "cursor", "isTx", "r", "params", "owner", "fee", "quantity", "data", "block", "parent", "INVALID_BYTE", "Coder", "_paddingCharacter", "length", "data", "out", "i", "c", "left", "s", "paddingLength", "op", "haveBad", "v0", "v1", "v2", "v3", "b", "result", "exports", "stdCoder", "encode", "decode", "URLSafeCoder", "_super", "__extends", "urlSafeCoder", "encodeURLSafe", "decodeURLSafe", "init_node_globals", "require_base64_js", "__commonJSMin", "exports", "init_node_globals", "byteLength", "toByteArray", "fromByteArray", "lookup", "revLookup", "Arr", "code", "i", "len", "getLens", "b64", "validLen", "placeHoldersLen", "lens", "_byteLength", "tmp", "arr", "curByte", "tripletToBase64", "num", "encodeChunk", "uint8", "start", "end", "output", "extraBytes", "parts", "maxChunkLength", "len2", "require_ieee754", "buffer", "offset", "isLE", "mLen", "nBytes", "e", "m", "eLen", "eMax", "eBias", "nBits", "s", "value", "c", "rt", "d", "require_buffer", "base64", "Ld", "ieee754", "Rd", "customInspectSymbol", "Buffer", "SlowBuffer", "K_MAX_LENGTH", "typedArraySupport", "proto", "createBuffer", "length", "buf", "arg", "encodingOrOffset", "allocUnsafe", "from", "fromString", "fromArrayView", "isInstance", "fromArrayBuffer", "valueOf", "b", "fromObject", "assertSize", "size", "alloc", "fill", "encoding", "checked", "string", "actual", "fromArrayLike", "array", "arrayView", "copy", "byteOffset", "obj", "numberIsNaN", "a", "x", "y", "list", "pos", "mustMatch", "loweredCase", "utf8ToBytes", "base64ToBytes", "slowToString", "hexSlice", "utf8Slice", "asciiSlice", "latin1Slice", "base64Slice", "utf16leSlice", "swap", "n", "str", "max", "target", "thisStart", "thisEnd", "thisCopy", "targetCopy", "bidirectionalIndexOf", "val", "dir", "arrayIndexOf", "indexSize", "arrLength", "valLength", "read", "foundIndex", "found", "j", "hexWrite", "remaining", "strLen", "parsed", "utf8Write", "blitBuffer", "asciiWrite", "asciiToBytes", "base64Write", "ucs2Write", "utf16leToBytes", "res", "firstByte", "codePoint", "bytesPerSequence", "secondByte", "thirdByte", "fourthByte", "tempCodePoint", "decodeCodePointsArray", "MAX_ARGUMENTS_LENGTH", "codePoints", "ret", "out", "hexSliceLookupTable", "bytes", "newBuf", "checkOffset", "ext", "noAssert", "mul", "defineBigIntMethod", "validateNumber", "first", "last", "boundsError", "lo", "hi", "checkInt", "min", "maxBytes", "wrtBigUInt64LE", "checkIntBI", "wrtBigUInt64BE", "limit", "sub", "checkIEEE754", "writeFloat", "littleEndian", "writeDouble", "targetStart", "errors", "E", "sym", "getMessage", "Base", "name", "range", "input", "msg", "received", "addNumericalSeparator", "checkBounds", "type", "INVALID_BASE64_RE", "base64clean", "units", "leadSurrogate", "byteArray", "src", "dst", "alphabet", "table", "i16", "fn", "BufferBigIntNotDefined", "require_browser", "module", "process", "cachedSetTimeout", "cachedClearTimeout", "defaultSetTimout", "defaultClearTimeout", "runTimeout", "fun", "runClearTimeout", "marker", "queue", "draining", "currentQueue", "queueIndex", "cleanUpNextTick", "drainQueue", "timeout", "args", "Item", "noop", "global", "self", "__esmMin", "co", "tp", "require_encode", "encode", "MSB", "REST", "MSBALL", "INT", "oldOffset", "require_decode", "shift", "counter", "l", "require_length", "N1", "N2", "N3", "N4", "N5", "N6", "N7", "N8", "N9", "require_varint", "ip", "ap", "up", "REST$1", "MSB$1", "encode_1", "decode", "varint", "_brrp_varint", "varint_default", "init_varint", "encodeTo", "encodingLength", "data", "int", "bytes_exports", "__export", "coerce", "empty", "equals", "fromHex", "isBinary", "toHex", "toString", "init_bytes", "hex", "byte", "hexes", "aa", "bb", "ii", "o", "digest_exports", "Digest", "create", "init_digest", "digest", "sizeOffset", "digestOffset", "multihash", "base", "ALPHABET", "BASE_MAP", "xc", "BASE", "LEADER", "FACTOR", "iFACTOR", "source", "zeroes", "pbegin", "pend", "b58", "carry", "it1", "it2", "decodeUnsafe", "psz", "b256", "it3", "it4", "vch", "_brrp__multiformats_scope_baseX", "base_x_default", "init_base_x", "Encoder", "Decoder", "ComposedDecoder", "or", "Codec", "baseX", "rfc4648", "init_base", "prefix", "baseEncode", "baseDecode", "text", "decoder", "decoders", "left", "right", "bitsPerChar", "codes", "bits", "written", "pad", "mask", "base58_exports", "base58btc", "base58flickr", "init_base58", "base32_exports", "base32", "base32hex", "base32hexpad", "base32hexpadupper", "base32hexupper", "base32pad", "base32padupper", "base32upper", "base32z", "init_base32", "cid_exports", "CID", "parseCIDtoBytes", "toStringV0", "toStringV1", "DAG_PB_CODE", "SHA_256_CODE", "encodeCID", "cidSymbol", "readonly", "hidden", "version", "deprecate", "IS_CID_DEPRECATION", "init_cid", "other", "_baseCache", "cid", "remainder", "specs", "prefixSize", "multihashBytes", "digestBytes", "initialBytes", "next", "codec", "multihashCode", "digestSize", "multihashSize", "cache", "codeOffset", "hashOffset", "message", "Hasher", "init_hasher", "result", "init_src", "raw_exports", "init_raw", "node", "sha2_browser_exports", "sha256", "sha512", "sha", "init_sha2_browser", "require_ms", "h", "w", "options", "parse", "fmtLong", "fmtShort", "match", "ms", "msAbs", "plural", "isPlural", "require_common", "setup", "env", "createDebug", "disable", "enable", "enabled", "Hy", "destroy", "key", "selectColor", "namespace", "hash", "prevTime", "enableOverride", "namespacesCache", "enabledCache", "debug", "curr", "index", "format", "formatter", "extend", "v", "delimiter", "newDebug", "namespaces", "split", "toNamespace", "regexp", "formatArgs", "save", "load", "useColors", "localstorage", "warned", "lastC", "r", "Jy", "formatters", "error", "require_err_code", "assign", "props", "createError", "err", "ErrClass", "identity_exports", "identity", "init_identity", "base2_exports", "base2", "init_base2", "base8_exports", "base8", "init_base8", "base10_exports", "base10", "init_base10", "base16_exports", "base16", "base16upper", "init_base16", "base36_exports", "base36", "base36upper", "init_base36", "base64_exports", "base64pad", "base64url", "base64urlpad", "init_base64", "base256emoji_exports", "base256emoji", "p", "alphabetBytesToChars", "byts", "char", "byt", "alphabetCharsToBytes", "init_base256emoji", "json_exports", "textEncoder", "textDecoder", "init_json", "bases", "hashes", "codecs", "init_basics", "init_alloc", "createCodec", "ascii", "BASES", "bases_default", "init_bases", "to_string_exports", "init_to_string", "from_string_exports", "init_from_string", "require_it_length", "iterator", "count", "_", "require_aspromise", "asPromise", "ctx", "params", "pending", "resolve", "reject", "require_base64", "s64", "chunk", "t", "invalidEncoding", "require_eventemitter", "EventEmitter", "evt", "listeners", "require_float", "factory", "f32", "f8b", "le", "writeFloat_f32_cpy", "writeFloat_f32_rev", "readFloat_f32_cpy", "readFloat_f32_rev", "writeFloat_ieee754", "writeUint", "sign", "exponent", "mantissa", "writeUintLE", "writeUintBE", "readFloat_ieee754", "readUint", "uint", "readUintLE", "readUintBE", "f64", "writeDouble_f64_cpy", "writeDouble_f64_rev", "readDouble_f64_cpy", "readDouble_f64_rev", "writeDouble_ieee754", "off0", "off1", "readDouble_ieee754", "require_inquire", "require_utf8", "utf8", "c1", "c2", "require_pool", "pool", "slice", "SIZE", "MAX", "slab", "require_longbits", "LongBits", "util", "Pr", "zero", "zeroHash", "unsigned", "charCodeAt", "part0", "part1", "part2", "require_minimal", "Im", "Lm", "Nm", "zm", "qm", "Km", "Hm", "Jm", "prop", "sizeOrArray", "merge", "ifNotSet", "keys", "newError", "CustomError", "properties", "fieldNames", "fieldMap", "require_writer", "Writer", "BufferWriter", "Op", "State", "writer", "writeByte", "writeVarint32", "VarintOp", "writeVarint64", "writeFixed32", "writeBytes", "head", "tail", "BufferWriter_", "require_writer_buffer", "Bf", "writeStringBuffer", "require_reader", "Reader", "BufferReader", "indexOutOfRange", "reader", "writeLength", "create_array", "readLongVarint", "readFixed32_end", "readFixed64", "wireType", "BufferReader_", "require_reader_buffer", "Rf", "require_service", "Service", "rpcImpl", "requestDelimited", "responseDelimited", "rpcCall", "method", "requestCtor", "responseCtor", "request", "callback", "response", "endedByRPC", "require_rpc", "rpc", "yg", "require_roots", "require_index_minimal", "protobuf", "ig", "dg", "gg", "bg", "configure", "vg", "require_fnv1a", "concat_exports", "concat", "arrays", "acc", "init_concat", "require_ip_regex", "word", "v4", "v6seg", "v6", "v46Exact", "v4exact", "v6exact", "require_is_ip", "ipRegex", "Hg", "isIp", "require_ip", "Jg", "uint8ArrayToString", "W", "Oe", "Co", "isIP", "isV4", "isV6", "toBytes", "buff", "sections", "isv4", "v4Buffer", "argv", "view", "require_protocols_table", "Protocols", "V", "row", "resolvable", "path", "require_convert", "ew", "protocols", "Na", "q", "Wu", "xe", "Zs", "Le", "bo", "Ee", "be", "ke", "uint8ArrayFromString", "we", "hm", "uint8ArrayConcat", "$r", "$f", "Convert", "bytes2ip", "bytes2port", "bytes2str", "bytes2mh", "bytes2onion", "ip2bytes", "port2bytes", "str2bytes", "mh2bytes", "onion2bytes", "onion32bytes", "ipString", "ipBuff", "port", "mh", "address", "addr", "portBuf", "addrBytes", "portBytes", "require_codec", "convert", "fw", "stringToStringTuples", "stringTuplesToString", "tuplesToStringTuples", "stringTuplesToTuples", "bytesToTuples", "tuplesToBytes", "bytesToString", "stringToBytes", "fromBytes", "validateBytes", "isValidBytes", "cleanPath", "ParseError", "protoFromTuple", "sizeForAddr", "tuples", "part", "tup", "equals_exports", "init_equals", "require_src", "vw", "errCode", "ve", "inspect", "uint8ArrayEquals", "Ma", "_w", "resolvers", "symbol", "Multiaddr", "opts", "addrString", "tuple", "peerIdStr", "resolvableProto", "resolver", "names", "protos", "transport", "multiaddr", "require_bytes", "formatThousandsRegExp", "formatDecimalsRegExp", "map", "parseRegExp", "mag", "thousandsSeparator", "unitSeparator", "decimalPlaces", "fixedDecimals", "unit", "results", "floatValue", "require_is_plain_obj", "prototype", "require_merge_options", "isOptionObject", "$w", "hasOwnProperty", "propertyIsEnumerable", "defineProperty", "object", "globalThis", "defaultMergeOptions", "getEnumerableOwnPropertyKeys", "symbols", "clone", "cloneArray", "cloneOptionObject", "mergeKeys", "merged", "config", "concatArrays", "resultIndex", "indices", "k", "option", "require_eventemitter3", "has", "Events", "EE", "context", "once", "addListener", "emitter", "event", "listener", "clearEvent", "events", "handlers", "ee", "a1", "a2", "a3", "a4", "a5", "require_it_filter", "filter", "entry", "require_it_drain", "drain", "require_it_first", "require_it_map", "func", "require_it_batch", "batch", "things", "thing", "require_it_parallel_batch", "Vb", "parallelBatch", "tasks", "require_fixed_size", "hwm", "require_fast_fifo", "FixedFIFO", "Jb", "prev", "require_it_pushable", "FIFO", "Xb", "onEnd", "pushable", "onNext", "ended", "waitNext", "values", "bufferNext", "bufferError", "push", "_return", "_throw", "_pushable", "require_it_merge", "e0", "sources", "item", "require_it_all", "all", "require_it_take", "take", "items", "require_it_sort", "is", "sort", "sorter", "require_level_supports", "manifests", "manifest", "require_module_error", "require_text_endec", "lazy", "require_encoding", "ModuleError", "Ot", "formats", "Encoding", "require_formats", "Zl", "textEndec", "Ql", "BufferFormat", "ViewFormat", "UTF8Format", "require_encodings", "nh", "require_level_transcoder", "encodings", "O0", "kFormats", "kEncodings", "validFormats", "Transcoder", "f", "resolved", "maybeType", "anonymousCount", "detectFormat", "aliases", "require_events", "R", "ReflectApply", "receiver", "ReflectOwnKeys", "ProcessEmitWarning", "warning", "NumberIsNaN", "defaultMaxListeners", "checkListener", "_getMaxListeners", "that", "doError", "er", "handler", "arrayClone", "_addListener", "prepend", "existing", "onceWrapper", "_onceWrap", "state", "wrapped", "position", "originalListener", "spliceOne", "_listeners", "unwrap", "evlistener", "unwrapListeners", "listenerCount", "errorListener", "eventTargetAgnosticAddListener", "addErrorHandlerIfEventEmitter", "flags", "wrapListener", "require_next_tick_browser", "require_catering", "nextTick", "W0", "promise", "def", "require_abstract_iterator", "fromCallback", "fs", "getOptions", "getCallback", "Ec", "kPromise", "kCallback", "kWorking", "kHandleOne", "kHandleMany", "kAutoClose", "kFinishWork", "kReturnMany", "kClosing", "kHandleClose", "kClosed", "kCloseCallbacks", "kKeyEncoding", "kValueEncoding", "kAbortOnClose", "kLegacy", "kKeys", "kValues", "kLimit", "kCount", "emptyOptions", "warnedEnd", "CommonIterator", "db", "legacy", "hint", "onnext", "nextv", "onnextv", "cb", "keyEncoding", "keyFormat", "mapped", "callbacks", "AbstractIterator", "IteratorDecodeError", "entries", "AbstractKeyIterator", "AbstractValueIterator", "subject", "cause", "require_default_kv_iterator", "rn", "kIterator", "DefaultKeyIterator", "DefaultValueIterator", "Iterator", "mapEntry", "require_deferred_iterator", "kNut", "kUndefer", "kFactory", "DeferredIterator", "DeferredKeyIterator", "DeferredValueIterator", "require_abstract_chained_batch", "kStatus", "kOperations", "kFinishClose", "AbstractChainedBatch", "original", "valueEncoding", "mappedKey", "mappedValue", "require_default_chained_batch", "Eh", "kEncoded", "DefaultChainedBatch", "require_range_options", "rangeOptions", "require_queue_microtask", "queueMicrotask", "vh", "require_abstract_sublevel_iterator", "kUnfix", "AbstractSublevelIterator", "unfix", "AbstractSublevelKeyIterator", "AbstractSublevelValueIterator", "require_abstract_sublevel", "fE", "kPrefix", "kUpperBound", "kPrefixRange", "kParent", "defaults", "AbstractLevel", "AbstractSublevel", "separator", "forward", "trim", "reserved", "parent", "mergeManifests", "upperBound", "MultiFormat", "Unfixer", "operations", "supportsEncoding", "prefixLength", "require_abstract_level", "supports", "_0", "L0", "V0", "Q0", "Y0", "tE", "iE", "kLanded", "kResources", "kCloseResources", "kDeferOpen", "kOptions", "kDefaultOptions", "kTranscoder", "passive", "maybeOpened", "maybeClosed", "cancel", "sync", "resource", "maybeError", "valueFormat", "mappedKeys", "op", "valueErr", "uE", "pE", "kh", "require_run_parallel_limit", "runParallelLimit", "isErrored", "isSync", "done", "each", "task", "require_key_range", "lower", "upper", "lowerExclusive", "upperExclusive", "require_deserialize", "require_iterator", "Lh", "createKeyRange", "Rh", "deserialize", "Nh", "kCache", "kFinished", "kCurrentOptions", "kPosition", "kLocation", "kFirst", "location", "keyRange", "transaction", "store", "ev", "cursor", "maybeCommit", "complete", "require_clear", "direction", "require_browser_level", "parallel", "wE", "SE", "clear", "TE", "DEFAULT_PREFIX", "kIDB", "kNamePrefix", "kVersion", "kStore", "kOnComplete", "BrowserLevel", "req", "mode", "loop", "LE", "require_time_browser", "require_retimer", "getTime", "VE", "Retimer", "now", "retimer", "require_timeout_abort_controller", "AbortController", "WE", "TimeoutController", "require_any_signal", "anySignal", "signals", "controller", "onAbort", "signal", "require_it_last", "require_url_browser", "isReactNative", "getDefaultBase", "URL", "defaultBase", "URLWithLegacySupport", "url", "host", "hostname", "href", "password", "pathname", "protocol", "search", "username", "userPass", "auth", "require_relative", "Sd", "protocolMap", "defaultProtocol", "urlParsed", "require_iso_url", "URLSearchParams", "relative", "Wx", "require_it_peekable", "peekableIterator", "iterable", "import_varint", "typeofs", "objectTypeNames", "typeOf", "isBuffer", "getObjectType", "objectTypeName", "Type", "major", "terminal", "typ", "Token", "encodedLength", "useBuffer", "asU8A", "fromArray", "chunks", "off", "compare", "b1", "b2", "defaultChunkSize", "Bl", "chunkSize", "topChunk", "chunkPos", "reset", "decodeErrPrefix", "encodeErrPrefix", "uintMinorPrefixBytes", "assertEnoughData", "need", "uintBoundaries", "readUint8", "readUint16", "readUint32", "readUint64", "decodeUint8", "_minor", "decodeUint16", "decodeUint32", "decodeUint64", "encodeUint", "token", "encodeUintValue", "nuint", "buint", "set", "tok1", "tok2", "decodeNegint8", "decodeNegint16", "decodeNegint32", "neg1b", "pos1b", "decodeNegint64", "encodeNegint", "negint", "toToken", "decodeBytesCompact", "minor", "_options", "decodeBytes8", "decodeBytes16", "decodeBytes32", "decodeBytes64", "tokenBytes", "encodeBytes", "compareBytes", "totLength", "tok", "decodeStringCompact", "decodeString8", "decodeString16", "decodeString32", "decodeString64", "encodeString", "_data", "_pos", "decodeArrayCompact", "decodeArray8", "decodeArray16", "decodeArray32", "decodeArray64", "decodeArrayIndefinite", "encodeArray", "decodeMapCompact", "decodeMap8", "decodeMap16", "decodeMap32", "decodeMap64", "decodeMapIndefinite", "encodeMap", "decodeTagCompact", "decodeTag8", "decodeTag16", "decodeTag32", "decodeTag64", "encodeTag", "MINOR_FALSE", "MINOR_TRUE", "MINOR_NULL", "MINOR_UNDEFINED", "decodeUndefined", "decodeBreak", "createToken", "decodeFloat16", "readFloat16", "decodeFloat32", "readFloat32", "decodeFloat64", "readFloat64", "encodeFloat", "float", "decoded", "success", "encodeFloat16", "ui8a", "encodeFloat32", "encodeFloat64", "dataView", "inp", "valu32", "logicalExponent", "half", "exp", "mant", "invalidMinor", "errorer", "jump", "quick", "quickEncodeToken", "defaultEncodeOptions", "mapSorter", "makeCborEncoders", "encoders", "cborEncoders", "Ref", "stack", "simpleTokens", "typeEncoders", "_typ", "_refStack", "_obj", "refStack", "objectToTokens", "isMap", "sortMapEntries", "customTypeEncoder", "tokens", "typeEncoder", "e1", "e2", "keyToken1", "keyToken2", "tcmp", "tokensToEncoded", "encodeCustom", "quickBytes", "encoder", "defaultDecodeOptions", "Tokeniser", "DONE", "BREAK", "tokenToArray", "tokeniser", "tokensToObject", "tokenToMap", "useMaps", "tagged", "tokensToLength", "esm_exports", "CID_CBOR_TAG", "cidEncoder", "undefinedEncoder", "numberEncoder", "encodeOptions", "cidDecoder", "decodeOptions", "CarBufferWriter", "headerSize", "root", "addRoot", "block", "addBlock", "close", "resize", "roots", "headerLength", "resizeHeader", "blockLength", "vo", "headerBytes", "varintBytes", "writeHeader", "header", "headerPreludeTokens", "CID_TAG", "calculateHeaderLength", "rootLengths", "rootLength", "createWriter", "Kinds", "Types", "CarHeader", "CIDV0_BYTES", "V2_HEADER_LENGTH", "readVarint", "readV2Header", "dv", "readHeader", "strictVersion", "hasRoots", "v2Header", "v1Header", "readMultihash", "codeLength", "lengthLength", "mhLength", "readCid", "readBlockHead", "readBlock", "readBlockIndex", "createDecoder", "headerPromise", "v1length", "limitReader", "bytesReader", "chunkReader", "readChunk", "have", "currentChunk", "bufa", "asyncIterableReader", "asyncIterable", "byteLimit", "bytesRead", "CarReader", "blocks", "decodeReaderComplete", "CarIndexer", "decodeIndexerComplete", "CarIteratorBase", "CarBlockIterator", "fromIterable", "CarCIDIterator", "decodeIterator", "createHeader", "Yu", "createEncoder", "chunkQueue", "drainer", "drainerResolver", "outWait", "outWaitResolver", "makeDrainer", "CarWriter", "toRoots", "encodeWriter", "CarWriterOut", "newHeader", "iw", "_roots", "_root", "enumerable", "configurable", "links", "element", "elementPath", "tree", "get", "Block", "hasher", "createUnsafe", "maybeValue", "fa", "Map", "on", "splice", "indexOf", "emit", "hashcode", "Transaction", "mitt_default", "objectSafeGet", "propsArg", "defaultValue", "import_debug", "at", "import_err_code", "nanoid", "id", "pathSepS", "pathSepB", "pathSep", "Key", "clean", "list1", "list2", "ns", "namespaceType", "namespaceValue", "flatten", "import_it_length", "xf", "log", "mm", "blockstore", "keyToMultihash", "multihashStr", "keyToCid", "backends", "onProgress", "keyFunction", "unwrapped", "blockCount", "gm", "newKey", "migration", "decodeVarint", "decodeBytes", "byteLen", "postOffset", "decodeKey", "wire", "decodeLink", "link", "fieldNum", "decodeNode", "linksBeforeData", "maxInt32", "maxUInt32", "encodeLink", "encodeVarint", "nameBytes", "encodeNode", "sizeNode", "sizeLink", "sov", "len64", "len8tab", "pbNodeProperties", "pbLinkProperties", "linkComparator", "abuf", "bbuf", "hasOnlyProperties", "validate", "pbn", "import_minimal", "Ur", "$Reader", "An", "$protobuf", "$Writer", "$util", "$root", "ipfs", "pin", "Set", "ks", "import_fnv1a", "Tg", "PIN_DS_KEY", "DEFAULT_FANOUT", "MAX_ITEMS", "EMPTY_KEY", "PinTypes", "cidToKey", "PinSet", "rootNode", "rootData", "hdrLength", "Ca", "vBytes", "hdrSlice", "seed", "encodedKey", "Og", "fnv1a", "walkItems", "pbh", "idx", "linkHash", "loadSet", "storeItems", "storePins", "pins", "depth", "pbHeader", "headerBuf", "fanoutLinks", "nodes", "rootLinks", "bins", "bin", "child", "storeChild", "binIdx", "storeSet", "cids", "pinsToDatastore", "datastore", "pinstore", "pinRootBuf", "pinRoot", "pinCount", "Ia", "pinsToDAG", "recursivePins", "directPins", "errors_exports", "abortedError", "dbDeleteFailedError", "dbOpenFailedError", "dbWriteFailedError", "notFoundError", "Ci", "CONFIG_KEY", "VERSION_KEY", "findLevelJs", "hasWithFallback", "levelJs", "getWithFallback", "wrapStore", "originalGet", "originalHas", "wrapBackends", "keysToBinary", "withEach", "keysToStrings", "datastores", "backend", "migrated", "progress", "it", "handleNext", "handleEnd", "err2", "MFS_ROOT_KEY", "storeMfsRootInDatastore", "storeMfsRootInRoot", "Cn", "sr", "Addresses", "Address", "$oneOfFields", "CertifiedRecord", "ar", "Peer", "Metadata", "In", "Envelope", "jr", "PeerRecord", "AddressInfo", "import_multiaddr", "Tw", "cl", "storePeerUnderSingleDatastoreKey", "peers", "keyStr", "peerId", "metadataKey", "addrs", "al", "peer", "storePeerUnderMultipleDatastoreKeys", "_prefix", "peerRecordEnvelope", "certifiedRecord", "envelope", "record", "emptyMigration", "migrations_default", "InvalidValueError", "MissingRepoOptionsError", "NonReversibleMigrationError", "NotInitializedRepoError", "RequiredParameterError", "Iw", "isRepoInitialized", "versionCheck", "configCheck", "getVersion", "setVersion", "Bw", "getLatestMigrationVersion", "migrations", "migrate", "repoOptions", "toVersion", "ignoreLock", "isDryRun", "currentVersion", "verifyAvailableMigrations", "lock", "progressCallback", "percent", "lastSuccessfullyMigratedVersion", "revert", "reversedMigrationArray", "lastSuccessfullyRevertedVersion", "fromVersion", "checkReversibility", "migrationCounter", "import_bytes", "Fw", "import_index", "Kw", "merge_options_default", "Ww", "mergeOptions", "LockExistsError", "NotFoundError", "InvalidRepoVersionError", "ERR_REPO_NOT_INITIALIZED", "ERR_REPO_ALREADY_OPEN", "ERR_REPO_ALREADY_CLOSED", "Xw", "versionKey", "expected", "import_eventemitter3", "tb", "TimeoutError", "AbortError", "getDOMException", "errorMessage", "getAbortedReason", "reason", "pTimeout", "milliseconds", "fallback", "timer", "cancelablePromise", "timeoutError", "lowerBound", "comparator", "step", "__classPrivateFieldGet", "kind", "_PriorityQueue_queue", "PriorityQueue", "run", "__classPrivateFieldSet", "_PQueue_instances", "_PQueue_carryoverConcurrencyCount", "_PQueue_isIntervalIgnored", "_PQueue_intervalCount", "_PQueue_intervalCap", "_PQueue_interval", "_PQueue_intervalEnd", "_PQueue_intervalId", "_PQueue_timeoutId", "_PQueue_queue", "_PQueue_queueClass", "_PQueue_pendingCount", "_PQueue_concurrency", "_PQueue_isPaused", "_PQueue_throwOnTimeout", "_PQueue_doesIntervalAllowAnother_get", "_PQueue_doesConcurrentAllowAnother_get", "_PQueue_next", "_PQueue_emitEvents", "_PQueue_onResumeInterval", "_PQueue_isIntervalPaused_get", "_PQueue_tryToStartAnother", "_PQueue_initializeIntervalIfNeeded", "_PQueue_onInterval", "_PQueue_processQueue", "_PQueue_onEvent", "PQueue", "fb", "_a", "_b", "_c", "_d", "newConcurrency", "functions", "function_", "delay", "canInitializeInterval", "job", "objectSafeSet", "lastProp", "prototypeCheck", "thisProp", "Queue", "configKey", "setQueue", "configStore", "encodedValue", "nc", "_maybeDoSet", "_saveAll", "isPlainObject", "sortKeys", "deep", "seenInput", "seenOutput", "deepSortArray", "seenIndex", "_sortKeys", "newValue", "specKey", "spec", "apiFile", "apiAddr", "import_it_filter", "Rn", "getNext", "import_it_drain", "Nn", "createIdStore", "query", "extracted", "extractContents", "isIdentity", "pairs", "Eb", "xb", "lockFile", "LOCKS", "file", "locked", "MemoryLock", "default_options_default", "default_datastore_default", "import_it_first", "Al", "Cb", "encoded", "Ib", "walkDag", "loadCodec", "childCid", "QuickLRU", "maxAge", "expiry", "deleted", "newSize", "removeCount", "oldCacheSize", "callbackFunction", "thisArgument", "CID_CACHE_MAX_SIZE", "invalidPinTypeErr", "errMsg", "Ob", "PinManager", "Bb", "types", "direct", "recursive", "indirect", "Cl", "findChild", "parentCid", "seen", "import_it_map", "ji", "createPinnedBlockstore", "ensureNotPinned", "Rb", "pinned", "Nb", "customTimers", "WORKER_REQUEST_READ_LOCK", "WORKER_RELEASE_READ_LOCK", "MASTER_GRANT_READ_LOCK", "WORKER_REQUEST_WRITE_LOCK", "WORKER_RELEASE_WRITE_LOCK", "MASTER_GRANT_WRITE_LOCK", "observable", "worker", "src_default", "handleWorkerLockRequest", "masterEvent", "requestType", "releaseType", "grantType", "requestEvent", "releaseEventListener", "releaseEvent", "makeWorkerLockRequest", "responseEvent", "defaultOptions", "browser_default", "mutexes", "implementation", "createReleaseable", "createMutex", "masterQueue", "readQueue", "localReadQueue", "readPromise", "createMortice", "release", "import_it_parallel_batch", "Wb", "import_it_merge", "cc", "rawPipe", "fns", "isIterable", "isDuplex", "duplexPipelineFn", "duplex", "stream", "r0", "pipe", "rest", "i0", "ERR_NOT_FOUND", "BLOCK_RM_CONCURRENCY", "gc", "gcLock", "markedSet", "createMarkedSet", "blockKeys", "deleteUnmarkedBlocks", "mfsSource", "rootCid", "pinsSource", "Vl", "uc", "blocksCount", "removedBlocksCount", "o0", "b32", "s0", "u0", "noLimit", "AUTO_MIGRATE_CONFIG_KEY", "Repo", "pinnedBlockstore", "buildConfig", "buildDatastoreSpec", "Fn", "lockfile", "storageMax", "getSize", "autoMigrateConfig", "f0", "sum", "createRepo", "_config", "mounting", "SHARDING_FN", "README_FN", "import_it_all", "sortAll", "m0", "import_it_take", "os", "BaseDatastore", "puts", "dels", "Hl", "Un", "Gl", "MemoryDatastore", "shardKey", "shardReadmeKey", "Wt", "logger", "import_it_sort", "x0", "import_level", "NE", "LevelDatastore", "FE", "ops", "As", "jh", "Mh", "PE", "iteratorOpts", "levelIteratorToIterator", "oldLevelIteratorToIterator", "li", "ME", "BaseBlockstore", "qh", "Zn", "Vh", "jE", "errcode", "convertPrefix", "firstChar", "convertQuery", "pair", "order", "convertKeyQuery", "BlockstoreDatastoreAdapter", "Kh", "print", "repoPath", "codeOrName", "import_timeout_abort_controller", "JE", "import_any_signal", "YE", "durationRE", "unitRatio", "parse_duration_default", "withTimeoutOption", "optionsArgIndex", "ex", "tx", "fnRes", "timeoutPromise", "_resolve", "maybeThrowTimeoutError", "walk", "b58Cid", "NO_LINKS_CODECS", "createExport", "repo", "preload", "dagExport", "makeLoader", "import_it_last", "ox", "boundry", "v6segment", "ip_regex_default", "functionTimeout", "wrappedFunction", "arguments_", "isTimeoutError", "isRegexp", "flagMap", "clonedRegexp", "flag", "isMatch", "regex", "maxIPv4Length", "maxIPv6Length", "isIPv6", "isIPv4", "createProtocol", "getProtocol", "convertToString", "bytes2mb", "convertToBytes", "mb2bytes", "anybaseDecoder", "Yt", "mbstr", "mb", "io", "DNS_CODES", "P2P_CODES", "isMultiaddr", "DefaultMultiaddr", "fd", "xx", "oo", "Ed", "Rx", "DNS4", "DNS6", "DNSADDR", "DNS", "IP", "TCP", "and", "UDP", "UTP", "QUIC", "WebSockets", "WebSocketsSecure", "HTTP", "HTTPS", "WebRTCStar", "WebSocketStar", "WebRTCDirect", "Reliable", "Stardust", "_P2P", "_Circuit", "CircuitRecursive", "Circuit", "P2P", "makeMatchesFunction", "partialMatch", "matches", "ma", "pnames", "import_iso_url", "Gx", "IPFS_PREFIX", "toCidAndPath", "Ad", "resolvePath", "ipfsPath", "lastCid", "lastRemainderPath", "remainderPath", "withTimeout", "Td", "createGet", "Xx", "Zx", "import_it_peekable", "n1", "createImport", "dagImport", "abortOptions", "peekable", "i1", "itPeekable", "cars", "car", "importCar", "pinErrorMsg", "o1", "s1", "createPut", "hashers", "put", "dagNode", "storeCodec", "inputCodec", "cidVersion", "createResolve", "dagResolve", "DagAPI", "lib_exports", "toGeneral", "toBase64url", "fromBase64url", "fromSplit", "protectedHeader", "payload", "signature", "encodeSignature", "jws", "decodeSignature", "encrypted_key", "iv", "ciphertext", "tag", "jwe", "encodeRecipient", "recipient", "encRec", "encJwe", "decodeRecipient", "isDagJWS", "jose", "isEncodedJWS", "isEncodedJWE", "isDagJWE", "encodedJose", "LOAD_CODEC", "Multicodecs", "LOAD_HASHER", "Multihashes", "makeIterable", "nextIndex", "x1", "MemoryBlockstore", "DagRepo", "multihashHashers", "existingTx", "tagNode", "rootObj", "tagNodeCid", "newBlock", "txCid", "currentDag", "buffers", "importBuffer", "dag", "_1", "createDagRepo", "blockCodecs", "multicodecs", "initConfig", "repoConfig", "ArDBMod", "import_base64", "AR_DAG", "ArDB", "persist", "buffer", "arweave", "wallet", "rootCID", "xn", "carCid", "Ky", "tx", "tags", "tag", "load", "dagOwner", "dag", "searchTags", "txs", "importer", "data", "cid", "D1", "error", "get", "latest", "latestCID", "root", "rootNode", "getInstance", "obj", "r", "initializeArDag", "post", "boundPost"]
}
