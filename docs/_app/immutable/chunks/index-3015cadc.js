var Vn=Object.create,vt$1=Object.defineProperty,jn$1=Object.getOwnPropertyDescriptor,qn$1=Object.getOwnPropertyNames,Gn=Object.getPrototypeOf,Hn$1=Object.prototype.hasOwnProperty,Wn$1=(e,t)=>()=>(e&&(t=e(e=0)),t),ce$1=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Xn$1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qn$1(t))!Hn$1.call(e,o)&&o!==r&&vt$1(e,o,{get:()=>t[o],enumerable:!(n=jn$1(t,o))||n.enumerable});return e},Yn$1=(e,t,r)=>(r=e!=null?Vn(Gn(e)):{},Xn$1(t||!e||!e.__esModule?vt$1(r,"default",{value:e,enumerable:!0}):r,e)),Ot$2=ce$1(e=>{d$1(),e.byteLength=k,e.toByteArray=q,e.fromByteArray=V;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,w=o.length;s<w;++s)t[s]=o[s],r[o.charCodeAt(s)]=s;var s,w;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function g(X){var L=X.length;if(L%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var we=X.indexOf("=");we===-1&&(we=L);var Ee=we===L?0:4-we%4;return[we,Ee]}function k(X){var L=g(X),we=L[0],Ee=L[1];return(we+Ee)*3/4-Ee}function P(X,L,we){return(L+we)*3/4-we}function q(X){var L,we=g(X),Ee=we[0],_e=we[1],je=new n(P(X,Ee,_e)),Xt=0,Gt=_e>0?Ee-4:Ee,ot;for(ot=0;ot<Gt;ot+=4)L=r[X.charCodeAt(ot)]<<18|r[X.charCodeAt(ot+1)]<<12|r[X.charCodeAt(ot+2)]<<6|r[X.charCodeAt(ot+3)],je[Xt++]=L>>16&255,je[Xt++]=L>>8&255,je[Xt++]=L&255;return _e===2&&(L=r[X.charCodeAt(ot)]<<2|r[X.charCodeAt(ot+1)]>>4,je[Xt++]=L&255),_e===1&&(L=r[X.charCodeAt(ot)]<<10|r[X.charCodeAt(ot+1)]<<4|r[X.charCodeAt(ot+2)]>>2,je[Xt++]=L>>8&255,je[Xt++]=L&255),je}function ie(X){return t[X>>18&63]+t[X>>12&63]+t[X>>6&63]+t[X&63]}function he(X,L,we){for(var Ee,_e=[],je=L;je<we;je+=3)Ee=(X[je]<<16&16711680)+(X[je+1]<<8&65280)+(X[je+2]&255),_e.push(ie(Ee));return _e.join("")}function V(X){for(var L,we=X.length,Ee=we%3,_e=[],je=16383,Xt=0,Gt=we-Ee;Xt<Gt;Xt+=je)_e.push(he(X,Xt,Xt+je>Gt?Gt:Xt+je));return Ee===1?(L=X[we-1],_e.push(t[L>>2]+t[L<<4&63]+"==")):Ee===2&&(L=(X[we-2]<<8)+X[we-1],_e.push(t[L>>10]+t[L>>4&63]+t[L<<2&63]+"=")),_e.join("")}}),zt$1=ce$1(e=>{d$1(),e.read=function(t,r,n,o,s){var w,g,k=s*8-o-1,P=(1<<k)-1,q=P>>1,ie=-7,he=n?s-1:0,V=n?-1:1,X=t[r+he];for(he+=V,w=X&(1<<-ie)-1,X>>=-ie,ie+=k;ie>0;w=w*256+t[r+he],he+=V,ie-=8);for(g=w&(1<<-ie)-1,w>>=-ie,ie+=o;ie>0;g=g*256+t[r+he],he+=V,ie-=8);if(w===0)w=1-q;else{if(w===P)return g?NaN:(X?-1:1)*(1/0);g=g+Math.pow(2,o),w=w-q}return(X?-1:1)*g*Math.pow(2,w-o)},e.write=function(t,r,n,o,s,w){var g,k,P,q=w*8-s-1,ie=(1<<q)-1,he=ie>>1,V=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,X=o?0:w-1,L=o?1:-1,we=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(k=isNaN(r)?1:0,g=ie):(g=Math.floor(Math.log(r)/Math.LN2),r*(P=Math.pow(2,-g))<1&&(g--,P*=2),g+he>=1?r+=V/P:r+=V*Math.pow(2,1-he),r*P>=2&&(g++,P/=2),g+he>=ie?(k=0,g=ie):g+he>=1?(k=(r*P-1)*Math.pow(2,s),g=g+he):(k=r*Math.pow(2,he-1)*Math.pow(2,s),g=0));s>=8;t[n+X]=k&255,X+=L,k/=256,s-=8);for(g=g<<s|k,q+=s;q>0;t[n+X]=g&255,X+=L,g/=256,q-=8);t[n+X-L]|=we*128}}),nr$1=ce$1(e=>{d$1();var t=Ot$2(),r=zt$1(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=g,e.SlowBuffer=_e,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,g.TYPED_ARRAY_SUPPORT=s(),!g.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let y=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(y,E),y.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});function w(y){if(y>o)throw new RangeError('The value "'+y+'" is invalid for option "size"');let E=new Uint8Array(y);return Object.setPrototypeOf(E,g.prototype),E}function g(y,E,I){if(typeof y=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ie(y)}return k(y,E,I)}g.poolSize=8192;function k(y,E,I){if(typeof y=="string")return he(y,E);if(ArrayBuffer.isView(y))return X(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(la(y,ArrayBuffer)||y&&la(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(la(y,SharedArrayBuffer)||y&&la(y.buffer,SharedArrayBuffer)))return L(y,E,I);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let Ie=y.valueOf&&y.valueOf();if(Ie!=null&&Ie!==y)return g.from(Ie,E,I);let et=we(y);if(et)return et;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return g.from(y[Symbol.toPrimitive]("string"),E,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}g.from=function(y,E,I){return k(y,E,I)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array);function P(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function q(y,E,I){return P(y),y<=0?w(y):E!==void 0?typeof I=="string"?w(y).fill(E,I):w(y).fill(E):w(y)}g.alloc=function(y,E,I){return q(y,E,I)};function ie(y){return P(y),w(y<0?0:Ee(y)|0)}g.allocUnsafe=function(y){return ie(y)},g.allocUnsafeSlow=function(y){return ie(y)};function he(y,E){if((typeof E!="string"||E==="")&&(E="utf8"),!g.isEncoding(E))throw new TypeError("Unknown encoding: "+E);let I=je(y,E)|0,Ie=w(I),et=Ie.write(y,E);return et!==I&&(Ie=Ie.slice(0,et)),Ie}function V(y){let E=y.length<0?0:Ee(y.length)|0,I=w(E);for(let Ie=0;Ie<E;Ie+=1)I[Ie]=y[Ie]&255;return I}function X(y){if(la(y,Uint8Array)){let E=new Uint8Array(y);return L(E.buffer,E.byteOffset,E.byteLength)}return V(y)}function L(y,E,I){if(E<0||y.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<E+(I||0))throw new RangeError('"length" is outside of buffer bounds');let Ie;return E===void 0&&I===void 0?Ie=new Uint8Array(y):I===void 0?Ie=new Uint8Array(y,E):Ie=new Uint8Array(y,E,I),Object.setPrototypeOf(Ie,g.prototype),Ie}function we(y){if(g.isBuffer(y)){let E=Ee(y.length)|0,I=w(E);return I.length===0||y.copy(I,0,0,E),I}if(y.length!==void 0)return typeof y.length!="number"||ja(y.length)?w(0):V(y);if(y.type==="Buffer"&&Array.isArray(y.data))return V(y.data)}function Ee(y){if(y>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return y|0}function _e(y){return+y!=y&&(y=0),g.alloc(+y)}g.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==g.prototype},g.compare=function(y,E){if(la(y,Uint8Array)&&(y=g.from(y,y.offset,y.byteLength)),la(E,Uint8Array)&&(E=g.from(E,E.offset,E.byteLength)),!g.isBuffer(y)||!g.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===E)return 0;let I=y.length,Ie=E.length;for(let et=0,rr=Math.min(I,Ie);et<rr;++et)if(y[et]!==E[et]){I=y[et],Ie=E[et];break}return I<Ie?-1:Ie<I?1:0},g.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(y,E){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return g.alloc(0);let I;if(E===void 0)for(E=0,I=0;I<y.length;++I)E+=y[I].length;let Ie=g.allocUnsafe(E),et=0;for(I=0;I<y.length;++I){let rr=y[I];if(la(rr,Uint8Array))et+rr.length>Ie.length?(g.isBuffer(rr)||(rr=g.from(rr)),rr.copy(Ie,et)):Uint8Array.prototype.set.call(Ie,rr,et);else if(g.isBuffer(rr))rr.copy(Ie,et);else throw new TypeError('"list" argument must be an Array of Buffers');et+=rr.length}return Ie};function je(y,E){if(g.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||la(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);let I=y.length,Ie=arguments.length>2&&arguments[2]===!0;if(!Ie&&I===0)return 0;let et=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return Qr(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return yo(y).length;default:if(et)return Ie?-1:Qr(y).length;E=(""+E).toLowerCase(),et=!0}}g.byteLength=je;function Xt(y,E,I){let Ie=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,E>>>=0,I<=E))return"";for(y||(y="utf8");;)switch(y){case"hex":return Ka(this,E,I);case"utf8":case"utf-8":return ei(this,E,I);case"ascii":return Ca(this,E,I);case"latin1":case"binary":return wo(this,E,I);case"base64":return ao(this,E,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Js(this,E,I);default:if(Ie)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),Ie=!0}}g.prototype._isBuffer=!0;function Gt(y,E,I){let Ie=y[E];y[E]=y[I],y[I]=Ie}g.prototype.swap16=function(){let y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<y;E+=2)Gt(this,E,E+1);return this},g.prototype.swap32=function(){let y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<y;E+=4)Gt(this,E,E+3),Gt(this,E+1,E+2);return this},g.prototype.swap64=function(){let y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<y;E+=8)Gt(this,E,E+7),Gt(this,E+1,E+6),Gt(this,E+2,E+5),Gt(this,E+3,E+4);return this},g.prototype.toString=function(){let y=this.length;return y===0?"":arguments.length===0?ei(this,0,y):Xt.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(y){if(!g.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:g.compare(this,y)===0},g.prototype.inspect=function(){let y="",E=e.INSPECT_MAX_BYTES;return y=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(y+=" ... "),"<Buffer "+y+">"},n&&(g.prototype[n]=g.prototype.inspect),g.prototype.compare=function(y,E,I,Ie,et){if(la(y,Uint8Array)&&(y=g.from(y,y.offset,y.byteLength)),!g.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(E===void 0&&(E=0),I===void 0&&(I=y?y.length:0),Ie===void 0&&(Ie=0),et===void 0&&(et=this.length),E<0||I>y.length||Ie<0||et>this.length)throw new RangeError("out of range index");if(Ie>=et&&E>=I)return 0;if(Ie>=et)return-1;if(E>=I)return 1;if(E>>>=0,I>>>=0,Ie>>>=0,et>>>=0,this===y)return 0;let rr=et-Ie,zr=I-E,ya=Math.min(rr,zr),qa=this.slice(Ie,et),ha=y.slice(E,I);for(let Ii=0;Ii<ya;++Ii)if(qa[Ii]!==ha[Ii]){rr=qa[Ii],zr=ha[Ii];break}return rr<zr?-1:zr<rr?1:0};function ot(y,E,I,Ie,et){if(y.length===0)return-1;if(typeof I=="string"?(Ie=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,ja(I)&&(I=et?0:y.length-1),I<0&&(I=y.length+I),I>=y.length){if(et)return-1;I=y.length-1}else if(I<0)if(et)I=0;else return-1;if(typeof E=="string"&&(E=g.from(E,Ie)),g.isBuffer(E))return E.length===0?-1:Qt(y,E,I,Ie,et);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?et?Uint8Array.prototype.indexOf.call(y,E,I):Uint8Array.prototype.lastIndexOf.call(y,E,I):Qt(y,[E],I,Ie,et);throw new TypeError("val must be string, number or Buffer")}function Qt(y,E,I,Ie,et){let rr=1,zr=y.length,ya=E.length;if(Ie!==void 0&&(Ie=String(Ie).toLowerCase(),Ie==="ucs2"||Ie==="ucs-2"||Ie==="utf16le"||Ie==="utf-16le")){if(y.length<2||E.length<2)return-1;rr=2,zr/=2,ya/=2,I/=2}function qa(Ii,Gs){return rr===1?Ii[Gs]:Ii.readUInt16BE(Gs*rr)}let ha;if(et){let Ii=-1;for(ha=I;ha<zr;ha++)if(qa(y,ha)===qa(E,Ii===-1?0:ha-Ii)){if(Ii===-1&&(Ii=ha),ha-Ii+1===ya)return Ii*rr}else Ii!==-1&&(ha-=ha-Ii),Ii=-1}else for(I+ya>zr&&(I=zr-ya),ha=I;ha>=0;ha--){let Ii=!0;for(let Gs=0;Gs<ya;Gs++)if(qa(y,ha+Gs)!==qa(E,Gs)){Ii=!1;break}if(Ii)return ha}return-1}g.prototype.includes=function(y,E,I){return this.indexOf(y,E,I)!==-1},g.prototype.indexOf=function(y,E,I){return ot(this,y,E,I,!0)},g.prototype.lastIndexOf=function(y,E,I){return ot(this,y,E,I,!1)};function at(y,E,I,Ie){I=Number(I)||0;let et=y.length-I;Ie?(Ie=Number(Ie),Ie>et&&(Ie=et)):Ie=et;let rr=E.length;Ie>rr/2&&(Ie=rr/2);let zr;for(zr=0;zr<Ie;++zr){let ya=parseInt(E.substr(zr*2,2),16);if(ja(ya))return zr;y[I+zr]=ya}return zr}function sr(y,E,I,Ie){return ni(Qr(E,y.length-I),y,I,Ie)}function qr(y,E,I,Ie){return ni(tn(E),y,I,Ie)}function Xr(y,E,I,Ie){return ni(yo(E),y,I,Ie)}function rn(y,E,I,Ie){return ni(tr(E,y.length-I),y,I,Ie)}g.prototype.write=function(y,E,I,Ie){if(E===void 0)Ie="utf8",I=this.length,E=0;else if(I===void 0&&typeof E=="string")Ie=E,I=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(I)?(I=I>>>0,Ie===void 0&&(Ie="utf8")):(Ie=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let et=this.length-E;if((I===void 0||I>et)&&(I=et),y.length>0&&(I<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ie||(Ie="utf8");let rr=!1;for(;;)switch(Ie){case"hex":return at(this,y,E,I);case"utf8":case"utf-8":return sr(this,y,E,I);case"ascii":case"latin1":case"binary":return qr(this,y,E,I);case"base64":return Xr(this,y,E,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rn(this,y,E,I);default:if(rr)throw new TypeError("Unknown encoding: "+Ie);Ie=(""+Ie).toLowerCase(),rr=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ao(y,E,I){return E===0&&I===y.length?t.fromByteArray(y):t.fromByteArray(y.slice(E,I))}function ei(y,E,I){I=Math.min(y.length,I);let Ie=[],et=E;for(;et<I;){let rr=y[et],zr=null,ya=rr>239?4:rr>223?3:rr>191?2:1;if(et+ya<=I){let qa,ha,Ii,Gs;switch(ya){case 1:rr<128&&(zr=rr);break;case 2:qa=y[et+1],(qa&192)===128&&(Gs=(rr&31)<<6|qa&63,Gs>127&&(zr=Gs));break;case 3:qa=y[et+1],ha=y[et+2],(qa&192)===128&&(ha&192)===128&&(Gs=(rr&15)<<12|(qa&63)<<6|ha&63,Gs>2047&&(Gs<55296||Gs>57343)&&(zr=Gs));break;case 4:qa=y[et+1],ha=y[et+2],Ii=y[et+3],(qa&192)===128&&(ha&192)===128&&(Ii&192)===128&&(Gs=(rr&15)<<18|(qa&63)<<12|(ha&63)<<6|Ii&63,Gs>65535&&Gs<1114112&&(zr=Gs))}}zr===null?(zr=65533,ya=1):zr>65535&&(zr-=65536,Ie.push(zr>>>10&1023|55296),zr=56320|zr&1023),Ie.push(zr),et+=ya}return ga(Ie)}var aa=4096;function ga(y){let E=y.length;if(E<=aa)return String.fromCharCode.apply(String,y);let I="",Ie=0;for(;Ie<E;)I+=String.fromCharCode.apply(String,y.slice(Ie,Ie+=aa));return I}function Ca(y,E,I){let Ie="";I=Math.min(y.length,I);for(let et=E;et<I;++et)Ie+=String.fromCharCode(y[et]&127);return Ie}function wo(y,E,I){let Ie="";I=Math.min(y.length,I);for(let et=E;et<I;++et)Ie+=String.fromCharCode(y[et]);return Ie}function Ka(y,E,I){let Ie=y.length;(!E||E<0)&&(E=0),(!I||I<0||I>Ie)&&(I=Ie);let et="";for(let rr=E;rr<I;++rr)et+=Ys[y[rr]];return et}function Js(y,E,I){let Ie=y.slice(E,I),et="";for(let rr=0;rr<Ie.length-1;rr+=2)et+=String.fromCharCode(Ie[rr]+Ie[rr+1]*256);return et}g.prototype.slice=function(y,E){let I=this.length;y=~~y,E=E===void 0?I:~~E,y<0?(y+=I,y<0&&(y=0)):y>I&&(y=I),E<0?(E+=I,E<0&&(E=0)):E>I&&(E=I),E<y&&(E=y);let Ie=this.subarray(y,E);return Object.setPrototypeOf(Ie,g.prototype),Ie};function ia(y,E,I){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+E>I)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUintLE=g.prototype.readUIntLE=function(y,E,I){y=y>>>0,E=E>>>0,I||ia(y,E,this.length);let Ie=this[y],et=1,rr=0;for(;++rr<E&&(et*=256);)Ie+=this[y+rr]*et;return Ie},g.prototype.readUintBE=g.prototype.readUIntBE=function(y,E,I){y=y>>>0,E=E>>>0,I||ia(y,E,this.length);let Ie=this[y+--E],et=1;for(;E>0&&(et*=256);)Ie+=this[y+--E]*et;return Ie},g.prototype.readUint8=g.prototype.readUInt8=function(y,E){return y=y>>>0,E||ia(y,1,this.length),this[y]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(y,E){return y=y>>>0,E||ia(y,2,this.length),this[y]|this[y+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(y,E){return y=y>>>0,E||ia(y,2,this.length),this[y]<<8|this[y+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},g.prototype.readBigUInt64LE=Ks(function(y){y=y>>>0,Wt(y,"offset");let E=this[y],I=this[y+7];(E===void 0||I===void 0)&&it(y,this.length-8);let Ie=E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,et=this[++y]+this[++y]*2**8+this[++y]*2**16+I*2**24;return BigInt(Ie)+(BigInt(et)<<BigInt(32))}),g.prototype.readBigUInt64BE=Ks(function(y){y=y>>>0,Wt(y,"offset");let E=this[y],I=this[y+7];(E===void 0||I===void 0)&&it(y,this.length-8);let Ie=E*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],et=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+I;return(BigInt(Ie)<<BigInt(32))+BigInt(et)}),g.prototype.readIntLE=function(y,E,I){y=y>>>0,E=E>>>0,I||ia(y,E,this.length);let Ie=this[y],et=1,rr=0;for(;++rr<E&&(et*=256);)Ie+=this[y+rr]*et;return et*=128,Ie>=et&&(Ie-=Math.pow(2,8*E)),Ie},g.prototype.readIntBE=function(y,E,I){y=y>>>0,E=E>>>0,I||ia(y,E,this.length);let Ie=E,et=1,rr=this[y+--Ie];for(;Ie>0&&(et*=256);)rr+=this[y+--Ie]*et;return et*=128,rr>=et&&(rr-=Math.pow(2,8*E)),rr},g.prototype.readInt8=function(y,E){return y=y>>>0,E||ia(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},g.prototype.readInt16LE=function(y,E){y=y>>>0,E||ia(y,2,this.length);let I=this[y]|this[y+1]<<8;return I&32768?I|4294901760:I},g.prototype.readInt16BE=function(y,E){y=y>>>0,E||ia(y,2,this.length);let I=this[y+1]|this[y]<<8;return I&32768?I|4294901760:I},g.prototype.readInt32LE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},g.prototype.readInt32BE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},g.prototype.readBigInt64LE=Ks(function(y){y=y>>>0,Wt(y,"offset");let E=this[y],I=this[y+7];(E===void 0||I===void 0)&&it(y,this.length-8);let Ie=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(I<<24);return(BigInt(Ie)<<BigInt(32))+BigInt(E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),g.prototype.readBigInt64BE=Ks(function(y){y=y>>>0,Wt(y,"offset");let E=this[y],I=this[y+7];(E===void 0||I===void 0)&&it(y,this.length-8);let Ie=(E<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(Ie)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+I)}),g.prototype.readFloatLE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),r.read(this,y,!0,23,4)},g.prototype.readFloatBE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),r.read(this,y,!1,23,4)},g.prototype.readDoubleLE=function(y,E){return y=y>>>0,E||ia(y,8,this.length),r.read(this,y,!0,52,8)},g.prototype.readDoubleBE=function(y,E){return y=y>>>0,E||ia(y,8,this.length),r.read(this,y,!1,52,8)};function ir(y,E,I,Ie,et,rr){if(!g.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>et||E<rr)throw new RangeError('"value" argument is out of bounds');if(I+Ie>y.length)throw new RangeError("Index out of range")}g.prototype.writeUintLE=g.prototype.writeUIntLE=function(y,E,I,Ie){if(y=+y,E=E>>>0,I=I>>>0,!Ie){let zr=Math.pow(2,8*I)-1;ir(this,y,E,I,zr,0)}let et=1,rr=0;for(this[E]=y&255;++rr<I&&(et*=256);)this[E+rr]=y/et&255;return E+I},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(y,E,I,Ie){if(y=+y,E=E>>>0,I=I>>>0,!Ie){let zr=Math.pow(2,8*I)-1;ir(this,y,E,I,zr,0)}let et=I-1,rr=1;for(this[E+et]=y&255;--et>=0&&(rr*=256);)this[E+et]=y/rr&255;return E+I},g.prototype.writeUint8=g.prototype.writeUInt8=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,1,255,0),this[E]=y&255,E+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,2,65535,0),this[E]=y&255,this[E+1]=y>>>8,E+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,2,65535,0),this[E]=y>>>8,this[E+1]=y&255,E+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,4,4294967295,0),this[E+3]=y>>>24,this[E+2]=y>>>16,this[E+1]=y>>>8,this[E]=y&255,E+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,4,4294967295,0),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4};function Hr(y,E,I,Ie,et){Pr(E,Ie,et,y,I,7);let rr=Number(E&BigInt(4294967295));y[I++]=rr,rr=rr>>8,y[I++]=rr,rr=rr>>8,y[I++]=rr,rr=rr>>8,y[I++]=rr;let zr=Number(E>>BigInt(32)&BigInt(4294967295));return y[I++]=zr,zr=zr>>8,y[I++]=zr,zr=zr>>8,y[I++]=zr,zr=zr>>8,y[I++]=zr,I}function Fr(y,E,I,Ie,et){Pr(E,Ie,et,y,I,7);let rr=Number(E&BigInt(4294967295));y[I+7]=rr,rr=rr>>8,y[I+6]=rr,rr=rr>>8,y[I+5]=rr,rr=rr>>8,y[I+4]=rr;let zr=Number(E>>BigInt(32)&BigInt(4294967295));return y[I+3]=zr,zr=zr>>8,y[I+2]=zr,zr=zr>>8,y[I+1]=zr,zr=zr>>8,y[I]=zr,I+8}g.prototype.writeBigUInt64LE=Ks(function(y,E=0){return Hr(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=Ks(function(y,E=0){return Fr(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(y,E,I,Ie){if(y=+y,E=E>>>0,!Ie){let ya=Math.pow(2,8*I-1);ir(this,y,E,I,ya-1,-ya)}let et=0,rr=1,zr=0;for(this[E]=y&255;++et<I&&(rr*=256);)y<0&&zr===0&&this[E+et-1]!==0&&(zr=1),this[E+et]=(y/rr>>0)-zr&255;return E+I},g.prototype.writeIntBE=function(y,E,I,Ie){if(y=+y,E=E>>>0,!Ie){let ya=Math.pow(2,8*I-1);ir(this,y,E,I,ya-1,-ya)}let et=I-1,rr=1,zr=0;for(this[E+et]=y&255;--et>=0&&(rr*=256);)y<0&&zr===0&&this[E+et+1]!==0&&(zr=1),this[E+et]=(y/rr>>0)-zr&255;return E+I},g.prototype.writeInt8=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,1,127,-128),y<0&&(y=255+y+1),this[E]=y&255,E+1},g.prototype.writeInt16LE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,2,32767,-32768),this[E]=y&255,this[E+1]=y>>>8,E+2},g.prototype.writeInt16BE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,2,32767,-32768),this[E]=y>>>8,this[E+1]=y&255,E+2},g.prototype.writeInt32LE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,4,2147483647,-2147483648),this[E]=y&255,this[E+1]=y>>>8,this[E+2]=y>>>16,this[E+3]=y>>>24,E+4},g.prototype.writeInt32BE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4},g.prototype.writeBigInt64LE=Ks(function(y,E=0){return Hr(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=Ks(function(y,E=0){return Fr(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ei(y,E,I,Ie,et,rr){if(I+Ie>y.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function ba(y,E,I,Ie,et){return E=+E,I=I>>>0,et||Ei(y,E,I,4),r.write(y,E,I,Ie,23,4),I+4}g.prototype.writeFloatLE=function(y,E,I){return ba(this,y,E,!0,I)},g.prototype.writeFloatBE=function(y,E,I){return ba(this,y,E,!1,I)};function Ea(y,E,I,Ie,et){return E=+E,I=I>>>0,et||Ei(y,E,I,8),r.write(y,E,I,Ie,52,8),I+8}g.prototype.writeDoubleLE=function(y,E,I){return Ea(this,y,E,!0,I)},g.prototype.writeDoubleBE=function(y,E,I){return Ea(this,y,E,!1,I)},g.prototype.copy=function(y,E,I,Ie){if(!g.isBuffer(y))throw new TypeError("argument should be a Buffer");if(I||(I=0),!Ie&&Ie!==0&&(Ie=this.length),E>=y.length&&(E=y.length),E||(E=0),Ie>0&&Ie<I&&(Ie=I),Ie===I||y.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("sourceEnd out of bounds");Ie>this.length&&(Ie=this.length),y.length-E<Ie-I&&(Ie=y.length-E+I);let et=Ie-I;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,I,Ie):Uint8Array.prototype.set.call(y,this.subarray(I,Ie),E),et},g.prototype.fill=function(y,E,I,Ie){if(typeof y=="string"){if(typeof E=="string"?(Ie=E,E=0,I=this.length):typeof I=="string"&&(Ie=I,I=this.length),Ie!==void 0&&typeof Ie!="string")throw new TypeError("encoding must be a string");if(typeof Ie=="string"&&!g.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);if(y.length===1){let rr=y.charCodeAt(0);(Ie==="utf8"&&rr<128||Ie==="latin1")&&(y=rr)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(E<0||this.length<E||this.length<I)throw new RangeError("Out of range index");if(I<=E)return this;E=E>>>0,I=I===void 0?this.length:I>>>0,y||(y=0);let et;if(typeof y=="number")for(et=E;et<I;++et)this[et]=y;else{let rr=g.isBuffer(y)?y:g.from(y,Ie),zr=rr.length;if(zr===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(et=0;et<I-E;++et)this[et+E]=rr[et%zr]}return this};var Kr={};function Zr(y,E,I){Kr[y]=class extends I{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,this.stack,delete this.name}get code(){return y}set code(Ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ie,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}Zr("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Zr("ERR_INVALID_ARG_TYPE",function(y,E){return`The "${y}" argument must be of type number. Received type ${typeof E}`},TypeError),Zr("ERR_OUT_OF_RANGE",function(y,E,I){let Ie=`The value of "${y}" is out of range.`,et=I;return Number.isInteger(I)&&Math.abs(I)>2**32?et=st(String(I)):typeof I=="bigint"&&(et=String(I),(I>BigInt(2)**BigInt(32)||I<-(BigInt(2)**BigInt(32)))&&(et=st(et)),et+="n"),Ie+=` It must be ${E}. Received ${et}`,Ie},RangeError);function st(y){let E="",I=y.length,Ie=y[0]==="-"?1:0;for(;I>=Ie+4;I-=3)E=`_${y.slice(I-3,I)}${E}`;return`${y.slice(0,I)}${E}`}function vr(y,E,I){Wt(E,"offset"),(y[E]===void 0||y[E+I]===void 0)&&it(E,y.length-(I+1))}function Pr(y,E,I,Ie,et,rr){if(y>I||y<E){let zr=typeof E=="bigint"?"n":"",ya;throw rr>3?E===0||E===BigInt(0)?ya=`>= 0${zr} and < 2${zr} ** ${(rr+1)*8}${zr}`:ya=`>= -(2${zr} ** ${(rr+1)*8-1}${zr}) and < 2 ** ${(rr+1)*8-1}${zr}`:ya=`>= ${E}${zr} and <= ${I}${zr}`,new Kr.ERR_OUT_OF_RANGE("value",ya,y)}vr(Ie,et,rr)}function Wt(y,E){if(typeof y!="number")throw new Kr.ERR_INVALID_ARG_TYPE(E,"number",y)}function it(y,E,I){throw Math.floor(y)!==y?(Wt(y,I),new Kr.ERR_OUT_OF_RANGE(I||"offset","an integer",y)):E<0?new Kr.ERR_BUFFER_OUT_OF_BOUNDS:new Kr.ERR_OUT_OF_RANGE(I||"offset",`>= ${I?1:0} and <= ${E}`,y)}var Yr=/[^+/0-9A-Za-z-_]/g;function en(y){if(y=y.split("=")[0],y=y.trim().replace(Yr,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function Qr(y,E){E=E||1/0;let I,Ie=y.length,et=null,rr=[];for(let zr=0;zr<Ie;++zr){if(I=y.charCodeAt(zr),I>55295&&I<57344){if(!et){if(I>56319){(E-=3)>-1&&rr.push(239,191,189);continue}else if(zr+1===Ie){(E-=3)>-1&&rr.push(239,191,189);continue}et=I;continue}if(I<56320){(E-=3)>-1&&rr.push(239,191,189),et=I;continue}I=(et-55296<<10|I-56320)+65536}else et&&(E-=3)>-1&&rr.push(239,191,189);if(et=null,I<128){if((E-=1)<0)break;rr.push(I)}else if(I<2048){if((E-=2)<0)break;rr.push(I>>6|192,I&63|128)}else if(I<65536){if((E-=3)<0)break;rr.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((E-=4)<0)break;rr.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return rr}function tn(y){let E=[];for(let I=0;I<y.length;++I)E.push(y.charCodeAt(I)&255);return E}function tr(y,E){let I,Ie,et,rr=[];for(let zr=0;zr<y.length&&!((E-=2)<0);++zr)I=y.charCodeAt(zr),Ie=I>>8,et=I%256,rr.push(et),rr.push(Ie);return rr}function yo(y){return t.toByteArray(en(y))}function ni(y,E,I,Ie){let et;for(et=0;et<Ie&&!(et+I>=E.length||et>=y.length);++et)E[et+I]=y[et];return et}function la(y,E){return y instanceof E||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===E.name}function ja(y){return y!==y}var Ys=function(){let y="0123456789abcdef",E=new Array(256);for(let I=0;I<16;++I){let Ie=I*16;for(let et=0;et<16;++et)E[Ie+et]=y[I]+y[et]}return E}();function Ks(y){return typeof BigInt>"u"?Qs:y}function Qs(){throw new Error("BigInt not supported")}}),ur=ce$1((e,t)=>{d$1();var r=t.exports={},n,o;function s(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=s}catch{n=s}try{typeof clearTimeout=="function"?o=clearTimeout:o=w}catch{o=w}})();function g(Ee){if(n===setTimeout)return setTimeout(Ee,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(Ee,0);try{return n(Ee,0)}catch{try{return n.call(null,Ee,0)}catch{return n.call(this,Ee,0)}}}function k(Ee){if(o===clearTimeout)return clearTimeout(Ee);if((o===w||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(Ee);try{return o(Ee)}catch{try{return o.call(null,Ee)}catch{return o.call(this,Ee)}}}var P=[],q=!1,ie,he=-1;function V(){!q||!ie||(q=!1,ie.length?P=ie.concat(P):he=-1,P.length&&X())}function X(){if(!q){var Ee=g(V);q=!0;for(var _e=P.length;_e;){for(ie=P,P=[];++he<_e;)ie&&ie[he].run();he=-1,_e=P.length}ie=null,q=!1,k(Ee)}}r.nextTick=function(Ee){var _e=new Array(arguments.length-1);if(arguments.length>1)for(var je=1;je<arguments.length;je++)_e[je-1]=arguments[je];P.push(new L(Ee,_e)),P.length===1&&!q&&g(X)};function L(Ee,_e){this.fun=Ee,this.array=_e}L.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function we(){}r.on=we,r.addListener=we,r.once=we,r.off=we,r.removeListener=we,r.removeAllListeners=we,r.emit=we,r.prependListener=we,r.prependOnceListener=we,r.listeners=function(Ee){return[]},r.binding=function(Ee){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(Ee){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),d$1=Wn$1(()=>{nr$1().Buffer,ur(),globalThis&&globalThis.process&&globalThis.process.env&&(globalThis.process.env.LIBP2P_FORCE_PNET=!1)}),hr$1=ce$1((e,t)=>{d$1(),t.exports=w;var r=128,n=127,o=~n,s=Math.pow(2,31);function w(g,k,P){if(Number.MAX_SAFE_INTEGER&&g>Number.MAX_SAFE_INTEGER)throw w.bytes=0,new RangeError("Could not encode varint");k=k||[],P=P||0;for(var q=P;g>=s;)k[P++]=g&255|r,g/=128;for(;g&o;)k[P++]=g&255|r,g>>>=7;return k[P]=g|0,w.bytes=P-q+1,k}}),pr$1=ce$1((e,t)=>{d$1(),t.exports=o;var r=128,n=127;function o(s,k){var g=0,k=k||0,P=0,q=k,ie,he=s.length;do{if(q>=he||P>49)throw o.bytes=0,new RangeError("Could not decode varint");ie=s[q++],g+=P<28?(ie&n)<<P:(ie&n)*Math.pow(2,P),P+=7}while(ie>=r);return o.bytes=q-k,g}}),wr$2=ce$1((e,t)=>{d$1();var r=Math.pow(2,7),n=Math.pow(2,14),o=Math.pow(2,21),s=Math.pow(2,28),w=Math.pow(2,35),g=Math.pow(2,42),k=Math.pow(2,49),P=Math.pow(2,56),q=Math.pow(2,63);t.exports=function(ie){return ie<r?1:ie<n?2:ie<o?3:ie<s?4:ie<w?5:ie<g?6:ie<k?7:ie<P?8:ie<q?9:10}}),mr$1=ce$1((e,t)=>{d$1(),t.exports={encode:hr$1(),decode:pr$1(),encodingLength:wr$2()}});d$1();var Pe$1=Yn$1(mr$1(),1);d$1();d$1();d$1();var ji$1=["string","number","bigint","symbol"],qi$2=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function xr$2(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;return ji$1.includes(t)?t:t==="function"?"Function":Array.isArray(e)?"Array":Gi$1(e)?"Buffer":Hi$1(e)||"Object"}function Gi$1(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function Hi$1(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(qi$2.includes(t))return t}d$1();var c=class{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};c.uint=new c(0,"uint",!0);c.negint=new c(1,"negint",!0);c.bytes=new c(2,"bytes",!0);c.string=new c(3,"string",!0);c.array=new c(4,"array",!1);c.map=new c(5,"map",!1);c.tag=new c(6,"tag",!1);c.float=new c(7,"float",!0);c.false=new c(7,"false",!0);c.true=new c(7,"true",!0);c.null=new c(7,"null",!0);c.undefined=new c(7,"undefined",!0);c.break=new c(7,"break",!0);var f=class{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};d$1();d$1();var Be$1=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function";new TextDecoder;var Xi$1=new TextEncoder;function We$1(e){return Be$1&&globalThis.Buffer.isBuffer(e)}function mt$2(e){return e instanceof Uint8Array?We$1(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var Ir$2=Be$1?e=>e.length>64?globalThis.Buffer.from(e):Er$2(e):e=>e.length>64?Xi$1.encode(e):Er$2(e),K$1=e=>Uint8Array.from(e),be$1=Be$1?(e,t,r)=>We$1(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),Ur=Be$1?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),mt$2(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},Tr$1=Be$1?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Sr$2(e,t){if(We$1(e)&&We$1(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function Er$2(e,t=1/0){let r,n=e.length,o=null,s=[];for(let w=0;w<n;++w){if(r=e.charCodeAt(w),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(w+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}var Ji$1=256,Ne$2=class{constructor(e=Ji$1){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let r=t.length-(this.maxCursor-this.cursor)-1;r<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,r),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Tr$1(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(this.chunks.length===1){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=be$1(r,0,this.cursor)}else t=Ur(this.chunks,this.cursor);return e&&this.reset(),t}};d$1();var B$1="CBOR decode error:",xt="CBOR encode error:";d$1();d$1();var S$2=[24,256,65536,4294967296,BigInt("18446744073709551616")];function D$1(e,t){return F$1(e,0,t.value)}function F$1(e,t,r){if(r<S$2[0]){let n=Number(r);e.push([t|n])}else if(r<S$2[1]){let n=Number(r);e.push([t|24,n])}else if(r<S$2[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<S$2[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<S$2[4]){let o=[t|27,0,0,0,0,0,0,0],s=Number(n&BigInt(4294967295)),w=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=s&255,s=s>>8,o[7]=s&255,s=s>>8,o[6]=s&255,s=s>>8,o[5]=s&255,o[4]=w&255,w=w>>8,o[3]=w&255,w=w>>8,o[2]=w&255,w=w>>8,o[1]=w&255,e.push(o)}else throw new Error(`${B$1} encountered BigInt larger than allowable range`)}}D$1.encodedSize=function(e){return F$1.encodedSize(e.value)};F$1.encodedSize=function(e){return e<S$2[0]?1:e<S$2[1]?2:e<S$2[2]?3:e<S$2[3]?5:9};D$1.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};d$1();var Et$2=BigInt(-1),$r$1=BigInt(1);function Xe$2(e,t){let r=t.value,n=typeof r=="bigint"?r*Et$2-$r$1:r*-1-1;F$1(e,t.type.majorEncoded,n)}Xe$2.encodedSize=function(e){let t=e.value,r=typeof t=="bigint"?t*Et$2-$r$1:t*-1-1;return r<S$2[0]?1:r<S$2[1]?2:r<S$2[2]?3:r<S$2[3]?5:9};Xe$2.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0};d$1();function Ye$1(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===c.string?Ir$2(e.value):e.value),e.encodedBytes}function Ae$1(e,t){let r=Ye$1(t);F$1(e,t.type.majorEncoded,r.length),e.push(r)}Ae$1.encodedSize=function(e){let t=Ye$1(e);return F$1.encodedSize(t.length)+t.length};Ae$1.compareTokens=function(e,t){return Qi$1(Ye$1(e),Ye$1(t))};function Qi$1(e,t){return e.length<t.length?-1:e.length>t.length?1:Sr$2(e,t)}d$1();var Wr$1=Ae$1;d$1();function Je$1(e,t){F$1(e,c.array.majorEncoded,t.value)}Je$1.compareTokens=D$1.compareTokens;Je$1.encodedSize=function(e){return F$1.encodedSize(e.value)};d$1();function Ke$1(e,t){F$1(e,c.map.majorEncoded,t.value)}Ke$1.compareTokens=D$1.compareTokens;Ke$1.encodedSize=function(e){return F$1.encodedSize(e.value)};d$1();function Qe$1(e,t){F$1(e,c.tag.majorEncoded,t.value)}Qe$1.compareTokens=D$1.compareTokens;Qe$1.encodedSize=function(e){return F$1.encodedSize(e.value)};d$1();var io$1=20,oo$1=21,so$1=22,co$2=23;function Ze(e,t,r){let n=t.value;if(n===!1)e.push([c.float.majorEncoded|io$1]);else if(n===!0)e.push([c.float.majorEncoded|oo$1]);else if(n===null)e.push([c.float.majorEncoded|so$1]);else if(n===void 0)e.push([c.float.majorEncoded|co$2]);else{let o,s=!1;(!r||r.float64!==!0)&&(mn$2(n),o=bt$1(j,1),n===o||Number.isNaN(n)?(j[0]=249,e.push(j.slice(0,3)),s=!0):(xn$1(n),o=At(j,1),n===o&&(j[0]=250,e.push(j.slice(0,5)),s=!0))),s||(uo(n),o=En$1(j,1),j[0]=251,e.push(j.slice(0,9)))}}Ze.encodedSize=function(e,t){let r=e.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!t||t.float64!==!0){mn$2(r);let n=bt$1(j,1);if(r===n||Number.isNaN(r))return 3;if(xn$1(r),n=At(j,1),r===n)return 5}return 9};var gn$1=new ArrayBuffer(9),O=new DataView(gn$1,1),j=new Uint8Array(gn$1,0);function mn$2(e){if(e===1/0)O.setUint16(0,31744,!1);else if(e===-1/0)O.setUint16(0,64512,!1);else if(Number.isNaN(e))O.setUint16(0,32256,!1);else{O.setFloat32(0,e);let t=O.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)O.setUint16(0,31744,!1);else if(r===0)O.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?O.setUint16(0,0):o<-14?O.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):O.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function bt$1(e,t){if(e.length-t<2)throw new Error(`${B$1} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,s;return n===0?s=o*2**-24:n!==31?s=(o+1024)*2**(n-25):s=o===0?1/0:NaN,r&32768?-s:s}function xn$1(e){O.setFloat32(0,e,!1)}function At(e,t){if(e.length-t<4)throw new Error(`${B$1} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function uo(e){O.setFloat64(0,e,!1)}function En$1(e,t){if(e.length-t<8)throw new Error(`${B$1} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}Ze.compareTokens=D$1.compareTokens;for(let e=0;e<24;e++)new f(c.uint,e,1);for(let e=-1;e>=-24;e--)new f(c.negint,e,1);new f(c.bytes,new Uint8Array(0),1);new f(c.string,"",1);new f(c.array,0,1);new f(c.map,0,1);new f(c.false,!1,1);new f(c.true,!0,1);new f(c.null,null,1);function tt$1(e){switch(e.type){case c.false:return K$1([244]);case c.true:return K$1([245]);case c.null:return K$1([246]);case c.bytes:return e.value.length?void 0:K$1([64]);case c.string:return e.value===""?K$1([96]):void 0;case c.array:return e.value===0?K$1([128]):void 0;case c.map:return e.value===0?K$1([160]):void 0;case c.uint:return e.value<24?K$1([Number(e.value)]):void 0;case c.negint:if(e.value>=-24)return K$1([31-Number(e.value)])}}var fo$2={float64:!1,mapSorter:lo$1,quickEncodeToken:tt$1};function Ut$1(){let e=[];return e[c.uint.major]=D$1,e[c.negint.major]=Xe$2,e[c.bytes.major]=Ae$1,e[c.string.major]=Wr$1,e[c.array.major]=Je$1,e[c.map.major]=Ke$1,e[c.tag.major]=Qe$1,e[c.float.major]=Ze,e}var Bn$1=Ut$1(),It$1=new Ne$2,Te$1=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${xt} object contains circular references`);return new Te$1(t,e)}},ae={null:new f(c.null,null),undefined:new f(c.undefined,void 0),true:new f(c.true,!0),false:new f(c.false,!1),emptyArray:new f(c.array,0),emptyMap:new f(c.map,0)},fe$1={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new f(c.float,e):e>=0?new f(c.uint,e):new f(c.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new f(c.uint,e):new f(c.negint,e)},Uint8Array(e,t,r,n){return new f(c.bytes,e)},string(e,t,r,n){return new f(c.string,e)},boolean(e,t,r,n){return e?ae.true:ae.false},null(e,t,r,n){return ae.null},undefined(e,t,r,n){return ae.undefined},ArrayBuffer(e,t,r,n){return new f(c.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new f(c.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[ae.emptyArray,new f(c.break)]:ae.emptyArray;n=Te$1.createCheck(n,e);let o=[],s=0;for(let w of e)o[s++]=ve$2(w,r,n);return r.addBreakTokens?[new f(c.array,e.length),o,new f(c.break)]:[new f(c.array,e.length),o]},Object(e,t,r,n){let o=t!=="Object",s=o?e.keys():Object.keys(e),w=o?e.size:s.length;if(!w)return r.addBreakTokens===!0?[ae.emptyMap,new f(c.break)]:ae.emptyMap;n=Te$1.createCheck(n,e);let g=[],k=0;for(let P of s)g[k++]=[ve$2(P,r,n),ve$2(o?e.get(P):e[P],r,n)];return ho$1(g,r),r.addBreakTokens?[new f(c.map,w),g,new f(c.break)]:[new f(c.map,w),g]}};fe$1.Map=fe$1.Object;fe$1.Buffer=fe$1.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))fe$1[`${e}Array`]=fe$1.DataView;function ve$2(e,t={},r){let n=xr$2(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||fe$1[n];if(typeof o=="function"){let w=o(e,n,t,r);if(w!=null)return w}let s=fe$1[n];if(!s)throw new Error(`${xt} unsupported type: ${n}`);return s(e,n,t,r)}function ho$1(e,t){t.mapSorter&&e.sort(t.mapSorter)}function lo$1(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,s=Bn$1[o].compareTokens(r,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function bn$2(e,t,r,n){if(Array.isArray(t))for(let o of t)bn$2(e,o,r,n);else r[t.type.major](e,t,n)}function po(e,t,r){let n=ve$2(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let s=t[n.type.major];if(s.encodedSize){let w=s.encodedSize(n,r),g=new Ne$2(w);if(s(g,n,r),g.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return mt$2(g.chunks[0])}}return It$1.reset(),bn$2(It$1,n,t,r),It$1.toBytes(!0)}function Tt$2(e,t){return t=Object.assign({},fo$2,t),po(e,Bn$1,t)}d$1();d$1();var go=Ut$1(),mo={float64:!1,quickEncodeToken:tt$1};function St(e,t=go,r=mo){if(Array.isArray(e)){let n=0;for(let o of e)n+=St(o,t,r);return n}else{let n=t[e.type.major];if(n.encodedSize===void 0||typeof n.encodedSize!="function")throw new Error(`Encoder for ${e.type.name} does not have an encodedSize()`);return n.encodedSize(e,r)}}d$1();d$1();d$1();d$1();var xo$1=Un$1,An$2=128,Eo$1=127,Bo$1=~Eo$1,bo$2=Math.pow(2,31);function Un$1(e,t,r){t=t||[],r=r||0;for(var n=r;e>=bo$2;)t[r++]=e&255|An$2,e/=128;for(;e&Bo$1;)t[r++]=e&255|An$2,e>>>=7;return t[r]=e|0,Un$1.bytes=r-n+1,t}var Ao=Ft,Io$1=128,In$1=127;function Ft(e,n){var r=0,n=n||0,o=0,s=n,w,g=e.length;do{if(s>=g)throw Ft.bytes=0,new RangeError("Could not decode varint");w=e[s++],r+=o<28?(w&In$1)<<o:(w&In$1)*Math.pow(2,o),o+=7}while(w>=Io$1);return Ft.bytes=s-n,r}var Uo=Math.pow(2,7),To$2=Math.pow(2,14),So$1=Math.pow(2,21),Fo$1=Math.pow(2,28),ko$2=Math.pow(2,35),Co$1=Math.pow(2,42),_o$2=Math.pow(2,49),No$2=Math.pow(2,56),Mo$1=Math.pow(2,63),Ro$2=function(e){return e<Uo?1:e<To$2?2:e<So$1?3:e<Fo$1?4:e<ko$2?5:e<Co$1?6:e<_o$2?7:e<No$2?8:e<Mo$1?9:10},$o={encode:xo$1,decode:Ao,encodingLength:Ro$2},vo$1=$o,Le$1=vo$1,De$1=e=>[Le$1.decode(e),Le$1.decode.bytes],Se$2=(e,t,r=0)=>(Le$1.encode(e,t,r),t),Fe$2=e=>Le$1.encodingLength(e);d$1();d$1();var Sn$1=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},ke$2=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Fn$1=(e,t)=>{let r=t.byteLength,n=Fe$2(e),o=n+Fe$2(r),s=new Uint8Array(o+r);return Se$2(e,s,0),Se$2(r,s,n),s.set(t,o),new Ce$2(e,r,t,s)},kn$1=e=>{let t=ke$2(e),[r,n]=De$1(t),[o,s]=De$1(t.subarray(n)),w=t.subarray(n+s);if(w.byteLength!==o)throw new Error("Incorrect length");return new Ce$2(r,o,w,t)},Cn=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&Sn$1(e.bytes,t.bytes),Ce$2=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}};d$1();d$1();d$1();function Do$1(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var s=e.charAt(o),w=s.charCodeAt(0);if(r[w]!==255)throw new TypeError(s+" is ambiguous");r[w]=o}var g=e.length,k=e.charAt(0),P=Math.log(g)/Math.log(256),q=Math.log(256)/Math.log(g);function ie(X){if(X instanceof Uint8Array||(ArrayBuffer.isView(X)?X=new Uint8Array(X.buffer,X.byteOffset,X.byteLength):Array.isArray(X)&&(X=Uint8Array.from(X))),!(X instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(X.length===0)return"";for(var L=0,we=0,Ee=0,_e=X.length;Ee!==_e&&X[Ee]===0;)Ee++,L++;for(var je=(_e-Ee)*q+1>>>0,Xt=new Uint8Array(je);Ee!==_e;){for(var Gt=X[Ee],ot=0,Qt=je-1;(Gt!==0||ot<we)&&Qt!==-1;Qt--,ot++)Gt+=256*Xt[Qt]>>>0,Xt[Qt]=Gt%g>>>0,Gt=Gt/g>>>0;if(Gt!==0)throw new Error("Non-zero carry");we=ot,Ee++}for(var at=je-we;at!==je&&Xt[at]===0;)at++;for(var sr=k.repeat(L);at<je;++at)sr+=e.charAt(Xt[at]);return sr}function he(X){if(typeof X!="string")throw new TypeError("Expected String");if(X.length===0)return new Uint8Array;var L=0;if(X[L]!==" "){for(var we=0,Ee=0;X[L]===k;)we++,L++;for(var _e=(X.length-L)*P+1>>>0,je=new Uint8Array(_e);X[L];){var Xt=r[X.charCodeAt(L)];if(Xt===255)return;for(var Gt=0,ot=_e-1;(Xt!==0||Gt<Ee)&&ot!==-1;ot--,Gt++)Xt+=g*je[ot]>>>0,je[ot]=Xt%256>>>0,Xt=Xt/256>>>0;if(Xt!==0)throw new Error("Non-zero carry");Ee=Gt,L++}if(X[L]!==" "){for(var Qt=_e-Ee;Qt!==_e&&je[Qt]===0;)Qt++;for(var at=new Uint8Array(we+(_e-Qt)),sr=we;Qt!==_e;)at[sr++]=je[Qt++];return at}}}function V(X){var L=he(X);if(L)return L;throw new Error(`Non-${t} character`)}return{encode:ie,decodeUnsafe:he,decode:V}}var Oo$1=Do$1,zo=Oo$1,_n$1=zo,kt$1=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Ct=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Nn$1(this,e)}},_t=class{constructor(e){this.decoders=e}or(e){return Nn$1(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Nn$1=(e,t)=>new _t({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),Nt$1=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new kt$1(e,t,r),this.decoder=new Ct(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Mn$1=({name:e,prefix:t,encode:r,decode:n})=>new Nt$1(e,t,r,n),Mt$1=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=_n$1(r,t);return Mn$1({prefix:e,name:t,encode:n,decode:s=>ke$2(o(s))})},Po$2=(e,t,r,n)=>{let o={};for(let q=0;q<t.length;++q)o[t[q]]=q;let s=e.length;for(;e[s-1]==="=";)--s;let w=new Uint8Array(s*r/8|0),g=0,k=0,P=0;for(let q=0;q<s;++q){let ie=o[e[q]];if(ie===void 0)throw new SyntaxError(`Non-${n} character`);k=k<<r|ie,g+=r,g>=8&&(g-=8,w[P++]=255&k>>g)}if(g>=r||255&k<<8-g)throw new SyntaxError("Unexpected end of data");return w},Vo=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,s="",w=0,g=0;for(let k=0;k<e.length;++k)for(g=g<<8|e[k],w+=8;w>r;)w-=r,s+=t[o&g>>w];if(w&&(s+=t[o&g<<r-w]),n)for(;s.length*r&7;)s+="=";return s},Z=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Mn$1({prefix:t,name:e,encode(o){return Vo(o,n,r)},decode(o){return Po$2(o,n,r,e)}}),oe$1=Mt$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});Mt$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});d$1();var Oe$2=Z({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});Z({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});Z({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});Z({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});Z({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});Z({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});Z({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});Z({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});Z({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var U$2=class{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:nt,byteLength:nt,code:rt$1,version:rt$1,multihash:rt$1,bytes:rt$1,_baseCache:nt,asCID:nt})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==ze$1)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Ho$1)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return U$2.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=Fn$1(e,t);return U$2.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Cn(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;switch(r){case 0:return qo$1(t,n,e||oe$1.encoder);default:return Go$1(t,n,e||Oe$2.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Xo$1(/^0\.0/,Yo$1),!!(e&&(e[$n$1]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof U$2)return e;if(e!=null&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:o}=e;return new U$2(t,r,n,o||Rn$1(t,r,n.bytes))}else if(e!=null&&e[$n$1]===!0){let{version:t,multihash:r,code:n}=e,o=kn$1(r);return U$2.create(t,n,o)}else return null}static create(e,t,r){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==ze$1)throw new Error(`Version 0 CID must use dag-pb (code: ${ze$1}) block encoding`);return new U$2(e,t,r,r.bytes)}case 1:{let n=Rn$1(e,t,r.bytes);return new U$2(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return U$2.create(0,ze$1,e)}static createV1(e,t){return U$2.create(1,e,t)}static decode(e){let[t,r]=U$2.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=U$2.inspectBytes(e),r=t.size-t.multihashSize,n=ke$2(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),s=new Ce$2(t.multihashCode,t.digestSize,o,n);return[t.version===0?U$2.createV0(s):U$2.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[q,ie]=De$1(e.subarray(t));return t+=ie,q},n=r(),o=ze$1;if(n===18?(n=0,t=0):n===1&&(o=r()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=t,w=r(),g=r(),k=t+g,P=k-s;return{version:n,codec:o,multihashCode:w,digestSize:g,multihashSize:P,size:k}}static parse(e,t){let[r,n]=jo$1(e,t),o=U$2.decode(n);return o._baseCache.set(r,e),o}},jo$1=(e,t)=>{switch(e[0]){case"Q":{let r=t||oe$1;return[oe$1.prefix,r.decode(`${oe$1.prefix}${e}`)]}case oe$1.prefix:{let r=t||oe$1;return[oe$1.prefix,r.decode(e)]}case Oe$2.prefix:{let r=t||Oe$2;return[Oe$2.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},qo$1=(e,t,r)=>{let{prefix:n}=r;if(n!==oe$1.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let s=r.encode(e).slice(1);return t.set(n,s),s}else return o},Go$1=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let s=r.encode(e);return t.set(n,s),s}else return o},ze$1=112,Ho$1=18,Rn$1=(e,t,r)=>{let n=Fe$2(e),o=n+Fe$2(t),s=new Uint8Array(o+r.byteLength);return Se$2(e,s,0),Se$2(t,s,n),s.set(r,o),s},$n$1=Symbol.for("@ipld/js-cid/CID"),rt$1={writable:!1,configurable:!1,enumerable:!0},nt={writable:!1,enumerable:!1,configurable:!1},Wo$1="0.0.0-dev",Xo$1=(e,t)=>{if(e.test(Wo$1))console.warn(t);else throw new Error(t)},Yo$1=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,vn$1=42;function Jo$1(e){if(e.asCID!==e)return null;let t=U$2.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new f(c.tag,vn$1),new f(c.bytes,r)]}function Ko(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Qo$1(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var Zo$1={float64:!0,typeEncoders:{Object:Jo$1,undefined:Ko,number:Qo$1}},Ln$1=e=>Tt$2(e,Zo$1),$t$1=class{constructor(e,t){this.bytes=e,this.byteOffset=t,this.roots=[],this.headerSize=t}addRoot(e,t){return ns$1(this,e,t),this}write(e){return is$2(this,e),this}close(e){return os$1(this,e)}},ns$1=(e,t,{resize:r=!1}={})=>{let{bytes:n,headerSize:o,byteOffset:s,roots:w}=e;e.roots.push(t);let g=Pn(e);if(g>o)if(g-o+s<n.byteLength)if(r)On$2(e,g);else throw w.pop(),new RangeError(`Header of size ${o} has no capacity for new root ${t}.
  However there is a space in the buffer and you could call addRoot(root, { resize: root }) to resize header to make a space for this root.`);else throw w.pop(),new RangeError(`Buffer has no capacity for a new root ${t}`)},Jc=({cid:e,bytes:t})=>{let r=e.bytes.byteLength+t.byteLength;return Pe$1.default.encodingLength(r)+r},is$2=(e,{cid:t,bytes:r})=>{let n=t.bytes.byteLength+r.byteLength,o=Pe$1.default.encode(n);if(e.byteOffset+o.length+n>e.bytes.byteLength)throw new RangeError("Buffer has no capacity for this block");Rt$2(e,o),Rt$2(e,t.bytes),Rt$2(e,r)},os$1=(e,{resize:t=!1}={})=>{let{roots:r,bytes:n,byteOffset:o,headerSize:s}=e,w=Ln$1({version:1,roots:r}),g=Pe$1.default.encode(w.length),k=g.length+w.byteLength;if(s-k===0)return Dn$2(e,g,w),n.subarray(0,o);if(t)return On$2(e,k),Dn$2(e,g,w),n.subarray(0,e.byteOffset);throw new RangeError(`Header size was overestimated.
You can use close({ resize: true }) to resize header`)},On$2=(e,t)=>{let{bytes:r,headerSize:n}=e;r.set(r.subarray(n,e.byteOffset),t),e.byteOffset+=t-n,e.headerSize=t},Rt$2=(e,t)=>{e.bytes.set(t,e.byteOffset),e.byteOffset+=t.length},Dn$2=({bytes:e},t,r)=>{e.set(t),e.set(r,t.length)},ss$1=[new f(c.map,2),new f(c.string,"version"),new f(c.uint,1),new f(c.string,"roots")],cs$1=new f(c.tag,42),zn$1=e=>{let t=[...ss$1];t.push(new f(c.array,e.length));for(let n of e)t.push(cs$1),t.push(new f(c.bytes,{length:n+1}));let r=St(t);return Pe$1.default.encodingLength(r)+r},Pn=({roots:e})=>zn$1(e.map(t=>t.bytes.byteLength)),Qc=(e,{roots:t=[],byteOffset:r=0,byteLength:n=e.byteLength,headerSize:o=Pn({roots:t})}={})=>{let s=new Uint8Array(e,r,n),w=new $t$1(s,o);for(let g of t)w.addRoot(g);return w};/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var encode_1$1=encode$i,MSB$3=128,REST$3=127,MSBALL$1=~REST$3,INT$1=Math.pow(2,31);function encode$i(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw encode$i.bytes=0,new RangeError("Could not encode varint");t=t||[],r=r||0;for(var n=r;e>=INT$1;)t[r++]=e&255|MSB$3,e/=128;for(;e&MSBALL$1;)t[r++]=e&255|MSB$3,e>>>=7;return t[r]=e|0,encode$i.bytes=r-n+1,t}var decode$h=read$1,MSB$2=128,REST$2=127;function read$1(e,n){var r=0,n=n||0,o=0,s=n,w,g=e.length;do{if(s>=g||o>49)throw read$1.bytes=0,new RangeError("Could not decode varint");w=e[s++],r+=o<28?(w&REST$2)<<o:(w&REST$2)*Math.pow(2,o),o+=7}while(w>=MSB$2);return read$1.bytes=s-n,r}var N1$2=Math.pow(2,7),N2$2=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(e){return e<N1$2?1:e<N2$2?2:e<N3$1?3:e<N4$1?4:e<N5$1?5:e<N6$1?6:e<N7$1?7:e<N8$1?8:e<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$h,encodingLength:length$1},encode_1=encode$h,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$h(e,t,r){t=t||[],r=r||0;for(var n=r;e>=INT;)t[r++]=e&255|MSB,e/=128;for(;e&MSBALL;)t[r++]=e&255|MSB,e>>>=7;return t[r]=e|0,encode$h.bytes=r-n+1,t}var decode$g=read,MSB$1=128,REST$1=127;function read(e,n){var r=0,n=n||0,o=0,s=n,w,g=e.length;do{if(s>=g)throw read.bytes=0,new RangeError("Could not decode varint");w=e[s++],r+=o<28?(w&REST$1)<<o:(w&REST$1)*Math.pow(2,o),o+=7}while(w>=MSB$1);return read.bytes=s-n,r}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(e){return e<N1$1?1:e<N2$1?2:e<N3?3:e<N4?4:e<N5?5:e<N6?6:e<N7?7:e<N8?8:e<N9?9:10},varint={encode:encode_1,decode:decode$g,encodingLength:length},_brrp_varint=varint;const decode$f=e=>[_brrp_varint.decode(e),_brrp_varint.decode.bytes],encodeTo=(e,t,r=0)=>(_brrp_varint.encode(e,t,r),t),encodingLength=e=>_brrp_varint.encodingLength(e),empty=new Uint8Array(0),toHex=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),""),fromHex=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map(r=>parseInt(r,16))):empty},equals$1=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},coerce=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},isBinary$1=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),fromString$1=e=>new TextEncoder().encode(e),toString$2=e=>new TextDecoder().decode(e),byteslib=Object.freeze(Object.defineProperty({__proto__:null,equals:equals$1,coerce,isBinary:isBinary$1,fromHex,toHex,fromString:fromString$1,toString:toString$2,empty},Symbol.toStringTag,{value:"Module"})),create$1=(e,t)=>{const r=t.byteLength,n=encodingLength(e),o=n+encodingLength(r),s=new Uint8Array(o+r);return encodeTo(e,s,0),encodeTo(r,s,n),s.set(t,o),new Digest(e,r,t,s)},decode$e=e=>{const t=coerce(e),[r,n]=decode$f(t),[o,s]=decode$f(t.subarray(n)),w=t.subarray(n+s);if(w.byteLength!==o)throw new Error("Incorrect length");return new Digest(r,o,w,t)},equals=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&equals$1(e.bytes,t.bytes);class Digest{constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}}function base(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var s=e.charAt(o),w=s.charCodeAt(0);if(r[w]!==255)throw new TypeError(s+" is ambiguous");r[w]=o}var g=e.length,k=e.charAt(0),P=Math.log(g)/Math.log(256),q=Math.log(256)/Math.log(g);function ie(X){if(X instanceof Uint8Array||(ArrayBuffer.isView(X)?X=new Uint8Array(X.buffer,X.byteOffset,X.byteLength):Array.isArray(X)&&(X=Uint8Array.from(X))),!(X instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(X.length===0)return"";for(var L=0,we=0,Ee=0,_e=X.length;Ee!==_e&&X[Ee]===0;)Ee++,L++;for(var je=(_e-Ee)*q+1>>>0,Xt=new Uint8Array(je);Ee!==_e;){for(var Gt=X[Ee],ot=0,Qt=je-1;(Gt!==0||ot<we)&&Qt!==-1;Qt--,ot++)Gt+=256*Xt[Qt]>>>0,Xt[Qt]=Gt%g>>>0,Gt=Gt/g>>>0;if(Gt!==0)throw new Error("Non-zero carry");we=ot,Ee++}for(var at=je-we;at!==je&&Xt[at]===0;)at++;for(var sr=k.repeat(L);at<je;++at)sr+=e.charAt(Xt[at]);return sr}function he(X){if(typeof X!="string")throw new TypeError("Expected String");if(X.length===0)return new Uint8Array;var L=0;if(X[L]!==" "){for(var we=0,Ee=0;X[L]===k;)we++,L++;for(var _e=(X.length-L)*P+1>>>0,je=new Uint8Array(_e);X[L];){var Xt=r[X.charCodeAt(L)];if(Xt===255)return;for(var Gt=0,ot=_e-1;(Xt!==0||Gt<Ee)&&ot!==-1;ot--,Gt++)Xt+=g*je[ot]>>>0,je[ot]=Xt%256>>>0,Xt=Xt/256>>>0;if(Xt!==0)throw new Error("Non-zero carry");Ee=Gt,L++}if(X[L]!==" "){for(var Qt=_e-Ee;Qt!==_e&&je[Qt]===0;)Qt++;for(var at=new Uint8Array(we+(_e-Qt)),sr=we;Qt!==_e;)at[sr++]=je[Qt++];return at}}}function V(X){var L=he(X);if(L)return L;throw new Error(`Non-${t} character`)}return{encode:ie,decodeUnsafe:he,decode:V}}var src$1=base,_brrp__multiformats_scope_baseX=src$1;class Encoder{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or(this,t)}}class ComposedDecoder{constructor(t){this.decoders=t}or(t){return or(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(e,t)=>new ComposedDecoder({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Codec{constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder(t,r,n),this.decoder=new Decoder(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const from$1=({name:e,prefix:t,encode:r,decode:n})=>new Codec(e,t,r,n),baseX=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX(r,t);return from$1({prefix:e,name:t,encode:n,decode:s=>coerce(o(s))})},decode$d=(e,t,r,n)=>{const o={};for(let q=0;q<t.length;++q)o[t[q]]=q;let s=e.length;for(;e[s-1]==="=";)--s;const w=new Uint8Array(s*r/8|0);let g=0,k=0,P=0;for(let q=0;q<s;++q){const ie=o[e[q]];if(ie===void 0)throw new SyntaxError(`Non-${n} character`);k=k<<r|ie,g+=r,g>=8&&(g-=8,w[P++]=255&k>>g)}if(g>=r||255&k<<8-g)throw new SyntaxError("Unexpected end of data");return w},encode$g=(e,t,r)=>{const n=t[t.length-1]==="=",o=(1<<r)-1;let s="",w=0,g=0;for(let k=0;k<e.length;++k)for(g=g<<8|e[k],w+=8;w>r;)w-=r,s+=t[o&g>>w];if(w&&(s+=t[o&g<<r-w]),n)for(;s.length*r&7;)s+="=";return s},rfc4648=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>from$1({prefix:t,name:e,encode(o){return encode$g(o,n,r)},decode(o){return decode$d(o,n,r,e)}}),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32upper,base32pad,base32padupper,base32hex,base32hexupper,base32hexpad,base32hexpadupper,base32z},Symbol.toStringTag,{value:"Module"}));class CID{constructor(t,r,n,o){this.code=r,this.version=t,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly$1,version:readonly$1,multihash:readonly$1,bytes:readonly$1,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:t,multihash:r}=this;if(t!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:t,digest:r}=this.multihash,n=create$1(t,r);return CID.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&equals(this.multihash,t.multihash)}toString(t){const{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return toStringV0(r,o,t||base58btc.encoder);default:return toStringV1(r,o,t||base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(t&&(t[cidSymbol]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof CID)return t;if(t!=null&&t.asCID===t){const{version:r,code:n,multihash:o,bytes:s}=t;return new CID(r,n,o,s||encodeCID(r,n,o.bytes))}else if(t!=null&&t[cidSymbol]===!0){const{version:r,multihash:n,code:o}=t,s=decode$e(n);return CID.create(r,o,s)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(t,r,n,n.bytes)}case 1:{const o=encodeCID(t,r,n.bytes);return new CID(t,r,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return CID.create(0,DAG_PB_CODE,t)}static createV1(t,r){return CID.create(1,t,r)}static decode(t){const[r,n]=CID.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){const r=CID.inspectBytes(t),n=r.size-r.multihashSize,o=coerce(t.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");const s=o.subarray(r.multihashSize-r.digestSize),w=new Digest(r.multihashCode,r.digestSize,s,o);return[r.version===0?CID.createV0(w):CID.createV1(r.codec,w),t.subarray(r.size)]}static inspectBytes(t){let r=0;const n=()=>{const[ie,he]=decode$f(t.subarray(r));return r+=he,ie};let o=n(),s=DAG_PB_CODE;if(o===18?(o=0,r=0):o===1&&(s=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const w=r,g=n(),k=n(),P=r+k,q=P-w;return{version:o,codec:s,multihashCode:g,digestSize:k,multihashSize:q,size:P}}static parse(t,r){const[n,o]=parseCIDtoBytes(t,r),s=CID.decode(o);return s._baseCache.set(n,t),s}}const parseCIDtoBytes=(e,t)=>{switch(e[0]){case"Q":{const r=t||base58btc;return[base58btc.prefix,r.decode(`${base58btc.prefix}${e}`)]}case base58btc.prefix:{const r=t||base58btc;return[base58btc.prefix,r.decode(e)]}case base32.prefix:{const r=t||base32;return[base32.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},toStringV0=(e,t,r)=>{const{prefix:n}=r;if(n!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=t.get(n);if(o==null){const s=r.encode(e).slice(1);return t.set(n,s),s}else return o},toStringV1=(e,t,r)=>{const{prefix:n}=r,o=t.get(n);if(o==null){const s=r.encode(e);return t.set(n,s),s}else return o},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(e,t,r)=>{const n=encodingLength(e),o=n+encodingLength(t),s=new Uint8Array(o+r.byteLength);return encodeTo(e,s,0),encodeTo(t,s,n),s.set(r,o),s},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly$1={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=(e,t)=>{if(e.test(version))console.warn(t);else throw new Error(t)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is$1(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";const t=typeof e;if(typeofs.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(e))return"Array";if(isBuffer$2(e))return"Buffer";const r=getObjectType(e);return r||"Object"}function isBuffer$2(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function getObjectType(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(objectTypeNames.includes(t))return t}class Type{constructor(t,r,n){this.major=t,this.majorEncoded=t<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(t,r,n){this.type=t,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$2=new TextDecoder,textEncoder$3=new TextEncoder;function isBuffer$1(e){return useBuffer&&globalThis.Buffer.isBuffer(e)}function asU8A(e){return e instanceof Uint8Array?isBuffer$1(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const toString$1=useBuffer?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):utf8Slice(e,t,r):(e,t,r)=>r-t>64?textDecoder$2.decode(e.subarray(t,r)):utf8Slice(e,t,r),fromString=useBuffer?e=>e.length>64?globalThis.Buffer.from(e):utf8ToBytes(e):e=>e.length>64?textEncoder$3.encode(e):utf8ToBytes(e),fromArray=e=>Uint8Array.from(e),slice=useBuffer?(e,t,r)=>isBuffer$1(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),concat=useBuffer?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),asU8A(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},alloc=useBuffer?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function compare(e,t){if(isBuffer$1(e)&&isBuffer$1(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function utf8ToBytes(e,t=1/0){let r;const n=e.length;let o=null;const s=[];for(let w=0;w<n;++w){if(r=e.charCodeAt(w),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(w+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function utf8Slice(e,t,r){const n=[];for(;t<r;){const o=e[t];let s=null,w=o>239?4:o>223?3:o>191?2:1;if(t+w<=r){let g,k,P,q;switch(w){case 1:o<128&&(s=o);break;case 2:g=e[t+1],(g&192)===128&&(q=(o&31)<<6|g&63,q>127&&(s=q));break;case 3:g=e[t+1],k=e[t+2],(g&192)===128&&(k&192)===128&&(q=(o&15)<<12|(g&63)<<6|k&63,q>2047&&(q<55296||q>57343)&&(s=q));break;case 4:g=e[t+1],k=e[t+2],P=e[t+3],(g&192)===128&&(k&192)===128&&(P&192)===128&&(q=(o&15)<<18|(g&63)<<12|(k&63)<<6|P&63,q>65535&&q<1114112&&(s=q))}}s===null?(s=65533,w=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),t+=w}return decodeCodePointsArray(n)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){const t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}const defaultChunkSize=256;class Bl{constructor(t=defaultChunkSize){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let r=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){const o=r.length-(this.maxCursor-this.cursor)-1;r.set(t,o)}else{if(r){const o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(r=alloc(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let r;if(this.chunks.length===1){const n=this.chunks[0];t&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=slice(n,0,this.cursor)}else r=concat(this.chunks,this.cursor);return t&&this.reset(),r}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(e,t,r){if(e.length-t<r)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(e,t,r){assertEnoughData(e,t,1);const n=e[t];if(r.strict===!0&&n<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint16(e,t,r){assertEnoughData(e,t,2);const n=e[t]<<8|e[t+1];if(r.strict===!0&&n<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint32(e,t,r){assertEnoughData(e,t,4);const n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint64(e,t,r){assertEnoughData(e,t,8);const n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],s=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&s<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8(e,t,r,n){return new Token(Type.uint,readUint8(e,t+1,n),2)}function decodeUint16(e,t,r,n){return new Token(Type.uint,readUint16(e,t+1,n),3)}function decodeUint32(e,t,r,n){return new Token(Type.uint,readUint32(e,t+1,n),5)}function decodeUint64(e,t,r,n){return new Token(Type.uint,readUint64(e,t+1,n),9)}function encodeUint(e,t){return encodeUintValue(e,0,t.value)}function encodeUintValue(e,t,r){if(r<uintBoundaries[0]){const n=Number(r);e.push([t|n])}else if(r<uintBoundaries[1]){const n=Number(r);e.push([t|24,n])}else if(r<uintBoundaries[2]){const n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<uintBoundaries[3]){const n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(r);if(n<uintBoundaries[4]){const o=[t|27,0,0,0,0,0,0,0];let s=Number(n&BigInt(4294967295)),w=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=s&255,s=s>>8,o[7]=s&255,s=s>>8,o[6]=s&255,s=s>>8,o[5]=s&255,o[4]=w&255,w=w>>8,o[3]=w&255,w=w>>8,o[2]=w&255,w=w>>8,o[1]=w&255,e.push(o)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};encodeUintValue.encodedSize=function(t){return t<uintBoundaries[0]?1:t<uintBoundaries[1]?2:t<uintBoundaries[2]?3:t<uintBoundaries[3]?5:9};encodeUint.compareTokens=function(t,r){return t.value<r.value?-1:t.value>r.value?1:0};function decodeNegint8(e,t,r,n){return new Token(Type.negint,-1-readUint8(e,t+1,n),2)}function decodeNegint16(e,t,r,n){return new Token(Type.negint,-1-readUint16(e,t+1,n),3)}function decodeNegint32(e,t,r,n){return new Token(Type.negint,-1-readUint32(e,t+1,n),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o!="bigint"){const s=-1-o;if(s>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token(Type.negint,neg1b-BigInt(o),9)}function encodeNegint(e,t){const r=t.value,n=typeof r=="bigint"?r*neg1b-pos1b:r*-1-1;encodeUintValue(e,t.type.majorEncoded,n)}encodeNegint.encodedSize=function(t){const r=t.value,n=typeof r=="bigint"?r*neg1b-pos1b:r*-1-1;return n<uintBoundaries[0]?1:n<uintBoundaries[1]?2:n<uintBoundaries[2]?3:n<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function(t,r){return t.value<r.value?1:t.value>r.value?-1:0};function toToken$3(e,t,r,n){assertEnoughData(e,t,r+n);const o=slice(e,t+r,t+r+n);return new Token(Type.bytes,o,r+n)}function decodeBytesCompact(e,t,r,n){return toToken$3(e,t,1,r)}function decodeBytes8(e,t,r,n){return toToken$3(e,t,2,readUint8(e,t+1,n))}function decodeBytes16(e,t,r,n){return toToken$3(e,t,3,readUint16(e,t+1,n))}function decodeBytes32(e,t,r,n){return toToken$3(e,t,5,readUint32(e,t+1,n))}function decodeBytes64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3(e,t,9,o)}function tokenBytes(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===Type.string?fromString(e.value):e.value),e.encodedBytes}function encodeBytes(e,t){const r=tokenBytes(t);encodeUintValue(e,t.type.majorEncoded,r.length),e.push(r)}encodeBytes.encodedSize=function(t){const r=tokenBytes(t);return encodeUintValue.encodedSize(r.length)+r.length};encodeBytes.compareTokens=function(t,r){return compareBytes(tokenBytes(t),tokenBytes(r))};function compareBytes(e,t){return e.length<t.length?-1:e.length>t.length?1:compare(e,t)}function toToken$2(e,t,r,n,o){const s=r+n;assertEnoughData(e,t,s);const w=new Token(Type.string,toString$1(e,t+r,t+s),s);return o.retainStringBytes===!0&&(w.byteValue=slice(e,t+r,t+s)),w}function decodeStringCompact(e,t,r,n){return toToken$2(e,t,1,r,n)}function decodeString8(e,t,r,n){return toToken$2(e,t,2,readUint8(e,t+1,n),n)}function decodeString16(e,t,r,n){return toToken$2(e,t,3,readUint16(e,t+1,n),n)}function decodeString32(e,t,r,n){return toToken$2(e,t,5,readUint32(e,t+1,n),n)}function decodeString64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2(e,t,9,o,n)}const encodeString=encodeBytes;function toToken$1(e,t,r,n){return new Token(Type.array,n,r)}function decodeArrayCompact(e,t,r,n){return toToken$1(e,t,1,r)}function decodeArray8(e,t,r,n){return toToken$1(e,t,2,readUint8(e,t+1,n))}function decodeArray16(e,t,r,n){return toToken$1(e,t,3,readUint16(e,t+1,n))}function decodeArray32(e,t,r,n){return toToken$1(e,t,5,readUint32(e,t+1,n))}function decodeArray64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1(e,t,9,o)}function decodeArrayIndefinite(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1(e,t,1,1/0)}function encodeArray(e,t){encodeUintValue(e,Type.array.majorEncoded,t.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};function toToken(e,t,r,n){return new Token(Type.map,n,r)}function decodeMapCompact(e,t,r,n){return toToken(e,t,1,r)}function decodeMap8(e,t,r,n){return toToken(e,t,2,readUint8(e,t+1,n))}function decodeMap16(e,t,r,n){return toToken(e,t,3,readUint16(e,t+1,n))}function decodeMap32(e,t,r,n){return toToken(e,t,5,readUint32(e,t+1,n))}function decodeMap64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken(e,t,9,o)}function decodeMapIndefinite(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken(e,t,1,1/0)}function encodeMap(e,t){encodeUintValue(e,Type.map.majorEncoded,t.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};function decodeTagCompact(e,t,r,n){return new Token(Type.tag,r,1)}function decodeTag8(e,t,r,n){return new Token(Type.tag,readUint8(e,t+1,n),2)}function decodeTag16(e,t,r,n){return new Token(Type.tag,readUint16(e,t+1,n),3)}function decodeTag32(e,t,r,n){return new Token(Type.tag,readUint32(e,t+1,n),5)}function decodeTag64(e,t,r,n){return new Token(Type.tag,readUint64(e,t+1,n),9)}function encodeTag(e,t){encodeUintValue(e,Type.tag.majorEncoded,t.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token(Type.float,e,t)}function decodeFloat16(e,t,r,n){return createToken(readFloat16(e,t+1),3,n)}function decodeFloat32(e,t,r,n){return createToken(readFloat32(e,t+1),5,n)}function decodeFloat64(e,t,r,n){return createToken(readFloat64(e,t+1),9,n)}function encodeFloat(e,t,r){const n=t.value;if(n===!1)e.push([Type.float.majorEncoded|MINOR_FALSE]);else if(n===!0)e.push([Type.float.majorEncoded|MINOR_TRUE]);else if(n===null)e.push([Type.float.majorEncoded|MINOR_NULL]);else if(n===void 0)e.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let o,s=!1;(!r||r.float64!==!0)&&(encodeFloat16(n),o=readFloat16(ui8a,1),n===o||Number.isNaN(n)?(ui8a[0]=249,e.push(ui8a.slice(0,3)),s=!0):(encodeFloat32(n),o=readFloat32(ui8a,1),n===o&&(ui8a[0]=250,e.push(ui8a.slice(0,5)),s=!0))),s||(encodeFloat64(n),o=readFloat64(ui8a,1),ui8a[0]=251,e.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(t,r){const n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){encodeFloat16(n);let o=readFloat16(ui8a,1);if(n===o||Number.isNaN(n))return 3;if(encodeFloat32(n),o=readFloat32(ui8a,1),n===o)return 5}return 9};const buffer=new ArrayBuffer(9),dataView=new DataView(buffer,1),ui8a=new Uint8Array(buffer,0);function encodeFloat16(e){if(e===1/0)dataView.setUint16(0,31744,!1);else if(e===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(e))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,e);const t=dataView.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)dataView.setUint16(0,31744,!1);else if(r===0)dataView.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{const o=r-127;o<-24?dataView.setUint16(0,0):o<-14?dataView.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):dataView.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function readFloat16(e,t){if(e.length-t<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;const n=r>>10&31,o=r&1023;let s;return n===0?s=o*2**-24:n!==31?s=(o+1024)*2**(n-25):s=o===0?1/0:NaN,r&32768?-s:s}function encodeFloat32(e){dataView.setFloat32(0,e,!1)}function readFloat32(e,t){if(e.length-t<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function encodeFloat64(e){dataView.setFloat64(0,e,!1)}function readFloat64(e,t){if(e.length-t<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor(e,t,r){throw new Error(`${decodeErrPrefix} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function errorer(e){return()=>{throw new Error(`${decodeErrPrefix} ${e}`)}}const jump=[];for(let e=0;e<=23;e++)jump[e]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let e=32;e<=55;e++)jump[e]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let e=64;e<=87;e++)jump[e]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)jump[e]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)jump[e]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let e=160;e<=183;e++)jump[e]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let e=192;e<=215;e++)jump[e]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let e=224;e<=243;e++)jump[e]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let e=0;e<24;e++)quick[e]=new Token(Type.uint,e,1);for(let e=-1;e>=-24;e--)quick[31-e]=new Token(Type.negint,e,1);quick[64]=new Token(Type.bytes,new Uint8Array(0),1);quick[96]=new Token(Type.string,"",1);quick[128]=new Token(Type.array,0,1);quick[160]=new Token(Type.map,0,1);quick[244]=new Token(Type.false,!1,1);quick[245]=new Token(Type.true,!0,1);quick[246]=new Token(Type.null,null,1);function quickEncodeToken(e){switch(e.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return e.value.length?void 0:fromArray([64]);case Type.string:return e.value===""?fromArray([96]):void 0;case Type.array:return e.value===0?fromArray([128]):void 0;case Type.map:return e.value===0?fromArray([160]):void 0;case Type.uint:return e.value<24?fromArray([Number(e.value)]):void 0;case Type.negint:if(e.value>=-24)return fromArray([31-Number(e.value)])}}const defaultEncodeOptions$1={float64:!1,mapSorter:mapSorter$1,quickEncodeToken};function makeCborEncoders(){const e=[];return e[Type.uint.major]=encodeUint,e[Type.negint.major]=encodeNegint,e[Type.bytes.major]=encodeBytes,e[Type.string.major]=encodeString,e[Type.array.major]=encodeArray,e[Type.map.major]=encodeMap,e[Type.tag.major]=encodeTag,e[Type.float.major]=encodeFloat,e}const cborEncoders=makeCborEncoders(),buf=new Bl;class Ref{constructor(t,r){this.obj=t,this.parent=r}includes(t){let r=this;do if(r.obj===t)return!0;while(r=r.parent);return!1}static createCheck(t,r){if(t&&t.includes(r))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(r,t)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new Token(Type.float,e):e>=0?new Token(Type.uint,e):new Token(Type.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new Token(Type.uint,e):new Token(Type.negint,e)},Uint8Array(e,t,r,n){return new Token(Type.bytes,e)},string(e,t,r,n){return new Token(Type.string,e)},boolean(e,t,r,n){return e?simpleTokens.true:simpleTokens.false},null(e,t,r,n){return simpleTokens.null},undefined(e,t,r,n){return simpleTokens.undefined},ArrayBuffer(e,t,r,n){return new Token(Type.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new Token(Type.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;n=Ref.createCheck(n,e);const o=[];let s=0;for(const w of e)o[s++]=objectToTokens(w,r,n);return r.addBreakTokens?[new Token(Type.array,e.length),o,new Token(Type.break)]:[new Token(Type.array,e.length),o]},Object(e,t,r,n){const o=t!=="Object",s=o?e.keys():Object.keys(e),w=o?e.size:s.length;if(!w)return r.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;n=Ref.createCheck(n,e);const g=[];let k=0;for(const P of s)g[k++]=[objectToTokens(P,r,n),objectToTokens(o?e.get(P):e[P],r,n)];return sortMapEntries(g,r),r.addBreakTokens?[new Token(Type.map,w),g,new Token(Type.break)]:[new Token(Type.map,w),g]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${e}Array`]=typeEncoders.DataView;function objectToTokens(e,t={},r){const n=is$1(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||typeEncoders[n];if(typeof o=="function"){const w=o(e,n,t,r);if(w!=null)return w}const s=typeEncoders[n];if(!s)throw new Error(`${encodeErrPrefix} unsupported type: ${n}`);return s(e,n,t,r)}function sortMapEntries(e,t){t.mapSorter&&e.sort(t.mapSorter)}function mapSorter$1(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);const o=r.type.major,s=cborEncoders[o].compareTokens(r,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function tokensToEncoded(e,t,r,n){if(Array.isArray(t))for(const o of t)tokensToEncoded(e,o,r,n);else r[t.type.major](e,t,n)}function encodeCustom(e,t,r){const n=objectToTokens(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){const o=r.quickEncodeToken(n);if(o)return o;const s=t[n.type.major];if(s.encodedSize){const w=s.encodedSize(n,r),g=new Bl(w);if(s(g,n,r),g.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return asU8A(g.chunks[0])}}return buf.reset(),tokensToEncoded(buf,n,t,r),buf.toBytes(!0)}function encode$f(e,t){return t=Object.assign({},defaultEncodeOptions$1,t),encodeCustom(e,cborEncoders,t)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(t,r={}){this.pos=0,this.data=t,this.options=r}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let r=quick[t];if(r===void 0){const n=jump[t];if(!n)throw new Error(`${decodeErrPrefix} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);const o=t&31;r=n(this.data,this.pos,o,this.options)}return this.pos+=r.encodedLength,r}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(e,t,r){const n=[];for(let o=0;o<e.value;o++){const s=tokensToObject(t,r);if(s===BREAK){if(e.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(s===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=s}return n}function tokenToMap(e,t,r){const n=r.useMaps===!0,o=n?void 0:{},s=n?new Map:void 0;for(let w=0;w<e.value;w++){const g=tokensToObject(t,r);if(g===BREAK){if(e.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(g===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${w} [no key], expected ${e.value})`);if(n!==!0&&typeof g!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof g})`);const k=tokensToObject(t,r);if(k===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${w} [no value], expected ${e.value})`);n?s.set(g,k):o[g]=k}return n?s:o}function tokensToObject(e,t){if(e.done())return DONE;const r=e.next();if(r.type===Type.break)return BREAK;if(r.type.terminal)return r.value;if(r.type===Type.array)return tokenToArray(r,e,t);if(r.type===Type.map)return tokenToMap(r,e,t);if(r.type===Type.tag){if(t.tags&&typeof t.tags[r.value]=="function"){const n=tokensToObject(e,t);return t.tags[r.value](n)}throw new Error(`${decodeErrPrefix} tag not supported (${r.value})`)}throw new Error("unsupported")}function decode$c(e,t){if(!(e instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);t=Object.assign({},defaultDecodeOptions,t);const r=t.tokenizer||new Tokeniser(e,t),n=tokensToObject(r,t);if(n===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(n===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);if(!r.done())throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return n}const CID_CBOR_TAG=42;function cidEncoder$1(e){if(e.asCID!==e)return null;const t=CID.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,r)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions$1={float64:!0,typeEncoders:{Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}};function cidDecoder(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(e.subarray(1))}const decodeOptions$1={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$1.tags[CID_CBOR_TAG]=cidDecoder;const name$6="dag-cbor",code$7=113,encode$e=e=>encode$f(e,encodeOptions$1),decode$b=e=>decode$c(e,decodeOptions$1),dagCBOR=Object.freeze(Object.defineProperty({__proto__:null,name:name$6,code:code$7,encode:encode$e,decode:decode$b},Symbol.toStringTag,{value:"Module"})),Kinds={Null:e=>e===null,Int:e=>Number.isInteger(e),Float:e=>typeof e=="number"&&Number.isFinite(e),String:e=>typeof e=="string",Bool:e=>typeof e=="boolean",Bytes:e=>e instanceof Uint8Array,Link:e=>!Kinds.Null(e)&&typeof e=="object"&&e.asCID===e,List:e=>Array.isArray(e),Map:e=>!Kinds.Null(e)&&typeof e=="object"&&e.asCID!==e&&!Kinds.List(e)&&!Kinds.Bytes(e)},Types={Int:Kinds.Int,"CarHeader > version":e=>Types.Int(e),"CarHeader > roots (anon) > valueType (anon)":Kinds.Link,"CarHeader > roots (anon)":e=>Kinds.List(e)&&Array.prototype.every.call(e,Types["CarHeader > roots (anon) > valueType (anon)"]),"CarHeader > roots":e=>Types["CarHeader > roots (anon)"](e),CarHeader:e=>{const t=e&&Object.keys(e);return Kinds.Map(e)&&["version"].every(r=>t.includes(r))&&Object.entries(e).every(([r,n])=>Types["CarHeader > "+r]&&Types["CarHeader > "+r](n))}},CarHeader=Types.CarHeader,CIDV0_BYTES={SHA2_256:18,LENGTH:32,DAG_PB:112},V2_HEADER_LENGTH=16+8+8+8;async function readVarint(e){const t=await e.upTo(8);if(!t.length)throw new Error("Unexpected end of data");const r=varint$1.decode(t);return e.seek(varint$1.decode.bytes),r}async function readV2Header(e){const t=await e.exactly(V2_HEADER_LENGTH),r=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;const o={version:2,characteristics:[r.getBigUint64(n,!0),r.getBigUint64(n+=8,!0)],dataOffset:Number(r.getBigUint64(n+=8,!0)),dataSize:Number(r.getBigUint64(n+=8,!0)),indexOffset:Number(r.getBigUint64(n+=8,!0))};return e.seek(V2_HEADER_LENGTH),o}async function readHeader(e,t){const r=await readVarint(e);if(r===0)throw new Error("Invalid CAR header (zero length)");const n=await e.exactly(r);e.seek(r);const o=decode$b(n);if(!CarHeader(o))throw new Error("Invalid CAR header format");if(o.version!==1&&o.version!==2||t!==void 0&&o.version!==t)throw new Error(`Invalid CAR version: ${o.version}${t!==void 0?` (expected ${t})`:""}`);const s=Array.isArray(o.roots);if(o.version===1&&!s||o.version===2&&s)throw new Error("Invalid CAR header format");if(o.version===1)return o;const w=await readV2Header(e);e.seek(w.dataOffset-e.pos);const g=await readHeader(e,1);return Object.assign(g,w)}async function readMultihash(e){const t=await e.upTo(8);varint$1.decode(t);const r=varint$1.decode.bytes,n=varint$1.decode(t.subarray(varint$1.decode.bytes)),o=varint$1.decode.bytes,s=r+o+n,w=await e.exactly(s);return e.seek(s),w}async function readCid(e){const t=await e.exactly(2);if(t[0]===CIDV0_BYTES.SHA2_256&&t[1]===CIDV0_BYTES.LENGTH){const w=await e.exactly(34);e.seek(34);const g=decode$e(w);return CID.create(0,CIDV0_BYTES.DAG_PB,g)}const r=await readVarint(e);if(r!==1)throw new Error(`Unexpected CID version (${r})`);const n=await readVarint(e),o=await readMultihash(e),s=decode$e(o);return CID.create(r,n,s)}async function readBlockHead(e){const t=e.pos;let r=await readVarint(e);if(r===0)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;const n=await readCid(e),o=r-Number(e.pos-t);return{cid:n,length:r,blockLength:o}}async function readBlock(e){const{cid:t,blockLength:r}=await readBlockHead(e),n=await e.exactly(r);return e.seek(r),{bytes:n,cid:t}}async function readBlockIndex(e){const t=e.pos,{cid:r,length:n,blockLength:o}=await readBlockHead(e),s={cid:r,length:n,blockLength:o,offset:t,blockOffset:e.pos};return e.seek(s.blockLength),s}function createDecoder(e){const t=(async()=>{const r=await readHeader(e);if(r.version===2){const n=e.pos-r.dataOffset;e=limitReader(e,r.dataSize-n)}return r})();return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await readBlock(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await readBlockIndex(e)}}}function bytesReader(e){let t=0;return{async upTo(r){return e.subarray(t,t+Math.min(r,e.length-t))},async exactly(r){if(r>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+r)},seek(r){t+=r},get pos(){return t}}}function chunkReader(e){let t=0,r=0,n=0,o=new Uint8Array(0);const s=async w=>{r=o.length-n;const g=[o.subarray(n)];for(;r<w;){const P=await e();if(P==null)break;r<0?P.length>r&&g.push(P.subarray(-r)):g.push(P),r+=P.length}o=new Uint8Array(g.reduce((P,q)=>P+q.length,0));let k=0;for(const P of g)o.set(P,k),k+=P.length;n=0};return{async upTo(w){return o.length-n<w&&await s(w),o.subarray(n,n+Math.min(o.length-n,w))},async exactly(w){if(o.length-n<w&&await s(w),o.length-n<w)throw new Error("Unexpected end of data");return o.subarray(n,n+w)},seek(w){t+=w,n+=w},get pos(){return t}}}function asyncIterableReader(e){const t=e[Symbol.asyncIterator]();async function r(){const n=await t.next();return n.done?null:n.value}return chunkReader(r)}function limitReader(e,t){let r=0;return{async upTo(n){let o=await e.upTo(n);return o.length+r>t&&(o=o.subarray(0,t-r)),o},async exactly(n){const o=await e.exactly(n);if(o.length+r>t)throw new Error("Unexpected end of data");return o},seek(n){r+=n,e.seek(n)},get pos(){return e.pos}}}class CarReader{constructor(t,r){this._header=t,this._blocks=r,this._keys=r.map(n=>n.cid.toString())}get version(){return this._header.version}async getRoots(){return this._header.roots}async has(t){return this._keys.indexOf(t.toString())>-1}async get(t){const r=this._keys.indexOf(t.toString());return r>-1?this._blocks[r]:void 0}async*blocks(){for(const t of this._blocks)yield t}async*cids(){for(const t of this._blocks)yield t.cid}static async fromBytes(t){if(!(t instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeReaderComplete(bytesReader(t))}static async fromIterable(t){if(!t||typeof t[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeReaderComplete(asyncIterableReader(t))}}async function decodeReaderComplete(e){const t=createDecoder(e),r=await t.header(),n=[];for await(const o of t.blocks())n.push(o);return new CarReader(r,n)}const from=({name:e,code:t,encode:r})=>new Hasher(e,t,r);class Hasher{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?create$1(this.code,r):r.then(n=>create$1(this.code,n))}else throw Error("Unknown type, must be binary type")}}const name$5="raw",code$6=85,encode$d=e=>coerce(e),decode$a=e=>coerce(e),raw=Object.freeze(Object.defineProperty({__proto__:null,name:name$5,code:code$6,encode:encode$d,decode:decode$a},Symbol.toStringTag,{value:"Module"})),sha=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),sha256=from({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512=from({name:"sha2-512",code:19,encode:sha("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256,sha512},Symbol.toStringTag,{value:"Module"})),readonly=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),links=function*(e,t){if(e!=null&&!(e instanceof Uint8Array))for(const[r,n]of Object.entries(e)){const o=[...t,r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(const[s,w]of n.entries()){const g=[...o,s],k=CID.asCID(w);k?yield[g.join("/"),k]:typeof w=="object"&&(yield*links(w,g))}else{const s=CID.asCID(n);s?yield[o.join("/"),s]:yield*links(n,o)}}},tree=function*(e,t){if(e!=null)for(const[r,n]of Object.entries(e)){const o=[...t,r];if(yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!CID.asCID(n))if(Array.isArray(n))for(const[s,w]of n.entries()){const g=[...o,s];yield g.join("/"),typeof w=="object"&&!CID.asCID(w)&&(yield*tree(w,g))}else yield*tree(n,o)}},get=(e,t)=>{let r=e;for(const[n,o]of t.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${t.slice(0,n+1).map(w=>`[${JSON.stringify(w)}]`).join("")}`);const s=CID.asCID(r);if(s)return{value:s,remaining:t.slice(n+1).join("/")}}return{value:r}};class Block{constructor({cid:t,bytes:r,value:n}){if(!t||!r||typeof n>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:readonly(),bytes:readonly(),value:readonly(),asBlock:readonly()})}links(){return links(this.value,[])}tree(){return tree(this.value,[])}get(t="/"){return get(this.value,t.split("/").filter(Boolean))}}const encode$c=async({value:e,codec:t,hasher:r})=>{if(typeof e>"u")throw new Error('Missing required argument "value"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");const n=t.encode(e),o=await r.digest(n),s=CID.create(1,t.code,o);return new Block({value:e,bytes:n,cid:s})},createUnsafe=({bytes:e,cid:t,value:r,codec:n})=>{const o=r!==void 0?r:n&&n.decode(e);if(o===void 0)throw new Error('Missing required argument, must either provide "value" or "codec"');return new Block({cid:t,bytes:e,value:o})},create=async({bytes:e,cid:t,hasher:r,codec:n})=>{if(!e)throw new Error('Missing required argument "bytes"');if(!r)throw new Error('Missing required argument "hasher"');const o=n.decode(e),s=await r.digest(e);if(!equals$1(t.multihash.bytes,s.bytes))throw new Error("CID hash does not match bytes");return createUnsafe({bytes:e,cid:t,value:o,codec:n})};function mitt(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(o){o(r)}),(n=e.get("*"))&&n.slice().map(function(o){o(t,r)})}}}const{isBinary}=byteslib,encode$b=e=>isBinary(e)?encode$c({value:e,hasher:sha256,codec:raw}):encode$c({value:e,hasher:sha256,codec:dagCBOR}),decode$9=({bytes:e,cid:t})=>{let r,n;const{code:o}=t,s=t.multihash.code||decode$e(t.multihash).code;if(s===18)r=sha256;else throw new Error("Unsupported hash function: "+s);if(o===113)n=dagCBOR;else if(o===85)n=raw;else throw new Error("Unsupported codec: "+o);return create({bytes:e,cid:t,codec:n,hasher:r})};class Transaction{constructor(){Object.assign(this,mitt()),this.blocks=[]}static create(){return new this}static async load(t){const r=await CarReader.fromBytes(t),[n]=await r.getRoots();return{root:n,get:s=>r.get(s).then(w=>decode$9(w)).then(({value:w})=>w)}}async add(t){const r=await encode$b(t);return this.last=r,this.blocks.push(r),this.emit("size",this.size),r.cid}async get(t){const{cid:r,bytes:n,value:o}=await decode$9(t);return{cid:r,bytes:n,value:o}}undo(){return this.blocks.pop()}async commit(){const t=this.last.cid;let r=0,n=Pn({roots:[t]});r+=n;for(const w of this.blocks)r+=Jc(w);const o=new Uint8Array(r),s=await Qc(o,{headerSize:n});s.addRoot(t);for(const w of this.blocks)s.write(w);return await s.close(),s.bytes}get size(){if(!(this!=null&&this.last))return 0;const t=this.last.cid;let r=0;r+=Pn({roots:[t]});for(const o of this.blocks)r+=Jc(o);return r}}var f_=Object.create,fo$1=Object.defineProperty,l_=Object.getOwnPropertyDescriptor,d_=Object.getOwnPropertyNames,p_=Object.getPrototypeOf,h_=Object.prototype.hasOwnProperty,B=(e,t)=>()=>(e&&(t=e(e=0)),t),h=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),G$1=(e,t)=>{for(var r in t)fo$1(e,r,{get:t[r],enumerable:!0})},zl$1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of d_(t))!h_.call(e,o)&&o!==r&&fo$1(e,o,{get:()=>t[o],enumerable:!(n=l_(t,o))||n.enumerable});return e},_$1=(e,t,r)=>(r=e!=null?f_(p_(e)):{},zl$1(t||!e||!e.__esModule?fo$1(r,"default",{value:e,enumerable:!0}):r,e)),ue=e=>zl$1(fo$1({},"__esModule",{value:!0}),e),Gl$1=h(e=>{u(),e.byteLength=k,e.toByteArray=q,e.fromByteArray=V;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,w=o.length;s<w;++s)t[s]=o[s],r[o.charCodeAt(s)]=s;var s,w;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function g(X){var L=X.length;if(L%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var we=X.indexOf("=");we===-1&&(we=L);var Ee=we===L?0:4-we%4;return[we,Ee]}function k(X){var L=g(X),we=L[0],Ee=L[1];return(we+Ee)*3/4-Ee}function P(X,L,we){return(L+we)*3/4-we}function q(X){var L,we=g(X),Ee=we[0],_e=we[1],je=new n(P(X,Ee,_e)),Xt=0,Gt=_e>0?Ee-4:Ee,ot;for(ot=0;ot<Gt;ot+=4)L=r[X.charCodeAt(ot)]<<18|r[X.charCodeAt(ot+1)]<<12|r[X.charCodeAt(ot+2)]<<6|r[X.charCodeAt(ot+3)],je[Xt++]=L>>16&255,je[Xt++]=L>>8&255,je[Xt++]=L&255;return _e===2&&(L=r[X.charCodeAt(ot)]<<2|r[X.charCodeAt(ot+1)]>>4,je[Xt++]=L&255),_e===1&&(L=r[X.charCodeAt(ot)]<<10|r[X.charCodeAt(ot+1)]<<4|r[X.charCodeAt(ot+2)]>>2,je[Xt++]=L>>8&255,je[Xt++]=L&255),je}function ie(X){return t[X>>18&63]+t[X>>12&63]+t[X>>6&63]+t[X&63]}function he(X,L,we){for(var Ee,_e=[],je=L;je<we;je+=3)Ee=(X[je]<<16&16711680)+(X[je+1]<<8&65280)+(X[je+2]&255),_e.push(ie(Ee));return _e.join("")}function V(X){for(var L,we=X.length,Ee=we%3,_e=[],je=16383,Xt=0,Gt=we-Ee;Xt<Gt;Xt+=je)_e.push(he(X,Xt,Xt+je>Gt?Gt:Xt+je));return Ee===1?(L=X[we-1],_e.push(t[L>>2]+t[L<<4&63]+"==")):Ee===2&&(L=(X[we-2]<<8)+X[we-1],_e.push(t[L>>10]+t[L>>4&63]+t[L<<2&63]+"=")),_e.join("")}}),Hl$1=h(e=>{u(),e.read=function(t,r,n,o,s){var w,g,k=s*8-o-1,P=(1<<k)-1,q=P>>1,ie=-7,he=n?s-1:0,V=n?-1:1,X=t[r+he];for(he+=V,w=X&(1<<-ie)-1,X>>=-ie,ie+=k;ie>0;w=w*256+t[r+he],he+=V,ie-=8);for(g=w&(1<<-ie)-1,w>>=-ie,ie+=o;ie>0;g=g*256+t[r+he],he+=V,ie-=8);if(w===0)w=1-q;else{if(w===P)return g?NaN:(X?-1:1)*(1/0);g=g+Math.pow(2,o),w=w-q}return(X?-1:1)*g*Math.pow(2,w-o)},e.write=function(t,r,n,o,s,w){var g,k,P,q=w*8-s-1,ie=(1<<q)-1,he=ie>>1,V=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,X=o?0:w-1,L=o?1:-1,we=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(k=isNaN(r)?1:0,g=ie):(g=Math.floor(Math.log(r)/Math.LN2),r*(P=Math.pow(2,-g))<1&&(g--,P*=2),g+he>=1?r+=V/P:r+=V*Math.pow(2,1-he),r*P>=2&&(g++,P/=2),g+he>=ie?(k=0,g=ie):g+he>=1?(k=(r*P-1)*Math.pow(2,s),g=g+he):(k=r*Math.pow(2,he-1)*Math.pow(2,s),g=0));s>=8;t[n+X]=k&255,X+=L,k/=256,s-=8);for(g=g<<s|k,q+=s;q>0;t[n+X]=g&255,X+=L,g/=256,q-=8);t[n+X-L]|=we*128}}),ct$1=h(e=>{u();var t=Gl$1(),r=Hl$1(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=g,e.SlowBuffer=_e,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,g.TYPED_ARRAY_SUPPORT=s(),!g.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let y=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(y,E),y.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});function w(y){if(y>o)throw new RangeError('The value "'+y+'" is invalid for option "size"');let E=new Uint8Array(y);return Object.setPrototypeOf(E,g.prototype),E}function g(y,E,I){if(typeof y=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ie(y)}return k(y,E,I)}g.poolSize=8192;function k(y,E,I){if(typeof y=="string")return he(y,E);if(ArrayBuffer.isView(y))return X(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(la(y,ArrayBuffer)||y&&la(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(la(y,SharedArrayBuffer)||y&&la(y.buffer,SharedArrayBuffer)))return L(y,E,I);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let Ie=y.valueOf&&y.valueOf();if(Ie!=null&&Ie!==y)return g.from(Ie,E,I);let et=we(y);if(et)return et;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return g.from(y[Symbol.toPrimitive]("string"),E,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}g.from=function(y,E,I){return k(y,E,I)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array);function P(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function q(y,E,I){return P(y),y<=0?w(y):E!==void 0?typeof I=="string"?w(y).fill(E,I):w(y).fill(E):w(y)}g.alloc=function(y,E,I){return q(y,E,I)};function ie(y){return P(y),w(y<0?0:Ee(y)|0)}g.allocUnsafe=function(y){return ie(y)},g.allocUnsafeSlow=function(y){return ie(y)};function he(y,E){if((typeof E!="string"||E==="")&&(E="utf8"),!g.isEncoding(E))throw new TypeError("Unknown encoding: "+E);let I=je(y,E)|0,Ie=w(I),et=Ie.write(y,E);return et!==I&&(Ie=Ie.slice(0,et)),Ie}function V(y){let E=y.length<0?0:Ee(y.length)|0,I=w(E);for(let Ie=0;Ie<E;Ie+=1)I[Ie]=y[Ie]&255;return I}function X(y){if(la(y,Uint8Array)){let E=new Uint8Array(y);return L(E.buffer,E.byteOffset,E.byteLength)}return V(y)}function L(y,E,I){if(E<0||y.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<E+(I||0))throw new RangeError('"length" is outside of buffer bounds');let Ie;return E===void 0&&I===void 0?Ie=new Uint8Array(y):I===void 0?Ie=new Uint8Array(y,E):Ie=new Uint8Array(y,E,I),Object.setPrototypeOf(Ie,g.prototype),Ie}function we(y){if(g.isBuffer(y)){let E=Ee(y.length)|0,I=w(E);return I.length===0||y.copy(I,0,0,E),I}if(y.length!==void 0)return typeof y.length!="number"||ja(y.length)?w(0):V(y);if(y.type==="Buffer"&&Array.isArray(y.data))return V(y.data)}function Ee(y){if(y>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return y|0}function _e(y){return+y!=y&&(y=0),g.alloc(+y)}g.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==g.prototype},g.compare=function(y,E){if(la(y,Uint8Array)&&(y=g.from(y,y.offset,y.byteLength)),la(E,Uint8Array)&&(E=g.from(E,E.offset,E.byteLength)),!g.isBuffer(y)||!g.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===E)return 0;let I=y.length,Ie=E.length;for(let et=0,rr=Math.min(I,Ie);et<rr;++et)if(y[et]!==E[et]){I=y[et],Ie=E[et];break}return I<Ie?-1:Ie<I?1:0},g.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(y,E){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return g.alloc(0);let I;if(E===void 0)for(E=0,I=0;I<y.length;++I)E+=y[I].length;let Ie=g.allocUnsafe(E),et=0;for(I=0;I<y.length;++I){let rr=y[I];if(la(rr,Uint8Array))et+rr.length>Ie.length?(g.isBuffer(rr)||(rr=g.from(rr)),rr.copy(Ie,et)):Uint8Array.prototype.set.call(Ie,rr,et);else if(g.isBuffer(rr))rr.copy(Ie,et);else throw new TypeError('"list" argument must be an Array of Buffers');et+=rr.length}return Ie};function je(y,E){if(g.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||la(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);let I=y.length,Ie=arguments.length>2&&arguments[2]===!0;if(!Ie&&I===0)return 0;let et=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return Qr(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return yo(y).length;default:if(et)return Ie?-1:Qr(y).length;E=(""+E).toLowerCase(),et=!0}}g.byteLength=je;function Xt(y,E,I){let Ie=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,E>>>=0,I<=E))return"";for(y||(y="utf8");;)switch(y){case"hex":return Ka(this,E,I);case"utf8":case"utf-8":return ei(this,E,I);case"ascii":return Ca(this,E,I);case"latin1":case"binary":return wo(this,E,I);case"base64":return ao(this,E,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Js(this,E,I);default:if(Ie)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),Ie=!0}}g.prototype._isBuffer=!0;function Gt(y,E,I){let Ie=y[E];y[E]=y[I],y[I]=Ie}g.prototype.swap16=function(){let y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<y;E+=2)Gt(this,E,E+1);return this},g.prototype.swap32=function(){let y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<y;E+=4)Gt(this,E,E+3),Gt(this,E+1,E+2);return this},g.prototype.swap64=function(){let y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<y;E+=8)Gt(this,E,E+7),Gt(this,E+1,E+6),Gt(this,E+2,E+5),Gt(this,E+3,E+4);return this},g.prototype.toString=function(){let y=this.length;return y===0?"":arguments.length===0?ei(this,0,y):Xt.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(y){if(!g.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:g.compare(this,y)===0},g.prototype.inspect=function(){let y="",E=e.INSPECT_MAX_BYTES;return y=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(y+=" ... "),"<Buffer "+y+">"},n&&(g.prototype[n]=g.prototype.inspect),g.prototype.compare=function(y,E,I,Ie,et){if(la(y,Uint8Array)&&(y=g.from(y,y.offset,y.byteLength)),!g.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(E===void 0&&(E=0),I===void 0&&(I=y?y.length:0),Ie===void 0&&(Ie=0),et===void 0&&(et=this.length),E<0||I>y.length||Ie<0||et>this.length)throw new RangeError("out of range index");if(Ie>=et&&E>=I)return 0;if(Ie>=et)return-1;if(E>=I)return 1;if(E>>>=0,I>>>=0,Ie>>>=0,et>>>=0,this===y)return 0;let rr=et-Ie,zr=I-E,ya=Math.min(rr,zr),qa=this.slice(Ie,et),ha=y.slice(E,I);for(let Ii=0;Ii<ya;++Ii)if(qa[Ii]!==ha[Ii]){rr=qa[Ii],zr=ha[Ii];break}return rr<zr?-1:zr<rr?1:0};function ot(y,E,I,Ie,et){if(y.length===0)return-1;if(typeof I=="string"?(Ie=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,ja(I)&&(I=et?0:y.length-1),I<0&&(I=y.length+I),I>=y.length){if(et)return-1;I=y.length-1}else if(I<0)if(et)I=0;else return-1;if(typeof E=="string"&&(E=g.from(E,Ie)),g.isBuffer(E))return E.length===0?-1:Qt(y,E,I,Ie,et);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?et?Uint8Array.prototype.indexOf.call(y,E,I):Uint8Array.prototype.lastIndexOf.call(y,E,I):Qt(y,[E],I,Ie,et);throw new TypeError("val must be string, number or Buffer")}function Qt(y,E,I,Ie,et){let rr=1,zr=y.length,ya=E.length;if(Ie!==void 0&&(Ie=String(Ie).toLowerCase(),Ie==="ucs2"||Ie==="ucs-2"||Ie==="utf16le"||Ie==="utf-16le")){if(y.length<2||E.length<2)return-1;rr=2,zr/=2,ya/=2,I/=2}function qa(Ii,Gs){return rr===1?Ii[Gs]:Ii.readUInt16BE(Gs*rr)}let ha;if(et){let Ii=-1;for(ha=I;ha<zr;ha++)if(qa(y,ha)===qa(E,Ii===-1?0:ha-Ii)){if(Ii===-1&&(Ii=ha),ha-Ii+1===ya)return Ii*rr}else Ii!==-1&&(ha-=ha-Ii),Ii=-1}else for(I+ya>zr&&(I=zr-ya),ha=I;ha>=0;ha--){let Ii=!0;for(let Gs=0;Gs<ya;Gs++)if(qa(y,ha+Gs)!==qa(E,Gs)){Ii=!1;break}if(Ii)return ha}return-1}g.prototype.includes=function(y,E,I){return this.indexOf(y,E,I)!==-1},g.prototype.indexOf=function(y,E,I){return ot(this,y,E,I,!0)},g.prototype.lastIndexOf=function(y,E,I){return ot(this,y,E,I,!1)};function at(y,E,I,Ie){I=Number(I)||0;let et=y.length-I;Ie?(Ie=Number(Ie),Ie>et&&(Ie=et)):Ie=et;let rr=E.length;Ie>rr/2&&(Ie=rr/2);let zr;for(zr=0;zr<Ie;++zr){let ya=parseInt(E.substr(zr*2,2),16);if(ja(ya))return zr;y[I+zr]=ya}return zr}function sr(y,E,I,Ie){return ni(Qr(E,y.length-I),y,I,Ie)}function qr(y,E,I,Ie){return ni(tn(E),y,I,Ie)}function Xr(y,E,I,Ie){return ni(yo(E),y,I,Ie)}function rn(y,E,I,Ie){return ni(tr(E,y.length-I),y,I,Ie)}g.prototype.write=function(y,E,I,Ie){if(E===void 0)Ie="utf8",I=this.length,E=0;else if(I===void 0&&typeof E=="string")Ie=E,I=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(I)?(I=I>>>0,Ie===void 0&&(Ie="utf8")):(Ie=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let et=this.length-E;if((I===void 0||I>et)&&(I=et),y.length>0&&(I<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ie||(Ie="utf8");let rr=!1;for(;;)switch(Ie){case"hex":return at(this,y,E,I);case"utf8":case"utf-8":return sr(this,y,E,I);case"ascii":case"latin1":case"binary":return qr(this,y,E,I);case"base64":return Xr(this,y,E,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rn(this,y,E,I);default:if(rr)throw new TypeError("Unknown encoding: "+Ie);Ie=(""+Ie).toLowerCase(),rr=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ao(y,E,I){return E===0&&I===y.length?t.fromByteArray(y):t.fromByteArray(y.slice(E,I))}function ei(y,E,I){I=Math.min(y.length,I);let Ie=[],et=E;for(;et<I;){let rr=y[et],zr=null,ya=rr>239?4:rr>223?3:rr>191?2:1;if(et+ya<=I){let qa,ha,Ii,Gs;switch(ya){case 1:rr<128&&(zr=rr);break;case 2:qa=y[et+1],(qa&192)===128&&(Gs=(rr&31)<<6|qa&63,Gs>127&&(zr=Gs));break;case 3:qa=y[et+1],ha=y[et+2],(qa&192)===128&&(ha&192)===128&&(Gs=(rr&15)<<12|(qa&63)<<6|ha&63,Gs>2047&&(Gs<55296||Gs>57343)&&(zr=Gs));break;case 4:qa=y[et+1],ha=y[et+2],Ii=y[et+3],(qa&192)===128&&(ha&192)===128&&(Ii&192)===128&&(Gs=(rr&15)<<18|(qa&63)<<12|(ha&63)<<6|Ii&63,Gs>65535&&Gs<1114112&&(zr=Gs))}}zr===null?(zr=65533,ya=1):zr>65535&&(zr-=65536,Ie.push(zr>>>10&1023|55296),zr=56320|zr&1023),Ie.push(zr),et+=ya}return ga(Ie)}var aa=4096;function ga(y){let E=y.length;if(E<=aa)return String.fromCharCode.apply(String,y);let I="",Ie=0;for(;Ie<E;)I+=String.fromCharCode.apply(String,y.slice(Ie,Ie+=aa));return I}function Ca(y,E,I){let Ie="";I=Math.min(y.length,I);for(let et=E;et<I;++et)Ie+=String.fromCharCode(y[et]&127);return Ie}function wo(y,E,I){let Ie="";I=Math.min(y.length,I);for(let et=E;et<I;++et)Ie+=String.fromCharCode(y[et]);return Ie}function Ka(y,E,I){let Ie=y.length;(!E||E<0)&&(E=0),(!I||I<0||I>Ie)&&(I=Ie);let et="";for(let rr=E;rr<I;++rr)et+=Ys[y[rr]];return et}function Js(y,E,I){let Ie=y.slice(E,I),et="";for(let rr=0;rr<Ie.length-1;rr+=2)et+=String.fromCharCode(Ie[rr]+Ie[rr+1]*256);return et}g.prototype.slice=function(y,E){let I=this.length;y=~~y,E=E===void 0?I:~~E,y<0?(y+=I,y<0&&(y=0)):y>I&&(y=I),E<0?(E+=I,E<0&&(E=0)):E>I&&(E=I),E<y&&(E=y);let Ie=this.subarray(y,E);return Object.setPrototypeOf(Ie,g.prototype),Ie};function ia(y,E,I){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+E>I)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUintLE=g.prototype.readUIntLE=function(y,E,I){y=y>>>0,E=E>>>0,I||ia(y,E,this.length);let Ie=this[y],et=1,rr=0;for(;++rr<E&&(et*=256);)Ie+=this[y+rr]*et;return Ie},g.prototype.readUintBE=g.prototype.readUIntBE=function(y,E,I){y=y>>>0,E=E>>>0,I||ia(y,E,this.length);let Ie=this[y+--E],et=1;for(;E>0&&(et*=256);)Ie+=this[y+--E]*et;return Ie},g.prototype.readUint8=g.prototype.readUInt8=function(y,E){return y=y>>>0,E||ia(y,1,this.length),this[y]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(y,E){return y=y>>>0,E||ia(y,2,this.length),this[y]|this[y+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(y,E){return y=y>>>0,E||ia(y,2,this.length),this[y]<<8|this[y+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},g.prototype.readBigUInt64LE=Ks(function(y){y=y>>>0,Wt(y,"offset");let E=this[y],I=this[y+7];(E===void 0||I===void 0)&&it(y,this.length-8);let Ie=E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,et=this[++y]+this[++y]*2**8+this[++y]*2**16+I*2**24;return BigInt(Ie)+(BigInt(et)<<BigInt(32))}),g.prototype.readBigUInt64BE=Ks(function(y){y=y>>>0,Wt(y,"offset");let E=this[y],I=this[y+7];(E===void 0||I===void 0)&&it(y,this.length-8);let Ie=E*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],et=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+I;return(BigInt(Ie)<<BigInt(32))+BigInt(et)}),g.prototype.readIntLE=function(y,E,I){y=y>>>0,E=E>>>0,I||ia(y,E,this.length);let Ie=this[y],et=1,rr=0;for(;++rr<E&&(et*=256);)Ie+=this[y+rr]*et;return et*=128,Ie>=et&&(Ie-=Math.pow(2,8*E)),Ie},g.prototype.readIntBE=function(y,E,I){y=y>>>0,E=E>>>0,I||ia(y,E,this.length);let Ie=E,et=1,rr=this[y+--Ie];for(;Ie>0&&(et*=256);)rr+=this[y+--Ie]*et;return et*=128,rr>=et&&(rr-=Math.pow(2,8*E)),rr},g.prototype.readInt8=function(y,E){return y=y>>>0,E||ia(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},g.prototype.readInt16LE=function(y,E){y=y>>>0,E||ia(y,2,this.length);let I=this[y]|this[y+1]<<8;return I&32768?I|4294901760:I},g.prototype.readInt16BE=function(y,E){y=y>>>0,E||ia(y,2,this.length);let I=this[y+1]|this[y]<<8;return I&32768?I|4294901760:I},g.prototype.readInt32LE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},g.prototype.readInt32BE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},g.prototype.readBigInt64LE=Ks(function(y){y=y>>>0,Wt(y,"offset");let E=this[y],I=this[y+7];(E===void 0||I===void 0)&&it(y,this.length-8);let Ie=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(I<<24);return(BigInt(Ie)<<BigInt(32))+BigInt(E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),g.prototype.readBigInt64BE=Ks(function(y){y=y>>>0,Wt(y,"offset");let E=this[y],I=this[y+7];(E===void 0||I===void 0)&&it(y,this.length-8);let Ie=(E<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(Ie)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+I)}),g.prototype.readFloatLE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),r.read(this,y,!0,23,4)},g.prototype.readFloatBE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),r.read(this,y,!1,23,4)},g.prototype.readDoubleLE=function(y,E){return y=y>>>0,E||ia(y,8,this.length),r.read(this,y,!0,52,8)},g.prototype.readDoubleBE=function(y,E){return y=y>>>0,E||ia(y,8,this.length),r.read(this,y,!1,52,8)};function ir(y,E,I,Ie,et,rr){if(!g.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>et||E<rr)throw new RangeError('"value" argument is out of bounds');if(I+Ie>y.length)throw new RangeError("Index out of range")}g.prototype.writeUintLE=g.prototype.writeUIntLE=function(y,E,I,Ie){if(y=+y,E=E>>>0,I=I>>>0,!Ie){let zr=Math.pow(2,8*I)-1;ir(this,y,E,I,zr,0)}let et=1,rr=0;for(this[E]=y&255;++rr<I&&(et*=256);)this[E+rr]=y/et&255;return E+I},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(y,E,I,Ie){if(y=+y,E=E>>>0,I=I>>>0,!Ie){let zr=Math.pow(2,8*I)-1;ir(this,y,E,I,zr,0)}let et=I-1,rr=1;for(this[E+et]=y&255;--et>=0&&(rr*=256);)this[E+et]=y/rr&255;return E+I},g.prototype.writeUint8=g.prototype.writeUInt8=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,1,255,0),this[E]=y&255,E+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,2,65535,0),this[E]=y&255,this[E+1]=y>>>8,E+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,2,65535,0),this[E]=y>>>8,this[E+1]=y&255,E+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,4,4294967295,0),this[E+3]=y>>>24,this[E+2]=y>>>16,this[E+1]=y>>>8,this[E]=y&255,E+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,4,4294967295,0),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4};function Hr(y,E,I,Ie,et){Pr(E,Ie,et,y,I,7);let rr=Number(E&BigInt(4294967295));y[I++]=rr,rr=rr>>8,y[I++]=rr,rr=rr>>8,y[I++]=rr,rr=rr>>8,y[I++]=rr;let zr=Number(E>>BigInt(32)&BigInt(4294967295));return y[I++]=zr,zr=zr>>8,y[I++]=zr,zr=zr>>8,y[I++]=zr,zr=zr>>8,y[I++]=zr,I}function Fr(y,E,I,Ie,et){Pr(E,Ie,et,y,I,7);let rr=Number(E&BigInt(4294967295));y[I+7]=rr,rr=rr>>8,y[I+6]=rr,rr=rr>>8,y[I+5]=rr,rr=rr>>8,y[I+4]=rr;let zr=Number(E>>BigInt(32)&BigInt(4294967295));return y[I+3]=zr,zr=zr>>8,y[I+2]=zr,zr=zr>>8,y[I+1]=zr,zr=zr>>8,y[I]=zr,I+8}g.prototype.writeBigUInt64LE=Ks(function(y,E=0){return Hr(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=Ks(function(y,E=0){return Fr(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(y,E,I,Ie){if(y=+y,E=E>>>0,!Ie){let ya=Math.pow(2,8*I-1);ir(this,y,E,I,ya-1,-ya)}let et=0,rr=1,zr=0;for(this[E]=y&255;++et<I&&(rr*=256);)y<0&&zr===0&&this[E+et-1]!==0&&(zr=1),this[E+et]=(y/rr>>0)-zr&255;return E+I},g.prototype.writeIntBE=function(y,E,I,Ie){if(y=+y,E=E>>>0,!Ie){let ya=Math.pow(2,8*I-1);ir(this,y,E,I,ya-1,-ya)}let et=I-1,rr=1,zr=0;for(this[E+et]=y&255;--et>=0&&(rr*=256);)y<0&&zr===0&&this[E+et+1]!==0&&(zr=1),this[E+et]=(y/rr>>0)-zr&255;return E+I},g.prototype.writeInt8=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,1,127,-128),y<0&&(y=255+y+1),this[E]=y&255,E+1},g.prototype.writeInt16LE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,2,32767,-32768),this[E]=y&255,this[E+1]=y>>>8,E+2},g.prototype.writeInt16BE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,2,32767,-32768),this[E]=y>>>8,this[E+1]=y&255,E+2},g.prototype.writeInt32LE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,4,2147483647,-2147483648),this[E]=y&255,this[E+1]=y>>>8,this[E+2]=y>>>16,this[E+3]=y>>>24,E+4},g.prototype.writeInt32BE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4},g.prototype.writeBigInt64LE=Ks(function(y,E=0){return Hr(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=Ks(function(y,E=0){return Fr(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ei(y,E,I,Ie,et,rr){if(I+Ie>y.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function ba(y,E,I,Ie,et){return E=+E,I=I>>>0,et||Ei(y,E,I,4),r.write(y,E,I,Ie,23,4),I+4}g.prototype.writeFloatLE=function(y,E,I){return ba(this,y,E,!0,I)},g.prototype.writeFloatBE=function(y,E,I){return ba(this,y,E,!1,I)};function Ea(y,E,I,Ie,et){return E=+E,I=I>>>0,et||Ei(y,E,I,8),r.write(y,E,I,Ie,52,8),I+8}g.prototype.writeDoubleLE=function(y,E,I){return Ea(this,y,E,!0,I)},g.prototype.writeDoubleBE=function(y,E,I){return Ea(this,y,E,!1,I)},g.prototype.copy=function(y,E,I,Ie){if(!g.isBuffer(y))throw new TypeError("argument should be a Buffer");if(I||(I=0),!Ie&&Ie!==0&&(Ie=this.length),E>=y.length&&(E=y.length),E||(E=0),Ie>0&&Ie<I&&(Ie=I),Ie===I||y.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("sourceEnd out of bounds");Ie>this.length&&(Ie=this.length),y.length-E<Ie-I&&(Ie=y.length-E+I);let et=Ie-I;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,I,Ie):Uint8Array.prototype.set.call(y,this.subarray(I,Ie),E),et},g.prototype.fill=function(y,E,I,Ie){if(typeof y=="string"){if(typeof E=="string"?(Ie=E,E=0,I=this.length):typeof I=="string"&&(Ie=I,I=this.length),Ie!==void 0&&typeof Ie!="string")throw new TypeError("encoding must be a string");if(typeof Ie=="string"&&!g.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);if(y.length===1){let rr=y.charCodeAt(0);(Ie==="utf8"&&rr<128||Ie==="latin1")&&(y=rr)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(E<0||this.length<E||this.length<I)throw new RangeError("Out of range index");if(I<=E)return this;E=E>>>0,I=I===void 0?this.length:I>>>0,y||(y=0);let et;if(typeof y=="number")for(et=E;et<I;++et)this[et]=y;else{let rr=g.isBuffer(y)?y:g.from(y,Ie),zr=rr.length;if(zr===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(et=0;et<I-E;++et)this[et+E]=rr[et%zr]}return this};var Kr={};function Zr(y,E,I){Kr[y]=class extends I{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,this.stack,delete this.name}get code(){return y}set code(Ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ie,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}Zr("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Zr("ERR_INVALID_ARG_TYPE",function(y,E){return`The "${y}" argument must be of type number. Received type ${typeof E}`},TypeError),Zr("ERR_OUT_OF_RANGE",function(y,E,I){let Ie=`The value of "${y}" is out of range.`,et=I;return Number.isInteger(I)&&Math.abs(I)>2**32?et=st(String(I)):typeof I=="bigint"&&(et=String(I),(I>BigInt(2)**BigInt(32)||I<-(BigInt(2)**BigInt(32)))&&(et=st(et)),et+="n"),Ie+=` It must be ${E}. Received ${et}`,Ie},RangeError);function st(y){let E="",I=y.length,Ie=y[0]==="-"?1:0;for(;I>=Ie+4;I-=3)E=`_${y.slice(I-3,I)}${E}`;return`${y.slice(0,I)}${E}`}function vr(y,E,I){Wt(E,"offset"),(y[E]===void 0||y[E+I]===void 0)&&it(E,y.length-(I+1))}function Pr(y,E,I,Ie,et,rr){if(y>I||y<E){let zr=typeof E=="bigint"?"n":"",ya;throw rr>3?E===0||E===BigInt(0)?ya=`>= 0${zr} and < 2${zr} ** ${(rr+1)*8}${zr}`:ya=`>= -(2${zr} ** ${(rr+1)*8-1}${zr}) and < 2 ** ${(rr+1)*8-1}${zr}`:ya=`>= ${E}${zr} and <= ${I}${zr}`,new Kr.ERR_OUT_OF_RANGE("value",ya,y)}vr(Ie,et,rr)}function Wt(y,E){if(typeof y!="number")throw new Kr.ERR_INVALID_ARG_TYPE(E,"number",y)}function it(y,E,I){throw Math.floor(y)!==y?(Wt(y,I),new Kr.ERR_OUT_OF_RANGE(I||"offset","an integer",y)):E<0?new Kr.ERR_BUFFER_OUT_OF_BOUNDS:new Kr.ERR_OUT_OF_RANGE(I||"offset",`>= ${I?1:0} and <= ${E}`,y)}var Yr=/[^+/0-9A-Za-z-_]/g;function en(y){if(y=y.split("=")[0],y=y.trim().replace(Yr,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function Qr(y,E){E=E||1/0;let I,Ie=y.length,et=null,rr=[];for(let zr=0;zr<Ie;++zr){if(I=y.charCodeAt(zr),I>55295&&I<57344){if(!et){if(I>56319){(E-=3)>-1&&rr.push(239,191,189);continue}else if(zr+1===Ie){(E-=3)>-1&&rr.push(239,191,189);continue}et=I;continue}if(I<56320){(E-=3)>-1&&rr.push(239,191,189),et=I;continue}I=(et-55296<<10|I-56320)+65536}else et&&(E-=3)>-1&&rr.push(239,191,189);if(et=null,I<128){if((E-=1)<0)break;rr.push(I)}else if(I<2048){if((E-=2)<0)break;rr.push(I>>6|192,I&63|128)}else if(I<65536){if((E-=3)<0)break;rr.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((E-=4)<0)break;rr.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return rr}function tn(y){let E=[];for(let I=0;I<y.length;++I)E.push(y.charCodeAt(I)&255);return E}function tr(y,E){let I,Ie,et,rr=[];for(let zr=0;zr<y.length&&!((E-=2)<0);++zr)I=y.charCodeAt(zr),Ie=I>>8,et=I%256,rr.push(et),rr.push(Ie);return rr}function yo(y){return t.toByteArray(en(y))}function ni(y,E,I,Ie){let et;for(et=0;et<Ie&&!(et+I>=E.length||et>=y.length);++et)E[et+I]=y[et];return et}function la(y,E){return y instanceof E||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===E.name}function ja(y){return y!==y}var Ys=function(){let y="0123456789abcdef",E=new Array(256);for(let I=0;I<16;++I){let Ie=I*16;for(let et=0;et<16;++et)E[Ie+et]=y[I]+y[et]}return E}();function Ks(y){return typeof BigInt>"u"?Qs:y}function Qs(){throw new Error("BigInt not supported")}}),yd$1=h((e,t)=>{u();var r=t.exports={},n,o;function s(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=s}catch{n=s}try{typeof clearTimeout=="function"?o=clearTimeout:o=w}catch{o=w}})();function g(Ee){if(n===setTimeout)return setTimeout(Ee,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(Ee,0);try{return n(Ee,0)}catch{try{return n.call(null,Ee,0)}catch{return n.call(this,Ee,0)}}}function k(Ee){if(o===clearTimeout)return clearTimeout(Ee);if((o===w||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(Ee);try{return o(Ee)}catch{try{return o.call(null,Ee)}catch{return o.call(this,Ee)}}}var P=[],q=!1,ie,he=-1;function V(){!q||!ie||(q=!1,ie.length?P=ie.concat(P):he=-1,P.length&&X())}function X(){if(!q){var Ee=g(V);q=!0;for(var _e=P.length;_e;){for(ie=P,P=[];++he<_e;)ie&&ie[he].run();he=-1,_e=P.length}ie=null,q=!1,k(Ee)}}r.nextTick=function(Ee){var _e=new Array(arguments.length-1);if(arguments.length>1)for(var je=1;je<arguments.length;je++)_e[je-1]=arguments[je];P.push(new L(Ee,_e)),P.length===1&&!q&&g(X)};function L(Ee,_e){this.fun=Ee,this.array=_e}L.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function we(){}r.on=we,r.addListener=we,r.once=we,r.off=we,r.removeListener=we,r.removeAllListeners=we,r.emit=we,r.prependListener=we,r.prependOnceListener=we,r.listeners=function(Ee){return[]},r.binding=function(Ee){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(Ee){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),Buffer$1,process$1,global$1,u=B(()=>{Buffer$1=ct$1().Buffer,process$1=yd$1(),global$1=typeof global$1<"u"?global$1:typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{},globalThis&&globalThis.process&&globalThis.process.env&&(globalThis.process.env.LIBP2P_FORCE_PNET=!1)}),za=h((e,t)=>{u(),t.exports=r;function r(n,o,s){if(!n)return s;var w,g;if(Array.isArray(o)&&(w=o.slice(0)),typeof o=="string"&&(w=o.split(".")),typeof o=="symbol"&&(w=[o]),!Array.isArray(w))throw new Error("props arg must be an array, a string or a symbol");for(;w.length;)if(g=w.shift(),!n||(n=n[g],n===void 0))return s;return n}}),wd$1=h((e,t)=>{u();var r=1e3,n=r*60,o=n*60,s=o*24,w=s*7,g=s*365.25;t.exports=function(he,V){V=V||{};var X=typeof he;if(X==="string"&&he.length>0)return k(he);if(X==="number"&&isFinite(he))return V.long?q(he):P(he);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(he))};function k(he){if(he=String(he),!(he.length>100)){var V=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(he);if(V){var X=parseFloat(V[1]),L=(V[2]||"ms").toLowerCase();switch(L){case"years":case"year":case"yrs":case"yr":case"y":return X*g;case"weeks":case"week":case"w":return X*w;case"days":case"day":case"d":return X*s;case"hours":case"hour":case"hrs":case"hr":case"h":return X*o;case"minutes":case"minute":case"mins":case"min":case"m":return X*n;case"seconds":case"second":case"secs":case"sec":case"s":return X*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return X;default:return}}}}function P(he){var V=Math.abs(he);return V>=s?Math.round(he/s)+"d":V>=o?Math.round(he/o)+"h":V>=n?Math.round(he/n)+"m":V>=r?Math.round(he/r)+"s":he+"ms"}function q(he){var V=Math.abs(he);return V>=s?ie(he,V,s,"day"):V>=o?ie(he,V,o,"hour"):V>=n?ie(he,V,n,"minute"):V>=r?ie(he,V,r,"second"):he+" ms"}function ie(he,V,X,L){var we=V>=X*1.5;return Math.round(he/X)+" "+L+(we?"s":"")}}),vd$1=h((e,t)=>{u();function r(n){s.debug=s,s.default=s,s.coerce=ie,s.disable=k,s.enable=g,s.enabled=P,s.humanize=wd$1(),s.destroy=he,Object.keys(n).forEach(V=>{s[V]=n[V]}),s.names=[],s.skips=[],s.formatters={};function o(V){let X=0;for(let L=0;L<V.length;L++)X=(X<<5)-X+V.charCodeAt(L),X|=0;return s.colors[Math.abs(X)%s.colors.length]}s.selectColor=o;function s(V){let X,L=null,we,Ee;function _e(...je){if(!_e.enabled)return;let Xt=_e,Gt=Number(new Date),ot=Gt-(X||Gt);Xt.diff=ot,Xt.prev=X,Xt.curr=Gt,X=Gt,je[0]=s.coerce(je[0]),typeof je[0]!="string"&&je.unshift("%O");let Qt=0;je[0]=je[0].replace(/%([a-zA-Z%])/g,(at,sr)=>{if(at==="%%")return"%";Qt++;let qr=s.formatters[sr];if(typeof qr=="function"){let Xr=je[Qt];at=qr.call(Xt,Xr),je.splice(Qt,1),Qt--}return at}),s.formatArgs.call(Xt,je),(Xt.log||s.log).apply(Xt,je)}return _e.namespace=V,_e.useColors=s.useColors(),_e.color=s.selectColor(V),_e.extend=w,_e.destroy=s.destroy,Object.defineProperty(_e,"enabled",{enumerable:!0,configurable:!1,get:()=>L!==null?L:(we!==s.namespaces&&(we=s.namespaces,Ee=s.enabled(V)),Ee),set:je=>{L=je}}),typeof s.init=="function"&&s.init(_e),_e}function w(V,X){let L=s(this.namespace+(typeof X>"u"?":":X)+V);return L.log=this.log,L}function g(V){s.save(V),s.namespaces=V,s.names=[],s.skips=[];let X,L=(typeof V=="string"?V:"").split(/[\s,]+/),we=L.length;for(X=0;X<we;X++)!L[X]||(V=L[X].replace(/\*/g,".*?"),V[0]==="-"?s.skips.push(new RegExp("^"+V.slice(1)+"$")):s.names.push(new RegExp("^"+V+"$")))}function k(){let V=[...s.names.map(q),...s.skips.map(q).map(X=>"-"+X)].join(",");return s.enable(""),V}function P(V){if(V[V.length-1]==="*")return!0;let X,L;for(X=0,L=s.skips.length;X<L;X++)if(s.skips[X].test(V))return!1;for(X=0,L=s.names.length;X<L;X++)if(s.names[X].test(V))return!0;return!1}function q(V){return V.toString().substring(2,V.toString().length-2).replace(/\.\*\?$/,"*")}function ie(V){return V instanceof Error?V.stack||V.message:V}function he(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}t.exports=r}),We=h((e,t)=>{u(),e.formatArgs=n,e.save=o,e.load=s,e.useColors=r,e.storage=w(),e.destroy=(()=>{let k=!1;return()=>{k||(k=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(k){if(k[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+k[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let P="color: "+this.color;k.splice(1,0,P,"color: inherit");let q=0,ie=0;k[0].replace(/%[a-zA-Z%]/g,he=>{he!=="%%"&&(q++,he==="%c"&&(ie=q))}),k.splice(ie,0,P)}e.log=console.debug||console.log||(()=>{});function o(k){try{k?e.storage.setItem("debug",k):e.storage.removeItem("debug")}catch{}}function s(){let k;try{k=e.storage.getItem("debug")}catch{}return!k&&typeof process$1<"u"&&"env"in process$1&&(k=process$1.env.DEBUG),k}function w(){try{return localStorage}catch{}}t.exports=vd$1()(e);var{formatters:g}=t.exports;g.j=function(k){try{return JSON.stringify(k)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}}}),dt$1=h((e,t)=>{u();function r(o,s){for(let w in s)Object.defineProperty(o,w,{value:s[w],enumerable:!0,configurable:!0});return o}function n(o,s,w){if(!o||typeof o=="string")throw new TypeError("Please pass an Error to err-code");w||(w={}),typeof s=="object"&&(w=s,s=""),s&&(w.code=s);try{return r(o,w)}catch{w.message=o.message,w.stack=o.stack;let g=function(){};return g.prototype=Object.create(Object.getPrototypeOf(o)),r(new g,w)}}t.exports=n});function Ad$1(e,t,r){t=t||[],r=r||0;for(var n=r;e>=d1;)t[r++]=e&255|xd,e/=128;for(;e&l1;)t[r++]=e&255|xd,e>>>=7;return t[r]=e|0,Ad$1.bytes=r-n+1,t}function Wa(e,n){var r=0,n=n||0,o=0,s=n,w,g=e.length;do{if(s>=g)throw Wa.bytes=0,new RangeError("Could not decode varint");w=e[s++],r+=o<28?(w&Dd$1)<<o:(w&Dd$1)*Math.pow(2,o),o+=7}while(w>=h1);return Wa.bytes=s-n,r}var c1,xd,f1,l1,d1,p1,h1,Dd$1,y1,g1,m1,w1,b1,v1,E1,_1,x1,D1,A1,S1,ii,Sd$1=B(()=>{u(),c1=Ad$1,xd=128,f1=127,l1=~f1,d1=Math.pow(2,31),p1=Wa,h1=128,Dd$1=127,y1=Math.pow(2,7),g1=Math.pow(2,14),m1=Math.pow(2,21),w1=Math.pow(2,28),b1=Math.pow(2,35),v1=Math.pow(2,42),E1=Math.pow(2,49),_1=Math.pow(2,56),x1=Math.pow(2,63),D1=function(e){return e<y1?1:e<g1?2:e<m1?3:e<w1?4:e<b1?5:e<v1?6:e<E1?7:e<_1?8:e<x1?9:10},A1={encode:c1,decode:p1,encodingLength:D1},S1=A1,ii=S1}),oi,nn,on,bo$1=B(()=>{u(),Sd$1(),oi=e=>[ii.decode(e),ii.decode.bytes],nn=(e,t,r=0)=>(ii.encode(e,t,r),t),on=e=>ii.encodingLength(e)}),Cd,Ot$1,Od$1,Td$1,qt$1=B(()=>{u(),Cd=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},Ot$1=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Od$1=e=>new TextEncoder().encode(e),Td$1=e=>new TextDecoder().decode(e)}),Ge={};G$1(Ge,{Digest:()=>gr$1,create:()=>Ut,decode:()=>Ve,equals:()=>Ga});var Ut,Ve,Ga,gr$1,pt$1=B(()=>{u(),qt$1(),bo$1(),Ut=(e,t)=>{let r=t.byteLength,n=on(e),o=n+on(r),s=new Uint8Array(o+r);return nn(e,s,0),nn(r,s,n),s.set(t,o),new gr$1(e,r,t,s)},Ve=e=>{let t=Ot$1(e),[r,n]=oi(t),[o,s]=oi(t.subarray(n)),w=t.subarray(n+s);if(w.byteLength!==o)throw new Error("Incorrect length");return new gr$1(r,o,w,t)},Ga=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&Cd(e.bytes,t.bytes),gr$1=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}});function C1(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var s=e.charAt(o),w=s.charCodeAt(0);if(r[w]!==255)throw new TypeError(s+" is ambiguous");r[w]=o}var g=e.length,k=e.charAt(0),P=Math.log(g)/Math.log(256),q=Math.log(256)/Math.log(g);function ie(X){if(X instanceof Uint8Array||(ArrayBuffer.isView(X)?X=new Uint8Array(X.buffer,X.byteOffset,X.byteLength):Array.isArray(X)&&(X=Uint8Array.from(X))),!(X instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(X.length===0)return"";for(var L=0,we=0,Ee=0,_e=X.length;Ee!==_e&&X[Ee]===0;)Ee++,L++;for(var je=(_e-Ee)*q+1>>>0,Xt=new Uint8Array(je);Ee!==_e;){for(var Gt=X[Ee],ot=0,Qt=je-1;(Gt!==0||ot<we)&&Qt!==-1;Qt--,ot++)Gt+=256*Xt[Qt]>>>0,Xt[Qt]=Gt%g>>>0,Gt=Gt/g>>>0;if(Gt!==0)throw new Error("Non-zero carry");we=ot,Ee++}for(var at=je-we;at!==je&&Xt[at]===0;)at++;for(var sr=k.repeat(L);at<je;++at)sr+=e.charAt(Xt[at]);return sr}function he(X){if(typeof X!="string")throw new TypeError("Expected String");if(X.length===0)return new Uint8Array;var L=0;if(X[L]!==" "){for(var we=0,Ee=0;X[L]===k;)we++,L++;for(var _e=(X.length-L)*P+1>>>0,je=new Uint8Array(_e);X[L];){var Xt=r[X.charCodeAt(L)];if(Xt===255)return;for(var Gt=0,ot=_e-1;(Xt!==0||Gt<Ee)&&ot!==-1;ot--,Gt++)Xt+=g*je[ot]>>>0,je[ot]=Xt%256>>>0,Xt=Xt/256>>>0;if(Xt!==0)throw new Error("Non-zero carry");Ee=Gt,L++}if(X[L]!==" "){for(var Qt=_e-Ee;Qt!==_e&&je[Qt]===0;)Qt++;for(var at=new Uint8Array(we+(_e-Qt)),sr=we;Qt!==_e;)at[sr++]=je[Qt++];return at}}}function V(X){var L=he(X);if(L)return L;throw new Error(`Non-${t} character`)}return{encode:ie,decodeUnsafe:he,decode:V}}var O1,T1,Id$1,Rd$1=B(()=>{u(),O1=C1,T1=O1,Id$1=T1}),Ha,Ja$1,Ya,Bd,Qa,sn,$t,I1,R1,z$1,He$1=B(()=>{u(),Rd$1(),qt$1(),Ha=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Ja$1=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Bd(this,e)}},Ya=class{constructor(e){this.decoders=e}or(e){return Bd(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Bd=(e,t)=>new Ya({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),Qa=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new Ha(e,t,r),this.decoder=new Ja$1(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},sn=({name:e,prefix:t,encode:r,decode:n})=>new Qa(e,t,r,n),$t=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=Id$1(r,t);return sn({prefix:e,name:t,encode:n,decode:s=>Ot$1(o(s))})},I1=(e,t,r,n)=>{let o={};for(let q=0;q<t.length;++q)o[t[q]]=q;let s=e.length;for(;e[s-1]==="=";)--s;let w=new Uint8Array(s*r/8|0),g=0,k=0,P=0;for(let q=0;q<s;++q){let ie=o[e[q]];if(ie===void 0)throw new SyntaxError(`Non-${n} character`);k=k<<r|ie,g+=r,g>=8&&(g-=8,w[P++]=255&k>>g)}if(g>=r||255&k<<8-g)throw new SyntaxError("Unexpected end of data");return w},R1=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,s="",w=0,g=0;for(let k=0;k<e.length;++k)for(g=g<<8|e[k],w+=8;w>r;)w-=r,s+=t[o&g>>w];if(w&&(s+=t[o&g<<r-w]),n)for(;s.length*r&7;)s+="=";return s},z$1=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>sn({prefix:t,name:e,encode(o){return R1(o,n,r)},decode(o){return I1(o,n,r,e)}})}),si$1={};G$1(si$1,{base58btc:()=>xe,base58flickr:()=>B1});var xe,B1,an=B(()=>{u(),He$1(),xe=$t({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),B1=$t({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),vo={};G$1(vo,{base32:()=>U$1,base32hex:()=>F1,base32hexpad:()=>L1,base32hexpadupper:()=>M1,base32hexupper:()=>N1,base32pad:()=>Za,base32padupper:()=>k1,base32upper:()=>P1,base32z:()=>j1});var U$1,P1,Za,k1,F1,N1,L1,M1,j1,ht$1=B(()=>{u(),He$1(),U$1=z$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),P1=z$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Za=z$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),k1=z$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),F1=z$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),N1=z$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),L1=z$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),M1=z$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),j1=z$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),Xa={};G$1(Xa,{CID:()=>S$1});var S$1,q1,U1,$1,ai$1,K1,Pd$1,kd$1,Eo,_o$1,z1,W1,V1,ge=B(()=>{u(),bo$1(),pt$1(),an(),ht$1(),qt$1(),S$1=class{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:_o$1,byteLength:_o$1,code:Eo,version:Eo,multihash:Eo,bytes:Eo,_baseCache:_o$1,asCID:_o$1})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==ai$1)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==K1)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return S$1.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=Ut(e,t);return S$1.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Ga(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;switch(r){case 0:return U1(t,n,e||xe.encoder);default:return $1(t,n,e||U$1.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return W1(/^0\.0/,V1),!!(e&&(e[kd$1]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof S$1)return e;if(e!=null&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:o}=e;return new S$1(t,r,n,o||Pd$1(t,r,n.bytes))}else if(e!=null&&e[kd$1]===!0){let{version:t,multihash:r,code:n}=e,o=Ve(r);return S$1.create(t,n,o)}else return null}static create(e,t,r){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==ai$1)throw new Error(`Version 0 CID must use dag-pb (code: ${ai$1}) block encoding`);return new S$1(e,t,r,r.bytes)}case 1:{let n=Pd$1(e,t,r.bytes);return new S$1(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return S$1.create(0,ai$1,e)}static createV1(e,t){return S$1.create(1,e,t)}static decode(e){let[t,r]=S$1.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=S$1.inspectBytes(e),r=t.size-t.multihashSize,n=Ot$1(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),s=new gr$1(t.multihashCode,t.digestSize,o,n);return[t.version===0?S$1.createV0(s):S$1.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[q,ie]=oi(e.subarray(t));return t+=ie,q},n=r(),o=ai$1;if(n===18?(n=0,t=0):n===1&&(o=r()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=t,w=r(),g=r(),k=t+g,P=k-s;return{version:n,codec:o,multihashCode:w,digestSize:g,multihashSize:P,size:k}}static parse(e,t){let[r,n]=q1(e,t),o=S$1.decode(n);return o._baseCache.set(r,e),o}},q1=(e,t)=>{switch(e[0]){case"Q":{let r=t||xe;return[xe.prefix,r.decode(`${xe.prefix}${e}`)]}case xe.prefix:{let r=t||xe;return[xe.prefix,r.decode(e)]}case U$1.prefix:{let r=t||U$1;return[U$1.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},U1=(e,t,r)=>{let{prefix:n}=r;if(n!==xe.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let s=r.encode(e).slice(1);return t.set(n,s),s}else return o},$1=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let s=r.encode(e);return t.set(n,s),s}else return o},ai$1=112,K1=18,Pd$1=(e,t,r)=>{let n=on(e),o=n+on(t),s=new Uint8Array(o+r.byteLength);return nn(e,s,0),nn(t,s,n),s.set(r,o),s},kd$1=Symbol.for("@ipld/js-cid/CID"),Eo={writable:!1,configurable:!1,enumerable:!0},_o$1={writable:!1,enumerable:!1,configurable:!1},z1="0.0.0-dev",W1=(e,t)=>{if(e.test(z1))console.warn(t);else throw new Error(t)},V1=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`}),Fd$1,Nd$1=B(()=>{u(),Fd$1="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}),tu={};G$1(tu,{customAlphabet:()=>G1,customRandom:()=>Md$1,nanoid:()=>eu,random:()=>Ld$1,urlAlphabet:()=>Fd$1});var Ld$1,Md$1,G1,eu,xo=B(()=>{u(),Nd$1(),Ld$1=e=>crypto.getRandomValues(new Uint8Array(e)),Md$1=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*n*t/e.length);return(s=t)=>{let w="";for(;;){let g=r(o),k=o;for(;k--;)if(w+=e[g[k]&n]||"",w.length===s)return w}}},G1=(e,t=21)=>Md$1(e,t,Ld$1),eu=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"")}),ru$1={};G$1(ru$1,{identity:()=>H1});var H1,jd=B(()=>{u(),He$1(),qt$1(),H1=sn({prefix:"\0",name:"identity",encode:e=>Td$1(e),decode:e=>Od$1(e)})}),nu={};G$1(nu,{base2:()=>J1});var J1,qd$1=B(()=>{u(),He$1(),J1=z$1({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),iu={};G$1(iu,{base8:()=>Y1});var Y1,Ud$1=B(()=>{u(),He$1(),Y1=z$1({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),ou={};G$1(ou,{base10:()=>Q1});var Q1,$d$1=B(()=>{u(),He$1(),Q1=$t({prefix:"9",name:"base10",alphabet:"0123456789"})}),su={};G$1(su,{base16:()=>Z1,base16upper:()=>X1});var Z1,X1,Kd=B(()=>{u(),He$1(),Z1=z$1({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),X1=z$1({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),au={};G$1(au,{base36:()=>ex,base36upper:()=>tx});var ex,tx,zd$1=B(()=>{u(),He$1(),ex=$t({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tx=$t({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),uu={};G$1(uu,{base64:()=>rx,base64pad:()=>nx,base64url:()=>ix,base64urlpad:()=>ox});var rx,nx,ix,ox,Wd=B(()=>{u(),He$1(),rx=z$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nx=z$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ix=z$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ox=z$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})}),cu={};G$1(cu,{base256emoji:()=>fx});function ux(e){return e.reduce((t,r)=>(t+=sx[r],t),"")}function cx(e){let t=[];for(let r of e){let n=ax[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var Vd,sx,ax,fx,Gd$1=B(()=>{u(),He$1(),Vd=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),sx=Vd.reduce((e,t,r)=>(e[r]=t,e),[]),ax=Vd.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),fx=sn({prefix:"\u{1F680}",name:"base256emoji",encode:ux,decode:cx})}),lu,fu,du=B(()=>{u(),pt$1(),lu=({name:e,code:t,encode:r})=>new fu(e,t,r),fu=class{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Ut(this.code,t):t.then(r=>Ut(this.code,r))}else throw Error("Unknown type, must be binary type")}}}),pu$1={};G$1(pu$1,{sha256:()=>un$1,sha512:()=>lx});var Jd,un$1,lx,Do=B(()=>{u(),du(),Jd=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),un$1=lu({name:"sha2-256",code:18,encode:Jd("SHA-256")}),lx=lu({name:"sha2-512",code:19,encode:Jd("SHA-512")})}),yu={};G$1(yu,{identity:()=>hu});var Yd,dx,Qd,px,hu,gu$1=B(()=>{u(),qt$1(),pt$1(),Yd=0,dx="identity",Qd=Ot$1,px=e=>Ut(Yd,Qd(e)),hu={code:Yd,name:dx,encode:Qd,digest:px}}),ui$1,ci$1=B(()=>{u(),qt$1(),ui$1=85}),Zd=B(()=>{u(),new TextEncoder,new TextDecoder}),So=B(()=>{u(),ge(),bo$1(),qt$1(),du(),pt$1()}),mu,Xd=B(()=>{u(),jd(),qd$1(),Ud$1(),$d$1(),Kd(),ht$1(),zd$1(),an(),Wd(),Gd$1(),Do(),gu$1(),ci$1(),Zd(),So(),mu={...ru$1,...nu,...iu,...ou,...su,...vo,...au,...si$1,...uu,...cu},{...pu$1,...yu}});function Co(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}var wu$1=B(()=>{u()});function tp(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var ep,bu,yx,Oo,vu=B(()=>{u(),Xd(),wu$1(),ep=tp("utf8","u",e=>{let t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>new TextEncoder().encode(e.substring(1))),bu=tp("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=Co(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),yx={utf8:ep,"utf-8":ep,hex:mu.base16,latin1:bu,ascii:bu,binary:bu,...mu},Oo=yx}),fi$1={};G$1(fi$1,{toString:()=>de});function de(e,t="utf8"){let r=Oo[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var ke$1=B(()=>{u(),vu()}),rp={};G$1(rp,{fromString:()=>oe});function oe(e,t="utf8"){let r=Oo[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}var yt$1=B(()=>{u(),vu()}),Eu=h((e,t)=>{u();var r=async n=>{let o=0;for await(let s of n)o++;return o};t.exports=r}),Dh=h((e,t)=>{u(),t.exports=r;function r(n,o){for(var s=new Array(arguments.length-1),w=0,g=2,k=!0;g<arguments.length;)s[w++]=arguments[g++];return new Promise(function(P,q){s[w]=function(ie){if(k)if(k=!1,ie)q(ie);else{for(var he=new Array(arguments.length-1),V=0;V<he.length;)he[V++]=arguments[V];P.apply(null,he)}};try{n.apply(o||null,s)}catch(ie){k&&(k=!1,q(ie))}})}}),Oh=h(e=>{u();var t=e;t.length=function(w){var g=w.length;if(!g)return 0;for(var k=0;--g%4>1&&w.charAt(g)==="=";)++k;return Math.ceil(w.length*3)/4-k};var r=new Array(64),n=new Array(123);for(o=0;o<64;)n[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;var o;t.encode=function(w,g,k){for(var P=null,q=[],ie=0,he=0,V;g<k;){var X=w[g++];switch(he){case 0:q[ie++]=r[X>>2],V=(X&3)<<4,he=1;break;case 1:q[ie++]=r[V|X>>4],V=(X&15)<<2,he=2;break;case 2:q[ie++]=r[V|X>>6],q[ie++]=r[X&63],he=0;break}ie>8191&&((P||(P=[])).push(String.fromCharCode.apply(String,q)),ie=0)}return he&&(q[ie++]=r[V],q[ie++]=61,he===1&&(q[ie++]=61)),P?(ie&&P.push(String.fromCharCode.apply(String,q.slice(0,ie))),P.join("")):String.fromCharCode.apply(String,q.slice(0,ie))};var s="invalid encoding";t.decode=function(w,g,k){for(var P=k,q=0,ie,he=0;he<w.length;){var V=w.charCodeAt(he++);if(V===61&&q>1)break;if((V=n[V])===void 0)throw Error(s);switch(q){case 0:ie=V,q=1;break;case 1:g[k++]=ie<<2|(V&48)>>4,ie=V,q=2;break;case 2:g[k++]=(ie&15)<<4|(V&60)>>2,ie=V,q=3;break;case 3:g[k++]=(ie&3)<<6|V,q=0;break}}if(q===1)throw Error(s);return k-P},t.test=function(w){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(w)}}),Ih=h((e,t)=>{u(),t.exports=r;function r(){this._listeners={}}r.prototype.on=function(n,o,s){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:o,ctx:s||this}),this},r.prototype.off=function(n,o){if(n===void 0)this._listeners={};else if(o===void 0)this._listeners[n]=[];else for(var s=this._listeners[n],w=0;w<s.length;)s[w].fn===o?s.splice(w,1):++w;return this},r.prototype.emit=function(n){var o=this._listeners[n];if(o){for(var s=[],w=1;w<arguments.length;)s.push(arguments[w++]);for(w=0;w<o.length;)o[w].fn.apply(o[w++].ctx,s)}return this}}),Lh$1=h((e,t)=>{u(),t.exports=r(r);function r(g){return typeof Float32Array<"u"?function(){var k=new Float32Array([-0]),P=new Uint8Array(k.buffer),q=P[3]===128;function ie(L,we,Ee){k[0]=L,we[Ee]=P[0],we[Ee+1]=P[1],we[Ee+2]=P[2],we[Ee+3]=P[3]}function he(L,we,Ee){k[0]=L,we[Ee]=P[3],we[Ee+1]=P[2],we[Ee+2]=P[1],we[Ee+3]=P[0]}g.writeFloatLE=q?ie:he,g.writeFloatBE=q?he:ie;function V(L,we){return P[0]=L[we],P[1]=L[we+1],P[2]=L[we+2],P[3]=L[we+3],k[0]}function X(L,we){return P[3]=L[we],P[2]=L[we+1],P[1]=L[we+2],P[0]=L[we+3],k[0]}g.readFloatLE=q?V:X,g.readFloatBE=q?X:V}():function(){function k(q,ie,he,V){var X=ie<0?1:0;if(X&&(ie=-ie),ie===0)q(1/ie>0?0:2147483648,he,V);else if(isNaN(ie))q(2143289344,he,V);else if(ie>34028234663852886e22)q((X<<31|2139095040)>>>0,he,V);else if(ie<11754943508222875e-54)q((X<<31|Math.round(ie/1401298464324817e-60))>>>0,he,V);else{var L=Math.floor(Math.log(ie)/Math.LN2),we=Math.round(ie*Math.pow(2,-L)*8388608)&8388607;q((X<<31|L+127<<23|we)>>>0,he,V)}}g.writeFloatLE=k.bind(null,n),g.writeFloatBE=k.bind(null,o);function P(q,ie,he){var V=q(ie,he),X=(V>>31)*2+1,L=V>>>23&255,we=V&8388607;return L===255?we?NaN:X*(1/0):L===0?X*1401298464324817e-60*we:X*Math.pow(2,L-150)*(we+8388608)}g.readFloatLE=P.bind(null,s),g.readFloatBE=P.bind(null,w)}(),typeof Float64Array<"u"?function(){var k=new Float64Array([-0]),P=new Uint8Array(k.buffer),q=P[7]===128;function ie(L,we,Ee){k[0]=L,we[Ee]=P[0],we[Ee+1]=P[1],we[Ee+2]=P[2],we[Ee+3]=P[3],we[Ee+4]=P[4],we[Ee+5]=P[5],we[Ee+6]=P[6],we[Ee+7]=P[7]}function he(L,we,Ee){k[0]=L,we[Ee]=P[7],we[Ee+1]=P[6],we[Ee+2]=P[5],we[Ee+3]=P[4],we[Ee+4]=P[3],we[Ee+5]=P[2],we[Ee+6]=P[1],we[Ee+7]=P[0]}g.writeDoubleLE=q?ie:he,g.writeDoubleBE=q?he:ie;function V(L,we){return P[0]=L[we],P[1]=L[we+1],P[2]=L[we+2],P[3]=L[we+3],P[4]=L[we+4],P[5]=L[we+5],P[6]=L[we+6],P[7]=L[we+7],k[0]}function X(L,we){return P[7]=L[we],P[6]=L[we+1],P[5]=L[we+2],P[4]=L[we+3],P[3]=L[we+4],P[2]=L[we+5],P[1]=L[we+6],P[0]=L[we+7],k[0]}g.readDoubleLE=q?V:X,g.readDoubleBE=q?X:V}():function(){function k(q,ie,he,V,X,L){var we=V<0?1:0;if(we&&(V=-V),V===0)q(0,X,L+ie),q(1/V>0?0:2147483648,X,L+he);else if(isNaN(V))q(0,X,L+ie),q(2146959360,X,L+he);else if(V>17976931348623157e292)q(0,X,L+ie),q((we<<31|2146435072)>>>0,X,L+he);else{var Ee;if(V<22250738585072014e-324)Ee=V/5e-324,q(Ee>>>0,X,L+ie),q((we<<31|Ee/4294967296)>>>0,X,L+he);else{var _e=Math.floor(Math.log(V)/Math.LN2);_e===1024&&(_e=1023),Ee=V*Math.pow(2,-_e),q(Ee*4503599627370496>>>0,X,L+ie),q((we<<31|_e+1023<<20|Ee*1048576&1048575)>>>0,X,L+he)}}}g.writeDoubleLE=k.bind(null,n,0,4),g.writeDoubleBE=k.bind(null,o,4,0);function P(q,ie,he,V,X){var L=q(V,X+ie),we=q(V,X+he),Ee=(we>>31)*2+1,_e=we>>>20&2047,je=4294967296*(we&1048575)+L;return _e===2047?je?NaN:Ee*(1/0):_e===0?Ee*5e-324*je:Ee*Math.pow(2,_e-1075)*(je+4503599627370496)}g.readDoubleLE=P.bind(null,s,0,4),g.readDoubleBE=P.bind(null,w,4,0)}(),g}function n(g,k,P){k[P]=g&255,k[P+1]=g>>>8&255,k[P+2]=g>>>16&255,k[P+3]=g>>>24}function o(g,k,P){k[P]=g>>>24,k[P+1]=g>>>16&255,k[P+2]=g>>>8&255,k[P+3]=g&255}function s(g,k){return(g[k]|g[k+1]<<8|g[k+2]<<16|g[k+3]<<24)>>>0}function w(g,k){return(g[k]<<24|g[k+1]<<16|g[k+2]<<8|g[k+3])>>>0}}),Mh=h((exports,module)=>{u(),module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}}),qh=h(e=>{u();var t=e;t.length=function(r){for(var n=0,o=0,s=0;s<r.length;++s)o=r.charCodeAt(s),o<128?n+=1:o<2048?n+=2:(o&64512)===55296&&(r.charCodeAt(s+1)&64512)===56320?(++s,n+=4):n+=3;return n},t.read=function(r,n,o){var s=o-n;if(s<1)return"";for(var w=null,g=[],k=0,P;n<o;)P=r[n++],P<128?g[k++]=P:P>191&&P<224?g[k++]=(P&31)<<6|r[n++]&63:P>239&&P<365?(P=((P&7)<<18|(r[n++]&63)<<12|(r[n++]&63)<<6|r[n++]&63)-65536,g[k++]=55296+(P>>10),g[k++]=56320+(P&1023)):g[k++]=(P&15)<<12|(r[n++]&63)<<6|r[n++]&63,k>8191&&((w||(w=[])).push(String.fromCharCode.apply(String,g)),k=0);return w?(k&&w.push(String.fromCharCode.apply(String,g.slice(0,k))),w.join("")):String.fromCharCode.apply(String,g.slice(0,k))},t.write=function(r,n,o){for(var s=o,w,g,k=0;k<r.length;++k)w=r.charCodeAt(k),w<128?n[o++]=w:w<2048?(n[o++]=w>>6|192,n[o++]=w&63|128):(w&64512)===55296&&((g=r.charCodeAt(k+1))&64512)===56320?(w=65536+((w&1023)<<10)+(g&1023),++k,n[o++]=w>>18|240,n[o++]=w>>12&63|128,n[o++]=w>>6&63|128,n[o++]=w&63|128):(n[o++]=w>>12|224,n[o++]=w>>6&63|128,n[o++]=w&63|128);return o-s}}),$h=h((e,t)=>{u(),t.exports=r;function r(n,o,s){var w=s||8192,g=w>>>1,k=null,P=w;return function(q){if(q<1||q>g)return n(q);P+q>w&&(k=n(w),P=0);var ie=o.call(k,P,P+=q);return P&7&&(P=(P|7)+1),ie}}}),zh=h((e,t)=>{u(),t.exports=n;var r=Vt$1();function n(g,k){this.lo=g>>>0,this.hi=k>>>0}var o=n.zero=new n(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(g){if(g===0)return o;var k=g<0;k&&(g=-g);var P=g>>>0,q=(g-P)/4294967296>>>0;return k&&(q=~q>>>0,P=~P>>>0,++P>4294967295&&(P=0,++q>4294967295&&(q=0))),new n(P,q)},n.from=function(g){if(typeof g=="number")return n.fromNumber(g);if(r.isString(g))if(r.Long)g=r.Long.fromString(g);else return n.fromNumber(parseInt(g,10));return g.low||g.high?new n(g.low>>>0,g.high>>>0):o},n.prototype.toNumber=function(g){if(!g&&this.hi>>>31){var k=~this.lo+1>>>0,P=~this.hi>>>0;return k||(P=P+1>>>0),-(k+P*4294967296)}return this.lo+this.hi*4294967296},n.prototype.toLong=function(g){return r.Long?new r.Long(this.lo|0,this.hi|0,Boolean(g)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(g)}};var w=String.prototype.charCodeAt;n.fromHash=function(g){return g===s?o:new n((w.call(g,0)|w.call(g,1)<<8|w.call(g,2)<<16|w.call(g,3)<<24)>>>0,(w.call(g,4)|w.call(g,5)<<8|w.call(g,6)<<16|w.call(g,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var g=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^g)>>>0,this.lo=(this.lo<<1^g)>>>0,this},n.prototype.zzDecode=function(){var g=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^g)>>>0,this.hi=(this.hi>>>1^g)>>>0,this},n.prototype.length=function(){var g=this.lo,k=(this.lo>>>28|this.hi<<4)>>>0,P=this.hi>>>24;return P===0?k===0?g<16384?g<128?1:2:g<2097152?3:4:k<16384?k<128?5:6:k<2097152?7:8:P<128?9:10}}),Vt$1=h(e=>{u();var t=e;t.asPromise=Dh(),t.base64=Oh(),t.EventEmitter=Ih(),t.float=Lh$1(),t.inquire=Mh(),t.utf8=qh(),t.pool=$h(),t.LongBits=zh(),t.isNode=Boolean(typeof global$1<"u"&&global$1&&global$1.process&&global$1.process.versions&&global$1.process.versions.node),t.global=t.isNode&&global$1||typeof window<"u"&&window||typeof self<"u"&&self||e,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},t.isString=function(o){return typeof o=="string"||o instanceof String},t.isObject=function(o){return o&&typeof o=="object"},t.isset=t.isSet=function(o,s){var w=o[s];return w!=null&&o.hasOwnProperty(s)?typeof w!="object"||(Array.isArray(w)?w.length:Object.keys(w).length)>0:!1},t.Buffer=function(){try{var o=t.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(o){return typeof o=="number"?t.Buffer?t._Buffer_allocUnsafe(o):new t.Array(o):t.Buffer?t._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(o){return o?t.LongBits.from(o).toHash():t.LongBits.zeroHash},t.longFromHash=function(o,s){var w=t.LongBits.fromHash(o);return t.Long?t.Long.fromBits(w.lo,w.hi,s):w.toNumber(Boolean(s))};function r(o,s,w){for(var g=Object.keys(s),k=0;k<g.length;++k)(o[g[k]]===void 0||!w)&&(o[g[k]]=s[g[k]]);return o}t.merge=r,t.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)};function n(o){function s(w,g){if(!(this instanceof s))return new s(w,g);Object.defineProperty(this,"message",{get:function(){return w}}),Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:new Error().stack||""}),g&&r(this,g)}return(s.prototype=Object.create(Error.prototype)).constructor=s,Object.defineProperty(s.prototype,"name",{get:function(){return o}}),s.prototype.toString=function(){return this.name+": "+this.message},s}t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(o){for(var s={},w=0;w<o.length;++w)s[o[w]]=1;return function(){for(var g=Object.keys(this),k=g.length-1;k>-1;--k)if(s[g[k]]===1&&this[g[k]]!==void 0&&this[g[k]]!==null)return g[k]}},t.oneOfSetter=function(o){return function(s){for(var w=0;w<o.length;++w)o[w]!==s&&delete this[o[w]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var o=t.Buffer;if(!o){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=o.from!==Uint8Array.from&&o.from||function(s,w){return new o(s,w)},t._Buffer_allocUnsafe=o.allocUnsafe||function(s){return new o(s)}}}),qu=h((e,t)=>{u(),t.exports=q;var r=Vt$1(),n,o=r.LongBits,s=r.base64,w=r.utf8;function g(_e,je,Xt){this.fn=_e,this.len=je,this.next=void 0,this.val=Xt}function k(){}function P(_e){this.head=_e.head,this.tail=_e.tail,this.len=_e.len,this.next=_e.states}function q(){this.len=0,this.head=new g(k,0,0),this.tail=this.head,this.states=null}var ie=function(){return r.Buffer?function(){return(q.create=function(){return new n})()}:function(){return new q}};q.create=ie(),q.alloc=function(_e){return new r.Array(_e)},r.Array!==Array&&(q.alloc=r.pool(q.alloc,r.Array.prototype.subarray)),q.prototype._push=function(_e,je,Xt){return this.tail=this.tail.next=new g(_e,je,Xt),this.len+=je,this};function he(_e,je,Xt){je[Xt]=_e&255}function V(_e,je,Xt){for(;_e>127;)je[Xt++]=_e&127|128,_e>>>=7;je[Xt]=_e}function X(_e,je){this.len=_e,this.next=void 0,this.val=je}X.prototype=Object.create(g.prototype),X.prototype.fn=V,q.prototype.uint32=function(_e){return this.len+=(this.tail=this.tail.next=new X((_e=_e>>>0)<128?1:_e<16384?2:_e<2097152?3:_e<268435456?4:5,_e)).len,this},q.prototype.int32=function(_e){return _e<0?this._push(L,10,o.fromNumber(_e)):this.uint32(_e)},q.prototype.sint32=function(_e){return this.uint32((_e<<1^_e>>31)>>>0)};function L(_e,je,Xt){for(;_e.hi;)je[Xt++]=_e.lo&127|128,_e.lo=(_e.lo>>>7|_e.hi<<25)>>>0,_e.hi>>>=7;for(;_e.lo>127;)je[Xt++]=_e.lo&127|128,_e.lo=_e.lo>>>7;je[Xt++]=_e.lo}q.prototype.uint64=function(_e){var je=o.from(_e);return this._push(L,je.length(),je)},q.prototype.int64=q.prototype.uint64,q.prototype.sint64=function(_e){var je=o.from(_e).zzEncode();return this._push(L,je.length(),je)},q.prototype.bool=function(_e){return this._push(he,1,_e?1:0)};function we(_e,je,Xt){je[Xt]=_e&255,je[Xt+1]=_e>>>8&255,je[Xt+2]=_e>>>16&255,je[Xt+3]=_e>>>24}q.prototype.fixed32=function(_e){return this._push(we,4,_e>>>0)},q.prototype.sfixed32=q.prototype.fixed32,q.prototype.fixed64=function(_e){var je=o.from(_e);return this._push(we,4,je.lo)._push(we,4,je.hi)},q.prototype.sfixed64=q.prototype.fixed64,q.prototype.float=function(_e){return this._push(r.float.writeFloatLE,4,_e)},q.prototype.double=function(_e){return this._push(r.float.writeDoubleLE,8,_e)};var Ee=r.Array.prototype.set?function(_e,je,Xt){je.set(_e,Xt)}:function(_e,je,Xt){for(var Gt=0;Gt<_e.length;++Gt)je[Xt+Gt]=_e[Gt]};q.prototype.bytes=function(_e){var je=_e.length>>>0;if(!je)return this._push(he,1,0);if(r.isString(_e)){var Xt=q.alloc(je=s.length(_e));s.decode(_e,Xt,0),_e=Xt}return this.uint32(je)._push(Ee,je,_e)},q.prototype.string=function(_e){var je=w.length(_e);return je?this.uint32(je)._push(w.write,je,_e):this._push(he,1,0)},q.prototype.fork=function(){return this.states=new P(this),this.head=this.tail=new g(k,0,0),this.len=0,this},q.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new g(k,0,0),this.len=0),this},q.prototype.ldelim=function(){var _e=this.head,je=this.tail,Xt=this.len;return this.reset().uint32(Xt),Xt&&(this.tail.next=_e.next,this.tail=je,this.len+=Xt),this},q.prototype.finish=function(){for(var _e=this.head.next,je=this.constructor.alloc(this.len),Xt=0;_e;)_e.fn(_e.val,je,Xt),Xt+=_e.len,_e=_e.next;return je},q._configure=function(_e){n=_e,q.create=ie(),n._configure()}}),Xh=h((e,t)=>{u(),t.exports=o;var r=qu();(o.prototype=Object.create(r.prototype)).constructor=o;var n=Vt$1();function o(){r.call(this)}o._configure=function(){o.alloc=n._Buffer_allocUnsafe,o.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&n.Buffer.prototype.set.name==="set"?function(w,g,k){g.set(w,k)}:function(w,g,k){if(w.copy)w.copy(g,k,0,w.length);else for(var P=0;P<w.length;)g[k++]=w[P++]}},o.prototype.bytes=function(w){n.isString(w)&&(w=n._Buffer_from(w,"base64"));var g=w.length>>>0;return this.uint32(g),g&&this._push(o.writeBytesBuffer,g,w),this};function s(w,g,k){w.length<40?n.utf8.write(w,g,k):g.utf8Write?g.utf8Write(w,k):g.write(w,k)}o.prototype.string=function(w){var g=n.Buffer.byteLength(w);return this.uint32(g),g&&this._push(s,g,w),this},o._configure()}),Ku$1=h((e,t)=>{u(),t.exports=g;var r=Vt$1(),n,o=r.LongBits,s=r.utf8;function w(V,X){return RangeError("index out of range: "+V.pos+" + "+(X||1)+" > "+V.len)}function g(V){this.buf=V,this.pos=0,this.len=V.length}var k=typeof Uint8Array<"u"?function(V){if(V instanceof Uint8Array||Array.isArray(V))return new g(V);throw Error("illegal buffer")}:function(V){if(Array.isArray(V))return new g(V);throw Error("illegal buffer")},P=function(){return r.Buffer?function(V){return(g.create=function(X){return r.Buffer.isBuffer(X)?new n(X):k(X)})(V)}:k};g.create=P(),g.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,g.prototype.uint32=function(){var V=4294967295;return function(){if(V=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(V=(V|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(V=(V|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(V=(V|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(V=(V|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return V;if((this.pos+=5)>this.len)throw this.pos=this.len,w(this,10);return V}}(),g.prototype.int32=function(){return this.uint32()|0},g.prototype.sint32=function(){var V=this.uint32();return V>>>1^-(V&1)|0};function q(){var V=new o(0,0),X=0;if(this.len-this.pos>4){for(;X<4;++X)if(V.lo=(V.lo|(this.buf[this.pos]&127)<<X*7)>>>0,this.buf[this.pos++]<128)return V;if(V.lo=(V.lo|(this.buf[this.pos]&127)<<28)>>>0,V.hi=(V.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return V;X=0}else{for(;X<3;++X){if(this.pos>=this.len)throw w(this);if(V.lo=(V.lo|(this.buf[this.pos]&127)<<X*7)>>>0,this.buf[this.pos++]<128)return V}return V.lo=(V.lo|(this.buf[this.pos++]&127)<<X*7)>>>0,V}if(this.len-this.pos>4){for(;X<5;++X)if(V.hi=(V.hi|(this.buf[this.pos]&127)<<X*7+3)>>>0,this.buf[this.pos++]<128)return V}else for(;X<5;++X){if(this.pos>=this.len)throw w(this);if(V.hi=(V.hi|(this.buf[this.pos]&127)<<X*7+3)>>>0,this.buf[this.pos++]<128)return V}throw Error("invalid varint encoding")}g.prototype.bool=function(){return this.uint32()!==0};function ie(V,X){return(V[X-4]|V[X-3]<<8|V[X-2]<<16|V[X-1]<<24)>>>0}g.prototype.fixed32=function(){if(this.pos+4>this.len)throw w(this,4);return ie(this.buf,this.pos+=4)},g.prototype.sfixed32=function(){if(this.pos+4>this.len)throw w(this,4);return ie(this.buf,this.pos+=4)|0};function he(){if(this.pos+8>this.len)throw w(this,8);return new o(ie(this.buf,this.pos+=4),ie(this.buf,this.pos+=4))}g.prototype.float=function(){if(this.pos+4>this.len)throw w(this,4);var V=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,V},g.prototype.double=function(){if(this.pos+8>this.len)throw w(this,4);var V=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,V},g.prototype.bytes=function(){var V=this.uint32(),X=this.pos,L=this.pos+V;if(L>this.len)throw w(this,V);return this.pos+=V,Array.isArray(this.buf)?this.buf.slice(X,L):X===L?new this.buf.constructor(0):this._slice.call(this.buf,X,L)},g.prototype.string=function(){var V=this.bytes();return s.read(V,0,V.length)},g.prototype.skip=function(V){if(typeof V=="number"){if(this.pos+V>this.len)throw w(this,V);this.pos+=V}else do if(this.pos>=this.len)throw w(this);while(this.buf[this.pos++]&128);return this},g.prototype.skipType=function(V){switch(V){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(V=this.uint32()&7)!==4;)this.skipType(V);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+V+" at offset "+this.pos)}return this},g._configure=function(V){n=V,g.create=P(),n._configure();var X=r.Long?"toLong":"toNumber";r.merge(g.prototype,{int64:function(){return q.call(this)[X](!1)},uint64:function(){return q.call(this)[X](!0)},sint64:function(){return q.call(this).zzDecode()[X](!1)},fixed64:function(){return he.call(this)[X](!0)},sfixed64:function(){return he.call(this)[X](!1)}})}}),uy=h((e,t)=>{u(),t.exports=o;var r=Ku$1();(o.prototype=Object.create(r.prototype)).constructor=o;var n=Vt$1();function o(s){r.call(this,s)}o._configure=function(){n.Buffer&&(o.prototype._slice=n.Buffer.prototype.slice)},o.prototype.string=function(){var s=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+s,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+s,this.len))},o._configure()}),fy=h((e,t)=>{u(),t.exports=n;var r=Vt$1();(n.prototype=Object.create(r.EventEmitter.prototype)).constructor=n;function n(o,s,w){if(typeof o!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=o,this.requestDelimited=Boolean(s),this.responseDelimited=Boolean(w)}n.prototype.rpcCall=function o(s,w,g,k,P){if(!k)throw TypeError("request must be specified");var q=this;if(!P)return r.asPromise(o,q,s,w,g,k);if(!q.rpcImpl){setTimeout(function(){P(Error("already ended"))},0);return}try{return q.rpcImpl(s,w[q.requestDelimited?"encodeDelimited":"encode"](k).finish(),function(ie,he){if(ie)return q.emit("error",ie,s),P(ie);if(he===null){q.end(!0);return}if(!(he instanceof g))try{he=g[q.responseDelimited?"decodeDelimited":"decode"](he)}catch(V){return q.emit("error",V,s),P(V)}return q.emit("data",he,s),P(null,he)})}catch(ie){q.emit("error",ie,s),setTimeout(function(){P(ie)},0);return}},n.prototype.end=function(o){return this.rpcImpl&&(o||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}}),dy=h(e=>{u();var t=e;t.Service=fy()}),hy=h((e,t)=>{u(),t.exports={}}),my=h(e=>{u();var t=e;t.build="minimal",t.Writer=qu(),t.BufferWriter=Xh(),t.Reader=Ku$1(),t.BufferReader=uy(),t.util=Vt$1(),t.rpc=dy(),t.roots=hy(),t.configure=r;function r(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}r()}),Ht$1=h((e,t)=>{u(),t.exports=my()}),_y=h((e,t)=>{u(),Object.defineProperty(e,"__esModule",{value:!0}),r.BASE=2166136261;function r(n,o=r.BASE){let s=n.length;for(let w=0;w<s;w++)o^=n.charCodeAt(w),o+=(o<<1)+(o<<4)+(o<<7)+(o<<8)+(o<<24);return o>>>0}e.default=r,t.exports=r}),Ay=h((e,t)=>{u(),t.exports=w;var r=128,n=127,o=~n,s=Math.pow(2,31);function w(g,k,P){if(Number.MAX_SAFE_INTEGER&&g>Number.MAX_SAFE_INTEGER)throw w.bytes=0,new RangeError("Could not encode varint");k=k||[],P=P||0;for(var q=P;g>=s;)k[P++]=g&255|r,g/=128;for(;g&o;)k[P++]=g&255|r,g>>>=7;return k[P]=g|0,w.bytes=P-q+1,k}}),Oy=h((e,t)=>{u(),t.exports=o;var r=128,n=127;function o(s,k){var g=0,k=k||0,P=0,q=k,ie,he=s.length;do{if(q>=he||P>49)throw o.bytes=0,new RangeError("Could not decode varint");ie=s[q++],g+=P<28?(ie&n)<<P:(ie&n)*Math.pow(2,P),P+=7}while(ie>=r);return o.bytes=q-k,g}}),Iy=h((e,t)=>{u();var r=Math.pow(2,7),n=Math.pow(2,14),o=Math.pow(2,21),s=Math.pow(2,28),w=Math.pow(2,35),g=Math.pow(2,42),k=Math.pow(2,49),P=Math.pow(2,56),q=Math.pow(2,63);t.exports=function(ie){return ie<r?1:ie<n?2:ie<o?3:ie<s?4:ie<w?5:ie<g?6:ie<k?7:ie<P?8:ie<q?9:10}}),xi=h((e,t)=>{u(),t.exports={encode:Ay(),decode:Oy(),encodingLength:Iy()}}),Yu={};G$1(Yu,{concat:()=>Ai});function Ai(e,t){t||(t=e.reduce((o,s)=>o+s.length,0));let r=Co(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}var Ho=B(()=>{u(),wu$1()}),Qy=h((e,t)=>{u();var r="[a-fA-F\\d:]",n=ie=>ie&&ie.includeBoundaries?`(?:(?<=\\s|^)(?=${r})|(?<=${r})(?=\\s|$))`:"",o="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",w=`
(?:
(?:${s}:){7}(?:${s}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${s}:){6}(?:${o}|:${s}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${s}:){5}(?::${o}|(?::${s}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${s}:){4}(?:(?::${s}){0,1}:${o}|(?::${s}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${s}:){3}(?:(?::${s}){0,2}:${o}|(?::${s}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${s}:){2}(?:(?::${s}){0,3}:${o}|(?::${s}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${s}:){1}(?:(?::${s}){0,4}:${o}|(?::${s}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${s}){0,5}:${o}|(?::${s}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),g=new RegExp(`(?:^${o}$)|(?:^${w}$)`),k=new RegExp(`^${o}$`),P=new RegExp(`^${w}$`),q=ie=>ie&&ie.exact?g:new RegExp(`(?:${n(ie)}${o}${n(ie)})|(?:${n(ie)}${w}${n(ie)})`,"g");q.v4=ie=>ie&&ie.exact?k:new RegExp(`${n(ie)}${o}${n(ie)}`,"g"),q.v6=ie=>ie&&ie.exact?P:new RegExp(`${n(ie)}${w}${n(ie)}`,"g"),t.exports=q}),Xy=h((e,t)=>{u();var r=Qy(),n=o=>r({exact:!0}).test(o);n.v4=o=>r.v4({exact:!0}).test(o),n.v6=o=>r.v6({exact:!0}).test(o),n.version=o=>n(o)?n.v4(o)?4:6:void 0,t.exports=n}),ig=h((e,t)=>{u();var r=Xy(),{toString:n}=(ke$1(),ue(fi$1)),o=r,s=r.v4,w=r.v6,g=function(P,q,ie){ie=~~ie;let he;if(s(P))he=q||new Uint8Array(ie+4),P.split(/\./g).map(function(V){he[ie++]=parseInt(V,10)&255});else if(w(P)){let V=P.split(":",8),X;for(X=0;X<V.length;X++){let L=s(V[X]),we;L&&(we=g(V[X]),V[X]=n(we.slice(0,2),"base16")),we&&++X<8&&V.splice(X,0,n(we.slice(2,4),"base16"))}if(V[0]==="")for(;V.length<8;)V.unshift("0");else if(V[V.length-1]==="")for(;V.length<8;)V.push("0");else if(V.length<8){for(X=0;X<V.length&&V[X]!=="";X++);let L=[X,"1"];for(X=9-V.length;X>0;X--)L.push("0");V.splice.apply(V,L)}for(he=q||new Uint8Array(ie+16),X=0;X<V.length;X++){let L=parseInt(V[X],16);he[ie++]=L>>8&255,he[ie++]=L&255}}if(!he)throw Error("Invalid ip address: "+P);return he},k=function(P,q,ie){q=~~q,ie=ie||P.length-q;let he=[],V,X=new DataView(P.buffer);if(ie===4){for(let L=0;L<ie;L++)he.push(P[q+L]);V=he.join(".")}else if(ie===16){for(let L=0;L<ie;L+=2)he.push(X.getUint16(q+L).toString(16));V=he.join(":"),V=V.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),V=V.replace(/:{3,4}/,"::")}return V};t.exports={isIP:o,isV4:s,isV6:w,toBytes:g,toString:k}}),rs$1=h((e,t)=>{u();function r(s){if(typeof s=="number"){if(r.codes[s])return r.codes[s];throw new Error("no protocol with code: "+s)}else if(typeof s=="string"){if(r.names[s])return r.names[s];throw new Error("no protocol with name: "+s)}throw new Error("invalid protocol id type: "+s)}var n=-1;r.lengthPrefixedVarSize=n,r.V=n,r.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[53,n,"dns","resolvable"],[54,n,"dns4","resolvable"],[55,n,"dns6","resolvable"],[56,n,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,"path"],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]],r.names={},r.codes={},r.table.map(s=>{let w=o.apply(null,s);return r.codes[w.code]=w,r.names[w.name]=w,null}),r.object=o;function o(s,w,g,k,P){return{code:s,size:w,name:g,resolvable:Boolean(k),path:Boolean(P)}}t.exports=r}),hg=h((e,t)=>{u();var r=ig(),n=rs$1(),{CID:o}=(ge(),ue(Xa)),{base32:s}=(ht$1(),ue(vo)),{base58btc:w}=(an(),ue(si$1)),g=(pt$1(),ue(Ge)),k=xi(),{toString:P}=(ke$1(),ue(fi$1)),{fromString:q}=(yt$1(),ue(rp)),{concat:ie}=(Ho(),ue(Yu));t.exports=he;function he(at,sr){return sr instanceof Uint8Array?he.toString(at,sr):he.toBytes(at,sr)}he.toString=function(at,sr){switch(n(at).code){case 4:case 41:return X(sr);case 6:case 273:case 33:case 132:return we(sr).toString();case 53:case 54:case 55:case 56:case 400:case 777:return _e(sr);case 421:return Xt(sr);case 444:return Qt(sr);case 445:return Qt(sr);default:return P(sr,"base16")}},he.toBytes=function(at,sr){switch(n(at).code){case 4:return V(sr);case 41:return V(sr);case 6:case 273:case 33:case 132:return L(parseInt(sr,10));case 53:case 54:case 55:case 56:case 400:case 777:return Ee(sr);case 421:return je(sr);case 444:return Gt(sr);case 445:return ot(sr);default:return q(sr,"base16")}};function V(at){if(!r.isIP(at))throw new Error("invalid ip address");return r.toBytes(at)}function X(at){let sr=r.toString(at);if(!sr||!r.isIP(sr))throw new Error("invalid ip address");return sr}function L(at){let sr=new ArrayBuffer(2);return new DataView(sr).setUint16(0,at),new Uint8Array(sr)}function we(at){return new DataView(at.buffer).getUint16(at.byteOffset)}function Ee(at){let sr=q(at),qr=Uint8Array.from(k.encode(sr.length));return ie([qr,sr],qr.length+sr.length)}function _e(at){let sr=k.decode(at);if(at=at.slice(k.decode.bytes),at.length!==sr)throw new Error("inconsistent lengths");return P(at)}function je(at){let sr;at[0]==="Q"||at[0]==="1"?sr=g.decode(w.decode(`z${at}`)).bytes:sr=o.parse(at).multihash.bytes;let qr=Uint8Array.from(k.encode(sr.length));return ie([qr,sr],qr.length+sr.length)}function Xt(at){let sr=k.decode(at),qr=at.slice(k.decode.bytes);if(qr.length!==sr)throw new Error("inconsistent lengths");return P(qr,"base58btc")}function Gt(at){let sr=at.split(":");if(sr.length!==2)throw new Error("failed to parse onion addr: "+sr+" does not contain a port number");if(sr[0].length!==16)throw new Error("failed to parse onion addr: "+sr[0]+" not a Tor onion address.");let qr=s.decode("b"+sr[0]),Xr=parseInt(sr[1],10);if(Xr<1||Xr>65536)throw new Error("Port number is not in range(1, 65536)");let rn=L(Xr);return ie([qr,rn],qr.length+rn.length)}function ot(at){let sr=at.split(":");if(sr.length!==2)throw new Error("failed to parse onion addr: "+sr+" does not contain a port number");if(sr[0].length!==56)throw new Error("failed to parse onion addr: "+sr[0]+" not a Tor onion3 address.");let qr=s.decode("b"+sr[0]),Xr=parseInt(sr[1],10);if(Xr<1||Xr>65536)throw new Error("Port number is not in range(1, 65536)");let rn=L(Xr);return ie([qr,rn],qr.length+rn.length)}function Qt(at){let sr=at.slice(0,at.length-2),qr=at.slice(at.length-2),Xr=P(sr,"base32"),rn=we(qr);return Xr+":"+rn}}),Sg=h((e,t)=>{u();var r=hg(),n=rs$1(),o=xi(),{concat:s}=(Ho(),ue(Yu)),{toString:w}=(ke$1(),ue(fi$1));t.exports={stringToStringTuples:g,stringTuplesToString:k,tuplesToStringTuples:q,stringTuplesToTuples:P,bytesToTuples:V,tuplesToBytes:ie,bytesToString:X,stringToBytes:L,fromString:we,fromBytes:Ee,validateBytes:_e,isValidBytes:je,cleanPath:Xt,ParseError:Gt,protoFromTuple:ot,sizeForAddr:he};function g(Qt){let at=[],sr=Qt.split("/").slice(1);if(sr.length===1&&sr[0]==="")return[];for(let qr=0;qr<sr.length;qr++){let Xr=sr[qr],rn=n(Xr);if(rn.size===0){at.push([Xr]);continue}if(qr++,qr>=sr.length)throw Gt("invalid address: "+Qt);if(rn.path){at.push([Xr,Xt(sr.slice(qr).join("/"))]);break}at.push([Xr,sr[qr]])}return at}function k(Qt){let at=[];return Qt.map(sr=>{let qr=ot(sr);return at.push(qr.name),sr.length>1&&at.push(sr[1]),null}),Xt(at.join("/"))}function P(Qt){return Qt.map(at=>{Array.isArray(at)||(at=[at]);let sr=ot(at);return at.length>1?[sr.code,r.toBytes(sr.code,at[1])]:[sr.code]})}function q(Qt){return Qt.map(at=>{let sr=ot(at);return at[1]?[sr.code,r.toString(sr.code,at[1])]:[sr.code]})}function ie(Qt){return Ee(s(Qt.map(at=>{let sr=ot(at),qr=Uint8Array.from(o.encode(sr.code));return at.length>1&&(qr=s([qr,at[1]])),qr})))}function he(Qt,at){return Qt.size>0?Qt.size/8:Qt.size===0?0:o.decode(at)+o.decode.bytes}function V(Qt){let at=[],sr=0;for(;sr<Qt.length;){let qr=o.decode(Qt,sr),Xr=o.decode.bytes,rn=n(qr),ao=he(rn,Qt.slice(sr+Xr));if(ao===0){at.push([qr]),sr+=Xr;continue}let ei=Qt.slice(sr+Xr,sr+Xr+ao);if(sr+=ao+Xr,sr>Qt.length)throw Gt("Invalid address Uint8Array: "+w(Qt,"base16"));at.push([qr,ei])}return at}function X(Qt){let at=V(Qt),sr=q(at);return k(sr)}function L(Qt){Qt=Xt(Qt);let at=g(Qt),sr=P(at);return ie(sr)}function we(Qt){return L(Qt)}function Ee(Qt){let at=_e(Qt);if(at)throw at;return Uint8Array.from(Qt)}function _e(Qt){try{V(Qt)}catch(at){return at}}function je(Qt){return _e(Qt)===void 0}function Xt(Qt){return"/"+Qt.trim().split("/").filter(at=>at).join("/")}function Gt(Qt){return new Error("Error parsing address: "+Qt)}function ot(Qt){return n(Qt[0])}}),Cg={};G$1(Cg,{equals:()=>pD});function pD(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var Og=B(()=>{u()}),Bg=h((e,t)=>{u();var r=Sg(),n=rs$1(),o=xi(),{CID:s}=(ge(),ue(Xa)),{base58btc:w}=(an(),ue(si$1)),g=dt$1(),k=Symbol.for("nodejs.util.inspect.custom"),{toString:P}=(ke$1(),ue(fi$1)),{equals:q}=(Og(),ue(Cg)),ie=new Map,he=Symbol.for("@multiformats/js-multiaddr/multiaddr"),V=class{constructor(L){if(L==null&&(L=""),Object.defineProperty(this,he,{value:!0}),L instanceof Uint8Array)this.bytes=r.fromBytes(L);else if(typeof L=="string"){if(L.length>0&&L.charAt(0)!=="/")throw new Error(`multiaddr "${L}" must start with a "/"`);this.bytes=r.fromString(L)}else if(V.isMultiaddr(L))this.bytes=r.fromBytes(L.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return r.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let L={},we=this.toString().split("/");return L.family=we[1]==="ip4"?4:6,L.host=we[2],L.transport=we[3],L.port=parseInt(we[4]),L}protos(){return this.protoCodes().map(L=>Object.assign({},n(L)))}protoCodes(){let L=[],we=this.bytes,Ee=0;for(;Ee<we.length;){let _e=o.decode(we,Ee),je=o.decode.bytes,Xt=n(_e);Ee+=r.sizeForAddr(Xt,we.slice(Ee+je))+je,L.push(_e)}return L}protoNames(){return this.protos().map(L=>L.name)}tuples(){return r.bytesToTuples(this.bytes)}stringTuples(){let L=r.bytesToTuples(this.bytes);return r.tuplesToStringTuples(L)}encapsulate(L){return L=new V(L),new V(this.toString()+L.toString())}decapsulate(L){let we=L.toString(),Ee=this.toString(),_e=Ee.lastIndexOf(we);if(_e<0)throw new Error("Address "+this+" does not contain subaddress: "+L);return new V(Ee.slice(0,_e))}decapsulateCode(L){let we=this.tuples();for(let Ee=we.length-1;Ee>=0;Ee--)if(we[Ee][0]===L)return new V(r.tuplesToBytes(we.slice(0,Ee)));return this}getPeerId(){try{let L=this.stringTuples().filter(we=>we[0]===n.names.ipfs.code).pop();if(L&&L[1]){let we=L[1];return we[0]==="Q"||we[0]==="1"?P(w.decode(`z${we}`),"base58btc"):P(s.parse(we).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let L=null;try{L=this.stringTuples().filter(we=>!!n(we[0]).path)[0][1],L||(L=null)}catch{L=null}return L}equals(L){return q(this.bytes,L.bytes)}async resolve(){let L=this.protos().find(Ee=>Ee.resolvable);if(!L)return[this];let we=ie.get(L.name);if(!we)throw g(new Error(`no available resolver for ${L.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await we(this)).map(Ee=>new V(Ee))}nodeAddress(){let L=this.protoCodes(),we=this.protoNames(),Ee=this.toString().split("/").slice(1);if(Ee.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(L[0]!==4&&L[0]!==41&&L[0]!==54&&L[0]!==55)throw new Error(`no protocol with name: "'${we[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(Ee[2]!=="tcp"&&Ee[2]!=="udp")throw new Error(`no protocol with name: "'${we[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:L[0]===41||L[0]===55?6:4,address:Ee[1],port:parseInt(Ee[3])}}isThinWaistAddress(L){let we=(L||this).protos();return!(we.length!==2||we[0].code!==4&&we[0].code!==41||we[1].code!==6&&we[1].code!==273)}static fromNodeAddress(L,we){if(!L)throw new Error("requires node address object");if(!we)throw new Error("requires transport protocol");let Ee;switch(L.family){case 4:Ee="ip4";break;case 6:Ee="ip6";break;default:throw Error(`Invalid addr family. Got '${L.family}' instead of 4 or 6`)}return new V("/"+[Ee,L.address,we,L.port].join("/"))}static isName(L){return V.isMultiaddr(L)?L.protos().some(we=>we.resolvable):!1}static isMultiaddr(L){return L instanceof V||Boolean(L&&L[he])}[k](){return"<Multiaddr "+P(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+P(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}};V.protocols=n,V.resolvers=ie;function X(L){return new V(L)}t.exports={Multiaddr:V,multiaddr:X,protocols:n,resolvers:ie}}),$g=h((e,t)=>{u(),t.exports=w,t.exports.format=g,t.exports.parse=k;var r=/\B(?=(\d{3})+(?!\d))/g,n=/(?:\.0*|(\.[^0]+)0+)$/,o={b:1,kb:1<<10,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},s=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function w(P,q){return typeof P=="string"?k(P):typeof P=="number"?g(P,q):null}function g(P,q){if(!Number.isFinite(P))return null;var ie=Math.abs(P),he=q&&q.thousandsSeparator||"",V=q&&q.unitSeparator||"",X=q&&q.decimalPlaces!==void 0?q.decimalPlaces:2,L=Boolean(q&&q.fixedDecimals),we=q&&q.unit||"";(!we||!o[we.toLowerCase()])&&(ie>=o.pb?we="PB":ie>=o.tb?we="TB":ie>=o.gb?we="GB":ie>=o.mb?we="MB":ie>=o.kb?we="KB":we="B");var Ee=P/o[we.toLowerCase()],_e=Ee.toFixed(X);return L||(_e=_e.replace(n,"$1")),he&&(_e=_e.split(".").map(function(je,Xt){return Xt===0?je.replace(r,he):je}).join(".")),_e+V+we}function k(P){if(typeof P=="number"&&!isNaN(P))return P;if(typeof P!="string")return null;var q=s.exec(P),ie,he="b";return q?(ie=parseFloat(q[1]),he=q[4].toLowerCase()):(ie=parseInt(P,10),he="b"),isNaN(ie)?null:Math.floor(o[he]*ie)}}),xc$1=h((e,t)=>{u(),t.exports=r=>{if(Object.prototype.toString.call(r)!=="[object Object]")return!1;let n=Object.getPrototypeOf(r);return n===null||n===Object.prototype}}),Jg=h((e,t)=>{u();var r=xc$1(),{hasOwnProperty:n}=Object.prototype,{propertyIsEnumerable:o}=Object,s=(L,we,Ee)=>Object.defineProperty(L,we,{value:Ee,writable:!0,enumerable:!0,configurable:!0}),w=e,g={concatArrays:!1,ignoreUndefined:!1},k=L=>{let we=[];for(let Ee in L)n.call(L,Ee)&&we.push(Ee);if(Object.getOwnPropertySymbols){let Ee=Object.getOwnPropertySymbols(L);for(let _e of Ee)o.call(L,_e)&&we.push(_e)}return we};function P(L){return Array.isArray(L)?q(L):r(L)?ie(L):L}function q(L){let we=L.slice(0,0);return k(L).forEach(Ee=>{s(we,Ee,P(L[Ee]))}),we}function ie(L){let we=Object.getPrototypeOf(L)===null?Object.create(null):{};return k(L).forEach(Ee=>{s(we,Ee,P(L[Ee]))}),we}var he=(L,we,Ee,_e)=>(Ee.forEach(je=>{typeof we[je]>"u"&&_e.ignoreUndefined||(je in L&&L[je]!==Object.getPrototypeOf(L)?s(L,je,X(L[je],we[je],_e)):s(L,je,P(we[je])))}),L),V=(L,we,Ee)=>{let _e=L.slice(0,0),je=0;return[L,we].forEach(Xt=>{let Gt=[];for(let ot=0;ot<Xt.length;ot++)!n.call(Xt,ot)||(Gt.push(String(ot)),Xt===L?s(_e,je++,Xt[ot]):s(_e,je++,P(Xt[ot])));_e=he(_e,Xt,k(Xt).filter(ot=>!Gt.includes(ot)),Ee)}),_e};function X(L,we,Ee){return Ee.concatArrays&&Array.isArray(L)&&Array.isArray(we)?V(L,we,Ee):!r(we)||!r(L)?P(we):he(L,we,k(we),Ee)}t.exports=function(...L){let we=X(P(g),this!==w&&this||{},g),Ee={_:{}};for(let _e of L)if(_e!==void 0){if(!r(_e))throw new TypeError("`"+_e+"` is not an Option Object");Ee=X(Ee,{_:_e},we)}return Ee._}}),Cc$1=h((e,t)=>{u();var r=Object.prototype.hasOwnProperty,n="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(n=!1));function s(P,q,ie){this.fn=P,this.context=q,this.once=ie||!1}function w(P,q,ie,he,V){if(typeof ie!="function")throw new TypeError("The listener must be a function");var X=new s(ie,he||P,V),L=n?n+q:q;return P._events[L]?P._events[L].fn?P._events[L]=[P._events[L],X]:P._events[L].push(X):(P._events[L]=X,P._eventsCount++),P}function g(P,q){--P._eventsCount===0?P._events=new o:delete P._events[q]}function k(){this._events=new o,this._eventsCount=0}k.prototype.eventNames=function(){var P=[],q,ie;if(this._eventsCount===0)return P;for(ie in q=this._events)r.call(q,ie)&&P.push(n?ie.slice(1):ie);return Object.getOwnPropertySymbols?P.concat(Object.getOwnPropertySymbols(q)):P},k.prototype.listeners=function(P){var q=n?n+P:P,ie=this._events[q];if(!ie)return[];if(ie.fn)return[ie.fn];for(var he=0,V=ie.length,X=new Array(V);he<V;he++)X[he]=ie[he].fn;return X},k.prototype.listenerCount=function(P){var q=n?n+P:P,ie=this._events[q];return ie?ie.fn?1:ie.length:0},k.prototype.emit=function(P,q,ie,he,V,X){var L=n?n+P:P;if(!this._events[L])return!1;var we=this._events[L],Ee=arguments.length,_e,je;if(we.fn){switch(we.once&&this.removeListener(P,we.fn,void 0,!0),Ee){case 1:return we.fn.call(we.context),!0;case 2:return we.fn.call(we.context,q),!0;case 3:return we.fn.call(we.context,q,ie),!0;case 4:return we.fn.call(we.context,q,ie,he),!0;case 5:return we.fn.call(we.context,q,ie,he,V),!0;case 6:return we.fn.call(we.context,q,ie,he,V,X),!0}for(je=1,_e=new Array(Ee-1);je<Ee;je++)_e[je-1]=arguments[je];we.fn.apply(we.context,_e)}else{var Xt=we.length,Gt;for(je=0;je<Xt;je++)switch(we[je].once&&this.removeListener(P,we[je].fn,void 0,!0),Ee){case 1:we[je].fn.call(we[je].context);break;case 2:we[je].fn.call(we[je].context,q);break;case 3:we[je].fn.call(we[je].context,q,ie);break;case 4:we[je].fn.call(we[je].context,q,ie,he);break;default:if(!_e)for(Gt=1,_e=new Array(Ee-1);Gt<Ee;Gt++)_e[Gt-1]=arguments[Gt];we[je].fn.apply(we[je].context,_e)}}return!0},k.prototype.on=function(P,q,ie){return w(this,P,q,ie,!1)},k.prototype.once=function(P,q,ie){return w(this,P,q,ie,!0)},k.prototype.removeListener=function(P,q,ie,he){var V=n?n+P:P;if(!this._events[V])return this;if(!q)return g(this,V),this;var X=this._events[V];if(X.fn)X.fn===q&&(!he||X.once)&&(!ie||X.context===ie)&&g(this,V);else{for(var L=0,we=[],Ee=X.length;L<Ee;L++)(X[L].fn!==q||he&&!X[L].once||ie&&X[L].context!==ie)&&we.push(X[L]);we.length?this._events[V]=we.length===1?we[0]:we:g(this,V)}return this},k.prototype.removeAllListeners=function(P){var q;return P?(q=n?n+P:P,this._events[q]&&g(this,q)):(this._events=new o,this._eventsCount=0),this},k.prototype.off=k.prototype.removeListener,k.prototype.addListener=k.prototype.on,k.prefixed=n,k.EventEmitter=k,typeof t<"u"&&(t.exports=k)}),om=h((e,t)=>{u(),t.exports=(r,n)=>(n=n||(()=>{}),r.then(o=>new Promise(s=>{s(n())}).then(()=>o),o=>new Promise(s=>{s(n())}).then(()=>{throw o})))}),Oc=h((e,t)=>{u();var r=om(),n=class extends Error{constructor(s){super(s),this.name="TimeoutError"}},o=(s,w,g)=>new Promise((k,P)=>{if(typeof w!="number"||w<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(w===1/0){k(s);return}let q=setTimeout(()=>{if(typeof g=="function"){try{k(g())}catch(V){P(V)}return}let ie=typeof g=="string"?g:`Promise timed out after ${w} milliseconds`,he=g instanceof Error?g:new n(ie);typeof s.cancel=="function"&&s.cancel(),P(he)},w);r(s.then(k,P),()=>{clearTimeout(q)})});t.exports=o,t.exports.default=o,t.exports.TimeoutError=n}),am=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});function t(r,n,o){let s=0,w=r.length;for(;w>0;){let g=w/2|0,k=s+g;o(r[k],n)<=0?(s=++k,w-=g+1):w=g}return s}e.default=t}),um=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=am(),r=class{constructor(){this._queue=[]}enqueue(n,o){o=Object.assign({priority:0},o);let s={priority:o.priority,run:n};if(this.size&&this._queue[this.size-1].priority>=o.priority){this._queue.push(s);return}let w=t.default(this._queue,s,(g,k)=>k.priority-g.priority);this._queue.splice(w,0,s)}dequeue(){let n=this._queue.shift();return n==null?void 0:n.run}filter(n){return this._queue.filter(o=>o.priority===n.priority).map(o=>o.run)}get size(){return this._queue.length}};e.default=r}),fm=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=Cc$1(),r=Oc(),n=um(),o=()=>{},s=new r.TimeoutError,w=class extends t{constructor(g){var k,P,q,ie;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=o,this._resolveIdle=o,g=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},g),!(typeof g.intervalCap=="number"&&g.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(P=(k=g.intervalCap)===null||k===void 0?void 0:k.toString())!==null&&P!==void 0?P:""}\` (${typeof g.intervalCap})`);if(g.interval===void 0||!(Number.isFinite(g.interval)&&g.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(ie=(q=g.interval)===null||q===void 0?void 0:q.toString())!==null&&ie!==void 0?ie:""}\` (${typeof g.interval})`);this._carryoverConcurrencyCount=g.carryoverConcurrencyCount,this._isIntervalIgnored=g.intervalCap===1/0||g.interval===0,this._intervalCap=g.intervalCap,this._interval=g.interval,this._queue=new g.queueClass,this._queueClass=g.queueClass,this.concurrency=g.concurrency,this._timeout=g.timeout,this._throwOnTimeout=g.throwOnTimeout===!0,this._isPaused=g.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=o,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=o,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let g=Date.now();if(this._intervalId===void 0){let k=this._intervalEnd-g;if(k<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},k)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let g=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let k=this._queue.dequeue();return k?(this.emit("active"),k(),g&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(g){if(!(typeof g=="number"&&g>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${g}\` (${typeof g})`);this._concurrency=g,this._processQueue()}async add(g,k={}){return new Promise((P,q)=>{let ie=async()=>{this._pendingCount++,this._intervalCount++;try{let he=this._timeout===void 0&&k.timeout===void 0?g():r.default(Promise.resolve(g()),k.timeout===void 0?this._timeout:k.timeout,()=>{(k.throwOnTimeout===void 0?this._throwOnTimeout:k.throwOnTimeout)&&q(s)});P(await he)}catch(he){q(he)}this._next()};this._queue.enqueue(ie,k),this._tryToStartAnother(),this.emit("add")})}async addAll(g,k){return Promise.all(g.map(async P=>this.add(P,k)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(g=>{let k=this._resolveEmpty;this._resolveEmpty=()=>{k(),g()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(g=>{let k=this._resolveIdle;this._resolveIdle=()=>{k(),g()}})}get size(){return this._queue.size}sizeBy(g){return this._queue.filter(g).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(g){this._timeout=g}};e.default=w}),pm=h((e,t)=>{u(),t.exports=r;function r(o,s,w){var g,k;if(Array.isArray(s)&&(g=s.slice(0)),typeof s=="string"&&(g=s.split(".")),typeof s=="symbol"&&(g=[s]),!Array.isArray(g))throw new Error("props arg must be an array, a string or a symbol");if(k=g.pop(),!k)return!1;n(k);for(var P;P=g.shift();)if(n(P),typeof o[P]>"u"&&(o[P]={}),o=o[P],!o||typeof o!="object")return!1;return o[k]=w,!0}function n(o){if(o==="__proto__"||o==="constructor"||o==="prototype")throw new Error("setting of prototype values not supported")}}),wm=h((e,t)=>{u();var r=xc$1();t.exports=(n,o={})=>{if(!r(n)&&!Array.isArray(n))throw new TypeError("Expected a plain object or array");let{deep:s}=o,w=[],g=[],k=q=>{let ie=w.indexOf(q);if(ie!==-1)return g[ie];let he=[];return w.push(q),g.push(he),he.push(...q.map(V=>Array.isArray(V)?k(V):r(V)?P(V):V)),he},P=q=>{let ie=w.indexOf(q);if(ie!==-1)return g[ie];let he={},V=Object.keys(q).sort(o.compare);w.push(q),g.push(he);for(let X of V){let L=q[X],we;s&&Array.isArray(L)?we=k(L):we=s&&r(L)?P(L):L,Object.defineProperty(he,X,{...Object.getOwnPropertyDescriptor(q,X),value:we})}return he};return Array.isArray(n)?s?k(n):n.slice():P(n)}}),Or=h((e,t)=>{u();var r=async function*(n,o){for await(let s of n)await o(s)&&(yield s)};t.exports=r}),Dm=h((e,t)=>{u(),t.exports=class{constructor(r){if(!(r>0)||(r-1&r)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(r),this.mask=r-1,this.top=0,this.btm=0,this.next=null}push(r){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=r,this.top=this.top+1&this.mask,!0)}shift(){let r=this.buffer[this.btm];if(r!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,r}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}}),Fi$1=h((e,t)=>{u();var r=Dm();t.exports=class{constructor(n){this.hwm=n||16,this.head=new r(this.hwm),this.tail=this.head}push(n){if(!this.head.push(n)){let o=this.head;this.head=o.next=new r(2*this.head.buffer.length),this.head.push(n)}}shift(){let n=this.tail.shift();if(n===void 0&&this.tail.next){let o=this.tail.next;return this.tail.next=null,this.tail=o,this.tail.shift()}return n}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}}}),Om=h((e,t)=>{u();var r=Fi$1();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let s=new r,w,g,k,P=()=>{if(!s.isEmpty()){if(n.writev){let _e,je=[];for(;!s.isEmpty();){if(_e=s.shift(),_e.error)throw _e.error;je.push(_e.value)}return{done:_e.done,value:je}}let Ee=s.shift();if(Ee.error)throw Ee.error;return Ee}return k?{done:!0}:new Promise((Ee,_e)=>{g=je=>(g=null,je.error?_e(je.error):n.writev&&!je.done?Ee({done:je.done,value:[je.value]}):Ee(je),w)})},q=Ee=>g?g(Ee):(s.push(Ee),w),ie=Ee=>(s=new r,g?g({error:Ee}):(s.push({error:Ee}),w)),he=Ee=>k?w:q({done:!1,value:Ee}),V=Ee=>k?w:(k=!0,Ee?ie(Ee):q({done:!0})),X=()=>(s=new r,V(),{done:!0}),L=Ee=>(V(Ee),{done:!0});if(w={[Symbol.asyncIterator](){return this},next:P,return:X,throw:L,push:he,end:V},!o)return w;let we=w;return w={[Symbol.asyncIterator](){return this},next(){return we.next()},throw(Ee){return we.throw(Ee),o&&(o(Ee),o=null),{done:!0}},return(){return we.return(),o&&(o(),o=null),{done:!0}},push:he,end(Ee){return we.end(Ee),o&&(o(Ee),o=null),w}},w}}),On$1=h((e,t)=>{u();var r=async n=>{for await(let o of n);};t.exports=r}),qm=h((e,t)=>{u();var r=async n=>{for await(let o of n)return o};t.exports=r}),Mi$1=h((e,t)=>{u();var r=async function*(n,o){for await(let s of n)yield o(s)};t.exports=r}),Rn=h((e,t)=>{u();var r=typeof Reflect=="object"?Reflect:null,n=r&&typeof r.apply=="function"?r.apply:function(ot,Qt,at){return Function.prototype.apply.call(ot,Qt,at)},o;r&&typeof r.ownKeys=="function"?o=r.ownKeys:Object.getOwnPropertySymbols?o=function(ot){return Object.getOwnPropertyNames(ot).concat(Object.getOwnPropertySymbols(ot))}:o=function(ot){return Object.getOwnPropertyNames(ot)};function s(ot){console&&console.warn&&console.warn(ot)}var w=Number.isNaN||function(ot){return ot!==ot};function g(){g.init.call(this)}t.exports=g,t.exports.once=je,g.EventEmitter=g,g.prototype._events=void 0,g.prototype._eventsCount=0,g.prototype._maxListeners=void 0;var k=10;function P(ot){if(typeof ot!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ot)}Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return k},set:function(ot){if(typeof ot!="number"||ot<0||w(ot))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ot+".");k=ot}}),g.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},g.prototype.setMaxListeners=function(ot){if(typeof ot!="number"||ot<0||w(ot))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ot+".");return this._maxListeners=ot,this};function q(ot){return ot._maxListeners===void 0?g.defaultMaxListeners:ot._maxListeners}g.prototype.getMaxListeners=function(){return q(this)},g.prototype.emit=function(ot){for(var Qt=[],at=1;at<arguments.length;at++)Qt.push(arguments[at]);var sr=ot==="error",qr=this._events;if(qr!==void 0)sr=sr&&qr.error===void 0;else if(!sr)return!1;if(sr){var Xr;if(Qt.length>0&&(Xr=Qt[0]),Xr instanceof Error)throw Xr;var rn=new Error("Unhandled error."+(Xr?" ("+Xr.message+")":""));throw rn.context=Xr,rn}var ao=qr[ot];if(ao===void 0)return!1;if(typeof ao=="function")n(ao,this,Qt);else for(var ei=ao.length,aa=we(ao,ei),at=0;at<ei;++at)n(aa[at],this,Qt);return!0};function ie(ot,Qt,at,sr){var qr,Xr,rn;if(P(at),Xr=ot._events,Xr===void 0?(Xr=ot._events=Object.create(null),ot._eventsCount=0):(Xr.newListener!==void 0&&(ot.emit("newListener",Qt,at.listener?at.listener:at),Xr=ot._events),rn=Xr[Qt]),rn===void 0)rn=Xr[Qt]=at,++ot._eventsCount;else if(typeof rn=="function"?rn=Xr[Qt]=sr?[at,rn]:[rn,at]:sr?rn.unshift(at):rn.push(at),qr=q(ot),qr>0&&rn.length>qr&&!rn.warned){rn.warned=!0;var ao=new Error("Possible EventEmitter memory leak detected. "+rn.length+" "+String(Qt)+" listeners added. Use emitter.setMaxListeners() to increase limit");ao.name="MaxListenersExceededWarning",ao.emitter=ot,ao.type=Qt,ao.count=rn.length,s(ao)}return ot}g.prototype.addListener=function(ot,Qt){return ie(this,ot,Qt,!1)},g.prototype.on=g.prototype.addListener,g.prototype.prependListener=function(ot,Qt){return ie(this,ot,Qt,!0)};function he(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function V(ot,Qt,at){var sr={fired:!1,wrapFn:void 0,target:ot,type:Qt,listener:at},qr=he.bind(sr);return qr.listener=at,sr.wrapFn=qr,qr}g.prototype.once=function(ot,Qt){return P(Qt),this.on(ot,V(this,ot,Qt)),this},g.prototype.prependOnceListener=function(ot,Qt){return P(Qt),this.prependListener(ot,V(this,ot,Qt)),this},g.prototype.removeListener=function(ot,Qt){var at,sr,qr,Xr,rn;if(P(Qt),sr=this._events,sr===void 0)return this;if(at=sr[ot],at===void 0)return this;if(at===Qt||at.listener===Qt)--this._eventsCount===0?this._events=Object.create(null):(delete sr[ot],sr.removeListener&&this.emit("removeListener",ot,at.listener||Qt));else if(typeof at!="function"){for(qr=-1,Xr=at.length-1;Xr>=0;Xr--)if(at[Xr]===Qt||at[Xr].listener===Qt){rn=at[Xr].listener,qr=Xr;break}if(qr<0)return this;qr===0?at.shift():Ee(at,qr),at.length===1&&(sr[ot]=at[0]),sr.removeListener!==void 0&&this.emit("removeListener",ot,rn||Qt)}return this},g.prototype.off=g.prototype.removeListener,g.prototype.removeAllListeners=function(ot){var Qt,at,sr;if(at=this._events,at===void 0)return this;if(at.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):at[ot]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete at[ot]),this;if(arguments.length===0){var qr=Object.keys(at),Xr;for(sr=0;sr<qr.length;++sr)Xr=qr[sr],Xr!=="removeListener"&&this.removeAllListeners(Xr);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Qt=at[ot],typeof Qt=="function")this.removeListener(ot,Qt);else if(Qt!==void 0)for(sr=Qt.length-1;sr>=0;sr--)this.removeListener(ot,Qt[sr]);return this};function X(ot,Qt,at){var sr=ot._events;if(sr===void 0)return[];var qr=sr[Qt];return qr===void 0?[]:typeof qr=="function"?at?[qr.listener||qr]:[qr]:at?_e(qr):we(qr,qr.length)}g.prototype.listeners=function(ot){return X(this,ot,!0)},g.prototype.rawListeners=function(ot){return X(this,ot,!1)},g.listenerCount=function(ot,Qt){return typeof ot.listenerCount=="function"?ot.listenerCount(Qt):L.call(ot,Qt)},g.prototype.listenerCount=L;function L(ot){var Qt=this._events;if(Qt!==void 0){var at=Qt[ot];if(typeof at=="function")return 1;if(at!==void 0)return at.length}return 0}g.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function we(ot,Qt){for(var at=new Array(Qt),sr=0;sr<Qt;++sr)at[sr]=ot[sr];return at}function Ee(ot,Qt){for(;Qt+1<ot.length;Qt++)ot[Qt]=ot[Qt+1];ot.pop()}function _e(ot){for(var Qt=new Array(ot.length),at=0;at<Qt.length;++at)Qt[at]=ot[at].listener||ot[at];return Qt}function je(ot,Qt){return new Promise(function(at,sr){function qr(rn){ot.removeListener(Qt,Xr),sr(rn)}function Xr(){typeof ot.removeListener=="function"&&ot.removeListener("error",qr),at([].slice.call(arguments))}Gt(ot,Qt,Xr,{once:!0}),Qt!=="error"&&Xt(ot,qr,{once:!0})})}function Xt(ot,Qt,at){typeof ot.on=="function"&&Gt(ot,"error",Qt,at)}function Gt(ot,Qt,at,sr){if(typeof ot.on=="function")sr.once?ot.once(Qt,at):ot.on(Qt,at);else if(typeof ot.addEventListener=="function")ot.addEventListener(Qt,function qr(Xr){sr.once&&ot.removeEventListener(Qt,qr),at(Xr)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ot)}}),Vc=h((e,t)=>{u(),t.exports={WORKER_REQUEST_READ_LOCK:"lock:worker:request-read",WORKER_RELEASE_READ_LOCK:"lock:worker:release-read",MASTER_GRANT_READ_LOCK:"lock:master:grant-read",WORKER_REQUEST_WRITE_LOCK:"lock:worker:request-write",WORKER_RELEASE_WRITE_LOCK:"lock:worker:release-write",MASTER_GRANT_WRITE_LOCK:"lock:master:grant-write"}}),aw=h(()=>{u()}),mw=h((e,t)=>{u();var r=Rn().EventEmitter,{nanoid:n}=(xo(),ue(tu)),{WORKER_REQUEST_READ_LOCK:o,WORKER_RELEASE_READ_LOCK:s,MASTER_GRANT_READ_LOCK:w,WORKER_REQUEST_WRITE_LOCK:g,WORKER_RELEASE_WRITE_LOCK:k,MASTER_GRANT_WRITE_LOCK:P}=Vc(),q,ie=(V,X,L,we,Ee)=>(_e,je)=>{je&&je.type===L&&V.emit(X,je.name,()=>(_e.send({type:Ee,name:je.name,identifier:je.identifier}),new Promise(Xt=>{let Gt=ot=>{ot&&ot.type===we&&ot.identifier===je.identifier&&(_e.removeListener("message",Gt),Xt())};_e.on("message",Gt)})))},he=(V,X,L,we)=>()=>{let Ee=n();return process$1.send({type:X,identifier:Ee,name:V}),new Promise(_e=>{let je=Xt=>{Xt&&Xt.type===L&&Xt.identifier===Ee&&(process$1.removeListener("message",je),_e(()=>{process$1.send({type:we,identifier:Ee,name:V})}))};process$1.on("message",je)})};t.exports=V=>{try{if(q=aw(),!Object.keys(q).length)return}catch{return}if(q.isMaster||V.singleProcess){let X=new r;return q.on("message",ie(X,"requestReadLock",o,s,w)),q.on("message",ie(X,"requestWriteLock",g,k,P)),X}return{isWorker:!0,readLock:X=>he(X,o,w,s),writeLock:X=>he(X,g,P,k)}}}),Gc=h((e,t)=>{u();var r={},n=o=>{o.addEventListener("message",s=>{n.dispatchEvent("message",o,s)}),o.port&&o.port.addEventListener("message",s=>{n.dispatchEvent("message",o,s)})};n.addEventListener=(o,s)=>{r[o]||(r[o]=[]),r[o].push(s)},n.removeEventListener=(o,s)=>{!r[o]||(r[o]=r[o].filter(w=>w===s))},n.dispatchEvent=function(){let o=Array.prototype.slice.call(arguments),s=o.shift();!r[s]||r[s].forEach(w=>w.apply(null,o))},t.exports=n}),Tw=h((e,t)=>{u();var r=Rn().EventEmitter,{nanoid:n}=(xo(),ue(tu)),{WORKER_REQUEST_READ_LOCK:o,WORKER_RELEASE_READ_LOCK:s,MASTER_GRANT_READ_LOCK:w,WORKER_REQUEST_WRITE_LOCK:g,WORKER_RELEASE_WRITE_LOCK:k,MASTER_GRANT_WRITE_LOCK:P}=Vc(),q=Gc(),ie=(X,L,we,Ee,_e)=>(je,Xt)=>{if(!Xt||!Xt.data||Xt.data.type!==we)return;let Gt={type:Xt.data.type,name:Xt.data.name,identifier:Xt.data.identifier};X.emit(L,Gt.name,()=>(je.postMessage({type:_e,name:Gt.name,identifier:Gt.identifier}),new Promise(ot=>{let Qt=at=>{if(!at||!at.data)return;let sr={type:at.data.type,name:at.data.name,identifier:at.data.identifier};sr&&sr.type===Ee&&sr.identifier===Gt.identifier&&(je.removeEventListener("message",Qt),ot())};je.addEventListener("message",Qt)})))},he=(X,L,we,Ee)=>()=>{let _e=n();return globalThis.postMessage({type:L,identifier:_e,name:X}),new Promise(je=>{let Xt=Gt=>{if(!Gt||!Gt.data)return;let ot={type:Gt.data.type,identifier:Gt.data.identifier};ot&&ot.type===we&&ot.identifier===_e&&(globalThis.removeEventListener("message",Xt),je(()=>{globalThis.postMessage({type:Ee,identifier:_e,name:X})}))};globalThis.addEventListener("message",Xt)})},V={singleProcess:!1};t.exports=X=>{if(X=Object.assign({},V,X),!!globalThis.document||X.singleProcess){let L=new r;return q.addEventListener("message",ie(L,"requestReadLock",o,s,w)),q.addEventListener("message",ie(L,"requestWriteLock",g,k,P)),L}return{isWorker:!0,readLock:L=>he(L,o,w,s),writeLock:L=>he(L,g,P,k)}}}),Iw=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});function t(r,n,o){let s=0,w=r.length;for(;w>0;){let g=w/2|0,k=s+g;o(r[k],n)<=0?(s=++k,w-=g+1):w=g}return s}e.default=t}),Rw=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=Iw(),r=class{constructor(){this._queue=[]}enqueue(n,o){o=Object.assign({priority:0},o);let s={priority:o.priority,run:n};if(this.size&&this._queue[this.size-1].priority>=o.priority){this._queue.push(s);return}let w=t.default(this._queue,s,(g,k)=>k.priority-g.priority);this._queue.splice(w,0,s)}dequeue(){let n=this._queue.shift();return n==null?void 0:n.run}filter(n){return this._queue.filter(o=>o.priority===n.priority).map(o=>o.run)}get size(){return this._queue.length}};e.default=r}),Pw=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=Cc$1(),r=Oc(),n=Rw(),o=()=>{},s=new r.TimeoutError,w=class extends t{constructor(g){var k,P,q,ie;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=o,this._resolveIdle=o,g=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},g),!(typeof g.intervalCap=="number"&&g.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(P=(k=g.intervalCap)===null||k===void 0?void 0:k.toString())!==null&&P!==void 0?P:""}\` (${typeof g.intervalCap})`);if(g.interval===void 0||!(Number.isFinite(g.interval)&&g.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(ie=(q=g.interval)===null||q===void 0?void 0:q.toString())!==null&&ie!==void 0?ie:""}\` (${typeof g.interval})`);this._carryoverConcurrencyCount=g.carryoverConcurrencyCount,this._isIntervalIgnored=g.intervalCap===1/0||g.interval===0,this._intervalCap=g.intervalCap,this._interval=g.interval,this._queue=new g.queueClass,this._queueClass=g.queueClass,this.concurrency=g.concurrency,this._timeout=g.timeout,this._throwOnTimeout=g.throwOnTimeout===!0,this._isPaused=g.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=o,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=o,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let g=Date.now();if(this._intervalId===void 0){let k=this._intervalEnd-g;if(k<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},k)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let g=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let k=this._queue.dequeue();return k?(this.emit("active"),k(),g&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(g){if(!(typeof g=="number"&&g>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${g}\` (${typeof g})`);this._concurrency=g,this._processQueue()}async add(g,k={}){return new Promise((P,q)=>{let ie=async()=>{this._pendingCount++,this._intervalCount++;try{let he=this._timeout===void 0&&k.timeout===void 0?g():r.default(Promise.resolve(g()),k.timeout===void 0?this._timeout:k.timeout,()=>{(k.throwOnTimeout===void 0?this._throwOnTimeout:k.throwOnTimeout)&&q(s)});P(await he)}catch(he){q(he)}this._next()};this._queue.enqueue(ie,k),this._tryToStartAnother(),this.emit("add")})}async addAll(g,k){return Promise.all(g.map(async P=>this.add(P,k)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(g=>{let k=this._resolveEmpty;this._resolveEmpty=()=>{k(),g()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(g=>{let k=this._resolveIdle;this._resolveIdle=()=>{k(),g()}})}get size(){return this._queue.size}sizeBy(g){return this._queue.filter(g).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(g){this._timeout=g}};e.default=w}),kw=h((e,t)=>{u();var r;t.exports.timeout=function(n,o){var s=new r,w;return Promise.race([n,new Promise(function(g,k){w=setTimeout(function(){k(s)},o)})]).then(function(g){return clearTimeout(w),g},function(g){throw clearTimeout(w),g})},r=t.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"},r.prototype=Object.create(Error.prototype),r.prototype.name="TimeoutError"}),Nw=h((e,t)=>{u();var r=mw(),n=Tw(),{default:o}=Pw(),{timeout:s}=kw(),w=Gc(),g={},k;function P(he,V){let X,L=new Promise(we=>{X=we});return he.add(()=>s((()=>new Promise(we=>{X(()=>{we()})}))(),V.timeout)),L}var q=(he,V)=>{if(k.isWorker)return{readLock:k.readLock(he,V),writeLock:k.writeLock(he,V)};let X=new o({concurrency:1}),L=null;return{readLock:()=>{if(L)return P(L,V);L=new o({concurrency:V.concurrency,autoStart:!1});let we=L,Ee=P(L,V);return X.add(()=>(we.start(),we.onIdle().then(()=>{L===we&&(L=null)}))),Ee},writeLock:()=>(L=null,P(X,V))}},ie={concurrency:1/0,timeout:846e5,global:global$1,singleProcess:!1};t.exports=(he,V)=>(V||(V={}),typeof he=="object"&&(V=he,he="lock"),he||(he="lock"),V=Object.assign({},ie,V),k||(k=r(V)||n(V),k.isWorker||(k.on("requestReadLock",(X,L)=>{!g[X]||g[X].readLock().then(we=>L().finally(()=>we()))}),k.on("requestWriteLock",async(X,L)=>{!g[X]||g[X].writeLock().then(we=>L().finally(()=>we()))}))),g[he]||(g[he]=q(he,V)),g[he]),t.exports.Worker=function(he,V){V=V||global$1.Worker;let X;try{X=new V(he)}catch(L){L.message.includes("not a constructor")&&(X=V(he))}if(!X)throw new Error("Could not create Worker from",V);return w(X),X}}),Mw=h((e,t)=>{u();async function*r(n,o=1){let s=[];o<1&&(o=1);for await(let w of n)for(s.push(w);s.length>=o;)yield s.slice(0,o),s=s.slice(o);for(;s.length;)yield s.slice(0,o),s=s.slice(o)}t.exports=r}),qw=h((e,t)=>{u();var r=Mw();async function*n(o,s=1){for await(let w of r(o,s)){let g=w.map(k=>k().then(P=>({ok:!0,value:P}),P=>({ok:!1,err:P})));for(let k=0;k<g.length;k++){let P=await g[k];if(P.ok)yield P.value;else throw P.err}}}t.exports=n}),Kw=h((e,t)=>{u();var r=(...g)=>{let k;for(;g.length;)k=g.shift()(k);return k},n=g=>g&&(typeof g[Symbol.asyncIterator]=="function"||typeof g[Symbol.iterator]=="function"||typeof g.next=="function"),o=g=>g&&typeof g.sink=="function"&&n(g.source),s=g=>k=>(g.sink(k),g.source),w=(...g)=>{if(o(g[0])){let k=g[0];g[0]=()=>k.source}else if(n(g[0])){let k=g[0];g[0]=()=>k}if(g.length>1&&o(g[g.length-1])&&(g[g.length-1]=g[g.length-1].sink),g.length>2)for(let k=1;k<g.length-1;k++)o(g[k])&&(g[k]=s(g[k]));return r(...g)};t.exports=w,t.exports.pipe=w,t.exports.rawPipe=r,t.exports.isIterable=n,t.exports.isDuplex=o}),Ww=h((e,t)=>{u();var r=Fi$1();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let s=new r,w,g,k,P=()=>{if(!s.isEmpty()){if(n.writev){let _e,je=[];for(;!s.isEmpty();){if(_e=s.shift(),_e.error)throw _e.error;je.push(_e.value)}return{done:_e.done,value:je}}let Ee=s.shift();if(Ee.error)throw Ee.error;return Ee}return k?{done:!0}:new Promise((Ee,_e)=>{g=je=>(g=null,je.error?_e(je.error):n.writev&&!je.done?Ee({done:je.done,value:[je.value]}):Ee(je),w)})},q=Ee=>g?g(Ee):(s.push(Ee),w),ie=Ee=>(s=new r,g?g({error:Ee}):(s.push({error:Ee}),w)),he=Ee=>k?w:q({done:!1,value:Ee}),V=Ee=>k?w:(k=!0,Ee?ie(Ee):q({done:!0})),X=()=>(s=new r,V(),{done:!0}),L=Ee=>(V(Ee),{done:!0});if(w={[Symbol.asyncIterator](){return this},next:P,return:X,throw:L,push:he,end:V},!o)return w;let we=w;return w={[Symbol.asyncIterator](){return this},next(){return we.next()},throw(Ee){return we.throw(Ee),o&&(o(Ee),o=null),{done:!0}},return(){return we.return(),o&&(o(),o=null),{done:!0}},push:he,end(Ee){return we.end(Ee),o&&(o(Ee),o=null),w}},w}}),of=h((e,t)=>{u();var r=Ww(),n=async function*(...o){let s=r();setTimeout(async()=>{try{await Promise.all(o.map(async w=>{for await(let g of w)s.push(g)})),s.end()}catch(w){s.end(w)}},0),yield*s};t.exports=n}),Is$1=h((e,t)=>{u();var r=async n=>{let o=[];for await(let s of n)o.push(s);return o};t.exports=r}),Ui=h((e,t)=>{u();var r=async function*(n,o){let s=0;if(!(o<1)){for await(let w of n)if(yield w,s++,s===o)return}};t.exports=r}),fb=h((e,t)=>{u();var r=(...g)=>{let k;for(;g.length;)k=g.shift()(k);return k},n=g=>g&&(typeof g[Symbol.asyncIterator]=="function"||typeof g[Symbol.iterator]=="function"||typeof g.next=="function"),o=g=>g&&typeof g.sink=="function"&&n(g.source),s=g=>k=>(g.sink(k),g.source),w=(...g)=>{if(o(g[0])){let k=g[0];g[0]=()=>k.source}else if(n(g[0])){let k=g[0];g[0]=()=>k}if(g.length>1&&o(g[g.length-1])&&(g[g.length-1]=g[g.length-1].sink),g.length>2)for(let k=1;k<g.length-1;k++)o(g[k])&&(g[k]=s(g[k]));return r(...g)};t.exports=w,t.exports.pipe=w,t.exports.rawPipe=r,t.exports.isIterable=n,t.exports.isDuplex=o}),pb=h((e,t)=>{u();var r=Fi$1();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let s=new r,w,g,k,P=()=>{if(!s.isEmpty()){if(n.writev){let _e,je=[];for(;!s.isEmpty();){if(_e=s.shift(),_e.error)throw _e.error;je.push(_e.value)}return{done:_e.done,value:je}}let Ee=s.shift();if(Ee.error)throw Ee.error;return Ee}return k?{done:!0}:new Promise((Ee,_e)=>{g=je=>(g=null,je.error?_e(je.error):n.writev&&!je.done?Ee({done:je.done,value:[je.value]}):Ee(je),w)})},q=Ee=>g?g(Ee):(s.push(Ee),w),ie=Ee=>(s=new r,g?g({error:Ee}):(s.push({error:Ee}),w)),he=Ee=>k?w:q({done:!1,value:Ee}),V=Ee=>k?w:(k=!0,Ee?ie(Ee):q({done:!0})),X=()=>(s=new r,V(),{done:!0}),L=Ee=>(V(Ee),{done:!0});if(w={[Symbol.asyncIterator](){return this},next:P,return:X,throw:L,push:he,end:V},!o)return w;let we=w;return w={[Symbol.asyncIterator](){return this},next(){return we.next()},throw(Ee){return we.throw(Ee),o&&(o(Ee),o=null),{done:!0}},return(){return we.return(),o&&(o(),o=null),{done:!0}},push:he,end(Ee){return we.end(Ee),o&&(o(Ee),o=null),w}},w}}),gb=h((e,t)=>{u();var r=Is$1(),n=async function*(o,s){yield*(await r(o)).sort(s)};t.exports=n}),hf$1=h((e,t)=>{u(),t.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},n=Symbol("test"),o=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var s=42;r[n]=s;for(n in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var w=Object.getOwnPropertySymbols(r);if(w.length!==1||w[0]!==n||!Object.prototype.propertyIsEnumerable.call(r,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var g=Object.getOwnPropertyDescriptor(r,n);if(g.value!==s||g.enumerable!==!0)return!1}return!0}}),$i$1=h((e,t)=>{u();var r=hf$1();t.exports=function(){return r()&&!!Symbol.toStringTag}}),Eb=h((e,t)=>{u();var r=typeof Symbol<"u"&&Symbol,n=hf$1();t.exports=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:n()}}),xb=h((e,t)=>{u();var r="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,o=Object.prototype.toString,s="[object Function]";t.exports=function(w){var g=this;if(typeof g!="function"||o.call(g)!==s)throw new TypeError(r+g);for(var k=n.call(arguments,1),P,q=function(){if(this instanceof P){var L=g.apply(this,k.concat(n.call(arguments)));return Object(L)===L?L:this}else return g.apply(w,k.concat(n.call(arguments)))},ie=Math.max(0,g.length-k.length),he=[],V=0;V<ie;V++)he.push("$"+V);if(P=Function("binder","return function ("+he.join(",")+"){ return binder.apply(this,arguments); }")(q),g.prototype){var X=function(){};X.prototype=g.prototype,P.prototype=new X,X.prototype=null}return P}}),Ps$1=h((e,t)=>{u();var r=xb();t.exports=Function.prototype.bind||r}),Sb=h((e,t)=>{u();var r=Ps$1();t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)}),Ns$1=h((e,t)=>{u();var r,n=SyntaxError,o=Function,s=TypeError,w=function(rn){try{return o('"use strict"; return ('+rn+").constructor;")()}catch{}},g=Object.getOwnPropertyDescriptor;if(g)try{g({},"")}catch{g=null}var k=function(){throw new s},P=g?function(){try{return arguments.callee,k}catch{try{return g(arguments,"callee").get}catch{return k}}}():k,q=Eb()(),ie=Object.getPrototypeOf||function(rn){return rn.__proto__},he={},V=typeof Uint8Array>"u"?r:ie(Uint8Array),X={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":q?ie([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":he,"%AsyncGenerator%":he,"%AsyncGeneratorFunction%":he,"%AsyncIteratorPrototype%":he,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":he,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":q?ie(ie([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!q?r:ie(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!q?r:ie(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":q?ie(""[Symbol.iterator]()):r,"%Symbol%":q?Symbol:r,"%SyntaxError%":n,"%ThrowTypeError%":P,"%TypedArray%":V,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet},L=function rn(ao){var ei;if(ao==="%AsyncFunction%")ei=w("async function () {}");else if(ao==="%GeneratorFunction%")ei=w("function* () {}");else if(ao==="%AsyncGeneratorFunction%")ei=w("async function* () {}");else if(ao==="%AsyncGenerator%"){var aa=rn("%AsyncGeneratorFunction%");aa&&(ei=aa.prototype)}else if(ao==="%AsyncIteratorPrototype%"){var ga=rn("%AsyncGenerator%");ga&&(ei=ie(ga.prototype))}return X[ao]=ei,ei},we={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ee=Ps$1(),_e=Sb(),je=Ee.call(Function.call,Array.prototype.concat),Xt=Ee.call(Function.apply,Array.prototype.splice),Gt=Ee.call(Function.call,String.prototype.replace),ot=Ee.call(Function.call,String.prototype.slice),Qt=Ee.call(Function.call,RegExp.prototype.exec),at=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,sr=/\\(\\)?/g,qr=function(rn){var ao=ot(rn,0,1),ei=ot(rn,-1);if(ao==="%"&&ei!=="%")throw new n("invalid intrinsic syntax, expected closing `%`");if(ei==="%"&&ao!=="%")throw new n("invalid intrinsic syntax, expected opening `%`");var aa=[];return Gt(rn,at,function(ga,Ca,wo,Ka){aa[aa.length]=wo?Gt(Ka,sr,"$1"):Ca||ga}),aa},Xr=function(rn,ao){var ei=rn,aa;if(_e(we,ei)&&(aa=we[ei],ei="%"+aa[0]+"%"),_e(X,ei)){var ga=X[ei];if(ga===he&&(ga=L(ei)),typeof ga>"u"&&!ao)throw new s("intrinsic "+rn+" exists, but is not available. Please file an issue!");return{alias:aa,name:ei,value:ga}}throw new n("intrinsic "+rn+" does not exist!")};t.exports=function(rn,ao){if(typeof rn!="string"||rn.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ao!="boolean")throw new s('"allowMissing" argument must be a boolean');if(Qt(/^%?[^%]*%?$/g,rn)===null)throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ei=qr(rn),aa=ei.length>0?ei[0]:"",ga=Xr("%"+aa+"%",ao),Ca=ga.name,wo=ga.value,Ka=!1,Js=ga.alias;Js&&(aa=Js[0],Xt(ei,je([0,1],Js)));for(var ia=1,ir=!0;ia<ei.length;ia+=1){var Hr=ei[ia],Fr=ot(Hr,0,1),Ei=ot(Hr,-1);if((Fr==='"'||Fr==="'"||Fr==="`"||Ei==='"'||Ei==="'"||Ei==="`")&&Fr!==Ei)throw new n("property names with quotes must have matching quotes");if((Hr==="constructor"||!ir)&&(Ka=!0),aa+="."+Hr,Ca="%"+aa+"%",_e(X,Ca))wo=X[Ca];else if(wo!=null){if(!(Hr in wo)){if(!ao)throw new s("base intrinsic for "+rn+" exists, but the property is not available.");return}if(g&&ia+1>=ei.length){var ba=g(wo,Hr);ir=!!ba,ir&&"get"in ba&&!("originalValue"in ba.get)?wo=ba.get:wo=wo[Hr]}else ir=_e(wo,Hr),wo=wo[Hr];ir&&!Ka&&(X[Ca]=wo)}}return wo}}),Nb=h((e,t)=>{u();var r=Ps$1(),n=Ns$1(),o=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),w=n("%Reflect.apply%",!0)||r.call(s,o),g=n("%Object.getOwnPropertyDescriptor%",!0),k=n("%Object.defineProperty%",!0),P=n("%Math.max%");if(k)try{k({},"a",{value:1})}catch{k=null}t.exports=function(ie){var he=w(r,s,arguments);if(g&&k){var V=g(he,"length");V.configurable&&k(he,"length",{value:1+P(0,ie.length-(arguments.length-1))})}return he};var q=function(){return w(r,o,arguments)};k?k(t.exports,"apply",{value:q}):t.exports.apply=q}),Ms$1=h((e,t)=>{u();var r=Ns$1(),n=Nb(),o=n(r("String.prototype.indexOf"));t.exports=function(s,w){var g=r(s,!!w);return typeof g=="function"&&o(s,".prototype.")>-1?n(g):g}}),$b=h((e,t)=>{u();var r=$i$1()(),n=Ms$1(),o=n("Object.prototype.toString"),s=function(k){return r&&k&&typeof k=="object"&&Symbol.toStringTag in k?!1:o(k)==="[object Arguments]"},w=function(k){return s(k)?!0:k!==null&&typeof k=="object"&&typeof k.length=="number"&&k.length>=0&&o(k)!=="[object Array]"&&o(k.callee)==="[object Function]"},g=function(){return s(arguments)}();s.isLegacyArguments=w,t.exports=g?s:w}),Wb=h((e,t)=>{u();var r=Object.prototype.toString,n=Function.prototype.toString,o=/^\s*(?:function)?\*/,s=$i$1()(),w=Object.getPrototypeOf,g=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch{}},k;t.exports=function(P){if(typeof P!="function")return!1;if(o.test(n.call(P)))return!0;if(!s){var q=r.call(P);return q==="[object GeneratorFunction]"}if(!w)return!1;if(typeof k>"u"){var ie=g();k=ie?w(ie):!1}return w(P)===k}}),Jb=h((e,t)=>{u();var r=Function.prototype.toString,n=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,o,s;if(typeof n=="function"&&typeof Object.defineProperty=="function")try{o=Object.defineProperty({},"length",{get:function(){throw s}}),s={},n(function(){throw 42},null,o)}catch(X){X!==s&&(n=null)}else n=null;var w=/^\s*class\b/,g=function(X){try{var L=r.call(X);return w.test(L)}catch{return!1}},k=function(X){try{return g(X)?!1:(r.call(X),!0)}catch{return!1}},P=Object.prototype.toString,q="[object Function]",ie="[object GeneratorFunction]",he=typeof Symbol=="function"&&!!Symbol.toStringTag,V=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{};t.exports=n?function(X){if(X===V)return!0;if(!X||typeof X!="function"&&typeof X!="object")return!1;if(typeof X=="function"&&!X.prototype)return!0;try{n(X,null,o)}catch(L){if(L!==s)return!1}return!g(X)}:function(X){if(X===V)return!0;if(!X||typeof X!="function"&&typeof X!="object")return!1;if(typeof X=="function"&&!X.prototype)return!0;if(he)return k(X);if(g(X))return!1;var L=P.call(X);return L===q||L===ie}}),Df$1=h((e,t)=>{u();var r=Jb(),n=Object.prototype.toString,o=Object.prototype.hasOwnProperty,s=function(P,q,ie){for(var he=0,V=P.length;he<V;he++)o.call(P,he)&&(ie==null?q(P[he],he,P):q.call(ie,P[he],he,P))},w=function(P,q,ie){for(var he=0,V=P.length;he<V;he++)ie==null?q(P.charAt(he),he,P):q.call(ie,P.charAt(he),he,P)},g=function(P,q,ie){for(var he in P)o.call(P,he)&&(ie==null?q(P[he],he,P):q.call(ie,P[he],he,P))},k=function(P,q,ie){if(!r(q))throw new TypeError("iterator must be a function");var he;arguments.length>=3&&(he=ie),n.call(P)==="[object Array]"?s(P,q,he):typeof P=="string"?w(P,q,he):g(P,q,he)};t.exports=k}),Sf$1=h((e,t)=>{u();var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n=typeof globalThis>"u"?global$1:globalThis;t.exports=function(){for(var o=[],s=0;s<r.length;s++)typeof n[r[s]]=="function"&&(o[o.length]=r[s]);return o}}),Cf$1=h((e,t)=>{u();var r=Ns$1(),n=r("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch{n=null}t.exports=n}),If$1=h((e,t)=>{u();var r=Df$1(),n=Sf$1(),o=Ms$1(),s=o("Object.prototype.toString"),w=$i$1()(),g=typeof globalThis>"u"?global$1:globalThis,k=n(),P=o("Array.prototype.indexOf",!0)||function(L,we){for(var Ee=0;Ee<L.length;Ee+=1)if(L[Ee]===we)return Ee;return-1},q=o("String.prototype.slice"),ie={},he=Cf$1(),V=Object.getPrototypeOf;w&&he&&V&&r(k,function(L){var we=new g[L];if(Symbol.toStringTag in we){var Ee=V(we),_e=he(Ee,Symbol.toStringTag);if(!_e){var je=V(Ee);_e=he(je,Symbol.toStringTag)}ie[L]=_e.get}});var X=function(L){var we=!1;return r(ie,function(Ee,_e){if(!we)try{we=Ee.call(L)===_e}catch{}}),we};t.exports=function(L){if(!L||typeof L!="object")return!1;if(!w||!(Symbol.toStringTag in L)){var we=q(s(L),8,-1);return P(k,we)>-1}return he?X(L):!1}}),l0=h((e,t)=>{u();var r=Df$1(),n=Sf$1(),o=Ms$1(),s=o("Object.prototype.toString"),w=$i$1()(),g=typeof globalThis>"u"?global$1:globalThis,k=n(),P=o("String.prototype.slice"),q={},ie=Cf$1(),he=Object.getPrototypeOf;w&&ie&&he&&r(k,function(L){if(typeof g[L]=="function"){var we=new g[L];if(Symbol.toStringTag in we){var Ee=he(we),_e=ie(Ee,Symbol.toStringTag);if(!_e){var je=he(Ee);_e=ie(je,Symbol.toStringTag)}q[L]=_e.get}}});var V=function(L){var we=!1;return r(q,function(Ee,_e){if(!we)try{var je=Ee.call(L);je===_e&&(we=je)}catch{}}),we},X=If$1();t.exports=function(L){return X(L)?!w||!(Symbol.toStringTag in L)?P(s(L),8,-1):V(L):!1}}),A0=h(e=>{u();var t=$b(),r=Wb(),n=l0(),o=If$1();function s(tr){return tr.call.bind(tr)}var w=typeof BigInt<"u",g=typeof Symbol<"u",k=s(Object.prototype.toString),P=s(Number.prototype.valueOf),q=s(String.prototype.valueOf),ie=s(Boolean.prototype.valueOf);w&&(he=s(BigInt.prototype.valueOf));var he;g&&(V=s(Symbol.prototype.valueOf));var V;function X(tr,yo){if(typeof tr!="object")return!1;try{return yo(tr),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=o;function L(tr){return typeof Promise<"u"&&tr instanceof Promise||tr!==null&&typeof tr=="object"&&typeof tr.then=="function"&&typeof tr.catch=="function"}e.isPromise=L;function we(tr){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(tr):o(tr)||Hr(tr)}e.isArrayBufferView=we;function Ee(tr){return n(tr)==="Uint8Array"}e.isUint8Array=Ee;function _e(tr){return n(tr)==="Uint8ClampedArray"}e.isUint8ClampedArray=_e;function je(tr){return n(tr)==="Uint16Array"}e.isUint16Array=je;function Xt(tr){return n(tr)==="Uint32Array"}e.isUint32Array=Xt;function Gt(tr){return n(tr)==="Int8Array"}e.isInt8Array=Gt;function ot(tr){return n(tr)==="Int16Array"}e.isInt16Array=ot;function Qt(tr){return n(tr)==="Int32Array"}e.isInt32Array=Qt;function at(tr){return n(tr)==="Float32Array"}e.isFloat32Array=at;function sr(tr){return n(tr)==="Float64Array"}e.isFloat64Array=sr;function qr(tr){return n(tr)==="BigInt64Array"}e.isBigInt64Array=qr;function Xr(tr){return n(tr)==="BigUint64Array"}e.isBigUint64Array=Xr;function rn(tr){return k(tr)==="[object Map]"}rn.working=typeof Map<"u"&&rn(new Map);function ao(tr){return typeof Map>"u"?!1:rn.working?rn(tr):tr instanceof Map}e.isMap=ao;function ei(tr){return k(tr)==="[object Set]"}ei.working=typeof Set<"u"&&ei(new Set);function aa(tr){return typeof Set>"u"?!1:ei.working?ei(tr):tr instanceof Set}e.isSet=aa;function ga(tr){return k(tr)==="[object WeakMap]"}ga.working=typeof WeakMap<"u"&&ga(new WeakMap);function Ca(tr){return typeof WeakMap>"u"?!1:ga.working?ga(tr):tr instanceof WeakMap}e.isWeakMap=Ca;function wo(tr){return k(tr)==="[object WeakSet]"}wo.working=typeof WeakSet<"u"&&wo(new WeakSet);function Ka(tr){return wo(tr)}e.isWeakSet=Ka;function Js(tr){return k(tr)==="[object ArrayBuffer]"}Js.working=typeof ArrayBuffer<"u"&&Js(new ArrayBuffer);function ia(tr){return typeof ArrayBuffer>"u"?!1:Js.working?Js(tr):tr instanceof ArrayBuffer}e.isArrayBuffer=ia;function ir(tr){return k(tr)==="[object DataView]"}ir.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ir(new DataView(new ArrayBuffer(1),0,1));function Hr(tr){return typeof DataView>"u"?!1:ir.working?ir(tr):tr instanceof DataView}e.isDataView=Hr;var Fr=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Ei(tr){return k(tr)==="[object SharedArrayBuffer]"}function ba(tr){return typeof Fr>"u"?!1:(typeof Ei.working>"u"&&(Ei.working=Ei(new Fr)),Ei.working?Ei(tr):tr instanceof Fr)}e.isSharedArrayBuffer=ba;function Ea(tr){return k(tr)==="[object AsyncFunction]"}e.isAsyncFunction=Ea;function Kr(tr){return k(tr)==="[object Map Iterator]"}e.isMapIterator=Kr;function Zr(tr){return k(tr)==="[object Set Iterator]"}e.isSetIterator=Zr;function st(tr){return k(tr)==="[object Generator]"}e.isGeneratorObject=st;function vr(tr){return k(tr)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=vr;function Pr(tr){return X(tr,P)}e.isNumberObject=Pr;function Wt(tr){return X(tr,q)}e.isStringObject=Wt;function it(tr){return X(tr,ie)}e.isBooleanObject=it;function Yr(tr){return w&&X(tr,he)}e.isBigIntObject=Yr;function en(tr){return g&&X(tr,V)}e.isSymbolObject=en;function Qr(tr){return Pr(tr)||Wt(tr)||it(tr)||Yr(tr)||en(tr)}e.isBoxedPrimitive=Qr;function tn(tr){return typeof Uint8Array<"u"&&(ia(tr)||ba(tr))}e.isAnyArrayBuffer=tn,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(tr){Object.defineProperty(e,tr,{enumerable:!1,value:function(){throw new Error(tr+" is not supported in userland")}})})}),C0=h((e,t)=>{u(),t.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}}),Te=h((e,t)=>{u(),typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var o=function(){};o.prototype=n.prototype,r.prototype=new o,r.prototype.constructor=r}}}),P0=h(e=>{u();var t=Object.getOwnPropertyDescriptors||function(ir){for(var Hr=Object.keys(ir),Fr={},Ei=0;Ei<Hr.length;Ei++)Fr[Hr[Ei]]=Object.getOwnPropertyDescriptor(ir,Hr[Ei]);return Fr},r=/%[sdj%]/g;e.format=function(ir){if(!Gt(ir)){for(var Hr=[],Fr=0;Fr<arguments.length;Fr++)Hr.push(w(arguments[Fr]));return Hr.join(" ")}for(var Fr=1,Ei=arguments,ba=Ei.length,Ea=String(ir).replace(r,function(st){if(st==="%%")return"%";if(Fr>=ba)return st;switch(st){case"%s":return String(Ei[Fr++]);case"%d":return Number(Ei[Fr++]);case"%j":try{return JSON.stringify(Ei[Fr++])}catch{return"[Circular]"}default:return st}}),Kr=Ei[Fr];Fr<ba;Kr=Ei[++Fr])_e(Kr)||!sr(Kr)?Ea+=" "+Kr:Ea+=" "+w(Kr);return Ea},e.deprecate=function(ir,Hr){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return ir;if(typeof process$1>"u")return function(){return e.deprecate(ir,Hr).apply(this,arguments)};var Fr=!1;function Ei(){if(!Fr){if(process$1.throwDeprecation)throw new Error(Hr);process$1.traceDeprecation?console.trace(Hr):console.error(Hr),Fr=!0}return ir.apply(this,arguments)}return Ei};var n={},o=/^$/;process$1.env.NODE_DEBUG&&(s=process$1.env.NODE_DEBUG,s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+s+"$","i"));var s;e.debuglog=function(ir){if(ir=ir.toUpperCase(),!n[ir])if(o.test(ir)){var Hr=process$1.pid;n[ir]=function(){var Fr=e.format.apply(e,arguments);console.error("%s %d: %s",ir,Hr,Fr)}}else n[ir]=function(){};return n[ir]};function w(ir,Hr){var Fr={seen:[],stylize:k};return arguments.length>=3&&(Fr.depth=arguments[2]),arguments.length>=4&&(Fr.colors=arguments[3]),Ee(Hr)?Fr.showHidden=Hr:Hr&&e._extend(Fr,Hr),Qt(Fr.showHidden)&&(Fr.showHidden=!1),Qt(Fr.depth)&&(Fr.depth=2),Qt(Fr.colors)&&(Fr.colors=!1),Qt(Fr.customInspect)&&(Fr.customInspect=!0),Fr.colors&&(Fr.stylize=g),q(Fr,ir,Fr.depth)}e.inspect=w,w.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},w.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function g(ir,Hr){var Fr=w.styles[Hr];return Fr?"\x1B["+w.colors[Fr][0]+"m"+ir+"\x1B["+w.colors[Fr][1]+"m":ir}function k(ir,Hr){return ir}function P(ir){var Hr={};return ir.forEach(function(Fr,Ei){Hr[Fr]=!0}),Hr}function q(ir,Hr,Fr){if(ir.customInspect&&Hr&&rn(Hr.inspect)&&Hr.inspect!==e.inspect&&!(Hr.constructor&&Hr.constructor.prototype===Hr)){var Ei=Hr.inspect(Fr,ir);return Gt(Ei)||(Ei=q(ir,Ei,Fr)),Ei}var ba=ie(ir,Hr);if(ba)return ba;var Ea=Object.keys(Hr),Kr=P(Ea);if(ir.showHidden&&(Ea=Object.getOwnPropertyNames(Hr)),Xr(Hr)&&(Ea.indexOf("message")>=0||Ea.indexOf("description")>=0))return he(Hr);if(Ea.length===0){if(rn(Hr)){var Zr=Hr.name?": "+Hr.name:"";return ir.stylize("[Function"+Zr+"]","special")}if(at(Hr))return ir.stylize(RegExp.prototype.toString.call(Hr),"regexp");if(qr(Hr))return ir.stylize(Date.prototype.toString.call(Hr),"date");if(Xr(Hr))return he(Hr)}var st="",vr=!1,Pr=["{","}"];if(we(Hr)&&(vr=!0,Pr=["[","]"]),rn(Hr)){var Wt=Hr.name?": "+Hr.name:"";st=" [Function"+Wt+"]"}if(at(Hr)&&(st=" "+RegExp.prototype.toString.call(Hr)),qr(Hr)&&(st=" "+Date.prototype.toUTCString.call(Hr)),Xr(Hr)&&(st=" "+he(Hr)),Ea.length===0&&(!vr||Hr.length==0))return Pr[0]+st+Pr[1];if(Fr<0)return at(Hr)?ir.stylize(RegExp.prototype.toString.call(Hr),"regexp"):ir.stylize("[Object]","special");ir.seen.push(Hr);var it;return vr?it=V(ir,Hr,Fr,Kr,Ea):it=Ea.map(function(Yr){return X(ir,Hr,Fr,Kr,Yr,vr)}),ir.seen.pop(),L(it,st,Pr)}function ie(ir,Hr){if(Qt(Hr))return ir.stylize("undefined","undefined");if(Gt(Hr)){var Fr="'"+JSON.stringify(Hr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ir.stylize(Fr,"string")}if(Xt(Hr))return ir.stylize(""+Hr,"number");if(Ee(Hr))return ir.stylize(""+Hr,"boolean");if(_e(Hr))return ir.stylize("null","null")}function he(ir){return"["+Error.prototype.toString.call(ir)+"]"}function V(ir,Hr,Fr,Ei,ba){for(var Ea=[],Kr=0,Zr=Hr.length;Kr<Zr;++Kr)wo(Hr,String(Kr))?Ea.push(X(ir,Hr,Fr,Ei,String(Kr),!0)):Ea.push("");return ba.forEach(function(st){st.match(/^\d+$/)||Ea.push(X(ir,Hr,Fr,Ei,st,!0))}),Ea}function X(ir,Hr,Fr,Ei,ba,Ea){var Kr,Zr,st;if(st=Object.getOwnPropertyDescriptor(Hr,ba)||{value:Hr[ba]},st.get?st.set?Zr=ir.stylize("[Getter/Setter]","special"):Zr=ir.stylize("[Getter]","special"):st.set&&(Zr=ir.stylize("[Setter]","special")),wo(Ei,ba)||(Kr="["+ba+"]"),Zr||(ir.seen.indexOf(st.value)<0?(_e(Fr)?Zr=q(ir,st.value,null):Zr=q(ir,st.value,Fr-1),Zr.indexOf(`
`)>-1&&(Ea?Zr=Zr.split(`
`).map(function(vr){return"  "+vr}).join(`
`).substr(2):Zr=`
`+Zr.split(`
`).map(function(vr){return"   "+vr}).join(`
`))):Zr=ir.stylize("[Circular]","special")),Qt(Kr)){if(Ea&&ba.match(/^\d+$/))return Zr;Kr=JSON.stringify(""+ba),Kr.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Kr=Kr.substr(1,Kr.length-2),Kr=ir.stylize(Kr,"name")):(Kr=Kr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Kr=ir.stylize(Kr,"string"))}return Kr+": "+Zr}function L(ir,Hr,Fr){var Ei=0,ba=ir.reduce(function(Ea,Kr){return Ei++,Kr.indexOf(`
`)>=0&&Ei++,Ea+Kr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ba>60?Fr[0]+(Hr===""?"":Hr+`
 `)+" "+ir.join(`,
  `)+" "+Fr[1]:Fr[0]+Hr+" "+ir.join(", ")+" "+Fr[1]}e.types=A0();function we(ir){return Array.isArray(ir)}e.isArray=we;function Ee(ir){return typeof ir=="boolean"}e.isBoolean=Ee;function _e(ir){return ir===null}e.isNull=_e;function je(ir){return ir==null}e.isNullOrUndefined=je;function Xt(ir){return typeof ir=="number"}e.isNumber=Xt;function Gt(ir){return typeof ir=="string"}e.isString=Gt;function ot(ir){return typeof ir=="symbol"}e.isSymbol=ot;function Qt(ir){return ir===void 0}e.isUndefined=Qt;function at(ir){return sr(ir)&&ei(ir)==="[object RegExp]"}e.isRegExp=at,e.types.isRegExp=at;function sr(ir){return typeof ir=="object"&&ir!==null}e.isObject=sr;function qr(ir){return sr(ir)&&ei(ir)==="[object Date]"}e.isDate=qr,e.types.isDate=qr;function Xr(ir){return sr(ir)&&(ei(ir)==="[object Error]"||ir instanceof Error)}e.isError=Xr,e.types.isNativeError=Xr;function rn(ir){return typeof ir=="function"}e.isFunction=rn;function ao(ir){return ir===null||typeof ir=="boolean"||typeof ir=="number"||typeof ir=="string"||typeof ir=="symbol"||typeof ir>"u"}e.isPrimitive=ao,e.isBuffer=C0();function ei(ir){return Object.prototype.toString.call(ir)}function aa(ir){return ir<10?"0"+ir.toString(10):ir.toString(10)}var ga=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ca(){var ir=new Date,Hr=[aa(ir.getHours()),aa(ir.getMinutes()),aa(ir.getSeconds())].join(":");return[ir.getDate(),ga[ir.getMonth()],Hr].join(" ")}e.log=function(){console.log("%s - %s",Ca(),e.format.apply(e,arguments))},e.inherits=Te(),e._extend=function(ir,Hr){if(!Hr||!sr(Hr))return ir;for(var Fr=Object.keys(Hr),Ei=Fr.length;Ei--;)ir[Fr[Ei]]=Hr[Fr[Ei]];return ir};function wo(ir,Hr){return Object.prototype.hasOwnProperty.call(ir,Hr)}var Ka=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(ir){if(typeof ir!="function")throw new TypeError('The "original" argument must be of type Function');if(Ka&&ir[Ka]){var Hr=ir[Ka];if(typeof Hr!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Hr,Ka,{value:Hr,enumerable:!1,writable:!1,configurable:!0}),Hr}function Hr(){for(var Fr,Ei,ba=new Promise(function(Zr,st){Fr=Zr,Ei=st}),Ea=[],Kr=0;Kr<arguments.length;Kr++)Ea.push(arguments[Kr]);Ea.push(function(Zr,st){Zr?Ei(Zr):Fr(st)});try{ir.apply(this,Ea)}catch(Zr){Ei(Zr)}return ba}return Object.setPrototypeOf(Hr,Object.getPrototypeOf(ir)),Ka&&Object.defineProperty(Hr,Ka,{value:Hr,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Hr,t(ir))},e.promisify.custom=Ka;function Js(ir,Hr){if(!ir){var Fr=new Error("Promise was rejected with a falsy value");Fr.reason=ir,ir=Fr}return Hr(ir)}function ia(ir){if(typeof ir!="function")throw new TypeError('The "original" argument must be of type Function');function Hr(){for(var Fr=[],Ei=0;Ei<arguments.length;Ei++)Fr.push(arguments[Ei]);var ba=Fr.pop();if(typeof ba!="function")throw new TypeError("The last argument must be of type Function");var Ea=this,Kr=function(){return ba.apply(Ea,arguments)};ir.apply(this,Fr).then(function(Zr){process$1.nextTick(Kr.bind(null,null,Zr))},function(Zr){process$1.nextTick(Js.bind(null,Zr,Kr))})}return Object.setPrototypeOf(Hr,Object.getPrototypeOf(ir)),Object.defineProperties(Hr,t(ir)),Hr}e.callbackify=ia}),Uf$1=h((e,t)=>{u(),t.exports=function(...n){let o=n.reduce((s,w)=>Object.assign(s,w),{});return Object.assign(o,{bufferKeys:o.bufferKeys||!1,snapshots:o.snapshots||!1,permanence:o.permanence||!1,seek:o.seek||!1,clear:o.clear||!1,getMany:o.getMany||!1,keyIterator:o.keyIterator||!1,valueIterator:o.valueIterator||!1,iteratorNextv:o.iteratorNextv||!1,iteratorAll:o.iteratorAll||!1,status:o.status||!1,idempotentOpen:o.idempotentOpen||!1,passiveOpen:o.passiveOpen||!1,serialize:o.serialize||!1,createIfMissing:o.createIfMissing||!1,errorIfExists:o.errorIfExists||!1,deferredOpen:o.deferredOpen||!1,openCallback:o.openCallback||!1,promises:o.promises||!1,streams:o.streams||!1,encodings:r(o.encodings),events:r(o.events),additionalMethods:Object.assign({},o.additionalMethods)})};function r(n){return n?Object.assign({},n):!1}}),L0=h((e,t)=>{u(),t.exports=function(r){return r!=null&&r.constructor!=null&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}}),j0=h((e,t)=>{u(),t.exports=typeof queueMicrotask=="function"?queueMicrotask:r=>Promise.resolve().then(r)}),ta$1=h(e=>{u();var t=j0();e.fromCallback=function(r,n){if(r===void 0){var o=new Promise(function(s,w){r=function(g,k){g?w(g):s(k)}});r[n!==void 0?n:"promise"]=o}else if(typeof r!="function")throw new TypeError("Callback must be a function");return r},e.fromPromise=function(r,n){if(n===void 0)return r;r.then(function(o){t(()=>n(null,o))}).catch(function(o){t(()=>n(o))})}}),ra$1=h((e,t)=>{u();var r;t.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global$1):n=>(r||(r=Promise.resolve())).then(n).catch(o=>setTimeout(()=>{throw o},0))}),na$1=h((e,t)=>{u();var r=ra$1();t.exports=function(n,...o){o.length===0?r(n):r(()=>n(...o))}}),Kf=h((e,t)=>{u();function r(n){if(typeof n!="object"||n===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=n,this._ended=!1,this._nexting=!1}r.prototype.next=function(n){let o=this;if(n===void 0)o=new Promise(function(s,w){n=function(g,k,P){g?w(g):k===void 0&&P===void 0?s():s([k,P])}});else if(typeof n!="function")throw new Error("next() requires a callback argument");return this._ended?(this._nextTick(n,new Error("cannot call next() after end()")),o):this._nexting?(this._nextTick(n,new Error("cannot call next() before previous next() has completed")),o):(this._nexting=!0,this._next((s,...w)=>{this._nexting=!1,n(s,...w)}),o)},r.prototype._next=function(n){this._nextTick(n)},r.prototype.seek=function(n){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");n=this.db._serializeKey(n),this._seek(n)},r.prototype._seek=function(n){},r.prototype.end=function(n){let o;if(n===void 0)o=new Promise(function(s,w){n=function(g){g?w(g):s()}});else if(typeof n!="function")throw new Error("end() requires a callback argument");return this._ended?(this._nextTick(n,new Error("end() already called on iterator")),o):(this._ended=!0,this._end(n),o)},r.prototype._end=function(n){this._nextTick(n)},r.prototype[Symbol.asyncIterator]=async function*(){try{let n;for(;(n=await this.next())!==void 0;)yield n}finally{this._ended||await this.end()}},r.prototype._nextTick=na$1(),t.exports=r}),zf$1=h((e,t)=>{u();var r=Object.freeze({});function n(o){if(typeof o!="object"||o===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=o,this._operations=[],this._written=!1}n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(o,s,w){this._checkWritten();let g=this.db._checkKey(o)||this.db._checkValue(s);if(g)throw g;return o=this.db._serializeKey(o),s=this.db._serializeValue(s),this._put(o,s,w!=null?w:r),this},n.prototype._put=function(o,s,w){this._operations.push({...w,type:"put",key:o,value:s})},n.prototype.del=function(o,s){this._checkWritten();let w=this.db._checkKey(o);if(w)throw w;return o=this.db._serializeKey(o),this._del(o,s!=null?s:r),this},n.prototype._del=function(o,s){this._operations.push({...s,type:"del",key:o})},n.prototype.clear=function(){return this._checkWritten(),this._clear(),this},n.prototype._clear=function(){this._operations=[]},n.prototype.write=function(o,s){if(this._checkWritten(),typeof o=="function"&&(s=o),typeof s!="function")throw new Error("write() requires a callback argument");(typeof o!="object"||o===null)&&(o={}),this._written=!0,this._write(o,s)},n.prototype._write=function(o,s){this.db._batch(this._operations,o,s)},n.prototype._nextTick=na$1(),t.exports=n}),Vf$1=h(e=>{u(),e.getCallback=function(t,r){return typeof t=="function"?t:r},e.getOptions=function(t){return typeof t=="object"&&t!==null?t:{}}}),Y0=h((e,t)=>{u();var r=Uf$1(),n=L0(),o=ta$1(),s=Kf(),w=zf$1(),g=Vf$1().getCallback,k=Vf$1().getOptions,P=Object.prototype.hasOwnProperty,q=["lt","lte","gt","gte"];function ie(L){this.status="new",this.supports=r(L,{status:!0})}ie.prototype.open=function(L,we){let Ee=this.status;if(typeof L=="function"&&(we=L),typeof we!="function")throw new Error("open() requires a callback argument");(typeof L!="object"||L===null)&&(L={}),L.createIfMissing=L.createIfMissing!==!1,L.errorIfExists=!!L.errorIfExists,this.status="opening",this._open(L,_e=>{if(_e)return this.status=Ee,we(_e);this.status="open",we()})},ie.prototype._open=function(L,we){this._nextTick(we)},ie.prototype.close=function(L){let we=this.status;if(typeof L!="function")throw new Error("close() requires a callback argument");this.status="closing",this._close(Ee=>{if(Ee)return this.status=we,L(Ee);this.status="closed",L()})},ie.prototype._close=function(L){this._nextTick(L)},ie.prototype.get=function(L,we,Ee){if(typeof we=="function"&&(Ee=we),typeof Ee!="function")throw new Error("get() requires a callback argument");let _e=this._checkKey(L);if(_e)return this._nextTick(Ee,_e);L=this._serializeKey(L),(typeof we!="object"||we===null)&&(we={}),we.asBuffer=we.asBuffer!==!1,this._get(L,we,Ee)},ie.prototype._get=function(L,we,Ee){this._nextTick(function(){Ee(new Error("NotFound"))})},ie.prototype.getMany=function(L,we,Ee){if(Ee=g(we,Ee),Ee=o.fromCallback(Ee),we=k(we),X(this,Ee))return Ee.promise;if(!Array.isArray(L))return this._nextTick(Ee,new Error("getMany() requires an array argument")),Ee.promise;if(L.length===0)return this._nextTick(Ee,null,[]),Ee.promise;typeof we.asBuffer!="boolean"&&(we={...we,asBuffer:!0});let _e=new Array(L.length);for(let je=0;je<L.length;je++){let Xt=L[je],Gt=this._checkKey(Xt);if(Gt)return this._nextTick(Ee,Gt),Ee.promise;_e[je]=this._serializeKey(Xt)}return this._getMany(_e,we,Ee),Ee.promise},ie.prototype._getMany=function(L,we,Ee){this._nextTick(Ee,null,new Array(L.length).fill(void 0))},ie.prototype.put=function(L,we,Ee,_e){if(typeof Ee=="function"&&(_e=Ee),typeof _e!="function")throw new Error("put() requires a callback argument");let je=this._checkKey(L)||this._checkValue(we);if(je)return this._nextTick(_e,je);L=this._serializeKey(L),we=this._serializeValue(we),(typeof Ee!="object"||Ee===null)&&(Ee={}),this._put(L,we,Ee,_e)},ie.prototype._put=function(L,we,Ee,_e){this._nextTick(_e)},ie.prototype.del=function(L,we,Ee){if(typeof we=="function"&&(Ee=we),typeof Ee!="function")throw new Error("del() requires a callback argument");let _e=this._checkKey(L);if(_e)return this._nextTick(Ee,_e);L=this._serializeKey(L),(typeof we!="object"||we===null)&&(we={}),this._del(L,we,Ee)},ie.prototype._del=function(L,we,Ee){this._nextTick(Ee)},ie.prototype.batch=function(L,we,Ee){if(!arguments.length)return this._chainedBatch();if(typeof we=="function"&&(Ee=we),typeof L=="function"&&(Ee=L),typeof Ee!="function")throw new Error("batch(array) requires a callback argument");if(!Array.isArray(L))return this._nextTick(Ee,new Error("batch(array) requires an array argument"));if(L.length===0)return this._nextTick(Ee);(typeof we!="object"||we===null)&&(we={});let _e=new Array(L.length);for(let je=0;je<L.length;je++){if(typeof L[je]!="object"||L[je]===null)return this._nextTick(Ee,new Error("batch(array) element must be an object and not `null`"));let Xt=Object.assign({},L[je]);if(Xt.type!=="put"&&Xt.type!=="del")return this._nextTick(Ee,new Error("`type` must be 'put' or 'del'"));let Gt=this._checkKey(Xt.key);if(Gt)return this._nextTick(Ee,Gt);if(Xt.key=this._serializeKey(Xt.key),Xt.type==="put"){let ot=this._checkValue(Xt.value);if(ot)return this._nextTick(Ee,ot);Xt.value=this._serializeValue(Xt.value)}_e[je]=Xt}this._batch(_e,we,Ee)},ie.prototype._batch=function(L,we,Ee){this._nextTick(Ee)},ie.prototype.clear=function(L,we){if(typeof L=="function")we=L;else if(typeof we!="function")throw new Error("clear() requires a callback argument");L=he(this,L),L.reverse=!!L.reverse,L.limit="limit"in L?L.limit:-1,this._clear(L,we)},ie.prototype._clear=function(L,we){L.keys=!0,L.values=!1,L.keyAsBuffer=!0,L.valueAsBuffer=!0;let Ee=this._iterator(L),_e={},je=Xt=>{if(Xt)return Ee.end(function(){we(Xt)});Ee.next((Gt,ot)=>{if(Gt)return je(Gt);if(ot===void 0)return Ee.end(we);this._del(ot,_e,je)})};je()},ie.prototype._setupIteratorOptions=function(L){return L=he(this,L),L.reverse=!!L.reverse,L.keys=L.keys!==!1,L.values=L.values!==!1,L.limit="limit"in L?L.limit:-1,L.keyAsBuffer=L.keyAsBuffer!==!1,L.valueAsBuffer=L.valueAsBuffer!==!1,L};function he(L,we){let Ee={};for(let _e in we){if(!P.call(we,_e))continue;if(_e==="start"||_e==="end")throw new Error('Legacy range options ("start" and "end") have been removed');let je=we[_e];V(_e)&&(je=L._serializeKey(je)),Ee[_e]=je}return Ee}function V(L){return q.indexOf(L)!==-1}ie.prototype.iterator=function(L){return(typeof L!="object"||L===null)&&(L={}),L=this._setupIteratorOptions(L),this._iterator(L)},ie.prototype._iterator=function(L){return new s(this)},ie.prototype._chainedBatch=function(){return new w(this)},ie.prototype._serializeKey=function(L){return L},ie.prototype._serializeValue=function(L){return L},ie.prototype._checkKey=function(L){if(L==null)return new Error("key cannot be `null` or `undefined`");if(n(L)&&L.length===0)return new Error("key cannot be an empty Buffer");if(L==="")return new Error("key cannot be an empty String");if(Array.isArray(L)&&L.length===0)return new Error("key cannot be an empty Array")},ie.prototype._checkValue=function(L){if(L==null)return new Error("value cannot be `null` or `undefined`")},ie.prototype.isOperational=function(){return this.status==="open"||this._isOperational()},ie.prototype._isOperational=function(){return!1},ie.prototype._nextTick=na$1(),t.exports=ie;function X(L,we){return L.isOperational()?!1:(L._nextTick(we,new Error("Database is not open")),!0)}}),Nt=h(e=>{u(),e.AbstractLevelDOWN=Y0(),e.AbstractIterator=Kf(),e.AbstractChainedBatch=zf$1()}),Gf$1=h(e=>{u(),e.getCallback=function(t,r,n){let o=t[t.length-1];if(typeof o!="function"){let s=new Promise((w,g)=>{t.push(o=function(k,...P){k?g(k):w(n?n(...P):P[0])})});o[r]=s}return o}}),rv=h((e,t)=>{u();var{AbstractIterator:r}=Nt(),n=Te(),o=Gf$1().getCallback,s=Symbol("options"),w=Symbol("iterator"),g=Symbol("operations"),k=Symbol("promise");function P(q,ie){r.call(this,q),this[s]=ie,this[w]=null,this[g]=[]}n(P,r),P.prototype.setDb=function(q){this[w]=q.iterator(this[s]);for(let ie of this[g].splice(0,this[g].length))this[w][ie.method](...ie.args)},P.prototype.next=function(...q){if(this.db.status==="open")return this[w].next(...q);let ie=o(q,k,function(he,V){if(!(he===void 0&&V===void 0))return[he,V]});return this.db.status==="opening"?this[g].push({method:"next",args:q}):this._nextTick(ie,new Error("Database is not open")),ie[k]||this},P.prototype.seek=function(...q){if(this.db.status==="open")this[w].seek(...q);else if(this.db.status==="opening")this[g].push({method:"seek",args:q});else throw new Error("Database is not open")},P.prototype.end=function(...q){if(this.db.status==="open")return this[w].end(...q);let ie=o(q,k);return this.db.status==="opening"?this[g].push({method:"end",args:q}):this._nextTick(ie,new Error("Database is not open")),ie[k]||this};for(let q of["next","seek","end"])P.prototype["_"+q]=function(){throw new Error("Did not expect private method to be called: "+q)};t.exports=P}),iv=h((e,t)=>{u();var{AbstractChainedBatch:r}=Nt(),n=Symbol("operations");t.exports=class extends r{constructor(o){super(o),this[n]=[]}_put(o,s,w){this[n].push({...w,type:"put",key:o,value:s})}_del(o,s){this[n].push({...s,type:"del",key:o})}_clear(){this[n]=[]}_write(o,s){this.db.batch(this[n],o,s)}}}),cv=h((e,t)=>{u();var{AbstractLevelDOWN:r}=Nt(),n=Te(),o=rv(),s=iv(),w=Gf$1().getCallback,g=["put","get","getMany","del","batch","clear"],k=["approximateSize","compactRange"],P=Symbol("innerDb"),q=Symbol("operations"),ie=Symbol("promise");function he(X){r.call(this,X.supports||{});for(let L of k)typeof X[L]=="function"&&!this.supports.additionalMethods[L]&&(this.supports.additionalMethods[L]=!0);this[P]=X,this[q]=[],V(this)}n(he,r),he.prototype.type="deferred-leveldown",Object.defineProperty(he.prototype,"_db",{enumerable:!0,get(){return this[P]}}),he.prototype._open=function(X,L){let we=Ee=>{if(Ee||this[P].status!=="open")return L(Ee||new Error("Database is not open"));let _e=this[q];this[q]=[];for(let je of _e)je.iterator?je.iterator.setDb(this[P]):this[P][je.method](...je.args);if(this[q].length>0)throw new Error("Did not expect further operations");L()};this[P].status==="new"||this[P].status==="closed"?this[P].open(X,we):this._nextTick(we)},he.prototype._close=function(X){this[P].close(X)},he.prototype._isOperational=function(){return this.status==="opening"};function V(X){let L=Object.keys(X.supports.additionalMethods);for(let we of g.concat(L))X[we]=function(...Ee){if(we==="batch"&&Ee.length===0)return new s(this);if(this.status==="open")return this[P][we](...Ee);let _e=w(Ee,ie);return this.status==="opening"?this[q].push({method:we,args:Ee}):this._nextTick(_e,new Error("Database is not open")),_e[ie]};X.iterator=function(we){if(this.status==="open")return this[P].iterator(we);if(this.status==="opening"){let Ee=new o(this,we);return this[q].push({iterator:Ee}),Ee}else throw new Error("Database is not open")};for(let we of g.concat(["iterator"]))X["_"+we]=function(){throw new Error("Did not expect private method to be called: "+we)}}t.exports=he,t.exports.DeferredIterator=o}),Jf$1=h((e,t)=>{u(),t.exports=Rn().EventEmitter}),Yf$1=h(()=>{u()}),hv=h((e,t)=>{u();function r(X,L){var we=Object.keys(X);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(X);L&&(Ee=Ee.filter(function(_e){return Object.getOwnPropertyDescriptor(X,_e).enumerable})),we.push.apply(we,Ee)}return we}function n(X){for(var L=1;L<arguments.length;L++){var we=arguments[L]!=null?arguments[L]:{};L%2?r(Object(we),!0).forEach(function(Ee){o(X,Ee,we[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(we)):r(Object(we)).forEach(function(Ee){Object.defineProperty(X,Ee,Object.getOwnPropertyDescriptor(we,Ee))})}return X}function o(X,L,we){return L in X?Object.defineProperty(X,L,{value:we,enumerable:!0,configurable:!0,writable:!0}):X[L]=we,X}function s(X,L){if(!(X instanceof L))throw new TypeError("Cannot call a class as a function")}function w(X,L){for(var we=0;we<L.length;we++){var Ee=L[we];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(X,Ee.key,Ee)}}function g(X,L,we){return L&&w(X.prototype,L),we&&w(X,we),X}var k=ct$1(),P=k.Buffer,q=Yf$1(),ie=q.inspect,he=ie&&ie.custom||"inspect";function V(X,L,we){P.prototype.copy.call(X,L,we)}t.exports=function(){function X(){s(this,X),this.head=null,this.tail=null,this.length=0}return g(X,[{key:"push",value:function(L){var we={data:L,next:null};this.length>0?this.tail.next=we:this.head=we,this.tail=we,++this.length}},{key:"unshift",value:function(L){var we={data:L,next:this.head};this.length===0&&(this.tail=we),this.head=we,++this.length}},{key:"shift",value:function(){if(this.length!==0){var L=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,L}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(L){if(this.length===0)return"";for(var we=this.head,Ee=""+we.data;we=we.next;)Ee+=L+we.data;return Ee}},{key:"concat",value:function(L){if(this.length===0)return P.alloc(0);for(var we=P.allocUnsafe(L>>>0),Ee=this.head,_e=0;Ee;)V(Ee.data,we,_e),_e+=Ee.data.length,Ee=Ee.next;return we}},{key:"consume",value:function(L,we){var Ee;return L<this.head.data.length?(Ee=this.head.data.slice(0,L),this.head.data=this.head.data.slice(L)):L===this.head.data.length?Ee=this.shift():Ee=we?this._getString(L):this._getBuffer(L),Ee}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(L){var we=this.head,Ee=1,_e=we.data;for(L-=_e.length;we=we.next;){var je=we.data,Xt=L>je.length?je.length:L;if(Xt===je.length?_e+=je:_e+=je.slice(0,L),L-=Xt,L===0){Xt===je.length?(++Ee,we.next?this.head=we.next:this.head=this.tail=null):(this.head=we,we.data=je.slice(Xt));break}++Ee}return this.length-=Ee,_e}},{key:"_getBuffer",value:function(L){var we=P.allocUnsafe(L),Ee=this.head,_e=1;for(Ee.data.copy(we),L-=Ee.data.length;Ee=Ee.next;){var je=Ee.data,Xt=L>je.length?je.length:L;if(je.copy(we,we.length-L,0,Xt),L-=Xt,L===0){Xt===je.length?(++_e,Ee.next?this.head=Ee.next:this.head=this.tail=null):(this.head=Ee,Ee.data=je.slice(Xt));break}++_e}return this.length-=_e,we}},{key:he,value:function(L,we){return ie(this,n({},we,{depth:0,customInspect:!1}))}}]),X}()}),Xf$1=h((e,t)=>{u();function r(k,P){var q=this,ie=this._readableState&&this._readableState.destroyed,he=this._writableState&&this._writableState.destroyed;return ie||he?(P?P(k):k&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(w,this,k)):process$1.nextTick(w,this,k)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(k||null,function(V){!P&&V?q._writableState?q._writableState.errorEmitted?process$1.nextTick(o,q):(q._writableState.errorEmitted=!0,process$1.nextTick(n,q,V)):process$1.nextTick(n,q,V):P?(process$1.nextTick(o,q),P(V)):process$1.nextTick(o,q)}),this)}function n(k,P){w(k,P),o(k)}function o(k){k._writableState&&!k._writableState.emitClose||k._readableState&&!k._readableState.emitClose||k.emit("close")}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function w(k,P){k.emit("error",P)}function g(k,P){var q=k._readableState,ie=k._writableState;q&&q.autoDestroy||ie&&ie.autoDestroy?k.destroy(P):k.emit("error",P)}t.exports={destroy:r,undestroy:s,errorOrDestroy:g}}),Mr=h((e,t)=>{u();function r(P,q){P.prototype=Object.create(q.prototype),P.prototype.constructor=P,P.__proto__=q}var n={};function o(P,q,ie){ie||(ie=Error);function he(X,L,we){return typeof q=="string"?q:q(X,L,we)}var V=function(X){r(L,X);function L(we,Ee,_e){return X.call(this,he(we,Ee,_e))||this}return L}(ie);V.prototype.name=ie.name,V.prototype.code=P,n[P]=V}function s(P,q){if(Array.isArray(P)){var ie=P.length;return P=P.map(function(he){return String(he)}),ie>2?"one of ".concat(q," ").concat(P.slice(0,ie-1).join(", "),", or ")+P[ie-1]:ie===2?"one of ".concat(q," ").concat(P[0]," or ").concat(P[1]):"of ".concat(q," ").concat(P[0])}else return"of ".concat(q," ").concat(String(P))}function w(P,q,ie){return P.substr(!ie||ie<0?0:+ie,q.length)===q}function g(P,q,ie){return(ie===void 0||ie>P.length)&&(ie=P.length),P.substring(ie-q.length,ie)===q}function k(P,q,ie){return typeof ie!="number"&&(ie=0),ie+q.length>P.length?!1:P.indexOf(q,ie)!==-1}o("ERR_INVALID_OPT_VALUE",function(P,q){return'The value "'+q+'" is invalid for option "'+P+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(P,q,ie){var he;typeof q=="string"&&w(q,"not ")?(he="must not be",q=q.replace(/^not /,"")):he="must be";var V;if(g(P," argument"))V="The ".concat(P," ").concat(he," ").concat(s(q,"type"));else{var X=k(P,".")?"property":"argument";V='The "'.concat(P,'" ').concat(X," ").concat(he," ").concat(s(q,"type"))}return V+=". Received type ".concat(typeof ie),V},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(P){return"The "+P+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(P){return"Cannot call "+P+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(P){return"Unknown encoding: "+P},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}),el=h((e,t)=>{u();var r=Mr().codes.ERR_INVALID_OPT_VALUE;function n(s,w,g){return s.highWaterMark!=null?s.highWaterMark:w?s[g]:null}function o(s,w,g,k){var P=n(w,k,g);if(P!=null){if(!(isFinite(P)&&Math.floor(P)===P)||P<0){var q=k?g:"highWaterMark";throw new r(q,P)}return Math.floor(P)}return s.objectMode?16:16*1024}t.exports={getHighWaterMark:o}}),_v=h((e,t)=>{u(),t.exports=r;function r(o,s){if(n("noDeprecation"))return o;var w=!1;function g(){if(!w){if(n("throwDeprecation"))throw new Error(s);n("traceDeprecation")?console.trace(s):console.warn(s),w=!0}return o.apply(this,arguments)}return g}function n(o){try{if(!global$1.localStorage)return!1}catch{return!1}var s=global$1.localStorage[o];return s==null?!1:String(s).toLowerCase()==="true"}}),il=h((e,t)=>{u(),t.exports=qr;function r(Kr){var Zr=this;this.next=null,this.entry=null,this.finish=function(){Ea(Zr,Kr)}}var n;qr.WritableState=at;var o={deprecate:_v()},s=Jf$1(),w=ct$1().Buffer,g=global$1.Uint8Array||function(){};function k(Kr){return w.from(Kr)}function P(Kr){return w.isBuffer(Kr)||Kr instanceof g}var q=Xf$1(),ie=el(),he=ie.getHighWaterMark,V=Mr().codes,X=V.ERR_INVALID_ARG_TYPE,L=V.ERR_METHOD_NOT_IMPLEMENTED,we=V.ERR_MULTIPLE_CALLBACK,Ee=V.ERR_STREAM_CANNOT_PIPE,_e=V.ERR_STREAM_DESTROYED,je=V.ERR_STREAM_NULL_VALUES,Xt=V.ERR_STREAM_WRITE_AFTER_END,Gt=V.ERR_UNKNOWN_ENCODING,ot=q.errorOrDestroy;Te()(qr,s);function Qt(){}function at(Kr,Zr,st){n=n||jr(),Kr=Kr||{},typeof st!="boolean"&&(st=Zr instanceof n),this.objectMode=!!Kr.objectMode,st&&(this.objectMode=this.objectMode||!!Kr.writableObjectMode),this.highWaterMark=he(this,Kr,"writableHighWaterMark",st),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var vr=Kr.decodeStrings===!1;this.decodeStrings=!vr,this.defaultEncoding=Kr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Pr){wo(Zr,Pr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Kr.emitClose!==!1,this.autoDestroy=!!Kr.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}at.prototype.getBuffer=function(){for(var Kr=this.bufferedRequest,Zr=[];Kr;)Zr.push(Kr),Kr=Kr.next;return Zr},function(){try{Object.defineProperty(at.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var sr;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(sr=Function.prototype[Symbol.hasInstance],Object.defineProperty(qr,Symbol.hasInstance,{value:function(Kr){return sr.call(this,Kr)?!0:this!==qr?!1:Kr&&Kr._writableState instanceof at}})):sr=function(Kr){return Kr instanceof this};function qr(Kr){n=n||jr();var Zr=this instanceof n;if(!Zr&&!sr.call(qr,this))return new qr(Kr);this._writableState=new at(Kr,this,Zr),this.writable=!0,Kr&&(typeof Kr.write=="function"&&(this._write=Kr.write),typeof Kr.writev=="function"&&(this._writev=Kr.writev),typeof Kr.destroy=="function"&&(this._destroy=Kr.destroy),typeof Kr.final=="function"&&(this._final=Kr.final)),s.call(this)}qr.prototype.pipe=function(){ot(this,new Ee)};function Xr(Kr,Zr){var st=new Xt;ot(Kr,st),process$1.nextTick(Zr,st)}function rn(Kr,Zr,st,vr){var Pr;return st===null?Pr=new je:typeof st!="string"&&!Zr.objectMode&&(Pr=new X("chunk",["string","Buffer"],st)),Pr?(ot(Kr,Pr),process$1.nextTick(vr,Pr),!1):!0}qr.prototype.write=function(Kr,Zr,st){var vr=this._writableState,Pr=!1,Wt=!vr.objectMode&&P(Kr);return Wt&&!w.isBuffer(Kr)&&(Kr=k(Kr)),typeof Zr=="function"&&(st=Zr,Zr=null),Wt?Zr="buffer":Zr||(Zr=vr.defaultEncoding),typeof st!="function"&&(st=Qt),vr.ending?Xr(this,st):(Wt||rn(this,vr,Kr,st))&&(vr.pendingcb++,Pr=ei(this,vr,Wt,Kr,Zr,st)),Pr},qr.prototype.cork=function(){this._writableState.corked++},qr.prototype.uncork=function(){var Kr=this._writableState;Kr.corked&&(Kr.corked--,!Kr.writing&&!Kr.corked&&!Kr.bufferProcessing&&Kr.bufferedRequest&&ia(this,Kr))},qr.prototype.setDefaultEncoding=function(Kr){if(typeof Kr=="string"&&(Kr=Kr.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Kr+"").toLowerCase())>-1))throw new Gt(Kr);return this._writableState.defaultEncoding=Kr,this},Object.defineProperty(qr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ao(Kr,Zr,st){return!Kr.objectMode&&Kr.decodeStrings!==!1&&typeof Zr=="string"&&(Zr=w.from(Zr,st)),Zr}Object.defineProperty(qr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ei(Kr,Zr,st,vr,Pr,Wt){if(!st){var it=ao(Zr,vr,Pr);vr!==it&&(st=!0,Pr="buffer",vr=it)}var Yr=Zr.objectMode?1:vr.length;Zr.length+=Yr;var en=Zr.length<Zr.highWaterMark;if(en||(Zr.needDrain=!0),Zr.writing||Zr.corked){var Qr=Zr.lastBufferedRequest;Zr.lastBufferedRequest={chunk:vr,encoding:Pr,isBuf:st,callback:Wt,next:null},Qr?Qr.next=Zr.lastBufferedRequest:Zr.bufferedRequest=Zr.lastBufferedRequest,Zr.bufferedRequestCount+=1}else aa(Kr,Zr,!1,Yr,vr,Pr,Wt);return en}function aa(Kr,Zr,st,vr,Pr,Wt,it){Zr.writelen=vr,Zr.writecb=it,Zr.writing=!0,Zr.sync=!0,Zr.destroyed?Zr.onwrite(new _e("write")):st?Kr._writev(Pr,Zr.onwrite):Kr._write(Pr,Wt,Zr.onwrite),Zr.sync=!1}function ga(Kr,Zr,st,vr,Pr){--Zr.pendingcb,st?(process$1.nextTick(Pr,vr),process$1.nextTick(Ei,Kr,Zr),Kr._writableState.errorEmitted=!0,ot(Kr,vr)):(Pr(vr),Kr._writableState.errorEmitted=!0,ot(Kr,vr),Ei(Kr,Zr))}function Ca(Kr){Kr.writing=!1,Kr.writecb=null,Kr.length-=Kr.writelen,Kr.writelen=0}function wo(Kr,Zr){var st=Kr._writableState,vr=st.sync,Pr=st.writecb;if(typeof Pr!="function")throw new we;if(Ca(st),Zr)ga(Kr,st,vr,Zr,Pr);else{var Wt=ir(st)||Kr.destroyed;!Wt&&!st.corked&&!st.bufferProcessing&&st.bufferedRequest&&ia(Kr,st),vr?process$1.nextTick(Ka,Kr,st,Wt,Pr):Ka(Kr,st,Wt,Pr)}}function Ka(Kr,Zr,st,vr){st||Js(Kr,Zr),Zr.pendingcb--,vr(),Ei(Kr,Zr)}function Js(Kr,Zr){Zr.length===0&&Zr.needDrain&&(Zr.needDrain=!1,Kr.emit("drain"))}function ia(Kr,Zr){Zr.bufferProcessing=!0;var st=Zr.bufferedRequest;if(Kr._writev&&st&&st.next){var vr=Zr.bufferedRequestCount,Pr=new Array(vr),Wt=Zr.corkedRequestsFree;Wt.entry=st;for(var it=0,Yr=!0;st;)Pr[it]=st,st.isBuf||(Yr=!1),st=st.next,it+=1;Pr.allBuffers=Yr,aa(Kr,Zr,!0,Zr.length,Pr,"",Wt.finish),Zr.pendingcb++,Zr.lastBufferedRequest=null,Wt.next?(Zr.corkedRequestsFree=Wt.next,Wt.next=null):Zr.corkedRequestsFree=new r(Zr),Zr.bufferedRequestCount=0}else{for(;st;){var en=st.chunk,Qr=st.encoding,tn=st.callback,tr=Zr.objectMode?1:en.length;if(aa(Kr,Zr,!1,tr,en,Qr,tn),st=st.next,Zr.bufferedRequestCount--,Zr.writing)break}st===null&&(Zr.lastBufferedRequest=null)}Zr.bufferedRequest=st,Zr.bufferProcessing=!1}qr.prototype._write=function(Kr,Zr,st){st(new L("_write()"))},qr.prototype._writev=null,qr.prototype.end=function(Kr,Zr,st){var vr=this._writableState;return typeof Kr=="function"?(st=Kr,Kr=null,Zr=null):typeof Zr=="function"&&(st=Zr,Zr=null),Kr!=null&&this.write(Kr,Zr),vr.corked&&(vr.corked=1,this.uncork()),vr.ending||ba(this,vr,st),this},Object.defineProperty(qr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ir(Kr){return Kr.ending&&Kr.length===0&&Kr.bufferedRequest===null&&!Kr.finished&&!Kr.writing}function Hr(Kr,Zr){Kr._final(function(st){Zr.pendingcb--,st&&ot(Kr,st),Zr.prefinished=!0,Kr.emit("prefinish"),Ei(Kr,Zr)})}function Fr(Kr,Zr){!Zr.prefinished&&!Zr.finalCalled&&(typeof Kr._final=="function"&&!Zr.destroyed?(Zr.pendingcb++,Zr.finalCalled=!0,process$1.nextTick(Hr,Kr,Zr)):(Zr.prefinished=!0,Kr.emit("prefinish")))}function Ei(Kr,Zr){var st=ir(Zr);if(st&&(Fr(Kr,Zr),Zr.pendingcb===0&&(Zr.finished=!0,Kr.emit("finish"),Zr.autoDestroy))){var vr=Kr._readableState;(!vr||vr.autoDestroy&&vr.endEmitted)&&Kr.destroy()}return st}function ba(Kr,Zr,st){Zr.ending=!0,Ei(Kr,Zr),st&&(Zr.finished?process$1.nextTick(st):Kr.once("finish",st)),Zr.ended=!0,Kr.writable=!1}function Ea(Kr,Zr,st){var vr=Kr.entry;for(Kr.entry=null;vr;){var Pr=vr.callback;Zr.pendingcb--,Pr(st),vr=vr.next}Zr.corkedRequestsFree.next=Kr}Object.defineProperty(qr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Kr){!this._writableState||(this._writableState.destroyed=Kr)}}),qr.prototype.destroy=q.destroy,qr.prototype._undestroy=q.undestroy,qr.prototype._destroy=function(Kr,Zr){Zr(Kr)}}),jr=h((e,t)=>{u();var r=Object.keys||function(ie){var he=[];for(var V in ie)he.push(V);return he};t.exports=k;var n=al(),o=il();for(Te()(k,n),s=r(o.prototype),g=0;g<s.length;g++)w=s[g],k.prototype[w]||(k.prototype[w]=o.prototype[w]);var s,w,g;function k(ie){if(!(this instanceof k))return new k(ie);n.call(this,ie),o.call(this,ie),this.allowHalfOpen=!0,ie&&(ie.readable===!1&&(this.readable=!1),ie.writable===!1&&(this.writable=!1),ie.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",P)))}Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function P(){this._writableState.ended||process$1.nextTick(q,this)}function q(ie){ie.end()}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(ie){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ie,this._writableState.destroyed=ie)}})}),Pv=h((e,t)=>{u();var r=ct$1(),n=r.Buffer;function o(w,g){for(var k in w)g[k]=w[k]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s);function s(w,g,k){return n(w,g,k)}s.prototype=Object.create(n.prototype),o(n,s),s.from=function(w,g,k){if(typeof w=="number")throw new TypeError("Argument must not be a number");return n(w,g,k)},s.alloc=function(w,g,k){if(typeof w!="number")throw new TypeError("Argument must be a number");var P=n(w);return g!==void 0?typeof k=="string"?P.fill(g,k):P.fill(g):P.fill(0),P},s.allocUnsafe=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return n(w)},s.allocUnsafeSlow=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(w)}}),ll$1=h(e=>{u();var t=Pv().Buffer,r=t.isEncoding||function(_e){switch(_e=""+_e,_e&&_e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(_e){if(!_e)return"utf8";for(var je;;)switch(_e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _e;default:if(je)return;_e=(""+_e).toLowerCase(),je=!0}}function o(_e){var je=n(_e);if(typeof je!="string"&&(t.isEncoding===r||!r(_e)))throw new Error("Unknown encoding: "+_e);return je||_e}e.StringDecoder=s;function s(_e){this.encoding=o(_e);var je;switch(this.encoding){case"utf16le":this.text=he,this.end=V,je=4;break;case"utf8":this.fillLast=P,je=4;break;case"base64":this.text=X,this.end=L,je=3;break;default:this.write=we,this.end=Ee;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(je)}s.prototype.write=function(_e){if(_e.length===0)return"";var je,Xt;if(this.lastNeed){if(je=this.fillLast(_e),je===void 0)return"";Xt=this.lastNeed,this.lastNeed=0}else Xt=0;return Xt<_e.length?je?je+this.text(_e,Xt):this.text(_e,Xt):je||""},s.prototype.end=ie,s.prototype.text=q,s.prototype.fillLast=function(_e){if(this.lastNeed<=_e.length)return _e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_e.length),this.lastNeed-=_e.length};function w(_e){return _e<=127?0:_e>>5===6?2:_e>>4===14?3:_e>>3===30?4:_e>>6===2?-1:-2}function g(_e,je,Xt){var Gt=je.length-1;if(Gt<Xt)return 0;var ot=w(je[Gt]);return ot>=0?(ot>0&&(_e.lastNeed=ot-1),ot):--Gt<Xt||ot===-2?0:(ot=w(je[Gt]),ot>=0?(ot>0&&(_e.lastNeed=ot-2),ot):--Gt<Xt||ot===-2?0:(ot=w(je[Gt]),ot>=0?(ot>0&&(ot===2?ot=0:_e.lastNeed=ot-3),ot):0))}function k(_e,je,Xt){if((je[0]&192)!==128)return _e.lastNeed=0,"\uFFFD";if(_e.lastNeed>1&&je.length>1){if((je[1]&192)!==128)return _e.lastNeed=1,"\uFFFD";if(_e.lastNeed>2&&je.length>2&&(je[2]&192)!==128)return _e.lastNeed=2,"\uFFFD"}}function P(_e){var je=this.lastTotal-this.lastNeed,Xt=k(this,_e);if(Xt!==void 0)return Xt;if(this.lastNeed<=_e.length)return _e.copy(this.lastChar,je,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_e.copy(this.lastChar,je,0,_e.length),this.lastNeed-=_e.length}function q(_e,je){var Xt=g(this,_e,je);if(!this.lastNeed)return _e.toString("utf8",je);this.lastTotal=Xt;var Gt=_e.length-(Xt-this.lastNeed);return _e.copy(this.lastChar,0,Gt),_e.toString("utf8",je,Gt)}function ie(_e){var je=_e&&_e.length?this.write(_e):"";return this.lastNeed?je+"\uFFFD":je}function he(_e,je){if((_e.length-je)%2===0){var Xt=_e.toString("utf16le",je);if(Xt){var Gt=Xt.charCodeAt(Xt.length-1);if(Gt>=55296&&Gt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_e[_e.length-2],this.lastChar[1]=_e[_e.length-1],Xt.slice(0,-1)}return Xt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_e[_e.length-1],_e.toString("utf16le",je,_e.length-1)}function V(_e){var je=_e&&_e.length?this.write(_e):"";if(this.lastNeed){var Xt=this.lastTotal-this.lastNeed;return je+this.lastChar.toString("utf16le",0,Xt)}return je}function X(_e,je){var Xt=(_e.length-je)%3;return Xt===0?_e.toString("base64",je):(this.lastNeed=3-Xt,this.lastTotal=3,Xt===1?this.lastChar[0]=_e[_e.length-1]:(this.lastChar[0]=_e[_e.length-2],this.lastChar[1]=_e[_e.length-1]),_e.toString("base64",je,_e.length-Xt))}function L(_e){var je=_e&&_e.length?this.write(_e):"";return this.lastNeed?je+this.lastChar.toString("base64",0,3-this.lastNeed):je}function we(_e){return _e.toString(this.encoding)}function Ee(_e){return _e&&_e.length?this.write(_e):""}}),pa$1=h((e,t)=>{u();var r=Mr().codes.ERR_STREAM_PREMATURE_CLOSE;function n(g){var k=!1;return function(){if(!k){k=!0;for(var P=arguments.length,q=new Array(P),ie=0;ie<P;ie++)q[ie]=arguments[ie];g.apply(this,q)}}}function o(){}function s(g){return g.setHeader&&typeof g.abort=="function"}function w(g,k,P){if(typeof k=="function")return w(g,null,k);k||(k={}),P=n(P||o);var q=k.readable||k.readable!==!1&&g.readable,ie=k.writable||k.writable!==!1&&g.writable,he=function(){g.writable||X()},V=g._writableState&&g._writableState.finished,X=function(){ie=!1,V=!0,q||P.call(g)},L=g._readableState&&g._readableState.endEmitted,we=function(){q=!1,L=!0,ie||P.call(g)},Ee=function(Xt){P.call(g,Xt)},_e=function(){var Xt;if(q&&!L)return(!g._readableState||!g._readableState.ended)&&(Xt=new r),P.call(g,Xt);if(ie&&!V)return(!g._writableState||!g._writableState.ended)&&(Xt=new r),P.call(g,Xt)},je=function(){g.req.on("finish",X)};return s(g)?(g.on("complete",X),g.on("abort",_e),g.req?je():g.on("request",je)):ie&&!g._writableState&&(g.on("end",he),g.on("close",he)),g.on("end",we),g.on("finish",X),k.error!==!1&&g.on("error",Ee),g.on("close",_e),function(){g.removeListener("complete",X),g.removeListener("abort",_e),g.removeListener("request",je),g.req&&g.req.removeListener("finish",X),g.removeListener("end",he),g.removeListener("close",he),g.removeListener("finish",X),g.removeListener("end",we),g.removeListener("error",Ee),g.removeListener("close",_e)}}t.exports=w}),qv=h((e,t)=>{u();var r;function n(je,Xt,Gt){return Xt in je?Object.defineProperty(je,Xt,{value:Gt,enumerable:!0,configurable:!0,writable:!0}):je[Xt]=Gt,je}var o=pa$1(),s=Symbol("lastResolve"),w=Symbol("lastReject"),g=Symbol("error"),k=Symbol("ended"),P=Symbol("lastPromise"),q=Symbol("handlePromise"),ie=Symbol("stream");function he(je,Xt){return{value:je,done:Xt}}function V(je){var Xt=je[s];if(Xt!==null){var Gt=je[ie].read();Gt!==null&&(je[P]=null,je[s]=null,je[w]=null,Xt(he(Gt,!1)))}}function X(je){process$1.nextTick(V,je)}function L(je,Xt){return function(Gt,ot){je.then(function(){if(Xt[k]){Gt(he(void 0,!0));return}Xt[q](Gt,ot)},ot)}}var we=Object.getPrototypeOf(function(){}),Ee=Object.setPrototypeOf((r={get stream(){return this[ie]},next:function(){var je=this,Xt=this[g];if(Xt!==null)return Promise.reject(Xt);if(this[k])return Promise.resolve(he(void 0,!0));if(this[ie].destroyed)return new Promise(function(at,sr){process$1.nextTick(function(){je[g]?sr(je[g]):at(he(void 0,!0))})});var Gt=this[P],ot;if(Gt)ot=new Promise(L(Gt,this));else{var Qt=this[ie].read();if(Qt!==null)return Promise.resolve(he(Qt,!1));ot=new Promise(this[q])}return this[P]=ot,ot}},n(r,Symbol.asyncIterator,function(){return this}),n(r,"return",function(){var je=this;return new Promise(function(Xt,Gt){je[ie].destroy(null,function(ot){if(ot){Gt(ot);return}Xt(he(void 0,!0))})})}),r),we),_e=function(je){var Xt,Gt=Object.create(Ee,(Xt={},n(Xt,ie,{value:je,writable:!0}),n(Xt,s,{value:null,writable:!0}),n(Xt,w,{value:null,writable:!0}),n(Xt,g,{value:null,writable:!0}),n(Xt,k,{value:je._readableState.endEmitted,writable:!0}),n(Xt,q,{value:function(ot,Qt){var at=Gt[ie].read();at?(Gt[P]=null,Gt[s]=null,Gt[w]=null,ot(he(at,!1))):(Gt[s]=ot,Gt[w]=Qt)},writable:!0}),Xt));return Gt[P]=null,o(je,function(ot){if(ot&&ot.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Qt=Gt[w];Qt!==null&&(Gt[P]=null,Gt[s]=null,Gt[w]=null,Qt(ot)),Gt[g]=ot;return}var at=Gt[s];at!==null&&(Gt[P]=null,Gt[s]=null,Gt[w]=null,at(he(void 0,!0))),Gt[k]=!0}),je.on("readable",X.bind(null,Gt)),Gt};t.exports=_e}),$v=h((e,t)=>{u(),t.exports=function(){throw new Error("Readable.from is not available in the browser")}}),al=h((e,t)=>{u(),t.exports=Xr;var r;Xr.ReadableState=qr,Rn().EventEmitter;var n=function(Wt,it){return Wt.listeners(it).length},o=Jf$1(),s=ct$1().Buffer,w=global$1.Uint8Array||function(){};function g(Wt){return s.from(Wt)}function k(Wt){return s.isBuffer(Wt)||Wt instanceof w}var P=Yf$1(),q;P&&P.debuglog?q=P.debuglog("stream"):q=function(){};var ie=hv(),he=Xf$1(),V=el(),X=V.getHighWaterMark,L=Mr().codes,we=L.ERR_INVALID_ARG_TYPE,Ee=L.ERR_STREAM_PUSH_AFTER_EOF,_e=L.ERR_METHOD_NOT_IMPLEMENTED,je=L.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Xt,Gt,ot;Te()(Xr,o);var Qt=he.errorOrDestroy,at=["error","close","destroy","pause","resume"];function sr(Wt,it,Yr){if(typeof Wt.prependListener=="function")return Wt.prependListener(it,Yr);!Wt._events||!Wt._events[it]?Wt.on(it,Yr):Array.isArray(Wt._events[it])?Wt._events[it].unshift(Yr):Wt._events[it]=[Yr,Wt._events[it]]}function qr(Wt,it,Yr){r=r||jr(),Wt=Wt||{},typeof Yr!="boolean"&&(Yr=it instanceof r),this.objectMode=!!Wt.objectMode,Yr&&(this.objectMode=this.objectMode||!!Wt.readableObjectMode),this.highWaterMark=X(this,Wt,"readableHighWaterMark",Yr),this.buffer=new ie,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Wt.emitClose!==!1,this.autoDestroy=!!Wt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Wt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Wt.encoding&&(Xt||(Xt=ll$1().StringDecoder),this.decoder=new Xt(Wt.encoding),this.encoding=Wt.encoding)}function Xr(Wt){if(r=r||jr(),!(this instanceof Xr))return new Xr(Wt);var it=this instanceof r;this._readableState=new qr(Wt,this,it),this.readable=!0,Wt&&(typeof Wt.read=="function"&&(this._read=Wt.read),typeof Wt.destroy=="function"&&(this._destroy=Wt.destroy)),o.call(this)}Object.defineProperty(Xr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Wt){!this._readableState||(this._readableState.destroyed=Wt)}}),Xr.prototype.destroy=he.destroy,Xr.prototype._undestroy=he.undestroy,Xr.prototype._destroy=function(Wt,it){it(Wt)},Xr.prototype.push=function(Wt,it){var Yr=this._readableState,en;return Yr.objectMode?en=!0:typeof Wt=="string"&&(it=it||Yr.defaultEncoding,it!==Yr.encoding&&(Wt=s.from(Wt,it),it=""),en=!0),rn(this,Wt,it,!1,en)},Xr.prototype.unshift=function(Wt){return rn(this,Wt,null,!0,!1)};function rn(Wt,it,Yr,en,Qr){q("readableAddChunk",it);var tn=Wt._readableState;if(it===null)tn.reading=!1,wo(Wt,tn);else{var tr;if(Qr||(tr=ei(tn,it)),tr)Qt(Wt,tr);else if(tn.objectMode||it&&it.length>0)if(typeof it!="string"&&!tn.objectMode&&Object.getPrototypeOf(it)!==s.prototype&&(it=g(it)),en)tn.endEmitted?Qt(Wt,new je):ao(Wt,tn,it,!0);else if(tn.ended)Qt(Wt,new Ee);else{if(tn.destroyed)return!1;tn.reading=!1,tn.decoder&&!Yr?(it=tn.decoder.write(it),tn.objectMode||it.length!==0?ao(Wt,tn,it,!1):ia(Wt,tn)):ao(Wt,tn,it,!1)}else en||(tn.reading=!1,ia(Wt,tn))}return!tn.ended&&(tn.length<tn.highWaterMark||tn.length===0)}function ao(Wt,it,Yr,en){it.flowing&&it.length===0&&!it.sync?(it.awaitDrain=0,Wt.emit("data",Yr)):(it.length+=it.objectMode?1:Yr.length,en?it.buffer.unshift(Yr):it.buffer.push(Yr),it.needReadable&&Ka(Wt)),ia(Wt,it)}function ei(Wt,it){var Yr;return!k(it)&&typeof it!="string"&&it!==void 0&&!Wt.objectMode&&(Yr=new we("chunk",["string","Buffer","Uint8Array"],it)),Yr}Xr.prototype.isPaused=function(){return this._readableState.flowing===!1},Xr.prototype.setEncoding=function(Wt){Xt||(Xt=ll$1().StringDecoder);var it=new Xt(Wt);this._readableState.decoder=it,this._readableState.encoding=this._readableState.decoder.encoding;for(var Yr=this._readableState.buffer.head,en="";Yr!==null;)en+=it.write(Yr.data),Yr=Yr.next;return this._readableState.buffer.clear(),en!==""&&this._readableState.buffer.push(en),this._readableState.length=en.length,this};var aa=1073741824;function ga(Wt){return Wt>=aa?Wt=aa:(Wt--,Wt|=Wt>>>1,Wt|=Wt>>>2,Wt|=Wt>>>4,Wt|=Wt>>>8,Wt|=Wt>>>16,Wt++),Wt}function Ca(Wt,it){return Wt<=0||it.length===0&&it.ended?0:it.objectMode?1:Wt!==Wt?it.flowing&&it.length?it.buffer.head.data.length:it.length:(Wt>it.highWaterMark&&(it.highWaterMark=ga(Wt)),Wt<=it.length?Wt:it.ended?it.length:(it.needReadable=!0,0))}Xr.prototype.read=function(Wt){q("read",Wt),Wt=parseInt(Wt,10);var it=this._readableState,Yr=Wt;if(Wt!==0&&(it.emittedReadable=!1),Wt===0&&it.needReadable&&((it.highWaterMark!==0?it.length>=it.highWaterMark:it.length>0)||it.ended))return q("read: emitReadable",it.length,it.ended),it.length===0&&it.ended?st(this):Ka(this),null;if(Wt=Ca(Wt,it),Wt===0&&it.ended)return it.length===0&&st(this),null;var en=it.needReadable;q("need readable",en),(it.length===0||it.length-Wt<it.highWaterMark)&&(en=!0,q("length less than watermark",en)),it.ended||it.reading?(en=!1,q("reading or ended",en)):en&&(q("do read"),it.reading=!0,it.sync=!0,it.length===0&&(it.needReadable=!0),this._read(it.highWaterMark),it.sync=!1,it.reading||(Wt=Ca(Yr,it)));var Qr;return Wt>0?Qr=Zr(Wt,it):Qr=null,Qr===null?(it.needReadable=it.length<=it.highWaterMark,Wt=0):(it.length-=Wt,it.awaitDrain=0),it.length===0&&(it.ended||(it.needReadable=!0),Yr!==Wt&&it.ended&&st(this)),Qr!==null&&this.emit("data",Qr),Qr};function wo(Wt,it){if(q("onEofChunk"),!it.ended){if(it.decoder){var Yr=it.decoder.end();Yr&&Yr.length&&(it.buffer.push(Yr),it.length+=it.objectMode?1:Yr.length)}it.ended=!0,it.sync?Ka(Wt):(it.needReadable=!1,it.emittedReadable||(it.emittedReadable=!0,Js(Wt)))}}function Ka(Wt){var it=Wt._readableState;q("emitReadable",it.needReadable,it.emittedReadable),it.needReadable=!1,it.emittedReadable||(q("emitReadable",it.flowing),it.emittedReadable=!0,process$1.nextTick(Js,Wt))}function Js(Wt){var it=Wt._readableState;q("emitReadable_",it.destroyed,it.length,it.ended),!it.destroyed&&(it.length||it.ended)&&(Wt.emit("readable"),it.emittedReadable=!1),it.needReadable=!it.flowing&&!it.ended&&it.length<=it.highWaterMark,Kr(Wt)}function ia(Wt,it){it.readingMore||(it.readingMore=!0,process$1.nextTick(ir,Wt,it))}function ir(Wt,it){for(;!it.reading&&!it.ended&&(it.length<it.highWaterMark||it.flowing&&it.length===0);){var Yr=it.length;if(q("maybeReadMore read 0"),Wt.read(0),Yr===it.length)break}it.readingMore=!1}Xr.prototype._read=function(Wt){Qt(this,new _e("_read()"))},Xr.prototype.pipe=function(Wt,it){var Yr=this,en=this._readableState;switch(en.pipesCount){case 0:en.pipes=Wt;break;case 1:en.pipes=[en.pipes,Wt];break;default:en.pipes.push(Wt);break}en.pipesCount+=1,q("pipe count=%d opts=%j",en.pipesCount,it);var Qr=(!it||it.end!==!1)&&Wt!==process$1.stdout&&Wt!==process$1.stderr,tn=Qr?yo:E;en.endEmitted?process$1.nextTick(tn):Yr.once("end",tn),Wt.on("unpipe",tr);function tr(I,Ie){q("onunpipe"),I===Yr&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,ja())}function yo(){q("onend"),Wt.end()}var ni=Hr(Yr);Wt.on("drain",ni);var la=!1;function ja(){q("cleanup"),Wt.removeListener("close",Qs),Wt.removeListener("finish",y),Wt.removeListener("drain",ni),Wt.removeListener("error",Ks),Wt.removeListener("unpipe",tr),Yr.removeListener("end",yo),Yr.removeListener("end",E),Yr.removeListener("data",Ys),la=!0,en.awaitDrain&&(!Wt._writableState||Wt._writableState.needDrain)&&ni()}Yr.on("data",Ys);function Ys(I){q("ondata");var Ie=Wt.write(I);q("dest.write",Ie),Ie===!1&&((en.pipesCount===1&&en.pipes===Wt||en.pipesCount>1&&Pr(en.pipes,Wt)!==-1)&&!la&&(q("false write response, pause",en.awaitDrain),en.awaitDrain++),Yr.pause())}function Ks(I){q("onerror",I),E(),Wt.removeListener("error",Ks),n(Wt,"error")===0&&Qt(Wt,I)}sr(Wt,"error",Ks);function Qs(){Wt.removeListener("finish",y),E()}Wt.once("close",Qs);function y(){q("onfinish"),Wt.removeListener("close",Qs),E()}Wt.once("finish",y);function E(){q("unpipe"),Yr.unpipe(Wt)}return Wt.emit("pipe",Yr),en.flowing||(q("pipe resume"),Yr.resume()),Wt};function Hr(Wt){return function(){var it=Wt._readableState;q("pipeOnDrain",it.awaitDrain),it.awaitDrain&&it.awaitDrain--,it.awaitDrain===0&&n(Wt,"data")&&(it.flowing=!0,Kr(Wt))}}Xr.prototype.unpipe=function(Wt){var it=this._readableState,Yr={hasUnpiped:!1};if(it.pipesCount===0)return this;if(it.pipesCount===1)return Wt&&Wt!==it.pipes?this:(Wt||(Wt=it.pipes),it.pipes=null,it.pipesCount=0,it.flowing=!1,Wt&&Wt.emit("unpipe",this,Yr),this);if(!Wt){var en=it.pipes,Qr=it.pipesCount;it.pipes=null,it.pipesCount=0,it.flowing=!1;for(var tn=0;tn<Qr;tn++)en[tn].emit("unpipe",this,{hasUnpiped:!1});return this}var tr=Pr(it.pipes,Wt);return tr===-1?this:(it.pipes.splice(tr,1),it.pipesCount-=1,it.pipesCount===1&&(it.pipes=it.pipes[0]),Wt.emit("unpipe",this,Yr),this)},Xr.prototype.on=function(Wt,it){var Yr=o.prototype.on.call(this,Wt,it),en=this._readableState;return Wt==="data"?(en.readableListening=this.listenerCount("readable")>0,en.flowing!==!1&&this.resume()):Wt==="readable"&&!en.endEmitted&&!en.readableListening&&(en.readableListening=en.needReadable=!0,en.flowing=!1,en.emittedReadable=!1,q("on readable",en.length,en.reading),en.length?Ka(this):en.reading||process$1.nextTick(Ei,this)),Yr},Xr.prototype.addListener=Xr.prototype.on,Xr.prototype.removeListener=function(Wt,it){var Yr=o.prototype.removeListener.call(this,Wt,it);return Wt==="readable"&&process$1.nextTick(Fr,this),Yr},Xr.prototype.removeAllListeners=function(Wt){var it=o.prototype.removeAllListeners.apply(this,arguments);return(Wt==="readable"||Wt===void 0)&&process$1.nextTick(Fr,this),it};function Fr(Wt){var it=Wt._readableState;it.readableListening=Wt.listenerCount("readable")>0,it.resumeScheduled&&!it.paused?it.flowing=!0:Wt.listenerCount("data")>0&&Wt.resume()}function Ei(Wt){q("readable nexttick read 0"),Wt.read(0)}Xr.prototype.resume=function(){var Wt=this._readableState;return Wt.flowing||(q("resume"),Wt.flowing=!Wt.readableListening,ba(this,Wt)),Wt.paused=!1,this};function ba(Wt,it){it.resumeScheduled||(it.resumeScheduled=!0,process$1.nextTick(Ea,Wt,it))}function Ea(Wt,it){q("resume",it.reading),it.reading||Wt.read(0),it.resumeScheduled=!1,Wt.emit("resume"),Kr(Wt),it.flowing&&!it.reading&&Wt.read(0)}Xr.prototype.pause=function(){return q("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(q("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Kr(Wt){var it=Wt._readableState;for(q("flow",it.flowing);it.flowing&&Wt.read()!==null;);}Xr.prototype.wrap=function(Wt){var it=this,Yr=this._readableState,en=!1;Wt.on("end",function(){if(q("wrapped end"),Yr.decoder&&!Yr.ended){var tr=Yr.decoder.end();tr&&tr.length&&it.push(tr)}it.push(null)}),Wt.on("data",function(tr){if(q("wrapped data"),Yr.decoder&&(tr=Yr.decoder.write(tr)),!(Yr.objectMode&&tr==null)&&!(!Yr.objectMode&&(!tr||!tr.length))){var yo=it.push(tr);yo||(en=!0,Wt.pause())}});for(var Qr in Wt)this[Qr]===void 0&&typeof Wt[Qr]=="function"&&(this[Qr]=function(tr){return function(){return Wt[tr].apply(Wt,arguments)}}(Qr));for(var tn=0;tn<at.length;tn++)Wt.on(at[tn],this.emit.bind(this,at[tn]));return this._read=function(tr){q("wrapped _read",tr),en&&(en=!1,Wt.resume())},this},typeof Symbol=="function"&&(Xr.prototype[Symbol.asyncIterator]=function(){return Gt===void 0&&(Gt=qv()),Gt(this)}),Object.defineProperty(Xr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Xr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Xr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Wt){this._readableState&&(this._readableState.flowing=Wt)}}),Xr._fromList=Zr,Object.defineProperty(Xr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Zr(Wt,it){if(it.length===0)return null;var Yr;return it.objectMode?Yr=it.buffer.shift():!Wt||Wt>=it.length?(it.decoder?Yr=it.buffer.join(""):it.buffer.length===1?Yr=it.buffer.first():Yr=it.buffer.concat(it.length),it.buffer.clear()):Yr=it.buffer.consume(Wt,it.decoder),Yr}function st(Wt){var it=Wt._readableState;q("endReadable",it.endEmitted),it.endEmitted||(it.ended=!0,process$1.nextTick(vr,it,Wt))}function vr(Wt,it){if(q("endReadableNT",Wt.endEmitted,Wt.length),!Wt.endEmitted&&Wt.length===0&&(Wt.endEmitted=!0,it.readable=!1,it.emit("end"),Wt.autoDestroy)){var Yr=it._writableState;(!Yr||Yr.autoDestroy&&Yr.finished)&&it.destroy()}}typeof Symbol=="function"&&(Xr.from=function(Wt,it){return ot===void 0&&(ot=$v()),ot(Xr,Wt,it)});function Pr(Wt,it){for(var Yr=0,en=Wt.length;Yr<en;Yr++)if(Wt[Yr]===it)return Yr;return-1}}),_l$1=h((e,t)=>{u(),t.exports=P;var r=Mr().codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,w=r.ERR_TRANSFORM_WITH_LENGTH_0,g=jr();Te()(P,g);function k(he,V){var X=this._transformState;X.transforming=!1;var L=X.writecb;if(L===null)return this.emit("error",new o);X.writechunk=null,X.writecb=null,V!=null&&this.push(V),L(he);var we=this._readableState;we.reading=!1,(we.needReadable||we.length<we.highWaterMark)&&this._read(we.highWaterMark)}function P(he){if(!(this instanceof P))return new P(he);g.call(this,he),this._transformState={afterTransform:k.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,he&&(typeof he.transform=="function"&&(this._transform=he.transform),typeof he.flush=="function"&&(this._flush=he.flush)),this.on("prefinish",q)}function q(){var he=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(V,X){ie(he,V,X)}):ie(this,null,null)}P.prototype.push=function(he,V){return this._transformState.needTransform=!1,g.prototype.push.call(this,he,V)},P.prototype._transform=function(he,V,X){X(new n("_transform()"))},P.prototype._write=function(he,V,X){var L=this._transformState;if(L.writecb=X,L.writechunk=he,L.writeencoding=V,!L.transforming){var we=this._readableState;(L.needTransform||we.needReadable||we.length<we.highWaterMark)&&this._read(we.highWaterMark)}},P.prototype._read=function(he){var V=this._transformState;V.writechunk!==null&&!V.transforming?(V.transforming=!0,this._transform(V.writechunk,V.writeencoding,V.afterTransform)):V.needTransform=!0},P.prototype._destroy=function(he,V){g.prototype._destroy.call(this,he,function(X){V(X)})};function ie(he,V,X){if(V)return he.emit("error",V);if(X!=null&&he.push(X),he._writableState.length)throw new w;if(he._transformState.transforming)throw new s;return he.push(null)}}),nE=h((e,t)=>{u(),t.exports=n;var r=_l$1();Te()(n,r);function n(o){if(!(this instanceof n))return new n(o);r.call(this,o)}n.prototype._transform=function(o,s,w){w(null,o)}}),uE=h((e,t)=>{u();var r;function n(X){var L=!1;return function(){L||(L=!0,X.apply(void 0,arguments))}}var o=Mr().codes,s=o.ERR_MISSING_ARGS,w=o.ERR_STREAM_DESTROYED;function g(X){if(X)throw X}function k(X){return X.setHeader&&typeof X.abort=="function"}function P(X,L,we,Ee){Ee=n(Ee);var _e=!1;X.on("close",function(){_e=!0}),r===void 0&&(r=pa$1()),r(X,{readable:L,writable:we},function(Xt){if(Xt)return Ee(Xt);_e=!0,Ee()});var je=!1;return function(Xt){if(!_e&&!je){if(je=!0,k(X))return X.abort();if(typeof X.destroy=="function")return X.destroy();Ee(Xt||new w("pipe"))}}}function q(X){X()}function ie(X,L){return X.pipe(L)}function he(X){return!X.length||typeof X[X.length-1]!="function"?g:X.pop()}function V(){for(var X=arguments.length,L=new Array(X),we=0;we<X;we++)L[we]=arguments[we];var Ee=he(L);if(Array.isArray(L[0])&&(L=L[0]),L.length<2)throw new s("streams");var _e,je=L.map(function(Xt,Gt){var ot=Gt<L.length-1,Qt=Gt>0;return P(Xt,ot,Qt,function(at){_e||(_e=at),at&&je.forEach(q),!ot&&(je.forEach(q),Ee(_e))})});return L.reduce(ie)}t.exports=V}),fE=h((e,t)=>{u(),e=t.exports=al(),e.Stream=e,e.Readable=e,e.Writable=il(),e.Duplex=jr(),e.Transform=_l$1(),e.PassThrough=nE(),e.finished=pa$1(),e.pipeline=uE()}),pE=h((e,t)=>{u();var r=Te(),{Readable:n}=fE();t.exports=o,r(o,n);function o(s,w){if(!(this instanceof o))return new o(s,w);w=w||{},n.call(this,Object.assign({},w,{objectMode:!0})),this._iterator=s,this._options=w,this.on("end",this.destroy.bind(this,null,null))}o.prototype._read=function(){this.destroyed||this._iterator.next((s,w,g)=>{if(!this.destroyed){if(s)return this.destroy(s);w===void 0&&g===void 0?this.push(null):this._options.keys!==!1&&this._options.values===!1?this.push(w):this._options.keys===!1&&this._options.values!==!1?this.push(g):this.push({key:w,value:g})}})},o.prototype._destroy=function(s,w){this._iterator.end(function(g){w(s||g)})}}),_a$1=h((e,t)=>{u();function r(o,s){let w=function(g,k){if(typeof g=="object"&&g!==null&&(k=k||g,g=g.message||g.name),g=g||"",k=k||void 0,typeof k=="object"&&k.type===o&&k.message===g)return k;Object.defineProperty(this,"type",{value:o,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"name",{value:o,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"cause",{value:k,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"message",{value:g,enumerable:!1,writable:!0,configurable:!0}),Error.call(this),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,w)};return w.prototype=new s,w}var n=r("LevelUPError",Error);t.exports={LevelUPError:n,InitializationError:r("InitializationError",n),OpenError:r("OpenError",n),ReadError:r("ReadError",n),WriteError:r("WriteError",n),NotFoundError:r("NotFoundError",n),EncodingError:r("EncodingError",n)},t.exports.NotFoundError.prototype.notFound=!0,t.exports.NotFoundError.prototype.status=404}),ro$1=h(e=>{u(),e.getCallback=function(t,r){return typeof t=="function"?t:r},e.getOptions=function(t){return typeof t=="object"&&t!==null?t:{}}}),yE=h((e,t)=>{u();var r=_a$1().WriteError,n=ta$1(),o=ro$1().getCallback,s=ro$1().getOptions;function w(g){this.db=g,this.batch=g.db.batch(),this.ops=[],this.length=0}w.prototype.put=function(g,k,P){try{this.batch.put(g,k,P)}catch(q){throw new r(q)}return this.ops.push({...P,type:"put",key:g,value:k}),this.length++,this},w.prototype.del=function(g,k){try{this.batch.del(g,k)}catch(P){throw new r(P)}return this.ops.push({...k,type:"del",key:g}),this.length++,this},w.prototype.clear=function(){try{this.batch.clear()}catch(g){throw new r(g)}return this.ops=[],this.length=0,this},w.prototype.write=function(g,k){let P=this.db,q=this.ops;k=o(g,k),k=n.fromCallback(k),g=s(g);try{this.batch.write(g,function(ie){if(ie)return k(new r(ie));P.emit("batch",q),k()})}catch(ie){throw new r(ie)}return k.promise},t.exports=w}),wE=h((e,t)=>{u();var r=ra$1();t.exports=function(n,...o){o.length===0?r(n):r(()=>n(...o))}}),EE=h((e,t)=>{u();var r=Rn().EventEmitter,n=P0().inherits,o=cv(),s=pE(),w=yE(),g=_a$1(),k=Uf$1(),P=ta$1(),q=ro$1().getCallback,ie=ro$1().getOptions,he=wE(),V=g.WriteError,X=g.ReadError,L=g.NotFoundError,we=g.OpenError,Ee=g.InitializationError;function _e(Xt,Gt,ot){if(!(this instanceof _e))return new _e(Xt,Gt,ot);let Qt;if(r.call(this),this.setMaxListeners(1/0),typeof Gt=="function"&&(ot=Gt,Gt={}),Gt=Gt||{},!Xt||typeof Xt!="object"){if(Qt=new Ee("First argument must be an abstract-leveldown compliant store"),typeof ot=="function")return he(ot,Qt);throw Qt}if(typeof Xt.status!="string")throw new Error(".status required, old abstract-leveldown");this.options=ie(Gt),this._db=Xt,this.db=null,this.open(ot||(at=>{at&&this.emit("error",at)})),this.supports=k(this.db.supports,{status:!0,deferredOpen:!0,openCallback:!0,promises:!0,streams:!0});for(let at of Object.keys(this.supports.additionalMethods))this[at]==null&&(this[at]=function(...sr){return this.db[at](...sr)})}_e.prototype.emit=r.prototype.emit,_e.prototype.once=r.prototype.once,n(_e,r),Object.defineProperty(_e.prototype,"status",{enumerable:!0,get(){return this.db.status}}),_e.prototype.isOperational=function(){return this.db.status==="open"||this.db.status==="opening"},_e.prototype.open=function(Xt,Gt){return typeof Xt=="function"&&(Gt=Xt,Xt=null),Gt=P.fromCallback(Gt),Xt||(Xt=this.options),this.db&&this.isOpen()?(he(Gt,null,this),Gt.promise):this.db&&this._isOpening()?(this.once("open",()=>{Gt(null,this)}),Gt.promise):(this.db=new o(this._db),this.emit("opening"),this.db.open(Xt,ot=>{if(ot)return Gt(new we(ot));this.db=this._db,Gt(null,this),this.emit("open"),this.emit("ready")}),Gt.promise)},_e.prototype.close=function(Xt){return Xt=P.fromCallback(Xt),this.isOpen()?(this.db.close((Gt,...ot)=>{this.emit("closed"),Xt(Gt,...ot)}),this.emit("closing")):this.isClosed()?he(Xt):this.db.status==="closing"?this.once("closed",Xt):this._isOpening()&&this.once("open",()=>{this.close(Xt)}),Xt.promise},_e.prototype.isOpen=function(){return this.db.status==="open"},_e.prototype._isOpening=function(){return this.db.status==="opening"},_e.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},_e.prototype.get=function(Xt,Gt,ot){return ot=q(Gt,ot),ot=P.fromCallback(ot),je(this,ot)||(Gt=ie(Gt),this.db.get(Xt,Gt,function(Qt,at){if(Qt)return/notfound/i.test(Qt)||Qt.notFound?Qt=new L("Key not found in database ["+Xt+"]",Qt):Qt=new X(Qt),ot(Qt);ot(null,at)})),ot.promise},_e.prototype.getMany=function(Xt,Gt,ot){return this.db.getMany(Xt,Gt,ot)},_e.prototype.put=function(Xt,Gt,ot,Qt){return Qt=q(ot,Qt),Qt=P.fromCallback(Qt),je(this,Qt)||(ot=ie(ot),this.db.put(Xt,Gt,ot,at=>{if(at)return Qt(new V(at));this.emit("put",Xt,Gt),Qt()})),Qt.promise},_e.prototype.del=function(Xt,Gt,ot){return ot=q(Gt,ot),ot=P.fromCallback(ot),je(this,ot)||(Gt=ie(Gt),this.db.del(Xt,Gt,Qt=>{if(Qt)return ot(new V(Qt));this.emit("del",Xt),ot()})),ot.promise},_e.prototype.batch=function(Xt,Gt,ot){return arguments.length?(typeof Xt=="function"?ot=Xt:ot=q(Gt,ot),ot=P.fromCallback(ot),je(this,ot)||(Gt=ie(Gt),this.db.batch(Xt,Gt,Qt=>{if(Qt)return ot(new V(Qt));this.emit("batch",Xt),ot()})),ot.promise):new w(this)},_e.prototype.iterator=function(Xt){return this.db.iterator(Xt)},_e.prototype.clear=function(Xt,Gt){return Gt=q(Xt,Gt),Xt=ie(Xt),Gt=P.fromCallback(Gt),je(this,Gt)||this.db.clear(Xt,ot=>{if(ot)return Gt(new V(ot));this.emit("clear",Xt),Gt()}),Gt.promise},_e.prototype.readStream=_e.prototype.createReadStream=function(Xt){return Xt=Object.assign({keys:!0,values:!0},Xt),typeof Xt.limit!="number"&&(Xt.limit=-1),new s(this.db.iterator(Xt),Xt)},_e.prototype.keyStream=_e.prototype.createKeyStream=function(Xt){return this.createReadStream(Object.assign({},Xt,{keys:!0,values:!1}))},_e.prototype.valueStream=_e.prototype.createValueStream=function(Xt){return this.createReadStream(Object.assign({},Xt,{keys:!1,values:!0}))},_e.prototype.toString=function(){return"LevelUP"},_e.prototype.type="levelup",_e.prototype._nextTick=he;function je(Xt,Gt){return Xt.isOperational()?!1:(he(Gt,new X("Database is not open")),!0)}_e.errors=g,t.exports=_e}),_E=h(e=>{u();var{Buffer:t}=ct$1();e.utf8=e["utf-8"]={encode:function(s){return o(s)?s:String(s)},decode:n,buffer:!1,type:"utf8"},e.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},e.binary={encode:function(s){return o(s)?s:t.from(s)},decode:n,buffer:!0,type:"binary"},e.none={encode:n,decode:n,buffer:!1,type:"id"},e.id=e.none;var r=["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"];for(let s of r)e[s]={encode:function(w){return o(w)?w:t.from(w,s)},decode:function(w){return w.toString(s)},buffer:!0,type:s};function n(s){return s}function o(s){return s==null||t.isBuffer(s)}}),DE=h((e,t)=>{u();var r=_E(),n=new Set(["lt","gt","lte","gte"]);t.exports=o;function o(s){if(!(this instanceof o))return new o(s);this.opts=s||{},this.encodings=r}o.prototype._encoding=function(s){return typeof s=="string"&&(s=r[s]),s||(s=r.id),s},o.prototype._keyEncoding=function(s,w){return this._encoding(w&&w.keyEncoding||s&&s.keyEncoding||this.opts.keyEncoding)},o.prototype._valueEncoding=function(s,w){return this._encoding(w&&(w.valueEncoding||w.encoding)||s&&(s.valueEncoding||s.encoding)||this.opts.valueEncoding||this.opts.encoding)},o.prototype.encodeKey=function(s,w,g){return this._keyEncoding(w,g).encode(s)},o.prototype.encodeValue=function(s,w,g){return this._valueEncoding(w,g).encode(s)},o.prototype.decodeKey=function(s,w){return this._keyEncoding(w).decode(s)},o.prototype.decodeValue=function(s,w){return this._valueEncoding(w).decode(s)},o.prototype.encodeBatch=function(s,w){return s.map(g=>{let k={type:g.type,key:this.encodeKey(g.key,w,g)};return this.keyAsBuffer(w,g)&&(k.keyEncoding="binary"),g.prefix&&(k.prefix=g.prefix),"value"in g&&(k.value=this.encodeValue(g.value,w,g),this.valueAsBuffer(w,g)&&(k.valueEncoding="binary")),k})},o.prototype.encodeLtgt=function(s){let w={};for(let g of Object.keys(s)){if(g==="start"||g==="end")throw new Error('Legacy range options ("start" and "end") have been removed');w[g]=n.has(g)?this.encodeKey(s[g],s):s[g]}return w},o.prototype.createStreamDecoder=function(s){return s.keys&&s.values?(w,g)=>({key:this.decodeKey(w,s),value:this.decodeValue(g,s)}):s.keys?w=>this.decodeKey(w,s):s.values?(w,g)=>this.decodeValue(g,s):function(){}},o.prototype.keyAsBuffer=function(s){return this._keyEncoding(s).buffer},o.prototype.valueAsBuffer=function(s){return this._valueEncoding(s).buffer}}),TE=h((e,t)=>{u();var r=Nt().AbstractLevelDOWN,n=Nt().AbstractChainedBatch,o=Nt().AbstractIterator,s=Te(),w=DE(),g=_a$1().EncodingError,k=["approximateSize","compactRange"];t.exports=P;function P(he,V){if(!(this instanceof P))return new P(he,V);let X=he.supports||{},L=X.additionalMethods||{};r.call(this,X),this.supports.encodings=!0,this.supports.additionalMethods={},k.forEach(function(we){let Ee=typeof he[we]=="function";(L[we]||Ee)&&(this.supports.additionalMethods[we]=!0,this[we]=function(_e,je,Xt,Gt){return _e=this.codec.encodeKey(_e,Xt),je=this.codec.encodeKey(je,Xt),this.db[we](_e,je,Xt,Gt)})},this),V=V||{},typeof V.keyEncoding>"u"&&(V.keyEncoding="utf8"),typeof V.valueEncoding>"u"&&(V.valueEncoding="utf8"),this.db=he,this.codec=new w(V)}s(P,r),P.prototype.type="encoding-down",P.prototype._serializeKey=P.prototype._serializeValue=function(he){return he},P.prototype._open=function(he,V){this.db.open(he,V)},P.prototype._close=function(he){this.db.close(he)},P.prototype._put=function(he,V,X,L){he=this.codec.encodeKey(he,X),V=this.codec.encodeValue(V,X),this.db.put(he,V,X,L)},P.prototype._get=function(he,V,X){he=this.codec.encodeKey(he,V),V.asBuffer=this.codec.valueAsBuffer(V),this.db.get(he,V,(L,we)=>{if(L)return X(L);try{we=this.codec.decodeValue(we,V)}catch(Ee){return X(new g(Ee))}X(null,we)})},P.prototype._getMany=function(he,V,X){he=he.map(L=>this.codec.encodeKey(L,V)),V.asBuffer=this.codec.valueAsBuffer(V),this.db.getMany(he,V,(L,we)=>{if(L)return X(L);let Ee=new Array(we.length);for(let _e=0;_e<we.length;_e++){if(we[_e]===void 0){Ee[_e]=void 0;continue}try{Ee[_e]=this.codec.decodeValue(we[_e],V)}catch(je){return X(new g(je))}}X(null,Ee)})},P.prototype._del=function(he,V,X){he=this.codec.encodeKey(he,V),this.db.del(he,V,X)},P.prototype._chainedBatch=function(){return new ie(this)},P.prototype._batch=function(he,V,X){he=this.codec.encodeBatch(he,V),this.db.batch(he,V,X)},P.prototype._iterator=function(he){return he.keyAsBuffer=this.codec.keyAsBuffer(he),he.valueAsBuffer=this.codec.valueAsBuffer(he),new q(this,he)},P.prototype._clear=function(he,V){he=this.codec.encodeLtgt(he),this.db.clear(he,V)};function q(he,V){o.call(this,he),this.codec=he.codec,this.keys=V.keys,this.values=V.values,this.opts=this.codec.encodeLtgt(V),this.it=he.db.iterator(this.opts)}s(q,o),q.prototype._next=function(he){this.it.next((V,X,L)=>{if(V)return he(V);try{this.keys&&typeof X<"u"?X=this.codec.decodeKey(X,this.opts):X=void 0,this.values&&typeof L<"u"?L=this.codec.decodeValue(L,this.opts):L=void 0}catch(we){return he(new g(we))}he(null,X,L)})},q.prototype._seek=function(he){he=this.codec.encodeKey(he,this.opts),this.it.seek(he)},q.prototype._end=function(he){this.it.end(he)};function ie(he,V){n.call(this,he),this.codec=he.codec,this.batch=he.db.batch()}s(ie,n),ie.prototype._put=function(he,V,X){he=this.codec.encodeKey(he,X),V=this.codec.encodeValue(V,X),this.batch.put(he,V)},ie.prototype._del=function(he,V){he=this.codec.encodeKey(he,V),this.batch.del(he)},ie.prototype._clear=function(){this.batch.clear()},ie.prototype._write=function(he,V){this.batch.write(he,V)}}),BE=h((e,t)=>{u();var r=EE(),n=TE();function o(s){function w(k,P,q){return typeof k=="function"?q=k:typeof P=="function"&&(q=P),g(P)||(P=g(k)?k:{}),r(n(s(k,P),P),P,q)}function g(k){return typeof k=="object"&&k!==null}for(let k of["destroy","repair"])typeof s[k]=="function"&&(w[k]=function(...P){s[k](...P)});return w.errors=r.errors,w}t.exports=o}),kE=h((e,t)=>{u(),t.exports=n;var r=ra$1();function n(o,s,w){if(typeof s!="number")throw new Error("second argument must be a Number");let g,k,P,q,ie,he=!0,V;Array.isArray(o)?(g=[],P=k=o.length):(q=Object.keys(o),g={},P=k=q.length);function X(we){function Ee(){w&&w(we,g),w=null}he?r(Ee):Ee()}function L(we,Ee,_e){if(g[we]=_e,Ee&&(ie=!0),--P===0||Ee)X(Ee);else if(!ie&&V<k){let je;q?(je=q[V],V+=1,o[je](function(Xt,Gt){L(je,Xt,Gt)})):(je=V,V+=1,o[je](function(Xt,Gt){L(je,Xt,Gt)}))}}V=s,P?q?q.some(function(we,Ee){return o[we](function(_e,je){L(we,_e,je)}),Ee===s-1}):o.some(function(we,Ee){return we(function(_e,je){L(Ee,_e,je)}),Ee===s-1}):X(null),he=!1}}),NE=h(e=>{u(),e.compare=function(V,X){if(Buffer$1.isBuffer(V)){for(var L=Math.min(V.length,X.length),we=0;we<L;we++){var Ee=V[we]-X[we];if(Ee)return Ee}return V.length-X.length}return V<X?-1:V>X?1:0};function t(V){return V!==void 0&&V!==""}function r(V,X){return Object.hasOwnProperty.call(V,X)}function n(V,X){return Object.hasOwnProperty.call(V,X)&&X}var o=e.lowerBoundKey=function(V){return n(V,"gt")||n(V,"gte")||n(V,"min")||(V.reverse?n(V,"end"):n(V,"start"))||void 0},s=e.lowerBound=function(V,X){var L=o(V);return L?V[L]:X},w=e.lowerBoundInclusive=function(V){return!r(V,"gt")},g=e.upperBoundInclusive=function(V){return!r(V,"lt")},k=e.lowerBoundExclusive=function(V){return!w(V)},P=e.upperBoundExclusive=function(V){return!g(V)},q=e.upperBoundKey=function(V){return n(V,"lt")||n(V,"lte")||n(V,"max")||(V.reverse?n(V,"start"):n(V,"end"))||void 0},ie=e.upperBound=function(V,X){var L=q(V);return L?V[L]:X};e.start=function(V,X){return V.reverse?ie(V,X):s(V,X)},e.end=function(V,X){return V.reverse?s(V,X):ie(V,X)},e.startInclusive=function(V){return V.reverse?g(V):w(V)},e.endInclusive=function(V){return V.reverse?w(V):g(V)};function he(V){return V}e.toLtgt=function(V,X,L,we,Ee){X=X||{},L=L||he;var _e=arguments.length>3,je=e.lowerBoundKey(V),Xt=e.upperBoundKey(V);return je?je==="gt"?X.gt=L(V.gt,!1):X.gte=L(V[je],!1):_e&&(X.gte=L(we,!1)),Xt?Xt==="lt"?X.lt=L(V.lt,!0):X.lte=L(V[Xt],!0):_e&&(X.lte=L(Ee,!0)),V.reverse!=null&&(X.reverse=!!V.reverse),r(X,"max")&&delete X.max,r(X,"min")&&delete X.min,r(X,"start")&&delete X.start,r(X,"end")&&delete X.end,X},e.contains=function(V,X,L){L=L||e.compare;var we=s(V);if(t(we)){var Ee=L(X,we);if(Ee<0||Ee===0&&k(V))return!1}var _e=ie(V);if(t(_e)){var Ee=L(X,_e);if(Ee>0||Ee===0&&P(V))return!1}return!0},e.filter=function(V,X){return function(L){return e.contains(V,L,X)}}}),kl$1=h((e,t)=>{u();var r=NE(),n=Symbol("none");t.exports=function(o){let s=r.lowerBound(o,n),w=r.upperBound(o,n),g=r.lowerBoundExclusive(o,n),k=r.upperBoundExclusive(o,n);return s!==n&&w!==n?IDBKeyRange.bound(s,w,g,k):s!==n?IDBKeyRange.lowerBound(s,g):w!==n?IDBKeyRange.upperBound(w,k):null}}),Fl$1=h((e,t)=>{u();var r=ct$1().Buffer,n=function(){if(global$1.TextDecoder){let w=new TextDecoder("utf-8");return w.decode.bind(w)}else return function(w){return s(w).toString()}}(),o=function(){if(global$1.TextDecoder){let w=new TextDecoder("utf-8");return w.decode.bind(w)}else return function(w){return r.from(w).toString()}}();function s(w){let g=r.from(w.buffer);return w.byteLength===w.buffer.byteLength?g:g.slice(w.byteOffset,w.byteOffset+w.byteLength)}t.exports=function(w,g){return w instanceof Uint8Array?g?s(w):n(w):w instanceof ArrayBuffer?g?r.from(w):o(w):g?r.from(String(w)):String(w)}}),KE=h((e,t)=>{u();var r=Te(),n=Nt().AbstractIterator,o=kl$1(),s=Fl$1(),w=function(){};t.exports=g;function g(k,P,q){if(n.call(this,k),this._limit=q.limit,this._count=0,this._callback=null,this._cache=[],this._completed=!1,this._aborted=!1,this._error=null,this._transaction=null,this._keys=q.keys,this._values=q.values,this._keyAsBuffer=q.keyAsBuffer,this._valueAsBuffer=q.valueAsBuffer,this._limit===0){this._completed=!0;return}let ie;try{ie=o(q)}catch{this._completed=!0;return}this.createIterator(P,ie,q.reverse)}r(g,n),g.prototype.createIterator=function(k,P,q){let ie=this.db.db.transaction([k],"readonly"),he=ie.objectStore(k).openCursor(P,q?"prev":"next");he.onsuccess=V=>{let X=V.target.result;X&&this.onItem(X)},this._transaction=ie,ie.onabort=()=>{this.onAbort(this._transaction.error||new Error("aborted by user"))},ie.oncomplete=()=>{this.onComplete()}},g.prototype.onItem=function(k){this._cache.push(k.key,k.value),(this._limit<=0||++this._count<this._limit)&&k.continue(),this.maybeNext()},g.prototype.onAbort=function(k){this._aborted=!0,this._error=k,this.maybeNext()},g.prototype.onComplete=function(){this._completed=!0,this.maybeNext()},g.prototype.maybeNext=function(){this._callback&&(this._next(this._callback),this._callback=null)},g.prototype._next=function(k){if(this._aborted){let P=this._error;this._error=null,this._nextTick(k,P)}else if(this._cache.length>0){let P=this._cache.shift(),q=this._cache.shift();this._keys&&P!==void 0?P=this._deserializeKey(P,this._keyAsBuffer):P=void 0,this._values&&q!==void 0?q=this._deserializeValue(q,this._valueAsBuffer):q=void 0,this._nextTick(k,null,P,q)}else this._completed?this._nextTick(k):this._callback=k},g.prototype._deserializeKey=s,g.prototype._deserializeValue=s,g.prototype._end=function(k){if(this._aborted||this._completed)return this._nextTick(k,this._error);this.onItem=w,this.onAbort=k,this.onComplete=k}}),VE=h((e,t)=>{u();var r=ct$1().Buffer,n=function(){if(global$1.TextEncoder){let o=new TextEncoder("utf-8");return o.encode.bind(o)}else return r.from}();t.exports=function(o,s){return s?r.isBuffer(o)?o:n(String(o)):String(o)}}),GE=h(e=>{u();var t=ct$1().Buffer;e.test=function(r){return function(n){try{return n.cmp(r,0),!0}catch{return!1}}},e.bufferKeys=e.test(t.alloc(0))}),JE=h((e,t)=>{u(),t.exports=function(r,n,o,s,w){if(s.limit===0)return r._nextTick(w);let g=r.db.transaction([n],"readwrite"),k=g.objectStore(n),P=0;g.oncomplete=function(){w()},g.onabort=function(){w(g.error||new Error("aborted by user"))};let q=k.openKeyCursor?"openKeyCursor":"openCursor",ie=s.reverse?"prev":"next";k[q](o,ie).onsuccess=function(he){let V=he.target.result;V&&(k.delete(V.key).onsuccess=function(){(s.limit<=0||++P<s.limit)&&V.continue()})}}}),e_=h((e,t)=>{u(),t.exports=he;var r=Nt().AbstractLevelDOWN,n=Te(),o=kE(),s=KE(),w=VE(),g=Fl$1(),k=GE(),P=JE(),q=kl$1(),ie="level-js-";function he(V,X){if(!(this instanceof he))return new he(V,X);if(r.call(this,{bufferKeys:k.bufferKeys(indexedDB),snapshots:!0,permanence:!0,clear:!0,getMany:!0}),X=X||{},typeof V!="string")throw new Error("constructor requires a location string argument");this.location=V,this.prefix=X.prefix==null?ie:X.prefix,this.version=parseInt(X.version||1,10)}n(he,r),he.prototype.type="level-js",he.prototype._open=function(V,X){let L=indexedDB.open(this.prefix+this.location,this.version);L.onerror=function(){X(L.error||new Error("unknown error"))},L.onsuccess=()=>{this.db=L.result,X()},L.onupgradeneeded=we=>{let Ee=we.target.result;Ee.objectStoreNames.contains(this.location)||Ee.createObjectStore(this.location)}},he.prototype.store=function(V){return this.db.transaction([this.location],V).objectStore(this.location)},he.prototype.await=function(V,X){let L=V.transaction;L.onabort=function(){X(L.error||new Error("aborted by user"))},L.oncomplete=function(){X(null,V.result)}},he.prototype._get=function(V,X,L){let we=this.store("readonly"),Ee;try{Ee=we.get(V)}catch(_e){return this._nextTick(L,_e)}this.await(Ee,function(_e,je){if(_e)return L(_e);if(je===void 0)return L(new Error("NotFound"));L(null,g(je,X.asBuffer))})},he.prototype._getMany=function(V,X,L){let we=X.asBuffer,Ee=this.store("readonly"),_e=V.map(je=>Xt=>{let Gt;try{Gt=Ee.get(je)}catch(ot){return Xt(ot)}Gt.onsuccess=()=>{let ot=Gt.result;Xt(null,ot===void 0?ot:g(ot,we))},Gt.onerror=ot=>{ot.stopPropagation(),Xt(Gt.error)}});o(_e,16,L)},he.prototype._del=function(V,X,L){let we=this.store("readwrite"),Ee;try{Ee=we.delete(V)}catch(_e){return this._nextTick(L,_e)}this.await(Ee,L)},he.prototype._put=function(V,X,L,we){let Ee=this.store("readwrite"),_e;try{_e=Ee.put(X,V)}catch(je){return this._nextTick(we,je)}this.await(_e,we)},he.prototype._serializeKey=function(V){return w(V,this.supports.bufferKeys)},he.prototype._serializeValue=function(V){return w(V,!0)},he.prototype._iterator=function(V){return new s(this,this.location,V)},he.prototype._batch=function(V,X,L){if(V.length===0)return this._nextTick(L);let we=this.store("readwrite"),Ee=we.transaction,_e=0,je;Ee.onabort=function(){L(je||Ee.error||new Error("aborted by user"))},Ee.oncomplete=function(){L()};function Xt(){let Gt=V[_e++],ot=Gt.key,Qt;try{Qt=Gt.type==="del"?we.delete(ot):we.put(Gt.value,ot)}catch(at){je=at,Ee.abort();return}_e<V.length&&(Qt.onsuccess=Xt)}Xt()},he.prototype._clear=function(V,X){let L,we;try{L=q(V)}catch{return this._nextTick(X)}if(V.limit>=0)return P(this,this.location,L,V,X);try{let Ee=this.store("readwrite");we=L?Ee.delete(L):Ee.clear()}catch(Ee){return this._nextTick(X,Ee)}this.await(we,X)},he.prototype._close=function(V){this.db.close(),this._nextTick(V)},he.prototype.upgrade=function(V){if(this.status!=="open")return this._nextTick(V,new Error("cannot upgrade() before open()"));let X=this.iterator(),L={},we=this;X._deserializeKey=X._deserializeValue=Xt,Ee();function Ee(Gt){if(Gt)return je(Gt);X.next(_e)}function _e(Gt,ot,Qt){if(Gt||ot===void 0)return je(Gt);let at=we._serializeKey(g(ot,!0)),sr=we._serializeValue(g(Qt,!0));we._batch([{type:"del",key:ot},{type:"put",key:at,value:sr}],L,Ee)}function je(Gt){X.end(function(ot){V(Gt||ot)})}function Xt(Gt){return Gt}},he.destroy=function(V,X,L){typeof X=="function"&&(L=X,X=ie);let we=indexedDB.deleteDatabase(X+V);we.onsuccess=function(){L()},we.onerror=function(Ee){L(Ee)}}}),r_=h((e,t)=>{u(),t.exports=BE()(e_())}),s_=h((e,t)=>{u();var r=Fi$1();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let s=new r,w,g,k,P=()=>{if(!s.isEmpty()){if(n.writev){let _e,je=[];for(;!s.isEmpty();){if(_e=s.shift(),_e.error)throw _e.error;je.push(_e.value)}return{done:_e.done,value:je}}let Ee=s.shift();if(Ee.error)throw Ee.error;return Ee}return k?{done:!0}:new Promise((Ee,_e)=>{g=je=>(g=null,je.error?_e(je.error):n.writev&&!je.done?Ee({done:je.done,value:[je.value]}):Ee(je),w)})},q=Ee=>g?g(Ee):(s.push(Ee),w),ie=Ee=>(s=new r,g?g({error:Ee}):(s.push({error:Ee}),w)),he=Ee=>k?w:q({done:!1,value:Ee}),V=Ee=>k?w:(k=!0,Ee?ie(Ee):q({done:!0})),X=()=>(s=new r,V(),{done:!0}),L=Ee=>(V(Ee),{done:!0});if(w={[Symbol.asyncIterator](){return this},next:P,return:X,throw:L,push:he,end:V},!o)return w;let we=w;return w={[Symbol.asyncIterator](){return this},next(){return we.next()},throw(Ee){return we.throw(Ee),o&&(o(Ee),o=null),{done:!0}},return(){return we.return(),o&&(o(),o=null),{done:!0}},push:he,end(Ee){return we.end(Ee),o&&(o(Ee),o=null),w}},w}});u();u();var cf=_$1(za(),1),Xw=_$1(We(),1),Ir$1=_$1(dt$1(),1);u();u();u();ge();u();xo();ke$1();yt$1();var Tt$1="/",np=new TextEncoder().encode(Tt$1),To$1=np[0],A=class{constructor(e,t){if(typeof e=="string")this._buf=oe(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(t==null&&(t=!0),t&&this.clean(),this._buf.byteLength===0||this._buf[0]!==To$1)throw new Error("Invalid key")}toString(e="utf8"){return de(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new A(e.join(Tt$1))}static random(){return new A(eu().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new A(e):e.uint8Array?new A(e.uint8Array()):null}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=np),this._buf[0]!==To$1){let e=new Uint8Array(this._buf.byteLength+1);e.fill(To$1,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===To$1;)this._buf=this._buf.subarray(0,-1)}less(e){let t=this.list(),r=e.list();for(let n=0;n<t.length;n++){if(r.length<n+1)return!1;let o=t[n],s=r[n];if(o<s)return!0;if(o>s)return!1}return t.length<r.length}reverse(){return A.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(Tt$1).slice(1)}type(){return gx(this.baseNamespace())}name(){return mx(this.baseNamespace())}instance(e){return new A(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(Tt$1)||(e+=Tt$1),e+=this.type(),new A(e)}parent(){let e=this.list();return e.length===1?new A(Tt$1):new A(e.slice(0,-1).join(Tt$1))}child(e){return this.toString()===Tt$1?e:e.toString()===Tt$1?this:new A(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return A.withNamespaces([...this.namespaces(),...wx(e.map(t=>t.namespaces()))])}};function gx(e){let t=e.split(":");return t.length<2?"":t.slice(0,-1).join(":")}function mx(e){let t=e.split(":");return t[t.length-1]}function wx(e){return[].concat(...e)}var sp=_$1(We(),1),ap=_$1(Eu(),1);ht$1();ci$1();pt$1();var vx=(0,sp.default)("ipfs:repo:migrator:migration-8");function up(e){return e.child?up(e.child):e}function Ex(e){try{let t=U$1.decode(`b${e.toString().toLowerCase().slice(1)}`),r=S$1.decode(t).multihash.bytes,n=U$1.encode(r).slice(1).toUpperCase();return new A(`/${n}`,!1)}catch{return e}}function _x(e){try{let t=U$1.decode(`b${e.toString().toLowerCase().slice(1)}`),r=Ve(t),n=U$1.encode(S$1.createV1(ui$1,r).bytes).slice(1);return new A(`/${n.toUpperCase()}`,!1)}catch{return e}}async function op(e,t,r){let n=e.blocks;await n.open();let o=up(n),s=await(0,ap.default)(o.queryKeys({filters:[w=>r(w).toString()!==w.toString()]}));try{let w=0;for await(let g of o.query({})){let k=r(g.key);k.toString()!==g.key.toString()&&(w+=1,vx(`Migrating Block from ${g.key} to ${k}`,await o.has(g.key)),await o.delete(g.key),await o.put(k,g.value),t(w/s*100,`Migrated Block from ${g.key} to ${k}`))}}finally{await n.close()}}var cp={version:8,description:"Transforms key names into base32 encoding and converts Block store to use bare multihashes encoded as base32",migrate:(e,t=()=>{})=>op(e,t,Ex),revert:(e,t=()=>{})=>op(e,t,_x)};u();ge();u();ge();u();var xx=new TextDecoder;function _u(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");let o=e[t++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,t]}function Io(e,t){let r;[r,t]=_u(e,t);let n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function fp(e,t){let r;return[r,t]=_u(e,t),[r&7,r>>3,t]}function Dx(e){let t={},r=e.length,n=0;for(;n<r;){let o,s;if([o,s,n]=fp(e,n),s===1){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(t.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=Io(e,n)}else if(s===2){if(t.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let w;[w,n]=Io(e,n),t.Name=xx.decode(w)}else if(s===3){if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[t.Tsize,n]=_u(e,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function lp(e){let t=e.length,r=0,n,o=!1,s;for(;r<t;){let g,k;if([g,k,r]=fp(e,r),g!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${g}`);if(k===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,r]=Io(e,r),n&&(o=!0)}else if(k===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let P;[P,r]=Io(e,r),n.push(Dx(P))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${k}`)}if(r>t)throw new Error("protobuf: (PBNode) unexpected end of data");let w={};return s&&(w.Data=s),w.Links=n||[],w}u();var pp=new TextEncoder,dp=2**32,Ax=2**31;function Sx(e,t){let r=t.length;if(typeof e.Tsize=="number"){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=li$1(t,r,e.Tsize)-1,t[r]=24}if(typeof e.Name=="string"){let n=pp.encode(e.Name);r-=n.length,t.set(n,r),r=li$1(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=li$1(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function hp(e){let t=Ox(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=li$1(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let o=e.Links.length-1;o>=0;o--){let s=Sx(e.Links[o],r.subarray(0,n));n-=s,n=li$1(r,n,s)-1,r[n]=18}return r}function Cx(e){let t=0;if(e.Hash){let r=e.Hash.length;t+=1+r+cn(r)}if(typeof e.Name=="string"){let r=pp.encode(e.Name).length;t+=1+r+cn(r)}return typeof e.Tsize=="number"&&(t+=1+cn(e.Tsize)),t}function Ox(e){let t=0;if(e.Data){let r=e.Data.length;t+=1+r+cn(r)}if(e.Links)for(let r of e.Links){let n=Cx(r);t+=1+n+cn(n)}return t}function li$1(e,t,r){t-=cn(r);let n=t;for(;r>=Ax;)e[t++]=r&127|128,r/=128;for(;r>=128;)e[t++]=r&127|128,r>>>=7;return e[t]=r,n}function cn(e){return e%2===0&&e++,Math.floor((Tx(e)+6)/7)}function Tx(e){let t=0;return e>=dp&&(e=Math.floor(e/dp),t=32),e>=1<<16&&(e>>>=16,t+=16),e>=1<<8&&(e>>>=8,t+=8),t+Ix[e]}var Ix=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];u();ge();var Rx=["Data","Links"],Bx=["Hash","Name","Tsize"],yp=new TextEncoder;function Px(e,t){if(e===t)return 0;let r=e.Name?yp.encode(e.Name):[],n=t.Name?yp.encode(t.Name):[],o=r.length,s=n.length;for(let w=0,g=Math.min(o,s);w<g;++w)if(r[w]!==n[w]){o=r[w],s=n[w];break}return o<s?-1:s<o?1:0}function gp(e,t){return!Object.keys(e).some(r=>!t.includes(r))}function mp(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!gp(e,Rx))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(e.Data!==void 0&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){let r=e.Links[t];if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!gp(r,Bx))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0&&(typeof r.Tsize!="number"||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&Px(r,e.Links[t-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}var It=112;function di$1(e){mp(e);let t={};return e.Links&&(t.Links=e.Links.map(r=>{let n={};return r.Hash&&(n.Hash=r.Hash.bytes),r.Name!==void 0&&(n.Name=r.Name),r.Tsize!==void 0&&(n.Tsize=r.Tsize),n})),e.Data&&(t.Data=e.Data),hp(t)}function pi$1(e){let t=lp(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map(n=>{let o={};try{o.Hash=S$1.decode(n.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),r}u();u();u();var kx=["string","number","bigint","symbol"],Fx=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function wp(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;return kx.includes(t)?t:t==="function"?"Function":Array.isArray(e)?"Array":Nx(e)?"Buffer":Lx(e)||"Object"}function Nx(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function Lx(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(Fx.includes(t))return t}u();var m=class{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};m.uint=new m(0,"uint",!0);m.negint=new m(1,"negint",!0);m.bytes=new m(2,"bytes",!0);m.string=new m(3,"string",!0);m.array=new m(4,"array",!1);m.map=new m(5,"map",!1);m.tag=new m(6,"tag",!1);m.float=new m(7,"float",!0);m.false=new m(7,"false",!0);m.true=new m(7,"true",!0);m.null=new m(7,"null",!0);m.undefined=new m(7,"undefined",!0);m.break=new m(7,"break",!0);var x$1=class{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};u();u();var fn$1=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",Mx=new TextDecoder,jx=new TextEncoder;function Ro$1(e){return fn$1&&globalThis.Buffer.isBuffer(e)}function Du(e){return e instanceof Uint8Array?Ro$1(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var _p=fn$1?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):vp(e,t,r):(e,t,r)=>r-t>64?Mx.decode(e.subarray(t,r)):vp(e,t,r),xp=fn$1?e=>e.length>64?globalThis.Buffer.from(e):bp(e):e=>e.length>64?jx.encode(e):bp(e),gt$1=e=>Uint8Array.from(e),ln$1=fn$1?(e,t,r)=>Ro$1(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),Dp=fn$1?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),Du(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},Ap=fn$1?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Sp(e,t){if(Ro$1(e)&&Ro$1(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function bp(e,t=1/0){let r,n=e.length,o=null,s=[];for(let w=0;w<n;++w){if(r=e.charCodeAt(w),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(w+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function vp(e,t,r){let n=[];for(;t<r;){let o=e[t],s=null,w=o>239?4:o>223?3:o>191?2:1;if(t+w<=r){let g,k,P,q;switch(w){case 1:o<128&&(s=o);break;case 2:g=e[t+1],(g&192)===128&&(q=(o&31)<<6|g&63,q>127&&(s=q));break;case 3:g=e[t+1],k=e[t+2],(g&192)===128&&(k&192)===128&&(q=(o&15)<<12|(g&63)<<6|k&63,q>2047&&(q<55296||q>57343)&&(s=q));break;case 4:g=e[t+1],k=e[t+2],P=e[t+3],(g&192)===128&&(k&192)===128&&(P&192)===128&&(q=(o&15)<<18|(g&63)<<12|(k&63)<<6|P&63,q>65535&&q<1114112&&(s=q))}}s===null?(s=65533,w=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),t+=w}return qx(n)}var Ep=4096;function qx(e){let t=e.length;if(t<=Ep)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Ep));return r}var Ux=256,hi$1=class{constructor(e=Ux){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let r=t.length-(this.maxCursor-this.cursor)-1;r<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,r),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Ap(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(this.chunks.length===1){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=ln$1(r,0,this.cursor)}else t=Dp(this.chunks,this.cursor);return e&&this.reset(),t}};u();var C$1="CBOR decode error:",Au="CBOR encode error:";function Rt$1(e,t,r){if(e.length-t<r)throw new Error(`${C$1} not enough data for type`)}u();u();var te$1=[24,256,65536,4294967296,BigInt("18446744073709551616")];function De(e,t,r){Rt$1(e,t,1);let n=e[t];if(r.strict===!0&&n<te$1[0])throw new Error(`${C$1} integer encoded in more bytes than necessary (strict decode)`);return n}function Ae(e,t,r){Rt$1(e,t,2);let n=e[t]<<8|e[t+1];if(r.strict===!0&&n<te$1[1])throw new Error(`${C$1} integer encoded in more bytes than necessary (strict decode)`);return n}function Se$1(e,t,r){Rt$1(e,t,4);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<te$1[2])throw new Error(`${C$1} integer encoded in more bytes than necessary (strict decode)`);return n}function Ce$1(e,t,r){Rt$1(e,t,8);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],s=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&s<te$1[3])throw new Error(`${C$1} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${C$1} integers outside of the safe integer range are not supported`)}function Cp(e,t,r,n){return new x$1(m.uint,De(e,t+1,n),2)}function Op(e,t,r,n){return new x$1(m.uint,Ae(e,t+1,n),3)}function Tp(e,t,r,n){return new x$1(m.uint,Se$1(e,t+1,n),5)}function Ip(e,t,r,n){return new x$1(m.uint,Ce$1(e,t+1,n),9)}function Fe$1(e,t){return se(e,0,t.value)}function se(e,t,r){if(r<te$1[0]){let n=Number(r);e.push([t|n])}else if(r<te$1[1]){let n=Number(r);e.push([t|24,n])}else if(r<te$1[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<te$1[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<te$1[4]){let o=[t|27,0,0,0,0,0,0,0],s=Number(n&BigInt(4294967295)),w=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=s&255,s=s>>8,o[7]=s&255,s=s>>8,o[6]=s&255,s=s>>8,o[5]=s&255,o[4]=w&255,w=w>>8,o[3]=w&255,w=w>>8,o[2]=w&255,w=w>>8,o[1]=w&255,e.push(o)}else throw new Error(`${C$1} encountered BigInt larger than allowable range`)}}Fe$1.encodedSize=function(e){return se.encodedSize(e.value)};se.encodedSize=function(e){return e<te$1[0]?1:e<te$1[1]?2:e<te$1[2]?3:e<te$1[3]?5:9};Fe$1.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};u();function Rp(e,t,r,n){return new x$1(m.negint,-1-De(e,t+1,n),2)}function Bp(e,t,r,n){return new x$1(m.negint,-1-Ae(e,t+1,n),3)}function Pp(e,t,r,n){return new x$1(m.negint,-1-Se$1(e,t+1,n),5)}var Su=BigInt(-1),kp=BigInt(1);function Fp(e,t,r,n){let o=Ce$1(e,t+1,n);if(typeof o!="bigint"){let s=-1-o;if(s>=Number.MIN_SAFE_INTEGER)return new x$1(m.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${C$1} integers outside of the safe integer range are not supported`);return new x$1(m.negint,Su-BigInt(o),9)}function Bo(e,t){let r=t.value,n=typeof r=="bigint"?r*Su-kp:r*-1-1;se(e,t.type.majorEncoded,n)}Bo.encodedSize=function(e){let t=e.value,r=typeof t=="bigint"?t*Su-kp:t*-1-1;return r<te$1[0]?1:r<te$1[1]?2:r<te$1[2]?3:r<te$1[3]?5:9};Bo.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0};u();function gi$1(e,t,r,n){Rt$1(e,t,r+n);let o=ln$1(e,t+r,t+r+n);return new x$1(m.bytes,o,r+n)}function Np(e,t,r,n){return gi$1(e,t,1,r)}function Lp(e,t,r,n){return gi$1(e,t,2,De(e,t+1,n))}function Mp(e,t,r,n){return gi$1(e,t,3,Ae(e,t+1,n))}function jp(e,t,r,n){return gi$1(e,t,5,Se$1(e,t+1,n))}function qp(e,t,r,n){let o=Ce$1(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C$1} 64-bit integer bytes lengths not supported`);return gi$1(e,t,9,o)}function Po$1(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===m.string?xp(e.value):e.value),e.encodedBytes}function dn$1(e,t){let r=Po$1(t);se(e,t.type.majorEncoded,r.length),e.push(r)}dn$1.encodedSize=function(e){let t=Po$1(e);return se.encodedSize(t.length)+t.length};dn$1.compareTokens=function(e,t){return Kx(Po$1(e),Po$1(t))};function Kx(e,t){return e.length<t.length?-1:e.length>t.length?1:Sp(e,t)}u();function mi$1(e,t,r,n,o){let s=r+n;Rt$1(e,t,s);let w=new x$1(m.string,_p(e,t+r,t+s),s);return o.retainStringBytes===!0&&(w.byteValue=ln$1(e,t+r,t+s)),w}function Up(e,t,r,n){return mi$1(e,t,1,r,n)}function $p(e,t,r,n){return mi$1(e,t,2,De(e,t+1,n),n)}function Kp(e,t,r,n){return mi$1(e,t,3,Ae(e,t+1,n),n)}function zp(e,t,r,n){return mi$1(e,t,5,Se$1(e,t+1,n),n)}function Wp(e,t,r,n){let o=Ce$1(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C$1} 64-bit integer string lengths not supported`);return mi$1(e,t,9,o,n)}var Vp=dn$1;u();function pn$1(e,t,r,n){return new x$1(m.array,n,r)}function Gp(e,t,r,n){return pn$1(e,t,1,r)}function Hp(e,t,r,n){return pn$1(e,t,2,De(e,t+1,n))}function Jp(e,t,r,n){return pn$1(e,t,3,Ae(e,t+1,n))}function Yp(e,t,r,n){return pn$1(e,t,5,Se$1(e,t+1,n))}function Qp(e,t,r,n){let o=Ce$1(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C$1} 64-bit integer array lengths not supported`);return pn$1(e,t,9,o)}function Zp(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C$1} indefinite length items not allowed`);return pn$1(e,t,1,1/0)}function ko$1(e,t){se(e,m.array.majorEncoded,t.value)}ko$1.compareTokens=Fe$1.compareTokens;ko$1.encodedSize=function(e){return se.encodedSize(e.value)};u();function hn$1(e,t,r,n){return new x$1(m.map,n,r)}function Xp(e,t,r,n){return hn$1(e,t,1,r)}function eh(e,t,r,n){return hn$1(e,t,2,De(e,t+1,n))}function th(e,t,r,n){return hn$1(e,t,3,Ae(e,t+1,n))}function rh(e,t,r,n){return hn$1(e,t,5,Se$1(e,t+1,n))}function nh(e,t,r,n){let o=Ce$1(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C$1} 64-bit integer map lengths not supported`);return hn$1(e,t,9,o)}function ih(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C$1} indefinite length items not allowed`);return hn$1(e,t,1,1/0)}function Fo(e,t){se(e,m.map.majorEncoded,t.value)}Fo.compareTokens=Fe$1.compareTokens;Fo.encodedSize=function(e){return se.encodedSize(e.value)};u();function oh(e,t,r,n){return new x$1(m.tag,r,1)}function sh(e,t,r,n){return new x$1(m.tag,De(e,t+1,n),2)}function ah(e,t,r,n){return new x$1(m.tag,Ae(e,t+1,n),3)}function uh$1(e,t,r,n){return new x$1(m.tag,Se$1(e,t+1,n),5)}function ch(e,t,r,n){return new x$1(m.tag,Ce$1(e,t+1,n),9)}function No$1(e,t){se(e,m.tag.majorEncoded,t.value)}No$1.compareTokens=Fe$1.compareTokens;No$1.encodedSize=function(e){return se.encodedSize(e.value)};u();var Jx=20,Yx=21,Qx=22,Zx=23;function fh(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${C$1} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new x$1(m.null,null,1):new x$1(m.undefined,void 0,1)}function lh(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C$1} indefinite length items not allowed`);return new x$1(m.break,void 0,1)}function Cu(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${C$1} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${C$1} Infinity values are not supported`)}return new x$1(m.float,e,t)}function dh(e,t,r,n){return Cu(Ou(e,t+1),3,n)}function ph(e,t,r,n){return Cu(Tu(e,t+1),5,n)}function hh(e,t,r,n){return Cu(wh(e,t+1),9,n)}function Lo(e,t,r){let n=t.value;if(n===!1)e.push([m.float.majorEncoded|Jx]);else if(n===!0)e.push([m.float.majorEncoded|Yx]);else if(n===null)e.push([m.float.majorEncoded|Qx]);else if(n===void 0)e.push([m.float.majorEncoded|Zx]);else{let o,s=!1;(!r||r.float64!==!0)&&(gh(n),o=Ou(Je,1),n===o||Number.isNaN(n)?(Je[0]=249,e.push(Je.slice(0,3)),s=!0):(mh(n),o=Tu(Je,1),n===o&&(Je[0]=250,e.push(Je.slice(0,5)),s=!0))),s||(Xx(n),o=wh(Je,1),Je[0]=251,e.push(Je.slice(0,9)))}}Lo.encodedSize=function(e,t){let r=e.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!t||t.float64!==!0){gh(r);let n=Ou(Je,1);if(r===n||Number.isNaN(r))return 3;if(mh(r),n=Tu(Je,1),r===n)return 5}return 9};var yh=new ArrayBuffer(9),Ne$1=new DataView(yh,1),Je=new Uint8Array(yh,0);function gh(e){if(e===1/0)Ne$1.setUint16(0,31744,!1);else if(e===-1/0)Ne$1.setUint16(0,64512,!1);else if(Number.isNaN(e))Ne$1.setUint16(0,32256,!1);else{Ne$1.setFloat32(0,e);let t=Ne$1.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)Ne$1.setUint16(0,31744,!1);else if(r===0)Ne$1.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?Ne$1.setUint16(0,0):o<-14?Ne$1.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):Ne$1.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function Ou(e,t){if(e.length-t<2)throw new Error(`${C$1} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,s;return n===0?s=o*2**-24:n!==31?s=(o+1024)*2**(n-25):s=o===0?1/0:NaN,r&32768?-s:s}function mh(e){Ne$1.setFloat32(0,e,!1)}function Tu(e,t){if(e.length-t<4)throw new Error(`${C$1} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function Xx(e){Ne$1.setFloat64(0,e,!1)}function wh(e,t){if(e.length-t<8)throw new Error(`${C$1} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}Lo.compareTokens=Fe$1.compareTokens;function N(e,t,r){throw new Error(`${C$1} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function Mo(e){return()=>{throw new Error(`${C$1} ${e}`)}}var v=[];for(let e=0;e<=23;e++)v[e]=N;v[24]=Cp;v[25]=Op;v[26]=Tp;v[27]=Ip;v[28]=N;v[29]=N;v[30]=N;v[31]=N;for(let e=32;e<=55;e++)v[e]=N;v[56]=Rp;v[57]=Bp;v[58]=Pp;v[59]=Fp;v[60]=N;v[61]=N;v[62]=N;v[63]=N;for(let e=64;e<=87;e++)v[e]=Np;v[88]=Lp;v[89]=Mp;v[90]=jp;v[91]=qp;v[92]=N;v[93]=N;v[94]=N;v[95]=Mo("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)v[e]=Up;v[120]=$p;v[121]=Kp;v[122]=zp;v[123]=Wp;v[124]=N;v[125]=N;v[126]=N;v[127]=Mo("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)v[e]=Gp;v[152]=Hp;v[153]=Jp;v[154]=Yp;v[155]=Qp;v[156]=N;v[157]=N;v[158]=N;v[159]=Zp;for(let e=160;e<=183;e++)v[e]=Xp;v[184]=eh;v[185]=th;v[186]=rh;v[187]=nh;v[188]=N;v[189]=N;v[190]=N;v[191]=ih;for(let e=192;e<=215;e++)v[e]=oh;v[216]=sh;v[217]=ah;v[218]=uh$1;v[219]=ch;v[220]=N;v[221]=N;v[222]=N;v[223]=N;for(let e=224;e<=243;e++)v[e]=Mo("simple values are not supported");v[244]=N;v[245]=N;v[246]=N;v[247]=fh;v[248]=Mo("simple values are not supported");v[249]=dh;v[250]=ph;v[251]=hh;v[252]=N;v[253]=N;v[254]=N;v[255]=lh;var Ye=[];for(let e=0;e<24;e++)Ye[e]=new x$1(m.uint,e,1);for(let e=-1;e>=-24;e--)Ye[31-e]=new x$1(m.negint,e,1);Ye[64]=new x$1(m.bytes,new Uint8Array(0),1);Ye[96]=new x$1(m.string,"",1);Ye[128]=new x$1(m.array,0,1);Ye[160]=new x$1(m.map,0,1);Ye[244]=new x$1(m.false,!1,1);Ye[245]=new x$1(m.true,!0,1);Ye[246]=new x$1(m.null,null,1);function bh(e){switch(e.type){case m.false:return gt$1([244]);case m.true:return gt$1([245]);case m.null:return gt$1([246]);case m.bytes:return e.value.length?void 0:gt$1([64]);case m.string:return e.value===""?gt$1([96]):void 0;case m.array:return e.value===0?gt$1([128]):void 0;case m.map:return e.value===0?gt$1([160]):void 0;case m.uint:return e.value<24?gt$1([Number(e.value)]):void 0;case m.negint:if(e.value>=-24)return gt$1([31-Number(e.value)])}}var t2={float64:!1,mapSorter:i2,quickEncodeToken:bh};function r2(){let e=[];return e[m.uint.major]=Fe$1,e[m.negint.major]=Bo,e[m.bytes.major]=dn$1,e[m.string.major]=Vp,e[m.array.major]=ko$1,e[m.map.major]=Fo,e[m.tag.major]=No$1,e[m.float.major]=Lo,e}var vh=r2(),Iu=new hi$1,yn$1=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${Au} object contains circular references`);return new yn$1(t,e)}},Kt={null:new x$1(m.null,null),undefined:new x$1(m.undefined,void 0),true:new x$1(m.true,!0),false:new x$1(m.false,!1),emptyArray:new x$1(m.array,0),emptyMap:new x$1(m.map,0)},zt={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new x$1(m.float,e):e>=0?new x$1(m.uint,e):new x$1(m.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new x$1(m.uint,e):new x$1(m.negint,e)},Uint8Array(e,t,r,n){return new x$1(m.bytes,e)},string(e,t,r,n){return new x$1(m.string,e)},boolean(e,t,r,n){return e?Kt.true:Kt.false},null(e,t,r,n){return Kt.null},undefined(e,t,r,n){return Kt.undefined},ArrayBuffer(e,t,r,n){return new x$1(m.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new x$1(m.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[Kt.emptyArray,new x$1(m.break)]:Kt.emptyArray;n=yn$1.createCheck(n,e);let o=[],s=0;for(let w of e)o[s++]=jo(w,r,n);return r.addBreakTokens?[new x$1(m.array,e.length),o,new x$1(m.break)]:[new x$1(m.array,e.length),o]},Object(e,t,r,n){let o=t!=="Object",s=o?e.keys():Object.keys(e),w=o?e.size:s.length;if(!w)return r.addBreakTokens===!0?[Kt.emptyMap,new x$1(m.break)]:Kt.emptyMap;n=yn$1.createCheck(n,e);let g=[],k=0;for(let P of s)g[k++]=[jo(P,r,n),jo(o?e.get(P):e[P],r,n)];return n2(g,r),r.addBreakTokens?[new x$1(m.map,w),g,new x$1(m.break)]:[new x$1(m.map,w),g]}};zt.Map=zt.Object;zt.Buffer=zt.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))zt[`${e}Array`]=zt.DataView;function jo(e,t={},r){let n=wp(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||zt[n];if(typeof o=="function"){let w=o(e,n,t,r);if(w!=null)return w}let s=zt[n];if(!s)throw new Error(`${Au} unsupported type: ${n}`);return s(e,n,t,r)}function n2(e,t){t.mapSorter&&e.sort(t.mapSorter)}function i2(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,s=vh[o].compareTokens(r,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function Eh(e,t,r,n){if(Array.isArray(t))for(let o of t)Eh(e,o,r,n);else r[t.type.major](e,t,n)}function o2(e,t,r){let n=jo(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let s=t[n.type.major];if(s.encodedSize){let w=s.encodedSize(n,r),g=new hi$1(w);if(s(g,n,r),g.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Du(g.chunks[0])}}return Iu.reset(),Eh(Iu,n,t,r),Iu.toBytes(!0)}function wr$1(e,t){return t=Object.assign({},t2,t),o2(e,vh,t)}u();var s2={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},Ru=class{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],t=Ye[e];if(t===void 0){let r=v[e];if(!r)throw new Error(`${C$1} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=e&31;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}},wi$1=Symbol.for("DONE"),qo=Symbol.for("BREAK");function a2(e,t,r){let n=[];for(let o=0;o<e.value;o++){let s=bi$1(t,r);if(s===qo){if(e.value===1/0)break;throw new Error(`${C$1} got unexpected break to lengthed array`)}if(s===wi$1)throw new Error(`${C$1} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=s}return n}function u2(e,t,r){let n=r.useMaps===!0,o=n?void 0:{},s=n?new Map:void 0;for(let w=0;w<e.value;w++){let g=bi$1(t,r);if(g===qo){if(e.value===1/0)break;throw new Error(`${C$1} got unexpected break to lengthed map`)}if(g===wi$1)throw new Error(`${C$1} found map but not enough entries (got ${w} [no key], expected ${e.value})`);if(n!==!0&&typeof g!="string")throw new Error(`${C$1} non-string keys not supported (got ${typeof g})`);let k=bi$1(t,r);if(k===wi$1)throw new Error(`${C$1} found map but not enough entries (got ${w} [no value], expected ${e.value})`);n?s.set(g,k):o[g]=k}return n?s:o}function bi$1(e,t){if(e.done())return wi$1;let r=e.next();if(r.type===m.break)return qo;if(r.type.terminal)return r.value;if(r.type===m.array)return a2(r,e,t);if(r.type===m.map)return u2(r,e,t);if(r.type===m.tag){if(t.tags&&typeof t.tags[r.value]=="function"){let n=bi$1(e,t);return t.tags[r.value](n)}throw new Error(`${C$1} tag not supported (${r.value})`)}throw new Error("unsupported")}function mt$1(e,t){if(!(e instanceof Uint8Array))throw new Error(`${C$1} data to decode must be a Uint8Array`);t=Object.assign({},s2,t);let r=t.tokenizer||new Ru(e,t),n=bi$1(r,t);if(n===wi$1)throw new Error(`${C$1} did not find any content to decode`);if(n===qo)throw new Error(`${C$1} got unexpected break`);if(!r.done())throw new Error(`${C$1} too many terminals, data makes no sense`);return n}u();ge();u();var Er$1=_$1(Ht$1(),1),by=Er$1.default.Reader,w2=Er$1.default.Writer;Er$1.default.util;var Wo=Er$1.default.roots.default||(Er$1.default.roots.default={}),vy=Wo.ipfs=(()=>{let e={};return e.pin=function(){let t={};return t.Set=function(){function r(n){if(n)for(var o=Object.keys(n),s=0;s<o.length;++s)n[o[s]]!=null&&(this[o[s]]=n[o[s]])}return r.prototype.version=0,r.prototype.fanout=0,r.prototype.seed=0,r.encode=function(n,o){return o||(o=w2.create()),n.version!=null&&Object.hasOwnProperty.call(n,"version")&&o.uint32(8).uint32(n.version),n.fanout!=null&&Object.hasOwnProperty.call(n,"fanout")&&o.uint32(16).uint32(n.fanout),n.seed!=null&&Object.hasOwnProperty.call(n,"seed")&&o.uint32(29).fixed32(n.seed),o},r.decode=function(n,o){n instanceof by||(n=by.create(n));for(var s=o===void 0?n.len:n.pos+o,w=new Wo.ipfs.pin.Set;n.pos<s;){var g=n.uint32();switch(g>>>3){case 1:w.version=n.uint32();break;case 2:w.fanout=n.uint32();break;case 3:w.seed=n.fixed32();break;default:n.skipType(g&7);break}}return w},r.fromObject=function(n){if(n instanceof Wo.ipfs.pin.Set)return n;var o=new Wo.ipfs.pin.Set;return n.version!=null&&(o.version=n.version>>>0),n.fanout!=null&&(o.fanout=n.fanout>>>0),n.seed!=null&&(o.seed=n.seed>>>0),o},r.toObject=function(n,o){o||(o={});var s={};return o.defaults&&(s.version=0,s.fanout=0,s.seed=0),n.version!=null&&n.hasOwnProperty("version")&&(s.version=n.version),n.fanout!=null&&n.hasOwnProperty("fanout")&&(s.fanout=n.fanout),n.seed!=null&&n.hasOwnProperty("seed")&&(s.seed=n.seed),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,Er$1.default.util.toJSONOptions)},r}(),t}(),e})(),ky=_$1(_y(),1),Jo=_$1(xi(),1);u();ht$1();ge();var Di=new A("/local/pins"),Go=256,By=8192,Hu=S$1.parse("QmdfTbBqBPQ7VNxZEYEj14VmRuZBkqFbiwReogJgS1zR1n"),_r={direct:"direct",recursive:"recursive"};function Ju(e){return new A(`/${U$1.encode(e.multihash.bytes).toUpperCase().substring(1)}`)}Ho();u();function Py(e,t){for(let r=0;r<e.byteLength;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}ke$1();yt$1();Do();var Qu=vy.pin.Set;function B2(e){let t=e.Data;if(!t)throw new Error("No data present");let r=Jo.default.decode(t),n=Jo.default.decode.bytes;if(n<=0)throw new Error("Invalid Set header length");if(n+r>t.length)throw new Error("Impossibly large set header length");let o=t.slice(n,r+n),s=Qu.toObject(Qu.decode(o),{defaults:!1,arrays:!0,longs:Number,objects:!1});if(s.version!==1)throw new Error(`Unsupported Set version: ${s.version}`);if(s.fanout>e.Links.length)throw new Error("Impossibly large fanout");return{header:s,data:t.slice(r+n)}}function P2(e,t){let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,e,!0);let n=oe(t.toString()),o=Ai([r,n],r.byteLength+n.byteLength);return(0,ky.default)(de(o))}async function*Fy(e,t){let r=B2(t),n=0;for(let o of t.Links){if(n<r.header.fanout){let s=o.Hash;if(!Hu.equals(s)){let w=await e.get(s),g=pi$1(w);yield*Fy(e,g)}}else yield o.Hash;n++}}async function*Si$1(e,t,r){let n=t.Links.find(w=>w.Name===r);if(!n)throw new Error("No link found with name "+r);let o=await e.get(n.Hash),s=pi$1(o);yield*Fy(e,s)}function k2(e,t){return r(t,0);async function r(n,o){let s=Qu.encode({version:1,fanout:Go,seed:o}).finish(),w=Jo.default.encode(s.length),g=Ai([w,s]),k=[];for(let q=0;q<Go;q++)k.push({Name:"",Tsize:1,Hash:Hu});if(n.length<=By){let q=n.map(he=>({link:{Name:"",Tsize:1,Hash:he.key},data:he.data||new Uint8Array})).sort((he,V)=>Py(he.link.Hash.bytes,V.link.Hash.bytes)),ie=k.concat(q.map(he=>he.link));return{Data:Ai([g,...q.map(he=>he.data)]),Links:ie}}else{let q=n.reduce((he,V)=>{let X=P2(o,V.key)%Go;return he[X]=X in he?he[X].concat([V]):[V],he},[]),ie=0;for(let he of q){let V=await r(he,o+1);await P(V,ie),ie++}return{Data:g,Links:k}}async function P(q,ie){let he=di$1(q),V=await un$1.digest(he),X=S$1.createV0(V);await e.put(X,he);let L=q.Links.reduce((we,Ee)=>we+(Ee.Tsize||0),0)+he.length;k[ie]={Name:"",Tsize:L,Hash:X}}}}async function Zu(e,t,r){let n=await k2(e,r.map(k=>({key:k}))),o=di$1(n),s=await un$1.digest(o),w=S$1.createV0(s);await e.put(w,o);let g=n.Links.reduce((k,P)=>k+P.Tsize,0)+o.length;return{Name:t,Tsize:g,Hash:w}}var Yo=_$1(Eu(),1);Do();pt$1();ht$1();async function N2(e,t,r,n){if(!await t.has(Di))return;let o=await t.get(Di),s=S$1.decode(o),w=await e.get(s),g=pi$1(w),k=0,P=await(0,Yo.default)(Si$1(e,g,_r.recursive))+await(0,Yo.default)(Si$1(e,g,_r.direct));for await(let q of Si$1(e,g,_r.recursive)){k++;let ie={depth:1/0};q.version!==0&&(ie.version=q.version),q.code!==It&&(ie.codec=q.code),await r.put(Ju(q),wr$1(ie)),n(k/P*100,`Migrated recursive pin ${q}`)}for await(let q of Si$1(e,g,_r.direct)){k++;let ie={depth:0};q.version!==0&&(ie.version=q.version),q.code!==It&&(ie.codec=q.code),await r.put(Ju(q),wr$1(ie)),n(k/P*100,`Migrated direct pin ${q}`)}await e.delete(s),await t.delete(Di)}async function L2(e,t,r,n){let o=[],s=[],w=0,g=await(0,Yo.default)(r.queryKeys({}));for await(let{key:he,value:V}of r.query({})){w++;let X=mt$1(V),L=S$1.create(X.version||0,X.codec||It,Ve(U$1.decode("b"+he.toString().toLowerCase().split("/").pop())));X.depth===0?(n(w/g*100,`Reverted direct pin ${L}`),s.push(L)):(n(w/g*100,`Reverted recursive pin ${L}`),o.push(L))}n(100,"Updating pin root");let k={Links:[await Zu(e,_r.direct,s),await Zu(e,_r.recursive,o)]},P=di$1(k),q=await un$1.digest(P),ie=S$1.createV0(q);await e.put(ie,P),await t.put(Di,ie.bytes)}async function Ny(e,t,r){let n=e.blocks,o=e.datastore,s=e.pins;await n.open(),await o.open(),await s.open();try{await r(n,o,s,t)}finally{await s.close(),await o.close(),await n.close()}}var Ly={version:9,description:"Migrates pins to datastore",migrate:(e,t=()=>{})=>Ny(e,t,N2),revert:(e,t=()=>{})=>Ny(e,t,L2)};u();u();var Me$1={};G$1(Me$1,{abortedError:()=>M2,dbDeleteFailedError:()=>ec$1,dbOpenFailedError:()=>Xu,dbWriteFailedError:()=>tc$1,notFoundError:()=>Bt});u();var mn$1=_$1(dt$1(),1);function Xu(e){return e=e||new Error("Cannot open database"),(0,mn$1.default)(e,"ERR_DB_OPEN_FAILED")}function ec$1(e){return e=e||new Error("Delete failed"),(0,mn$1.default)(e,"ERR_DB_DELETE_FAILED")}function tc$1(e){return e=e||new Error("Write failed"),(0,mn$1.default)(e,"ERR_DB_WRITE_FAILED")}function Bt(e){return e=e||new Error("Not Found"),(0,mn$1.default)(e,"ERR_NOT_FOUND")}function M2(e){return e=e||new Error("Aborted"),(0,mn$1.default)(e,"ERR_ABORTED")}var My=new A("/config"),Ci$1=new A("/version");function Oi$1(e){let t=e;for(;t.db||t.child;)if(t=t.db||t.child,t.type==="level-js"||t.constructor.name==="Level")return t}async function j2(e,t,r){let n=await t(e);if(n)return n;let o=Oi$1(r);return o?new Promise((s,w)=>{let g=o.store("readonly").get(e.toString());g.transaction.onabort=()=>{w(g.transaction.error)},g.transaction.oncomplete=()=>{s(Boolean(g.result))}}):!1}async function q2(e,t,r,n){if(await r(e))return t(e);let o=Oi$1(n);if(!o)throw Bt();return new Promise((s,w)=>{let g=o.store("readonly").get(e.toString());g.transaction.onabort=()=>{w(g.transaction.error)},g.transaction.oncomplete=()=>{if(g.result)return s(g.result);w(Bt())}})}function Qo(e){let t=e.get.bind(e),r=e.has.bind(e);return e.get=n=>q2(n,t,r,e),e.has=n=>j2(n,r,e),e}function rc$1(e){return{...e,root:Qo(e.root),datastore:Qo(e.datastore),pins:Qo(e.pins),keys:Qo(e.keys)}}yt$1();ke$1();async function U2(e,t,r=()=>{}){let n=Oi$1(t);if(!n){r(`${e} did not need an upgrade`);return}r(`Upgrading ${e}`),await $y(n,(o,s)=>[{type:"del",key:o},{type:"put",key:oe(o),value:s}])}async function $2(e,t,r=()=>{}){let n=Oi$1(t);if(!n){r(`${e} did not need a downgrade`);return}r(`Downgrading ${e}`),await $y(n,(o,s)=>[{type:"del",key:o},{type:"put",key:de(o),value:s}])}function qy(e){return e.child?qy(e.child):e}async function jy(e,t,r){let n=Object.entries(e).map(([w,g])=>({key:w,backend:qy(g)})).filter(({key:w,backend:g})=>g.constructor.name==="LevelDatastore").map(({key:w,backend:g})=>({name:w,store:g}));t(0,`Migrating ${n.length} dbs`);let o=0,s=w=>{t(Math.round(o/n.length*100),w)};for(let{name:w,store:g}of n){await g.open();try{await r(w,g,s)}finally{o++,await g.close()}}t(100,`Migrated ${n.length} dbs`)}var Uy={version:10,description:"Migrates datastore-level keys to binary",migrate:(e,t=()=>{})=>jy(e,t,U2),revert:(e,t=()=>{})=>jy(e,t,$2)};function $y(e,t){function r(n,o){let s=e.store("readwrite"),w=s.transaction,g=0,k;w.onabort=()=>o(k||w.error||new Error("aborted by user")),w.oncomplete=()=>o();function P(){let q=n[g++],ie=q.key,he;try{he=q.type==="del"?s.delete(ie):s.put(q.value,ie)}catch(V){k=V,w.abort();return}g<n.length&&(he.onsuccess=P)}P()}return new Promise((n,o)=>{let s=e.iterator(),w=k=>k;s._deserializeKey=s._deserializeValue=w,g();function g(){let k=(P,q,ie)=>{if(P||q===void 0){let he=V=>{if(V){o(V);return}n()};s.end(he);return}r(t(q,ie),g)};s.next(k)}})}u();var Jt=new A("/local/filesroot");async function K2(e,t=()=>{}){if(t(100,"Migrating MFS root to repo datastore"),await e.root.open(),await e.datastore.open(),await e.root.has(Jt)){let r=await e.root.get(Jt);await e.datastore.put(Jt,r),await e.root.delete(Jt)}await e.datastore.close(),await e.root.close(),t(100,"Stored MFS root in repo datastore")}async function z2(e,t=()=>{}){if(t(100,"Migrating MFS root to repo root datastore"),await e.root.open(),await e.datastore.open(),await e.datastore.has(Jt)){let r=await e.datastore.get(Jt);await e.root.put(Jt,r),await e.datastore.delete(Jt)}await e.datastore.close(),await e.root.close(),t(100,"Stored MFS root in repo root datastore")}var Ky={version:11,description:"Store mfs root in the datastore",migrate:K2,revert:z2};u();var bc$1=_$1(Ht$1(),1);u();var xr$1=_$1(Ht$1(),1),zy=xr$1.default.Reader,W2=xr$1.default.Writer,V2=xr$1.default.util,Zo=xr$1.default.roots.default||(xr$1.default.roots.default={}),nc$1=Zo.Protocols=(()=>{function e(t){if(this.protocols=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.protocols=V2.emptyArray,e.encode=function(t,r){if(r||(r=W2.create()),t.protocols!=null&&t.protocols.length)for(var n=0;n<t.protocols.length;++n)r.uint32(10).string(t.protocols[n]);return r},e.decode=function(t,r){t instanceof zy||(t=zy.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Zo.Protocols;t.pos<n;){var s=t.uint32();switch(s>>>3){case 1:o.protocols&&o.protocols.length||(o.protocols=[]),o.protocols.push(t.string());break;default:t.skipType(s&7);break}}return o},e.fromObject=function(t){if(t instanceof Zo.Protocols)return t;var r=new Zo.Protocols;if(t.protocols){if(!Array.isArray(t.protocols))throw TypeError(".Protocols.protocols: array expected");r.protocols=[];for(var n=0;n<t.protocols.length;++n)r.protocols[n]=String(t.protocols[n])}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.protocols=[]),t.protocols&&t.protocols.length){n.protocols=[];for(var o=0;o<t.protocols.length;++o)n.protocols[o]=t.protocols[o]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,xr$1.default.util.toJSONOptions)},e})();u();var Pt$1=_$1(Ht$1(),1),wn$1=Pt$1.default.Reader,ic$1=Pt$1.default.Writer,$=Pt$1.default.util,ne$1=Pt$1.default.roots.default||(Pt$1.default.roots.default={}),oc$1=ne$1.Addresses=(()=>{function e(t){if(this.addrs=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.addrs=$.emptyArray,e.prototype.certifiedRecord=null,e.encode=function(t,r){if(r||(r=ic$1.create()),t.addrs!=null&&t.addrs.length)for(var n=0;n<t.addrs.length;++n)ne$1.Addresses.Address.encode(t.addrs[n],r.uint32(10).fork()).ldelim();return t.certifiedRecord!=null&&Object.hasOwnProperty.call(t,"certifiedRecord")&&ne$1.Addresses.CertifiedRecord.encode(t.certifiedRecord,r.uint32(18).fork()).ldelim(),r},e.decode=function(t,r){t instanceof wn$1||(t=wn$1.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new ne$1.Addresses;t.pos<n;){var s=t.uint32();switch(s>>>3){case 1:o.addrs&&o.addrs.length||(o.addrs=[]),o.addrs.push(ne$1.Addresses.Address.decode(t,t.uint32()));break;case 2:o.certifiedRecord=ne$1.Addresses.CertifiedRecord.decode(t,t.uint32());break;default:t.skipType(s&7);break}}return o},e.fromObject=function(t){if(t instanceof ne$1.Addresses)return t;var r=new ne$1.Addresses;if(t.addrs){if(!Array.isArray(t.addrs))throw TypeError(".Addresses.addrs: array expected");r.addrs=[];for(var n=0;n<t.addrs.length;++n){if(typeof t.addrs[n]!="object")throw TypeError(".Addresses.addrs: object expected");r.addrs[n]=ne$1.Addresses.Address.fromObject(t.addrs[n])}}if(t.certifiedRecord!=null){if(typeof t.certifiedRecord!="object")throw TypeError(".Addresses.certifiedRecord: object expected");r.certifiedRecord=ne$1.Addresses.CertifiedRecord.fromObject(t.certifiedRecord)}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.addrs=[]),r.defaults&&(n.certifiedRecord=null),t.addrs&&t.addrs.length){n.addrs=[];for(var o=0;o<t.addrs.length;++o)n.addrs[o]=ne$1.Addresses.Address.toObject(t.addrs[o],r)}return t.certifiedRecord!=null&&t.hasOwnProperty("certifiedRecord")&&(n.certifiedRecord=ne$1.Addresses.CertifiedRecord.toObject(t.certifiedRecord,r)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Pt$1.default.util.toJSONOptions)},e.Address=function(){function t(n){if(n)for(var o=Object.keys(n),s=0;s<o.length;++s)n[o[s]]!=null&&(this[o[s]]=n[o[s]])}t.prototype.multiaddr=$.newBuffer([]),t.prototype.isCertified=null;let r;return Object.defineProperty(t.prototype,"_isCertified",{get:$.oneOfGetter(r=["isCertified"]),set:$.oneOfSetter(r)}),t.encode=function(n,o){return o||(o=ic$1.create()),n.multiaddr!=null&&Object.hasOwnProperty.call(n,"multiaddr")&&o.uint32(10).bytes(n.multiaddr),n.isCertified!=null&&Object.hasOwnProperty.call(n,"isCertified")&&o.uint32(16).bool(n.isCertified),o},t.decode=function(n,o){n instanceof wn$1||(n=wn$1.create(n));for(var s=o===void 0?n.len:n.pos+o,w=new ne$1.Addresses.Address;n.pos<s;){var g=n.uint32();switch(g>>>3){case 1:w.multiaddr=n.bytes();break;case 2:w.isCertified=n.bool();break;default:n.skipType(g&7);break}}return w},t.fromObject=function(n){if(n instanceof ne$1.Addresses.Address)return n;var o=new ne$1.Addresses.Address;return n.multiaddr!=null&&(typeof n.multiaddr=="string"?$.base64.decode(n.multiaddr,o.multiaddr=$.newBuffer($.base64.length(n.multiaddr)),0):n.multiaddr.length&&(o.multiaddr=n.multiaddr)),n.isCertified!=null&&(o.isCertified=Boolean(n.isCertified)),o},t.toObject=function(n,o){o||(o={});var s={};return o.defaults&&(o.bytes===String?s.multiaddr="":(s.multiaddr=[],o.bytes!==Array&&(s.multiaddr=$.newBuffer(s.multiaddr)))),n.multiaddr!=null&&n.hasOwnProperty("multiaddr")&&(s.multiaddr=o.bytes===String?$.base64.encode(n.multiaddr,0,n.multiaddr.length):o.bytes===Array?Array.prototype.slice.call(n.multiaddr):n.multiaddr),n.isCertified!=null&&n.hasOwnProperty("isCertified")&&(s.isCertified=n.isCertified,o.oneofs&&(s._isCertified="isCertified")),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,Pt$1.default.util.toJSONOptions)},t}(),e.CertifiedRecord=function(){function t(r){if(r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}return t.prototype.seq=$.Long?$.Long.fromBits(0,0,!0):0,t.prototype.raw=$.newBuffer([]),t.encode=function(r,n){return n||(n=ic$1.create()),r.seq!=null&&Object.hasOwnProperty.call(r,"seq")&&n.uint32(8).uint64(r.seq),r.raw!=null&&Object.hasOwnProperty.call(r,"raw")&&n.uint32(18).bytes(r.raw),n},t.decode=function(r,n){r instanceof wn$1||(r=wn$1.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new ne$1.Addresses.CertifiedRecord;r.pos<o;){var w=r.uint32();switch(w>>>3){case 1:s.seq=r.uint64();break;case 2:s.raw=r.bytes();break;default:r.skipType(w&7);break}}return s},t.fromObject=function(r){if(r instanceof ne$1.Addresses.CertifiedRecord)return r;var n=new ne$1.Addresses.CertifiedRecord;return r.seq!=null&&($.Long?(n.seq=$.Long.fromValue(r.seq)).unsigned=!0:typeof r.seq=="string"?n.seq=parseInt(r.seq,10):typeof r.seq=="number"?n.seq=r.seq:typeof r.seq=="object"&&(n.seq=new $.LongBits(r.seq.low>>>0,r.seq.high>>>0).toNumber(!0))),r.raw!=null&&(typeof r.raw=="string"?$.base64.decode(r.raw,n.raw=$.newBuffer($.base64.length(r.raw)),0):r.raw.length&&(n.raw=r.raw)),n},t.toObject=function(r,n){n||(n={});var o={};if(n.defaults){if($.Long){var s=new $.Long(0,0,!0);o.seq=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.seq=n.longs===String?"0":0;n.bytes===String?o.raw="":(o.raw=[],n.bytes!==Array&&(o.raw=$.newBuffer(o.raw)))}return r.seq!=null&&r.hasOwnProperty("seq")&&(typeof r.seq=="number"?o.seq=n.longs===String?String(r.seq):r.seq:o.seq=n.longs===String?$.Long.prototype.toString.call(r.seq):n.longs===Number?new $.LongBits(r.seq.low>>>0,r.seq.high>>>0).toNumber(!0):r.seq),r.raw!=null&&r.hasOwnProperty("raw")&&(o.raw=n.bytes===String?$.base64.encode(r.raw,0,r.raw.length):n.bytes===Array?Array.prototype.slice.call(r.raw):r.raw),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,Pt$1.default.util.toJSONOptions)},t}(),e})();u();var kt=_$1(Ht$1(),1),bn$1=kt.default.Reader,sc$1=kt.default.Writer,M$1=kt.default.util,Q$1=kt.default.roots.default||(kt.default.roots.default={}),ac$1=Q$1.Peer=(()=>{function e(r){if(this.addresses=[],this.protocols=[],this.metadata=[],r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}e.prototype.addresses=M$1.emptyArray,e.prototype.protocols=M$1.emptyArray,e.prototype.metadata=M$1.emptyArray,e.prototype.pubKey=null,e.prototype.peerRecordEnvelope=null;let t;return Object.defineProperty(e.prototype,"_pubKey",{get:M$1.oneOfGetter(t=["pubKey"]),set:M$1.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_peerRecordEnvelope",{get:M$1.oneOfGetter(t=["peerRecordEnvelope"]),set:M$1.oneOfSetter(t)}),e.encode=function(r,n){if(n||(n=sc$1.create()),r.addresses!=null&&r.addresses.length)for(var o=0;o<r.addresses.length;++o)Q$1.Address.encode(r.addresses[o],n.uint32(10).fork()).ldelim();if(r.protocols!=null&&r.protocols.length)for(var o=0;o<r.protocols.length;++o)n.uint32(18).string(r.protocols[o]);if(r.metadata!=null&&r.metadata.length)for(var o=0;o<r.metadata.length;++o)Q$1.Metadata.encode(r.metadata[o],n.uint32(26).fork()).ldelim();return r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&n.uint32(34).bytes(r.pubKey),r.peerRecordEnvelope!=null&&Object.hasOwnProperty.call(r,"peerRecordEnvelope")&&n.uint32(42).bytes(r.peerRecordEnvelope),n},e.decode=function(r,n){r instanceof bn$1||(r=bn$1.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new Q$1.Peer;r.pos<o;){var w=r.uint32();switch(w>>>3){case 1:s.addresses&&s.addresses.length||(s.addresses=[]),s.addresses.push(Q$1.Address.decode(r,r.uint32()));break;case 2:s.protocols&&s.protocols.length||(s.protocols=[]),s.protocols.push(r.string());break;case 3:s.metadata&&s.metadata.length||(s.metadata=[]),s.metadata.push(Q$1.Metadata.decode(r,r.uint32()));break;case 4:s.pubKey=r.bytes();break;case 5:s.peerRecordEnvelope=r.bytes();break;default:r.skipType(w&7);break}}return s},e.fromObject=function(r){if(r instanceof Q$1.Peer)return r;var n=new Q$1.Peer;if(r.addresses){if(!Array.isArray(r.addresses))throw TypeError(".Peer.addresses: array expected");n.addresses=[];for(var o=0;o<r.addresses.length;++o){if(typeof r.addresses[o]!="object")throw TypeError(".Peer.addresses: object expected");n.addresses[o]=Q$1.Address.fromObject(r.addresses[o])}}if(r.protocols){if(!Array.isArray(r.protocols))throw TypeError(".Peer.protocols: array expected");n.protocols=[];for(var o=0;o<r.protocols.length;++o)n.protocols[o]=String(r.protocols[o])}if(r.metadata){if(!Array.isArray(r.metadata))throw TypeError(".Peer.metadata: array expected");n.metadata=[];for(var o=0;o<r.metadata.length;++o){if(typeof r.metadata[o]!="object")throw TypeError(".Peer.metadata: object expected");n.metadata[o]=Q$1.Metadata.fromObject(r.metadata[o])}}return r.pubKey!=null&&(typeof r.pubKey=="string"?M$1.base64.decode(r.pubKey,n.pubKey=M$1.newBuffer(M$1.base64.length(r.pubKey)),0):r.pubKey.length&&(n.pubKey=r.pubKey)),r.peerRecordEnvelope!=null&&(typeof r.peerRecordEnvelope=="string"?M$1.base64.decode(r.peerRecordEnvelope,n.peerRecordEnvelope=M$1.newBuffer(M$1.base64.length(r.peerRecordEnvelope)),0):r.peerRecordEnvelope.length&&(n.peerRecordEnvelope=r.peerRecordEnvelope)),n},e.toObject=function(r,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.addresses=[],o.protocols=[],o.metadata=[]),r.addresses&&r.addresses.length){o.addresses=[];for(var s=0;s<r.addresses.length;++s)o.addresses[s]=Q$1.Address.toObject(r.addresses[s],n)}if(r.protocols&&r.protocols.length){o.protocols=[];for(var s=0;s<r.protocols.length;++s)o.protocols[s]=r.protocols[s]}if(r.metadata&&r.metadata.length){o.metadata=[];for(var s=0;s<r.metadata.length;++s)o.metadata[s]=Q$1.Metadata.toObject(r.metadata[s],n)}return r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(o.pubKey=n.bytes===String?M$1.base64.encode(r.pubKey,0,r.pubKey.length):n.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey,n.oneofs&&(o._pubKey="pubKey")),r.peerRecordEnvelope!=null&&r.hasOwnProperty("peerRecordEnvelope")&&(o.peerRecordEnvelope=n.bytes===String?M$1.base64.encode(r.peerRecordEnvelope,0,r.peerRecordEnvelope.length):n.bytes===Array?Array.prototype.slice.call(r.peerRecordEnvelope):r.peerRecordEnvelope,n.oneofs&&(o._peerRecordEnvelope="peerRecordEnvelope")),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,kt.default.util.toJSONOptions)},e})();Q$1.Address=(()=>{function e(r){if(r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}e.prototype.multiaddr=M$1.newBuffer([]),e.prototype.isCertified=null;let t;return Object.defineProperty(e.prototype,"_isCertified",{get:M$1.oneOfGetter(t=["isCertified"]),set:M$1.oneOfSetter(t)}),e.encode=function(r,n){return n||(n=sc$1.create()),r.multiaddr!=null&&Object.hasOwnProperty.call(r,"multiaddr")&&n.uint32(10).bytes(r.multiaddr),r.isCertified!=null&&Object.hasOwnProperty.call(r,"isCertified")&&n.uint32(16).bool(r.isCertified),n},e.decode=function(r,n){r instanceof bn$1||(r=bn$1.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new Q$1.Address;r.pos<o;){var w=r.uint32();switch(w>>>3){case 1:s.multiaddr=r.bytes();break;case 2:s.isCertified=r.bool();break;default:r.skipType(w&7);break}}return s},e.fromObject=function(r){if(r instanceof Q$1.Address)return r;var n=new Q$1.Address;return r.multiaddr!=null&&(typeof r.multiaddr=="string"?M$1.base64.decode(r.multiaddr,n.multiaddr=M$1.newBuffer(M$1.base64.length(r.multiaddr)),0):r.multiaddr.length&&(n.multiaddr=r.multiaddr)),r.isCertified!=null&&(n.isCertified=Boolean(r.isCertified)),n},e.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(n.bytes===String?o.multiaddr="":(o.multiaddr=[],n.bytes!==Array&&(o.multiaddr=M$1.newBuffer(o.multiaddr)))),r.multiaddr!=null&&r.hasOwnProperty("multiaddr")&&(o.multiaddr=n.bytes===String?M$1.base64.encode(r.multiaddr,0,r.multiaddr.length):n.bytes===Array?Array.prototype.slice.call(r.multiaddr):r.multiaddr),r.isCertified!=null&&r.hasOwnProperty("isCertified")&&(o.isCertified=r.isCertified,n.oneofs&&(o._isCertified="isCertified")),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,kt.default.util.toJSONOptions)},e})();Q$1.Metadata=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.key="",e.prototype.value=M$1.newBuffer([]),e.encode=function(t,r){return r||(r=sc$1.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&r.uint32(10).string(t.key),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&r.uint32(18).bytes(t.value),r},e.decode=function(t,r){t instanceof bn$1||(t=bn$1.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Q$1.Metadata;t.pos<n;){var s=t.uint32();switch(s>>>3){case 1:o.key=t.string();break;case 2:o.value=t.bytes();break;default:t.skipType(s&7);break}}return o},e.fromObject=function(t){if(t instanceof Q$1.Metadata)return t;var r=new Q$1.Metadata;return t.key!=null&&(r.key=String(t.key)),t.value!=null&&(typeof t.value=="string"?M$1.base64.decode(t.value,r.value=M$1.newBuffer(M$1.base64.length(t.value)),0):t.value.length&&(r.value=t.value)),r},e.toObject=function(t,r){r||(r={});var n={};return r.defaults&&(n.key="",r.bytes===String?n.value="":(n.value=[],r.bytes!==Array&&(n.value=M$1.newBuffer(n.value)))),t.key!=null&&t.hasOwnProperty("key")&&(n.key=t.key),t.value!=null&&t.hasOwnProperty("value")&&(n.value=r.bytes===String?M$1.base64.encode(t.value,0,t.value.length):r.bytes===Array?Array.prototype.slice.call(t.value):t.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,kt.default.util.toJSONOptions)},e})();u();var Dr$1=_$1(Ht$1(),1),Wy=Dr$1.default.Reader,G2=Dr$1.default.Writer,K=Dr$1.default.util,Xo=Dr$1.default.roots.default||(Dr$1.default.roots.default={}),Vy=Xo.Envelope=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.publicKey=K.newBuffer([]),e.prototype.payloadType=K.newBuffer([]),e.prototype.payload=K.newBuffer([]),e.prototype.signature=K.newBuffer([]),e.encode=function(t,r){return r||(r=G2.create()),t.publicKey!=null&&Object.hasOwnProperty.call(t,"publicKey")&&r.uint32(10).bytes(t.publicKey),t.payloadType!=null&&Object.hasOwnProperty.call(t,"payloadType")&&r.uint32(18).bytes(t.payloadType),t.payload!=null&&Object.hasOwnProperty.call(t,"payload")&&r.uint32(26).bytes(t.payload),t.signature!=null&&Object.hasOwnProperty.call(t,"signature")&&r.uint32(42).bytes(t.signature),r},e.decode=function(t,r){t instanceof Wy||(t=Wy.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Xo.Envelope;t.pos<n;){var s=t.uint32();switch(s>>>3){case 1:o.publicKey=t.bytes();break;case 2:o.payloadType=t.bytes();break;case 3:o.payload=t.bytes();break;case 5:o.signature=t.bytes();break;default:t.skipType(s&7);break}}return o},e.fromObject=function(t){if(t instanceof Xo.Envelope)return t;var r=new Xo.Envelope;return t.publicKey!=null&&(typeof t.publicKey=="string"?K.base64.decode(t.publicKey,r.publicKey=K.newBuffer(K.base64.length(t.publicKey)),0):t.publicKey.length&&(r.publicKey=t.publicKey)),t.payloadType!=null&&(typeof t.payloadType=="string"?K.base64.decode(t.payloadType,r.payloadType=K.newBuffer(K.base64.length(t.payloadType)),0):t.payloadType.length&&(r.payloadType=t.payloadType)),t.payload!=null&&(typeof t.payload=="string"?K.base64.decode(t.payload,r.payload=K.newBuffer(K.base64.length(t.payload)),0):t.payload.length&&(r.payload=t.payload)),t.signature!=null&&(typeof t.signature=="string"?K.base64.decode(t.signature,r.signature=K.newBuffer(K.base64.length(t.signature)),0):t.signature.length&&(r.signature=t.signature)),r},e.toObject=function(t,r){r||(r={});var n={};return r.defaults&&(r.bytes===String?n.publicKey="":(n.publicKey=[],r.bytes!==Array&&(n.publicKey=K.newBuffer(n.publicKey))),r.bytes===String?n.payloadType="":(n.payloadType=[],r.bytes!==Array&&(n.payloadType=K.newBuffer(n.payloadType))),r.bytes===String?n.payload="":(n.payload=[],r.bytes!==Array&&(n.payload=K.newBuffer(n.payload))),r.bytes===String?n.signature="":(n.signature=[],r.bytes!==Array&&(n.signature=K.newBuffer(n.signature)))),t.publicKey!=null&&t.hasOwnProperty("publicKey")&&(n.publicKey=r.bytes===String?K.base64.encode(t.publicKey,0,t.publicKey.length):r.bytes===Array?Array.prototype.slice.call(t.publicKey):t.publicKey),t.payloadType!=null&&t.hasOwnProperty("payloadType")&&(n.payloadType=r.bytes===String?K.base64.encode(t.payloadType,0,t.payloadType.length):r.bytes===Array?Array.prototype.slice.call(t.payloadType):t.payloadType),t.payload!=null&&t.hasOwnProperty("payload")&&(n.payload=r.bytes===String?K.base64.encode(t.payload,0,t.payload.length):r.bytes===Array?Array.prototype.slice.call(t.payload):t.payload),t.signature!=null&&t.hasOwnProperty("signature")&&(n.signature=r.bytes===String?K.base64.encode(t.signature,0,t.signature.length):r.bytes===Array?Array.prototype.slice.call(t.signature):t.signature),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Dr$1.default.util.toJSONOptions)},e})();u();var Yt$1=_$1(Ht$1(),1),es$1=Yt$1.default.Reader,Gy=Yt$1.default.Writer,W=Yt$1.default.util,Xe$1=Yt$1.default.roots.default||(Yt$1.default.roots.default={}),Hy=Xe$1.PeerRecord=(()=>{function e(t){if(this.addresses=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.peerId=W.newBuffer([]),e.prototype.seq=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.addresses=W.emptyArray,e.encode=function(t,r){if(r||(r=Gy.create()),t.peerId!=null&&Object.hasOwnProperty.call(t,"peerId")&&r.uint32(10).bytes(t.peerId),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&r.uint32(16).uint64(t.seq),t.addresses!=null&&t.addresses.length)for(var n=0;n<t.addresses.length;++n)Xe$1.PeerRecord.AddressInfo.encode(t.addresses[n],r.uint32(26).fork()).ldelim();return r},e.decode=function(t,r){t instanceof es$1||(t=es$1.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Xe$1.PeerRecord;t.pos<n;){var s=t.uint32();switch(s>>>3){case 1:o.peerId=t.bytes();break;case 2:o.seq=t.uint64();break;case 3:o.addresses&&o.addresses.length||(o.addresses=[]),o.addresses.push(Xe$1.PeerRecord.AddressInfo.decode(t,t.uint32()));break;default:t.skipType(s&7);break}}return o},e.fromObject=function(t){if(t instanceof Xe$1.PeerRecord)return t;var r=new Xe$1.PeerRecord;if(t.peerId!=null&&(typeof t.peerId=="string"?W.base64.decode(t.peerId,r.peerId=W.newBuffer(W.base64.length(t.peerId)),0):t.peerId.length&&(r.peerId=t.peerId)),t.seq!=null&&(W.Long?(r.seq=W.Long.fromValue(t.seq)).unsigned=!0:typeof t.seq=="string"?r.seq=parseInt(t.seq,10):typeof t.seq=="number"?r.seq=t.seq:typeof t.seq=="object"&&(r.seq=new W.LongBits(t.seq.low>>>0,t.seq.high>>>0).toNumber(!0))),t.addresses){if(!Array.isArray(t.addresses))throw TypeError(".PeerRecord.addresses: array expected");r.addresses=[];for(var n=0;n<t.addresses.length;++n){if(typeof t.addresses[n]!="object")throw TypeError(".PeerRecord.addresses: object expected");r.addresses[n]=Xe$1.PeerRecord.AddressInfo.fromObject(t.addresses[n])}}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.addresses=[]),r.defaults)if(r.bytes===String?n.peerId="":(n.peerId=[],r.bytes!==Array&&(n.peerId=W.newBuffer(n.peerId))),W.Long){var o=new W.Long(0,0,!0);n.seq=r.longs===String?o.toString():r.longs===Number?o.toNumber():o}else n.seq=r.longs===String?"0":0;if(t.peerId!=null&&t.hasOwnProperty("peerId")&&(n.peerId=r.bytes===String?W.base64.encode(t.peerId,0,t.peerId.length):r.bytes===Array?Array.prototype.slice.call(t.peerId):t.peerId),t.seq!=null&&t.hasOwnProperty("seq")&&(typeof t.seq=="number"?n.seq=r.longs===String?String(t.seq):t.seq:n.seq=r.longs===String?W.Long.prototype.toString.call(t.seq):r.longs===Number?new W.LongBits(t.seq.low>>>0,t.seq.high>>>0).toNumber(!0):t.seq),t.addresses&&t.addresses.length){n.addresses=[];for(var s=0;s<t.addresses.length;++s)n.addresses[s]=Xe$1.PeerRecord.AddressInfo.toObject(t.addresses[s],r)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Yt$1.default.util.toJSONOptions)},e.AddressInfo=function(){function t(r){if(r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}return t.prototype.multiaddr=W.newBuffer([]),t.encode=function(r,n){return n||(n=Gy.create()),r.multiaddr!=null&&Object.hasOwnProperty.call(r,"multiaddr")&&n.uint32(10).bytes(r.multiaddr),n},t.decode=function(r,n){r instanceof es$1||(r=es$1.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new Xe$1.PeerRecord.AddressInfo;r.pos<o;){var w=r.uint32();switch(w>>>3){case 1:s.multiaddr=r.bytes();break;default:r.skipType(w&7);break}}return s},t.fromObject=function(r){if(r instanceof Xe$1.PeerRecord.AddressInfo)return r;var n=new Xe$1.PeerRecord.AddressInfo;return r.multiaddr!=null&&(typeof r.multiaddr=="string"?W.base64.decode(r.multiaddr,n.multiaddr=W.newBuffer(W.base64.length(r.multiaddr)),0):r.multiaddr.length&&(n.multiaddr=r.multiaddr)),n},t.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(n.bytes===String?o.multiaddr="":(o.multiaddr=[],n.bytes!==Array&&(o.multiaddr=W.newBuffer(o.multiaddr)))),r.multiaddr!=null&&r.hasOwnProperty("multiaddr")&&(o.multiaddr=n.bytes===String?W.base64.encode(r.multiaddr,0,r.multiaddr.length):n.bytes===Array?Array.prototype.slice.call(r.multiaddr):r.multiaddr),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,Yt$1.default.util.toJSONOptions)},t}(),e})(),wc$1=_$1(Bg(),1);bc$1.default.util.Long=void 0;bc$1.default.configure();async function vD(e,t=()=>{}){t(0,"Storing each peerstore key under a single datastore key"),await e.datastore.open();let r={},n=[];for await(let{key:o,value:s}of e.datastore.query({prefix:"/peers"})){n.push(o);let w=o.toString(),[g,k,P,q,ie]=w.split("/");if(k==="peers"&&!!["protos","addrs","metadata","keys"].includes(P)&&!!q)if(r[q]=r[q]||{addresses:[],protocols:[],metadata:[]},P==="protos"){let he=nc$1.decode(s);r[q].protocols=he.protocols.sort()}else if(P==="addrs"){let he=oc$1.decode(s);r[q].addresses=he.addrs.sort((V,X)=>new wc$1.Multiaddr(V.multiaddr).toString().localeCompare(new wc$1.Multiaddr(X.multiaddr).toString())),he.certifiedRecord&&he.certifiedRecord.raw&&(r[q].peerRecordEnvelope=he.certifiedRecord.raw)}else P==="metadata"?r[q].metadata.push({key:ie,value:s}):P==="keys"&&(r[q].pubKey=s)}t(33,"Read peer data from store");for(let o of n)await e.datastore.delete(o);t(66,"Removed existing peer data from store");for(let o of Object.keys(r)){let s=r[o];s.metadata=s.metadata.sort((g,k)=>g.key.localeCompare(k.key));let w=ac$1.encode(s).finish();await e.datastore.put(new A(`/peers/${o}`),w)}await e.datastore.close(),t(100,"Stored each peerstore key under a single datastore key")}async function ED(e,t=()=>{}){t(0,"Storing each peerstore key under a multiple datastore keys"),await e.datastore.open();let r={},n=[];for await(let{key:o,value:s}of e.datastore.query({prefix:"/peers"})){n.push(o);let w=o.toString(),[g,k,P]=w.split("/");r[P]=ac$1.decode(s)}t(33,"Read peer data from store");for(let o of n)await e.datastore.delete(o);t(66,"Removed existing peer data from store");for(let[o,s]of Object.entries(r)){if(s.protocols&&s.protocols.length>0&&await e.datastore.put(new A(`/peers/protos/${o}`),nc$1.encode({protocols:s.protocols}).finish()),s.addresses&&s.addresses.length>0){let w=s.peerRecordEnvelope,g;if(w){let k=Vy.decode(w),P=Hy.decode(k.payload);g={raw:w,seq:P.seq}}await e.datastore.put(new A(`/peers/addrs/${o}`),oc$1.encode({addrs:s.addresses,certifiedRecord:g}).finish())}if(s.metadata&&s.metadata.length>0)for(let{key:w,value:g}of s.metadata)await e.datastore.put(new A(`/peers/metadata/${o}/${w}`),g);s.pubKey&&await e.datastore.put(new A(`/peers/keys/${o}`),s.pubKey)}await e.datastore.close(),t(100,"Stored each peerstore key under multiple datastore keys")}var Pg={version:12,description:"Store each peerstore peer under a single datastore key",migrate:vD,revert:ED},Ar$2={description:"Empty migration.",migrate:()=>{},revert:()=>{},empty:!0},us$1=[Object.assign({version:1},Ar$2),Object.assign({version:2},Ar$2),Object.assign({version:3},Ar$2),Object.assign({version:4},Ar$2),Object.assign({version:5},Ar$2),Object.assign({version:6},Ar$2),Object.assign({version:7},Ar$2),cp,Ly,Uy,Ky,Pg];u();u();var kg=_$1(We(),1),vc={};G$1(vc,{InvalidValueError:()=>An$1,MissingRepoOptionsError:()=>vt,NonReversibleMigrationError:()=>xn,NotInitializedRepoError:()=>Zt,RequiredParameterError:()=>Dn$1});u();var xn=class extends Error{constructor(e){super(e),this.name="NonReversibleMigrationError",this.code=xn.code,this.message=e}};xn.code="ERR_NON_REVERSIBLE_MIGRATION";var Zt=class extends Error{constructor(e){super(e),this.name="NotInitializedRepoError",this.code=Zt.code,this.message=e}};Zt.code="ERR_NOT_INITIALIZED_REPO";var Dn$1=class extends Error{constructor(e){super(e),this.name="RequiredParameterError",this.code=Dn$1.code,this.message=e}};Dn$1.code="ERR_REQUIRED_PARAMETER";var An$1=class extends Error{constructor(e){super(e),this.name="InvalidValueError",this.code=An$1.code,this.message=e}};An$1.code="ERR_INVALID_VALUE";var vt=class extends Error{constructor(e){super(e),this.name="MissingRepoOptionsError",this.code=vt.code,this.message=e}};vt.code="ERR_MISSING_REPO_OPTIONS";var Ec$1=(0,kg.default)("ipfs:repo:migrator:repo:init");async function Fg(e){if(!e)throw new vt("Please pass repo options when trying to open a repo");let t=e.root;try{await t.open();let r=await t.has(Ci$1),n=await t.has(My);return!r||!n?(Ec$1(`Version entry present: ${r}`),Ec$1(`Config entry present: ${n}`),!1):!0}catch(r){return Ec$1("While checking if repo is initialized error was thrown: "+r.message),!1}finally{if(t!==void 0)try{await t.close()}catch{}}}yt$1();ke$1();async function _c(e){if(!await Fg(e))throw new Zt("Repo is not initialized!");let t=e.root;await t.open();try{return parseInt(de(await t.get(Ci$1)))}finally{await t.close()}}async function Bi(e,t){if(!t)throw new vt("Please pass repo options when trying to open a repo");let r=t.root;await r.open(),await r.put(Ci$1,oe(String(e))),await r.close()}var Ng=_$1(We(),1),rt=(0,Ng.default)("ipfs:repo:migrator");function xD(e){return e=e||us$1,!Array.isArray(e)||e.length===0?0:e[e.length-1].version}async function Lg(e,t,r,n,{ignoreLock:o=!1,onProgress:s,isDryRun:w=!1,migrations:g}){if(g=g||us$1,!e)throw new qe$1.RequiredParameterError("Path argument is required!");if(!r)throw new qe$1.RequiredParameterError("repoOptions argument is required!");if(!n)throw new qe$1.RequiredParameterError("toVersion argument is required!");if(!Number.isInteger(n)||n<=0)throw new qe$1.InvalidValueError("Version has to be positive integer!");t=rc$1(t);let k=await _c(t);if(k===n){rt("Nothing to migrate.");return}if(k>n)throw new qe$1.InvalidValueError(`Current repo's version (${k}) is higher then toVersion (${n}), you probably wanted to revert it?`);jg(g,k,n);let P;!w&&!o&&(P=await r.repoLock.lock(e));try{for(let q of g){if(n!==void 0&&q.version>n)break;if(!(q.version<=k)){rt(`Migrating version ${q.version}`);try{if(!w){let ie=()=>{};s&&(ie=(he,V)=>s(q.version,he.toFixed(2),V)),await q.migrate(t,ie)}}catch(ie){let he=q.version-1;throw rt(`An exception was raised during execution of migration. Setting the repo's version to last successfully migrated version: ${he}`),await Bi(he,t),new Error(`During migration to version ${q.version} exception was raised: ${ie.stack||ie.message||ie}`)}rt(`Migrating to version ${q.version} finished`)}}w||await Bi(n||xD(g),t),rt("Repo successfully migrated",n!==void 0?`to version ${n}!`:"to latest version!")}finally{!w&&!o&&P&&await P.close()}}async function Mg(e,t,r,n,{ignoreLock:o=!1,onProgress:s,isDryRun:w=!1,migrations:g}){if(g=g||us$1,!e)throw new qe$1.RequiredParameterError("Path argument is required!");if(!r)throw new qe$1.RequiredParameterError("repoOptions argument is required!");if(!n)throw new qe$1.RequiredParameterError("When reverting migrations, you have to specify to which version to revert!");if(!Number.isInteger(n)||n<=0)throw new qe$1.InvalidValueError("Version has to be positive integer!");t=rc$1(t);let k=await _c(t);if(k===n){rt("Nothing to revert.");return}if(k<n)throw new qe$1.InvalidValueError(`Current repo's version (${k}) is lower then toVersion (${n}), you probably wanted to migrate it?`);jg(g,n,k,!0);let P;!w&&!o&&(P=await r.repoLock.lock(e)),rt(`Reverting from version ${k} to ${n}`);try{let q=g.slice().reverse();for(let ie of q){if(ie.version<=n)break;if(!(ie.version>k)){rt(`Reverting migration version ${ie.version}`);try{if(!w){let he=()=>{};s&&(he=(V,X)=>s(ie.version,V.toFixed(2),X)),await ie.revert(t,he)}}catch(he){let V=ie.version;throw rt(`An exception was raised during execution of migration. Setting the repo's version to last successfully reverted version: ${V}`),await Bi(V,t),he.message=`During reversion to version ${ie.version} exception was raised: ${he.message}`,he}rt(`Reverting to version ${ie.version} finished`)}}w||await Bi(n,t),rt(`All migrations successfully reverted to version ${n}!`)}finally{!w&&!o&&P&&await P.close()}}function jg(e,t,r,n=!1){let o=0;for(let s of e){if(s.version>r)break;if(s.version>t){if(n&&!s.revert)throw new qe$1.NonReversibleMigrationError(`It is not possible to revert to version ${t} because migration version ${s.version} is not reversible. Cancelling reversion.`);o++}}if(o!==r-t)throw new qe$1.InvalidValueError(`The ipfs-repo-migrations package does not have all migration to migrate from version ${t} to ${r}`)}var qe$1=vc,eb=_$1($g(),1);u();var Yg=_$1(Jg(),1),Qg=Yg.default;u();u();var tm=_$1(We(),1);ke$1();yt$1();u();u();var Sr$1=class extends Error{constructor(e){super(e),this.name="LockExistsError",this.code=Sr$1.code}};Sr$1.code="ERR_LOCK_EXISTS";var Oe$1=class extends Error{constructor(e){super(e),this.name="NotFoundError",this.code=Oe$1.code}};Oe$1.code="ERR_NOT_FOUND";var Cr$1=class extends Error{constructor(e){super(e),this.name="InvalidRepoVersionError",this.code=Cr$1.code}};Cr$1.code="ERR_INVALID_REPO_VERSION";var Pi$1="ERR_REPO_NOT_INITIALIZED",Zg="ERR_REPO_ALREADY_OPEN",Xg="ERR_REPO_ALREADY_CLOSED";async function ds$1(e,t,r){let n=await t(e);if(n)return n;let o=em(r);return o?new Promise((s,w)=>{let g=o.store("readonly").get(e.toString());g.transaction.onabort=()=>{w(g.transaction.error)},g.transaction.oncomplete=()=>{s(Boolean(g.result))}}):!1}async function ps$1(e,t,r,n){if(await r(e))return t(e);let o=em(n);if(!o)throw new Oe$1;return new Promise((s,w)=>{let g=o.store("readonly").get(e.toString());g.transaction.onabort=()=>{w(g.transaction.error)},g.transaction.oncomplete=()=>{if(g.result)return s(g.result);w(new Oe$1)}})}function em(e){let t=e;for(;t.db||t.child;)if(t=t.db||t.child,t.type==="level-js"||t.constructor.name==="Level")return t}var ND=(0,tm.default)("ipfs:repo:version"),Ac$1=new A("version");function rm(e){return{async exists(){return ds$1(Ac$1,e.has.bind(e),e)},async get(){let t=await ps$1(Ac$1,e.get.bind(e),e.has.bind(e),e);return parseInt(de(t),10)},set(t){return e.put(Ac$1,oe(String(t)))},async check(t){let r=await this.get();return ND("comparing version: %s and %s",r,t),r===t||r===6&&t===7||t===6&&r===7}}}u();var ws$1=_$1(fm(),1),hm=_$1(za(),1),ym=_$1(pm(),1),bs$1=_$1(dt$1(),1);ke$1();yt$1();var VD=ws$1.default.default?ws$1.default.default:ws$1.default,kc=new A("config");function gm(e){let t=new VD({concurrency:1}),r={async getAll(s={}){let w=await ps$1(kc,e.get.bind(e),e.has.bind(e),e);return JSON.parse(de(w))},async get(s,w={}){if(s==null)throw new Oe$1(`Key ${s} does not exist in config`);let g=await this.getAll(w),k=(0,hm.default)(g,s);if(k===void 0)throw new Oe$1(`Key ${s} does not exist in config`);return k},set(s,w,g={}){if(typeof s!="string"&&!(s instanceof String))throw(0,bs$1.default)(new Error("Invalid key type: "+typeof s),"ERR_INVALID_KEY");if(w===void 0||w instanceof Uint8Array)throw(0,bs$1.default)(new Error("Invalid value type: "+typeof w),"ERR_INVALID_VALUE");return t.add(()=>n({key:s,value:w},g.signal))},replace(s,w={}){if(!s||s instanceof Uint8Array)throw(0,bs$1.default)(new Error("Invalid value type: "+typeof s),"ERR_INVALID_VALUE");return t.add(()=>n({key:void 0,value:s},w.signal))},async exists(){return ds$1(kc,e.has.bind(e),e)}};return r;async function n(s,w){if(w&&w.aborted)return;let g=s.key,k=s.value;if(g){let P=await r.getAll();return typeof P=="object"&&P!==null&&(0,ym.default)(P,g,k),o(P)}return o(k)}function o(s){let w=oe(JSON.stringify(s,null,2));return e.put(kc,w)}}u();u();var bm=_$1(wm(),1);ke$1();yt$1();var Nc=new A("datastore_spec");function vm(e){return{exists(){return e.has(Nc)},async get(){let t=await e.get(Nc);return JSON.parse(de(t))},async set(t){return e.put(Nc,oe(JSON.stringify((0,bm.default)(t,{deep:!0}))))}}}u();yt$1();var Lc=new A("api");function Em(e){return{async get(){let t=await e.get(Lc);return t&&t.toString()},set(t){return e.put(Lc,oe(t.toString()))},delete(){return e.delete(Lc)}}}u();var Im=_$1(Or(),1),Rm=_$1(Om(),1),Bm=_$1(On$1(),1);ge();var Pm=_$1(dt$1(),1);gu$1();function km(e){return{open(){return e.open()},close(){return e.close()},query(t,r){return e.query(t,r)},queryKeys(t,r){return e.queryKeys(t,r)},async get(t,r){let n=er(t);return n.isIdentity?Promise.resolve(n.digest):e.get(t,r)},async*getMany(t,r){for await(let n of t)yield this.get(n,r)},async put(t,r,n){let{isIdentity:o}=er(t);o||await e.put(t,r,n)},async*putMany(t,r){let n=(0,Rm.default)();(globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.setImmediate||globalThis.setTimeout)(async()=>{try{await(0,Bm.default)(e.putMany(async function*(){for await(let{key:o,value:s}of t)er(o).isIdentity||(yield{key:o,value:s}),n.push({key:o,value:s})}())),n.end()}catch(o){n.end(o)}}),yield*n},has(t,r){let{isIdentity:n}=er(t);return n?Promise.resolve(!0):e.has(t,r)},delete(t,r){let{isIdentity:n}=er(t);return n?Promise.resolve():e.delete(t,r)},deleteMany(t,r){return e.deleteMany((0,Im.default)(t,n=>!er(n).isIdentity),r)},batch(){let t=e.batch();return{put(r,n){let{isIdentity:o}=er(r);o||t.put(r,n)},delete(r){let{isIdentity:n}=er(r);n||t.delete(r)},commit:r=>t.commit(r)}}}}function er(e){let t=S$1.asCID(e);if(t==null)throw(0,Pm.default)(new Error("Not a valid cid"),"ERR_INVALID_CID");return t.multihash.code!==hu.code?{isIdentity:!1}:{isIdentity:!0,digest:t.multihash.digest}}u();u();var Fm=_$1(We(),1),Nm=(0,Fm.default)("ipfs:repo:lock:memory"),Lm="repo.lock",Ni$1={};async function JD(e){let t=e+"/"+Lm;if(Nm("locking %s",t),Ni$1[t]===!0)throw new Sr$1(`Lock already being held for file: ${t}`);return Ni$1[t]=!0,{async close(){Ni$1[t]&&delete Ni$1[t]}}}async function YD(e){let t=e+"/"+Lm;return Nm(`checking lock: ${t}`),Boolean(Ni$1[t])}var vs$1={lock:JD,locked:YD},Mm={autoMigrate:!0,onMigrationProgress:()=>{},repoOwner:!0,repoLock:vs$1};u();var jc={Spec:{type:"mount",mounts:[{mountpoint:"/blocks",type:"measure",prefix:"flatfs.datastore",child:{type:"flatfs",path:"blocks",sync:!0,shardFunc:"/repo/flatfs/shard/v1/next-to-last/2"}},{mountpoint:"/",type:"measure",prefix:"leveldb.datastore",child:{type:"levelds",path:"datastore",compression:"none"}}]}};u();ge();var Km=_$1(dt$1(),1),zm=_$1(We(),1),zc=_$1(qm(),1);u();So();var Es$1=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),qc=function*(e,t){if(e!=null&&!(e instanceof Uint8Array))for(let[r,n]of Object.entries(e)){let o=[...t,r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(let[s,w]of n.entries()){let g=[...o,s],k=S$1.asCID(w);k?yield[g.join("/"),k]:typeof w=="object"&&(yield*qc(w,g))}else{let s=S$1.asCID(n);s?yield[o.join("/"),s]:yield*qc(n,o)}}},Uc$1=function*(e,t){if(e!=null)for(let[r,n]of Object.entries(e)){let o=[...t,r];if(yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!S$1.asCID(n))if(Array.isArray(n))for(let[s,w]of n.entries()){let g=[...o,s];yield g.join("/"),typeof w=="object"&&!S$1.asCID(w)&&(yield*Uc$1(w,g))}else yield*Uc$1(n,o)}},ZD=(e,t)=>{let r=e;for(let[n,o]of t.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${t.slice(0,n+1).map(w=>`[${JSON.stringify(w)}]`).join("")}`);let s=S$1.asCID(r);if(s)return{value:s,remaining:t.slice(n+1).join("/")}}return{value:r}},$c=class{constructor({cid:e,bytes:t,value:r}){if(!e||!t||typeof r>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:Es$1(),bytes:Es$1(),value:Es$1(),asBlock:Es$1()})}links(){return qc(this.value,[])}tree(){return Uc$1(this.value,[])}get(e="/"){return ZD(this.value,e.split("/").filter(Boolean))}},_s$1=({bytes:e,cid:t,value:r,codec:n})=>{let o=r!==void 0?r:n&&n.decode(e);if(o===void 0)throw new Error('Missing required argument, must either provide "value" or "codec"');return new $c({cid:t,bytes:e,value:o})};u();So();ci$1();var Um=_$1(dt$1(),1);ht$1();pt$1();function Li$1(e){let t=S$1.asCID(e);if(t==null)throw(0,Um.default)(new Error("Not a valid cid"),"ERR_INVALID_CID");let r=U$1.encode(t.multihash.bytes);return new A("/"+r.slice(1).toUpperCase(),!1)}function Kc(e){return Ve(U$1.decode(`b${e.toString().toLowerCase().substring(1)}`))}u();var $m=_$1(We(),1),XD=(0,$m.default)("ipfs:repo:utils:walk-dag");async function*Tn$1(e,t,r,n){try{let o=await t.get(e,n),s=await r(e.code),w=_s$1({bytes:o,cid:e,codec:s});for(let[,g]of w.links())yield g,yield*Tn$1(g,t,r,n)}catch(o){throw XD("Could not walk DAG for CID",e.toString(),o),o}}u();var be={direct:"direct",recursive:"recursive",indirect:"indirect",all:"all"};function eA(e){let t=`Invalid type '${e}', must be one of {direct, indirect, recursive, all}`;return(0,Km.default)(new Error(t),"ERR_INVALID_PIN_TYPE")}var xs$1=class{constructor({pinstore:e,blockstore:t,loadCodec:r}){this.pinstore=e,this.blockstore=t,this.loadCodec=r,this.log=(0,zm.default)("ipfs:repo:pin"),this.directPins=new Set,this.recursivePins=new Set}async pinDirectly(e,t={}){await this.blockstore.get(e,t);let r={depth:0};return e.version!==0&&(r.version=e.version),e.code!==It&&(r.codec=e.code),t.metadata&&(r.metadata=t.metadata),this.pinstore.put(Li$1(e),wr$1(r))}unpin(e,t){return this.pinstore.delete(Li$1(e),t)}async pinRecursively(e,t={}){await this.fetchCompleteDag(e,t);let r={depth:1/0};e.version!==0&&(r.version=e.version),e.code!==It&&(r.codec=e.code),t.metadata&&(r.metadata=t.metadata),await this.pinstore.put(Li$1(e),wr$1(r))}async*directKeys(e){for await(let t of this.pinstore.query({filters:[r=>mt$1(r.value).depth===0]})){let r=mt$1(t.value),n=r.version||0,o=r.codec!=null?r.codec:It,s=Kc(t.key);yield{cid:S$1.create(n,o,s),metadata:r.metadata}}}async*recursiveKeys(e){for await(let t of this.pinstore.query({filters:[r=>mt$1(r.value).depth===1/0]})){let r=mt$1(t.value),n=r.version||0,o=r.codec!=null?r.codec:It,s=Kc(t.key);yield{cid:S$1.create(n,o,s),metadata:r.metadata}}}async*indirectKeys(e){for await(let{cid:t}of this.recursiveKeys())for await(let r of Tn$1(t,this.blockstore,this.loadCodec,e)){let n=[be.recursive];(await this.isPinnedWithType(r,n)).pinned||(yield r)}}async isPinnedWithType(e,t,r){Array.isArray(t)||(t=[t]);let n=t.includes(be.all),o=t.includes(be.direct),s=t.includes(be.recursive),w=t.includes(be.indirect);if(s||o||n){let P=await(0,zc.default)(this.pinstore.query({prefix:Li$1(e).toString(),filters:[q=>{if(n)return!0;let ie=mt$1(q.value);return t.includes(ie.depth===0?be.direct:be.recursive)}],limit:1}));if(P){let q=mt$1(P.value);return{cid:e,pinned:!0,reason:q.depth===0?be.direct:be.recursive,metadata:q.metadata}}}let g=this;async function*k(P,q){for await(let{cid:ie}of q)for await(let he of Tn$1(ie,g.blockstore,g.loadCodec))if(he.equals(P)){yield ie;return}}if(n||w){let P=await(0,zc.default)(k(e,this.recursiveKeys()));if(P)return{cid:e,pinned:!0,reason:be.indirect,parent:P}}return{cid:e,pinned:!1}}async fetchCompleteDag(e,t){let r=new Set,n=async(o,s)=>{if(r.has(o.toString()))return;r.add(o.toString());let w=await this.blockstore.get(o,s),g=await this.loadCodec(o.code),k=_s$1({bytes:w,cid:o,codec:g});await Promise.all([...k.links()].map(([,P])=>n(P,s)))};await n(e,t)}static checkPinType(e){if(typeof e!="string"||!Object.keys(be).includes(e))throw eA(e);return!0}};u();var Gm=_$1(Mi$1(),1),Hm=_$1(dt$1(),1);function Jm(e,t){return{open(){return t.open()},close(){return t.close()},query(r,n){return t.query(r,n)},queryKeys(r,n){return t.queryKeys(r,n)},async get(r,n){return t.get(r,n)},async*getMany(r,n){yield*t.getMany(r,n)},async put(r,n,o){await t.put(r,n,o)},async*putMany(r,n){yield*t.putMany(r,n)},has(r,n){return t.has(r,n)},async delete(r,n){return await Vm(r,e),t.delete(r,n)},deleteMany(r,n){return t.deleteMany((0,Gm.default)(r,async o=>(await Vm(o,e),o)),n)},batch(){return t.batch()}}}async function Vm(e,t){let{pinned:r,reason:n}=await t.isPinnedWithType(e,be.all);if(r)throw(0,Hm.default)(new Error(`pinned: ${n}`),"ERR_BLOCK_PINNED")}var tb=_$1(Nw(),1);u();ge();var Gw=_$1(We(),1),Hw=_$1(qw(),1),Jw=_$1(Kw(),1),sf=_$1(of(),1),Ts$1=_$1(Mi$1(),1),Yw=_$1(Or(),1);ht$1();var qi$1=(0,Gw.default)("ipfs:repo:gc"),IA=Bt().code,RA=256,BA=new A("/local/filesroot");function Qw({gcLock:e,pins:t,blockstore:r,root:n,loadCodec:o}){async function*s(){let w=Date.now();qi$1("Creating set of marked blocks");let g=await e.writeLock();try{let k=await PA({pins:t,blockstore:r,root:n,loadCodec:o}),P=r.queryKeys({});yield*kA({blockstore:r},k,P),qi$1(`Complete (${Date.now()-w}ms)`)}finally{g()}}return s}async function PA({pins:e,blockstore:t,loadCodec:r,root:n}){let o=async function*(){let g;try{g=await n.get(BA)}catch(P){if(P.code===IA){qi$1("No blocks in MFS");return}throw P}let k=S$1.decode(g);yield k,yield*Tn$1(k,t,r)}(),s=(0,sf.default)((0,Ts$1.default)(e.recursiveKeys(),({cid:g})=>g),e.indirectKeys(),(0,Ts$1.default)(e.directKeys(),({cid:g})=>g),o),w=new Set;for await(let g of(0,sf.default)(s,o))w.add(U$1.encode(g.multihash.bytes));return w}async function*kA({blockstore:e},t,r){let n=0,o=0;yield*(0,Jw.pipe)((0,Hw.default)((0,Ts$1.default)(r,async s=>async function(){n++;try{let w=U$1.encode(s.multihash.bytes);if(t.has(w))return null;try{await e.delete(s),o++}catch(g){return{err:new Error(`Could not delete block with CID ${s}: ${g.message}`)}}return{cid:s}}catch(w){let g=`Could delete block with CID ${s}`;return qi$1(g,w),{err:new Error(g+`: ${w.message}`)}}}),RA),s=>(0,Yw.default)(s,Boolean)),qi$1(`Marked set has ${t.size} unique blocks. Blockstore has ${n} blocks. Deleted ${o} blocks.`)}var ve$1=(0,Xw.default)("ipfs:repo"),FA=Number.MAX_SAFE_INTEGER,NA="repoAutoMigrate",uf=class{constructor(e,t,r,n){if(typeof e!="string")throw new Error("missing repo path");if(typeof t!="function")throw new Error("missing codec loader");this.options=Qg(Mm,n),this.closed=!0,this.path=e,this.root=r.root,this.datastore=r.datastore,this.keys=r.keys;let o=r.blocks,s=r.pins;this.pins=new xs$1({pinstore:s,blockstore:o,loadCodec:t});let w=Jm(this.pins,o);this.blocks=km(w),this.version=rm(this.root),this.config=gm(this.root),this.spec=vm(this.root),this.apiAddr=Em(this.root),this.gcLock=(0,tb.default)(e,{singleProcess:this.options.repoOwner!==!1}),this.gc=Qw({gcLock:this.gcLock,pins:this.pins,blockstore:this.blocks,root:this.root,loadCodec:t})}async init(e){ve$1("initializing at: %s",this.path),await this._openRoot(),await this.config.replace(LA(e)),await this.spec.set(MA(e)),await this.version.set(12)}async isInitialized(){if(!this.closed)return!0;try{return await this._openRoot(),await this._checkInitialized(),await this.root.close(),!0}catch{return!1}}async open(){if(!this.closed)throw(0,Ir$1.default)(new Error("repo is already open"),Zg);ve$1("opening at: %s",this.path);try{if(await this._openRoot(),await this._checkInitialized(),this._lockfile=await this._openLock(),ve$1("acquired repo.lock"),!await this.version.check(12))if(await this._isAutoMigrationEnabled())await this._migrate(12,{root:this.root,datastore:this.datastore,pins:this.pins.pinstore,blocks:this.pins.blockstore,keys:this.keys});else throw new Cr$1("Incompatible repo versions. Automatic migrations disabled. Please migrate the repo manually.");ve$1("creating datastore"),await this.datastore.open(),ve$1("creating blocks"),await this.blocks.open(),ve$1("creating keystore"),await this.keys.open(),ve$1("creating pins"),await this.pins.pinstore.open(),this.closed=!1,ve$1("all opened")}catch(e){if(this._lockfile)try{await this._closeLock(),this._lockfile=null}catch(t){ve$1("error removing lock",t)}throw e}}async _openRoot(){try{await this.root.open()}catch(e){if(e.message!=="Already open")throw e}}async _openLock(){let e=await this.options.repoLock.lock(this.path);if(typeof e.close!="function")throw(0,Ir$1.default)(new Error("Locks must have a close method"),"ERR_NO_CLOSE_FUNCTION");return e}_closeLock(){return this._lockfile&&this._lockfile.close()}async _checkInitialized(){ve$1("init check");let e;try{[e]=await Promise.all([this.config.exists(),this.spec.exists(),this.version.exists()])}catch(t){throw t.code==="ERR_NOT_FOUND"?(0,Ir$1.default)(new Error("repo is not initialized yet"),Pi$1,{path:this.path}):t}if(!e)throw(0,Ir$1.default)(new Error("repo is not initialized yet"),Pi$1,{path:this.path})}async close(){if(this.closed)throw(0,Ir$1.default)(new Error("repo is already closed"),Xg);ve$1("closing at: %s",this.path);try{await this.apiAddr.delete()}catch(e){if(e.code!==Pi$1&&!e.message.startsWith("ENOENT"))throw e}await Promise.all([this.root,this.blocks,this.keys,this.datastore,this.pins.pinstore].map(e=>e&&e.close())),ve$1("unlocking"),this.closed=!0,await this._closeLock()}exists(){return this.version.exists()}async stat(){if(this.datastore&&this.keys){let[e,t,r,n,o]=await Promise.all([this._storageMaxStat(),this._blockStat(),this.version.get(),Zw(this.datastore),Zw(this.keys)]),s=t.size+n+o;return{repoPath:this.path,storageMax:e,version:r,numObjects:t.count,repoSize:s}}throw(0,Ir$1.default)(new Error("repo is not initialized yet"),Pi$1,{path:this.path})}async _isAutoMigrationEnabled(){if(this.options.autoMigrate!==void 0)return this.options.autoMigrate;let e;try{e=await this.config.get(NA)}catch(t){if(t.code===Oe$1.code)e=!0;else throw t}return e}async _migrate(e,t){return await this.version.get()>e?(ve$1(`reverting to version ${e}`),Mg(this.path,t,this.options,e,{ignoreLock:!0,onProgress:this.options.onMigrationProgress})):(ve$1(`migrating to version ${e}`),Lg(this.path,t,this.options,e,{ignoreLock:!0,onProgress:this.options.onMigrationProgress}))}async _storageMaxStat(){try{let e=await this.config.get("Datastore.StorageMax");return BigInt((0,eb.default)(e))}catch{return BigInt(FA)}}async _blockStat(){let e=BigInt(0),t=BigInt(0);if(this.blocks)for await(let{key:r,value:n}of this.blocks.query({}))e+=BigInt(1),t+=BigInt(n.byteLength),t+=BigInt(r.bytes.byteLength);return{count:e,size:t}}};async function Zw(e){let t=BigInt(0);for await(let r of e.query({}))t+=BigInt(r.value.byteLength),t+=BigInt(r.key.uint8Array().byteLength);return t}function rb(e,t,r,n){return new uf(e,t,r,n)}function LA(e){return e.Datastore=Object.assign({},jc,(0,cf.default)(e,"datastore")),e}function MA(e){let t={...jc.Spec,...(0,cf.default)(e,"Datastore.Spec")};return{type:t.type,mounts:t.mounts.map(r=>({mountpoint:r.mountpoint,type:r.child.type,path:r.child.path,shardFunc:r.child.shardFunc}))}}u();u();u();u();var nb="SHARDING",ib="_README";u();u();var sb=_$1(Is$1(),1),Rs$1=(e,t)=>async function*(){yield*(await(0,sb.default)(e)).sort(t)}(),ff=_$1(On$1(),1),Rr=_$1(Or(),1),lf=_$1(Ui(),1),Et$1=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,t,r){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,t={}){for await(let{key:r,value:n}of e)await this.put(r,n,t),yield{key:r,value:n}}async*getMany(e,t={}){for await(let r of e)yield this.get(r,t)}async*deleteMany(e,t={}){for await(let r of e)await this.delete(r,t),yield r}batch(){let e=[],t=[];return{put(r,n){e.push({key:r,value:n})},delete(r){t.push(r)},commit:async r=>{await(0,ff.default)(this.putMany(e,r)),e=[],await(0,ff.default)(this.deleteMany(t,r)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let r=this._all(e,t);if(e.prefix!=null&&(r=(0,Rr.default)(r,n=>n.key.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(r=e.filters.reduce((n,o)=>(0,Rr.default)(n,o),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((n,o)=>Rs$1(n,o),r)),e.offset!=null){let n=0;r=(0,Rr.default)(r,()=>n++>=e.offset)}return e.limit!=null&&(r=(0,lf.default)(r,e.limit)),r}queryKeys(e,t){let r=this._allKeys(e,t);if(e.prefix!=null&&(r=(0,Rr.default)(r,n=>n.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(r=e.filters.reduce((n,o)=>(0,Rr.default)(n,o),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((n,o)=>Rs$1(n,o),r)),e.offset!=null){let n=0;r=(0,Rr.default)(r,()=>n++>=e.offset)}return e.limit!=null&&(r=(0,lf.default)(r,e.limit)),r}};u();u();_$1(Mi$1(),1);_$1(fb(),1);u();new A(nb);new A(ib);u();_$1(Or(),1);_$1(Ui(),1);_$1(of(),1);u();var hb=_$1(We(),1);_$1(pb(),1);_$1(On$1(),1);(0,hb.default)("datastore:core:tiered");u();var co$1=_$1(Or(),1),n_=_$1(Mi$1(),1),Nl$1=_$1(Ui(),1),Ll$1=_$1(gb(),1),i_=_$1(r_(),1),fr$1=class extends Et$1{constructor(e,t){super(),this.path=e,this.opts=t,t&&t.db?(this.database=t.db,delete t.db):this.database=i_.default}_initDb(){return new Promise((e,t)=>{this.db=this.database(this.path,{...this.opts,valueEncoding:"binary",compression:!1},r=>{if(r)return t(r);e(this.db)})})}async open(){try{this.db?await this.db.open():this.db=await this._initDb()}catch(e){throw Me$1.dbOpenFailedError(e)}}async put(e,t){try{await this.db.put(e.toString(),t)}catch(r){throw Me$1.dbWriteFailedError(r)}}async get(e){let t;try{t=await this.db.get(e.toString())}catch(r){throw r.notFound?Me$1.notFoundError(r):Me$1.dbWriteFailedError(r)}return t}async has(e){try{await this.db.get(e.toString())}catch(t){if(t.notFound)return!1;throw t}return!0}async delete(e){try{await this.db.del(e.toString())}catch(t){throw Me$1.dbDeleteFailedError(t)}}close(){return this.db&&this.db.close()}batch(){let e=[];return{put:(t,r)=>{e.push({type:"put",key:t.toString(),value:r})},delete:t=>{e.push({type:"del",key:t.toString()})},commit:()=>this.db.batch(e)}}query(e){let t=this._query({values:!0,prefix:e.prefix});Array.isArray(e.filters)&&(t=e.filters.reduce((o,s)=>(0,co$1.default)(o,s),t)),Array.isArray(e.orders)&&(t=e.orders.reduce((o,s)=>(0,Ll$1.default)(o,s),t));let{offset:r,limit:n}=e;if(r){let o=0;t=(0,co$1.default)(t,()=>o++>=r)}return n&&(t=(0,Nl$1.default)(t,n)),t}queryKeys(e){let t=(0,n_.default)(this._query({values:!1,prefix:e.prefix}),({key:o})=>o);Array.isArray(e.filters)&&(t=e.filters.reduce((o,s)=>(0,co$1.default)(o,s),t)),Array.isArray(e.orders)&&(t=e.orders.reduce((o,s)=>(0,Ll$1.default)(o,s),t));let{offset:r,limit:n}=e;if(r){let o=0;t=(0,co$1.default)(t,()=>o++>=r)}return n&&(t=(0,Nl$1.default)(t,n)),t}_query(e){let t={keys:!0,keyAsBuffer:!0,values:e.values};if(e.prefix!=null){let r=e.prefix.toString();t.gte=r,t.lt=r+"\xFF"}return qO(this.db.iterator(t))}};function qO(e){return{[Symbol.asyncIterator](){return{next:()=>new Promise((t,r)=>{e.next((n,o,s)=>{if(n)return r(n);if(o==null)return e.end(w=>{if(w)return r(w);t({done:!0,value:void 0})});t({done:!1,value:{key:new A(o,!1),value:s}})})}),return:()=>new Promise((t,r)=>{e.end(n=>{if(n)return r(n);t({done:!0,value:void 0})})})}}}}u();var Ul$1=_$1(On$1(),1),$l$1=_$1(s_(),1);ge();ci$1();pt$1();ht$1();an();var c_=_$1(dt$1(),1);u();var jl$1=_$1(On$1(),1),Gr$1=_$1(Or(),1),ql$1=_$1(Ui(),1),u_=_$1(Is$1(),1),a_=(e,t)=>async function*(){yield*(await(0,u_.default)(e)).sort(t)}(),Ia$1=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,t,r){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,t={}){for await(let{key:r,value:n}of e)await this.put(r,n,t),yield{key:r,value:n}}async*getMany(e,t={}){for await(let r of e)yield this.get(r,t)}async*deleteMany(e,t={}){for await(let r of e)await this.delete(r,t),yield r}batch(){let e=[],t=[];return{put(r,n){e.push({key:r,value:n})},delete(r){t.push(r)},commit:async r=>{await(0,jl$1.default)(this.putMany(e,r)),e=[],await(0,jl$1.default)(this.deleteMany(t,r)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let r=this._all(e,t);if(e.prefix!=null&&(r=(0,Gr$1.default)(r,n=>n.key.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(r=e.filters.reduce((n,o)=>(0,Gr$1.default)(n,o),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((n,o)=>a_(n,o),r)),e.offset!=null){let n=0;r=(0,Gr$1.default)(r,()=>n++>=(e.offset||0))}return e.limit!=null&&(r=(0,ql$1.default)(r,e.limit)),r}queryKeys(e,t){let r=this._allKeys(e,t);if(e.prefix!=null&&(r=(0,Gr$1.default)(r,n=>n.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(r=e.filters.reduce((n,o)=>(0,Gr$1.default)(n,o),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((n,o)=>a_(n,o),r)),e.offset!=null){let n=0;r=(0,Gr$1.default)(r,()=>n++>=e.offset)}return e.limit!=null&&(r=(0,ql$1.default)(r,e.limit)),r}};function ri(e){let t=S$1.asCID(e);if(!t)throw(0,c_.default)(new Error("Not a valid cid"),"ERR_INVALID_CID");return new A("/"+U$1.encode(t.multihash.bytes).slice(1).toUpperCase(),!1)}function lr$1(e){return S$1.createV1(ui$1,Ve(U$1.decode("b"+e.toString().slice(1).toLowerCase())))}function Kl$1(e){let t=e.substring(0,1);if(t==="/")return Kl$1(e.substring(1));let r;t.toLowerCase()==="b"?r=s=>U$1.decode(s.toLowerCase()).subarray(2):t.toLowerCase()==="c"?r=s=>Za.decode(s.toLowerCase()).subarray(2):t==="z"?r=s=>xe.decode(s).subarray(2):t==="Q"?r=s=>xe.decode("z"+s):r=s=>U$1.decode("b"+s.toLowerCase()).subarray(2);let n;for(let s=1;s<e.length;s++)try{n=r(e.substring(0,s))}catch(w){if(w.message!=="Unexpected end of data")throw w}let o="/C";return n&&(o=`/${U$1.encode(n).slice(1,-1).toUpperCase()||"C"}`),o}function UO(e){return{...e,prefix:e.prefix?Kl$1(e.prefix):void 0,filters:e.filters?e.filters.map(t=>r=>t({key:lr$1(r.key),value:r.value})):void 0,orders:e.orders?e.orders.map(t=>(r,n)=>t({key:lr$1(r.key),value:r.value},{key:lr$1(n.key),value:n.value})):void 0}}function $O(e){return{...e,prefix:e.prefix?Kl$1(e.prefix):void 0,filters:e.filters?e.filters.map(t=>r=>t(lr$1(r))):void 0,orders:e.orders?e.orders.map(t=>(r,n)=>t(lr$1(r),lr$1(n))):void 0}}var Ra$1=class extends Ia$1{constructor(e){super(),this.child=e}open(){return this.child.open()}close(){return this.child.close()}async*query(e,t){for await(let{key:r,value:n}of this.child.query(UO(e),t))yield{key:lr$1(r),value:n}}async*queryKeys(e,t){for await(let r of this.child.queryKeys($O(e),t))yield lr$1(r)}async get(e,t){return this.child.get(ri(e),t)}async*getMany(e,t){for await(let r of e)yield this.get(r,t)}async put(e,t,r){await this.child.put(ri(e),t,r)}async*putMany(e,t){let r=(0,$l$1.default)();(globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.setImmediate||globalThis.setTimeout)(async()=>{try{let n=this.child;await(0,Ul$1.default)(this.child.putMany(async function*(){for await(let o of e){let s=ri(o.key);await n.has(s,t)||(yield{key:s,value:o.value}),r.push(o)}}())),r.end()}catch(n){r.end(n)}}),yield*r}has(e,t){return this.child.has(ri(e),t)}delete(e,t){return this.child.delete(ri(e),t)}deleteMany(e,t){let r=(0,$l$1.default)();return(0,Ul$1.default)(this.child.deleteMany(async function*(){for await(let n of e)yield ri(n),r.push(n);r.end()}(),t)).catch(n=>{r.end(n)}),r}};function cF(e,t,r){let n=r.path||"ipfs";return rb(n,o=>t.getCodec(o),{root:new fr$1(n,{prefix:"",version:2}),blocks:new Ra$1(new fr$1(`${n}/blocks`,{prefix:"",version:2})),datastore:new fr$1(`${n}/datastore`,{prefix:"",version:2}),keys:new fr$1(`${n}/keys`,{prefix:"",version:2}),pins:new fr$1(`${n}/pins`,{prefix:"",version:2})},{autoMigrate:r.autoMigrate,onMigrationProgress:r.onMigrationProgress||e,repoLock:vs$1})}/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*//*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Tc=Object.create,nr=Object.defineProperty,Ic=Object.getOwnPropertyDescriptor,Sc=Object.getOwnPropertyNames,Uc=Object.getPrototypeOf,Fc=Object.prototype.hasOwnProperty,F=(e,t)=>()=>(e&&(t=e(e=0)),t),S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),M=(e,t)=>{for(var r in t)nr(e,r,{get:t[r],enumerable:!0})},No=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Sc(t))!Fc.call(e,o)&&o!==r&&nr(e,o,{get:()=>t[o],enumerable:!(n=Ic(t,o))||n.enumerable});return e},J=(e,t,r)=>(r=e!=null?Tc(Uc(e)):{},No(t||!e||!e.__esModule?nr(r,"default",{value:e,enumerable:!0}):r,e)),R=e=>No(nr({},"__esModule",{value:!0}),e),Po=S(e=>{a(),e.byteLength=k,e.toByteArray=q,e.fromByteArray=V;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,w=o.length;s<w;++s)t[s]=o[s],r[o.charCodeAt(s)]=s;var s,w;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function g(X){var L=X.length;if(L%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var we=X.indexOf("=");we===-1&&(we=L);var Ee=we===L?0:4-we%4;return[we,Ee]}function k(X){var L=g(X),we=L[0],Ee=L[1];return(we+Ee)*3/4-Ee}function P(X,L,we){return(L+we)*3/4-we}function q(X){var L,we=g(X),Ee=we[0],_e=we[1],je=new n(P(X,Ee,_e)),Xt=0,Gt=_e>0?Ee-4:Ee,ot;for(ot=0;ot<Gt;ot+=4)L=r[X.charCodeAt(ot)]<<18|r[X.charCodeAt(ot+1)]<<12|r[X.charCodeAt(ot+2)]<<6|r[X.charCodeAt(ot+3)],je[Xt++]=L>>16&255,je[Xt++]=L>>8&255,je[Xt++]=L&255;return _e===2&&(L=r[X.charCodeAt(ot)]<<2|r[X.charCodeAt(ot+1)]>>4,je[Xt++]=L&255),_e===1&&(L=r[X.charCodeAt(ot)]<<10|r[X.charCodeAt(ot+1)]<<4|r[X.charCodeAt(ot+2)]>>2,je[Xt++]=L>>8&255,je[Xt++]=L&255),je}function ie(X){return t[X>>18&63]+t[X>>12&63]+t[X>>6&63]+t[X&63]}function he(X,L,we){for(var Ee,_e=[],je=L;je<we;je+=3)Ee=(X[je]<<16&16711680)+(X[je+1]<<8&65280)+(X[je+2]&255),_e.push(ie(Ee));return _e.join("")}function V(X){for(var L,we=X.length,Ee=we%3,_e=[],je=16383,Xt=0,Gt=we-Ee;Xt<Gt;Xt+=je)_e.push(he(X,Xt,Xt+je>Gt?Gt:Xt+je));return Ee===1?(L=X[we-1],_e.push(t[L>>2]+t[L<<4&63]+"==")):Ee===2&&(L=(X[we-2]<<8)+X[we-1],_e.push(t[L>>10]+t[L>>4&63]+t[L<<2&63]+"=")),_e.join("")}}),Ro=S(e=>{a(),e.read=function(t,r,n,o,s){var w,g,k=s*8-o-1,P=(1<<k)-1,q=P>>1,ie=-7,he=n?s-1:0,V=n?-1:1,X=t[r+he];for(he+=V,w=X&(1<<-ie)-1,X>>=-ie,ie+=k;ie>0;w=w*256+t[r+he],he+=V,ie-=8);for(g=w&(1<<-ie)-1,w>>=-ie,ie+=o;ie>0;g=g*256+t[r+he],he+=V,ie-=8);if(w===0)w=1-q;else{if(w===P)return g?NaN:(X?-1:1)*(1/0);g=g+Math.pow(2,o),w=w-q}return(X?-1:1)*g*Math.pow(2,w-o)},e.write=function(t,r,n,o,s,w){var g,k,P,q=w*8-s-1,ie=(1<<q)-1,he=ie>>1,V=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,X=o?0:w-1,L=o?1:-1,we=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(k=isNaN(r)?1:0,g=ie):(g=Math.floor(Math.log(r)/Math.LN2),r*(P=Math.pow(2,-g))<1&&(g--,P*=2),g+he>=1?r+=V/P:r+=V*Math.pow(2,1-he),r*P>=2&&(g++,P/=2),g+he>=ie?(k=0,g=ie):g+he>=1?(k=(r*P-1)*Math.pow(2,s),g=g+he):(k=r*Math.pow(2,he-1)*Math.pow(2,s),g=0));s>=8;t[n+X]=k&255,X+=L,k/=256,s-=8);for(g=g<<s|k,q+=s;q>0;t[n+X]=g&255,X+=L,g/=256,q-=8);t[n+X-L]|=we*128}}),ti=S(e=>{a();var t=Po(),r=Ro(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=g,e.SlowBuffer=_e,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,g.TYPED_ARRAY_SUPPORT=s(),!g.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let y=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(y,E),y.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});function w(y){if(y>o)throw new RangeError('The value "'+y+'" is invalid for option "size"');let E=new Uint8Array(y);return Object.setPrototypeOf(E,g.prototype),E}function g(y,E,I){if(typeof y=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ie(y)}return k(y,E,I)}g.poolSize=8192;function k(y,E,I){if(typeof y=="string")return he(y,E);if(ArrayBuffer.isView(y))return X(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(la(y,ArrayBuffer)||y&&la(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(la(y,SharedArrayBuffer)||y&&la(y.buffer,SharedArrayBuffer)))return L(y,E,I);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let Ie=y.valueOf&&y.valueOf();if(Ie!=null&&Ie!==y)return g.from(Ie,E,I);let et=we(y);if(et)return et;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return g.from(y[Symbol.toPrimitive]("string"),E,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}g.from=function(y,E,I){return k(y,E,I)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array);function P(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function q(y,E,I){return P(y),y<=0?w(y):E!==void 0?typeof I=="string"?w(y).fill(E,I):w(y).fill(E):w(y)}g.alloc=function(y,E,I){return q(y,E,I)};function ie(y){return P(y),w(y<0?0:Ee(y)|0)}g.allocUnsafe=function(y){return ie(y)},g.allocUnsafeSlow=function(y){return ie(y)};function he(y,E){if((typeof E!="string"||E==="")&&(E="utf8"),!g.isEncoding(E))throw new TypeError("Unknown encoding: "+E);let I=je(y,E)|0,Ie=w(I),et=Ie.write(y,E);return et!==I&&(Ie=Ie.slice(0,et)),Ie}function V(y){let E=y.length<0?0:Ee(y.length)|0,I=w(E);for(let Ie=0;Ie<E;Ie+=1)I[Ie]=y[Ie]&255;return I}function X(y){if(la(y,Uint8Array)){let E=new Uint8Array(y);return L(E.buffer,E.byteOffset,E.byteLength)}return V(y)}function L(y,E,I){if(E<0||y.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<E+(I||0))throw new RangeError('"length" is outside of buffer bounds');let Ie;return E===void 0&&I===void 0?Ie=new Uint8Array(y):I===void 0?Ie=new Uint8Array(y,E):Ie=new Uint8Array(y,E,I),Object.setPrototypeOf(Ie,g.prototype),Ie}function we(y){if(g.isBuffer(y)){let E=Ee(y.length)|0,I=w(E);return I.length===0||y.copy(I,0,0,E),I}if(y.length!==void 0)return typeof y.length!="number"||ja(y.length)?w(0):V(y);if(y.type==="Buffer"&&Array.isArray(y.data))return V(y.data)}function Ee(y){if(y>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return y|0}function _e(y){return+y!=y&&(y=0),g.alloc(+y)}g.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==g.prototype},g.compare=function(y,E){if(la(y,Uint8Array)&&(y=g.from(y,y.offset,y.byteLength)),la(E,Uint8Array)&&(E=g.from(E,E.offset,E.byteLength)),!g.isBuffer(y)||!g.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===E)return 0;let I=y.length,Ie=E.length;for(let et=0,rr=Math.min(I,Ie);et<rr;++et)if(y[et]!==E[et]){I=y[et],Ie=E[et];break}return I<Ie?-1:Ie<I?1:0},g.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(y,E){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return g.alloc(0);let I;if(E===void 0)for(E=0,I=0;I<y.length;++I)E+=y[I].length;let Ie=g.allocUnsafe(E),et=0;for(I=0;I<y.length;++I){let rr=y[I];if(la(rr,Uint8Array))et+rr.length>Ie.length?(g.isBuffer(rr)||(rr=g.from(rr)),rr.copy(Ie,et)):Uint8Array.prototype.set.call(Ie,rr,et);else if(g.isBuffer(rr))rr.copy(Ie,et);else throw new TypeError('"list" argument must be an Array of Buffers');et+=rr.length}return Ie};function je(y,E){if(g.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||la(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);let I=y.length,Ie=arguments.length>2&&arguments[2]===!0;if(!Ie&&I===0)return 0;let et=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return Qr(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return yo(y).length;default:if(et)return Ie?-1:Qr(y).length;E=(""+E).toLowerCase(),et=!0}}g.byteLength=je;function Xt(y,E,I){let Ie=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,E>>>=0,I<=E))return"";for(y||(y="utf8");;)switch(y){case"hex":return Ka(this,E,I);case"utf8":case"utf-8":return ei(this,E,I);case"ascii":return Ca(this,E,I);case"latin1":case"binary":return wo(this,E,I);case"base64":return ao(this,E,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Js(this,E,I);default:if(Ie)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),Ie=!0}}g.prototype._isBuffer=!0;function Gt(y,E,I){let Ie=y[E];y[E]=y[I],y[I]=Ie}g.prototype.swap16=function(){let y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<y;E+=2)Gt(this,E,E+1);return this},g.prototype.swap32=function(){let y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<y;E+=4)Gt(this,E,E+3),Gt(this,E+1,E+2);return this},g.prototype.swap64=function(){let y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<y;E+=8)Gt(this,E,E+7),Gt(this,E+1,E+6),Gt(this,E+2,E+5),Gt(this,E+3,E+4);return this},g.prototype.toString=function(){let y=this.length;return y===0?"":arguments.length===0?ei(this,0,y):Xt.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(y){if(!g.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:g.compare(this,y)===0},g.prototype.inspect=function(){let y="",E=e.INSPECT_MAX_BYTES;return y=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(y+=" ... "),"<Buffer "+y+">"},n&&(g.prototype[n]=g.prototype.inspect),g.prototype.compare=function(y,E,I,Ie,et){if(la(y,Uint8Array)&&(y=g.from(y,y.offset,y.byteLength)),!g.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(E===void 0&&(E=0),I===void 0&&(I=y?y.length:0),Ie===void 0&&(Ie=0),et===void 0&&(et=this.length),E<0||I>y.length||Ie<0||et>this.length)throw new RangeError("out of range index");if(Ie>=et&&E>=I)return 0;if(Ie>=et)return-1;if(E>=I)return 1;if(E>>>=0,I>>>=0,Ie>>>=0,et>>>=0,this===y)return 0;let rr=et-Ie,zr=I-E,ya=Math.min(rr,zr),qa=this.slice(Ie,et),ha=y.slice(E,I);for(let Ii=0;Ii<ya;++Ii)if(qa[Ii]!==ha[Ii]){rr=qa[Ii],zr=ha[Ii];break}return rr<zr?-1:zr<rr?1:0};function ot(y,E,I,Ie,et){if(y.length===0)return-1;if(typeof I=="string"?(Ie=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,ja(I)&&(I=et?0:y.length-1),I<0&&(I=y.length+I),I>=y.length){if(et)return-1;I=y.length-1}else if(I<0)if(et)I=0;else return-1;if(typeof E=="string"&&(E=g.from(E,Ie)),g.isBuffer(E))return E.length===0?-1:Qt(y,E,I,Ie,et);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?et?Uint8Array.prototype.indexOf.call(y,E,I):Uint8Array.prototype.lastIndexOf.call(y,E,I):Qt(y,[E],I,Ie,et);throw new TypeError("val must be string, number or Buffer")}function Qt(y,E,I,Ie,et){let rr=1,zr=y.length,ya=E.length;if(Ie!==void 0&&(Ie=String(Ie).toLowerCase(),Ie==="ucs2"||Ie==="ucs-2"||Ie==="utf16le"||Ie==="utf-16le")){if(y.length<2||E.length<2)return-1;rr=2,zr/=2,ya/=2,I/=2}function qa(Ii,Gs){return rr===1?Ii[Gs]:Ii.readUInt16BE(Gs*rr)}let ha;if(et){let Ii=-1;for(ha=I;ha<zr;ha++)if(qa(y,ha)===qa(E,Ii===-1?0:ha-Ii)){if(Ii===-1&&(Ii=ha),ha-Ii+1===ya)return Ii*rr}else Ii!==-1&&(ha-=ha-Ii),Ii=-1}else for(I+ya>zr&&(I=zr-ya),ha=I;ha>=0;ha--){let Ii=!0;for(let Gs=0;Gs<ya;Gs++)if(qa(y,ha+Gs)!==qa(E,Gs)){Ii=!1;break}if(Ii)return ha}return-1}g.prototype.includes=function(y,E,I){return this.indexOf(y,E,I)!==-1},g.prototype.indexOf=function(y,E,I){return ot(this,y,E,I,!0)},g.prototype.lastIndexOf=function(y,E,I){return ot(this,y,E,I,!1)};function at(y,E,I,Ie){I=Number(I)||0;let et=y.length-I;Ie?(Ie=Number(Ie),Ie>et&&(Ie=et)):Ie=et;let rr=E.length;Ie>rr/2&&(Ie=rr/2);let zr;for(zr=0;zr<Ie;++zr){let ya=parseInt(E.substr(zr*2,2),16);if(ja(ya))return zr;y[I+zr]=ya}return zr}function sr(y,E,I,Ie){return ni(Qr(E,y.length-I),y,I,Ie)}function qr(y,E,I,Ie){return ni(tn(E),y,I,Ie)}function Xr(y,E,I,Ie){return ni(yo(E),y,I,Ie)}function rn(y,E,I,Ie){return ni(tr(E,y.length-I),y,I,Ie)}g.prototype.write=function(y,E,I,Ie){if(E===void 0)Ie="utf8",I=this.length,E=0;else if(I===void 0&&typeof E=="string")Ie=E,I=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(I)?(I=I>>>0,Ie===void 0&&(Ie="utf8")):(Ie=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let et=this.length-E;if((I===void 0||I>et)&&(I=et),y.length>0&&(I<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ie||(Ie="utf8");let rr=!1;for(;;)switch(Ie){case"hex":return at(this,y,E,I);case"utf8":case"utf-8":return sr(this,y,E,I);case"ascii":case"latin1":case"binary":return qr(this,y,E,I);case"base64":return Xr(this,y,E,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rn(this,y,E,I);default:if(rr)throw new TypeError("Unknown encoding: "+Ie);Ie=(""+Ie).toLowerCase(),rr=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ao(y,E,I){return E===0&&I===y.length?t.fromByteArray(y):t.fromByteArray(y.slice(E,I))}function ei(y,E,I){I=Math.min(y.length,I);let Ie=[],et=E;for(;et<I;){let rr=y[et],zr=null,ya=rr>239?4:rr>223?3:rr>191?2:1;if(et+ya<=I){let qa,ha,Ii,Gs;switch(ya){case 1:rr<128&&(zr=rr);break;case 2:qa=y[et+1],(qa&192)===128&&(Gs=(rr&31)<<6|qa&63,Gs>127&&(zr=Gs));break;case 3:qa=y[et+1],ha=y[et+2],(qa&192)===128&&(ha&192)===128&&(Gs=(rr&15)<<12|(qa&63)<<6|ha&63,Gs>2047&&(Gs<55296||Gs>57343)&&(zr=Gs));break;case 4:qa=y[et+1],ha=y[et+2],Ii=y[et+3],(qa&192)===128&&(ha&192)===128&&(Ii&192)===128&&(Gs=(rr&15)<<18|(qa&63)<<12|(ha&63)<<6|Ii&63,Gs>65535&&Gs<1114112&&(zr=Gs))}}zr===null?(zr=65533,ya=1):zr>65535&&(zr-=65536,Ie.push(zr>>>10&1023|55296),zr=56320|zr&1023),Ie.push(zr),et+=ya}return ga(Ie)}var aa=4096;function ga(y){let E=y.length;if(E<=aa)return String.fromCharCode.apply(String,y);let I="",Ie=0;for(;Ie<E;)I+=String.fromCharCode.apply(String,y.slice(Ie,Ie+=aa));return I}function Ca(y,E,I){let Ie="";I=Math.min(y.length,I);for(let et=E;et<I;++et)Ie+=String.fromCharCode(y[et]&127);return Ie}function wo(y,E,I){let Ie="";I=Math.min(y.length,I);for(let et=E;et<I;++et)Ie+=String.fromCharCode(y[et]);return Ie}function Ka(y,E,I){let Ie=y.length;(!E||E<0)&&(E=0),(!I||I<0||I>Ie)&&(I=Ie);let et="";for(let rr=E;rr<I;++rr)et+=Ys[y[rr]];return et}function Js(y,E,I){let Ie=y.slice(E,I),et="";for(let rr=0;rr<Ie.length-1;rr+=2)et+=String.fromCharCode(Ie[rr]+Ie[rr+1]*256);return et}g.prototype.slice=function(y,E){let I=this.length;y=~~y,E=E===void 0?I:~~E,y<0?(y+=I,y<0&&(y=0)):y>I&&(y=I),E<0?(E+=I,E<0&&(E=0)):E>I&&(E=I),E<y&&(E=y);let Ie=this.subarray(y,E);return Object.setPrototypeOf(Ie,g.prototype),Ie};function ia(y,E,I){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+E>I)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUintLE=g.prototype.readUIntLE=function(y,E,I){y=y>>>0,E=E>>>0,I||ia(y,E,this.length);let Ie=this[y],et=1,rr=0;for(;++rr<E&&(et*=256);)Ie+=this[y+rr]*et;return Ie},g.prototype.readUintBE=g.prototype.readUIntBE=function(y,E,I){y=y>>>0,E=E>>>0,I||ia(y,E,this.length);let Ie=this[y+--E],et=1;for(;E>0&&(et*=256);)Ie+=this[y+--E]*et;return Ie},g.prototype.readUint8=g.prototype.readUInt8=function(y,E){return y=y>>>0,E||ia(y,1,this.length),this[y]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(y,E){return y=y>>>0,E||ia(y,2,this.length),this[y]|this[y+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(y,E){return y=y>>>0,E||ia(y,2,this.length),this[y]<<8|this[y+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},g.prototype.readBigUInt64LE=Ks(function(y){y=y>>>0,Wt(y,"offset");let E=this[y],I=this[y+7];(E===void 0||I===void 0)&&it(y,this.length-8);let Ie=E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,et=this[++y]+this[++y]*2**8+this[++y]*2**16+I*2**24;return BigInt(Ie)+(BigInt(et)<<BigInt(32))}),g.prototype.readBigUInt64BE=Ks(function(y){y=y>>>0,Wt(y,"offset");let E=this[y],I=this[y+7];(E===void 0||I===void 0)&&it(y,this.length-8);let Ie=E*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],et=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+I;return(BigInt(Ie)<<BigInt(32))+BigInt(et)}),g.prototype.readIntLE=function(y,E,I){y=y>>>0,E=E>>>0,I||ia(y,E,this.length);let Ie=this[y],et=1,rr=0;for(;++rr<E&&(et*=256);)Ie+=this[y+rr]*et;return et*=128,Ie>=et&&(Ie-=Math.pow(2,8*E)),Ie},g.prototype.readIntBE=function(y,E,I){y=y>>>0,E=E>>>0,I||ia(y,E,this.length);let Ie=E,et=1,rr=this[y+--Ie];for(;Ie>0&&(et*=256);)rr+=this[y+--Ie]*et;return et*=128,rr>=et&&(rr-=Math.pow(2,8*E)),rr},g.prototype.readInt8=function(y,E){return y=y>>>0,E||ia(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},g.prototype.readInt16LE=function(y,E){y=y>>>0,E||ia(y,2,this.length);let I=this[y]|this[y+1]<<8;return I&32768?I|4294901760:I},g.prototype.readInt16BE=function(y,E){y=y>>>0,E||ia(y,2,this.length);let I=this[y+1]|this[y]<<8;return I&32768?I|4294901760:I},g.prototype.readInt32LE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},g.prototype.readInt32BE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},g.prototype.readBigInt64LE=Ks(function(y){y=y>>>0,Wt(y,"offset");let E=this[y],I=this[y+7];(E===void 0||I===void 0)&&it(y,this.length-8);let Ie=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(I<<24);return(BigInt(Ie)<<BigInt(32))+BigInt(E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),g.prototype.readBigInt64BE=Ks(function(y){y=y>>>0,Wt(y,"offset");let E=this[y],I=this[y+7];(E===void 0||I===void 0)&&it(y,this.length-8);let Ie=(E<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(Ie)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+I)}),g.prototype.readFloatLE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),r.read(this,y,!0,23,4)},g.prototype.readFloatBE=function(y,E){return y=y>>>0,E||ia(y,4,this.length),r.read(this,y,!1,23,4)},g.prototype.readDoubleLE=function(y,E){return y=y>>>0,E||ia(y,8,this.length),r.read(this,y,!0,52,8)},g.prototype.readDoubleBE=function(y,E){return y=y>>>0,E||ia(y,8,this.length),r.read(this,y,!1,52,8)};function ir(y,E,I,Ie,et,rr){if(!g.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>et||E<rr)throw new RangeError('"value" argument is out of bounds');if(I+Ie>y.length)throw new RangeError("Index out of range")}g.prototype.writeUintLE=g.prototype.writeUIntLE=function(y,E,I,Ie){if(y=+y,E=E>>>0,I=I>>>0,!Ie){let zr=Math.pow(2,8*I)-1;ir(this,y,E,I,zr,0)}let et=1,rr=0;for(this[E]=y&255;++rr<I&&(et*=256);)this[E+rr]=y/et&255;return E+I},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(y,E,I,Ie){if(y=+y,E=E>>>0,I=I>>>0,!Ie){let zr=Math.pow(2,8*I)-1;ir(this,y,E,I,zr,0)}let et=I-1,rr=1;for(this[E+et]=y&255;--et>=0&&(rr*=256);)this[E+et]=y/rr&255;return E+I},g.prototype.writeUint8=g.prototype.writeUInt8=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,1,255,0),this[E]=y&255,E+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,2,65535,0),this[E]=y&255,this[E+1]=y>>>8,E+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,2,65535,0),this[E]=y>>>8,this[E+1]=y&255,E+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,4,4294967295,0),this[E+3]=y>>>24,this[E+2]=y>>>16,this[E+1]=y>>>8,this[E]=y&255,E+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,4,4294967295,0),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4};function Hr(y,E,I,Ie,et){Pr(E,Ie,et,y,I,7);let rr=Number(E&BigInt(4294967295));y[I++]=rr,rr=rr>>8,y[I++]=rr,rr=rr>>8,y[I++]=rr,rr=rr>>8,y[I++]=rr;let zr=Number(E>>BigInt(32)&BigInt(4294967295));return y[I++]=zr,zr=zr>>8,y[I++]=zr,zr=zr>>8,y[I++]=zr,zr=zr>>8,y[I++]=zr,I}function Fr(y,E,I,Ie,et){Pr(E,Ie,et,y,I,7);let rr=Number(E&BigInt(4294967295));y[I+7]=rr,rr=rr>>8,y[I+6]=rr,rr=rr>>8,y[I+5]=rr,rr=rr>>8,y[I+4]=rr;let zr=Number(E>>BigInt(32)&BigInt(4294967295));return y[I+3]=zr,zr=zr>>8,y[I+2]=zr,zr=zr>>8,y[I+1]=zr,zr=zr>>8,y[I]=zr,I+8}g.prototype.writeBigUInt64LE=Ks(function(y,E=0){return Hr(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=Ks(function(y,E=0){return Fr(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(y,E,I,Ie){if(y=+y,E=E>>>0,!Ie){let ya=Math.pow(2,8*I-1);ir(this,y,E,I,ya-1,-ya)}let et=0,rr=1,zr=0;for(this[E]=y&255;++et<I&&(rr*=256);)y<0&&zr===0&&this[E+et-1]!==0&&(zr=1),this[E+et]=(y/rr>>0)-zr&255;return E+I},g.prototype.writeIntBE=function(y,E,I,Ie){if(y=+y,E=E>>>0,!Ie){let ya=Math.pow(2,8*I-1);ir(this,y,E,I,ya-1,-ya)}let et=I-1,rr=1,zr=0;for(this[E+et]=y&255;--et>=0&&(rr*=256);)y<0&&zr===0&&this[E+et+1]!==0&&(zr=1),this[E+et]=(y/rr>>0)-zr&255;return E+I},g.prototype.writeInt8=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,1,127,-128),y<0&&(y=255+y+1),this[E]=y&255,E+1},g.prototype.writeInt16LE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,2,32767,-32768),this[E]=y&255,this[E+1]=y>>>8,E+2},g.prototype.writeInt16BE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,2,32767,-32768),this[E]=y>>>8,this[E+1]=y&255,E+2},g.prototype.writeInt32LE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,4,2147483647,-2147483648),this[E]=y&255,this[E+1]=y>>>8,this[E+2]=y>>>16,this[E+3]=y>>>24,E+4},g.prototype.writeInt32BE=function(y,E,I){return y=+y,E=E>>>0,I||ir(this,y,E,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4},g.prototype.writeBigInt64LE=Ks(function(y,E=0){return Hr(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=Ks(function(y,E=0){return Fr(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ei(y,E,I,Ie,et,rr){if(I+Ie>y.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function ba(y,E,I,Ie,et){return E=+E,I=I>>>0,et||Ei(y,E,I,4),r.write(y,E,I,Ie,23,4),I+4}g.prototype.writeFloatLE=function(y,E,I){return ba(this,y,E,!0,I)},g.prototype.writeFloatBE=function(y,E,I){return ba(this,y,E,!1,I)};function Ea(y,E,I,Ie,et){return E=+E,I=I>>>0,et||Ei(y,E,I,8),r.write(y,E,I,Ie,52,8),I+8}g.prototype.writeDoubleLE=function(y,E,I){return Ea(this,y,E,!0,I)},g.prototype.writeDoubleBE=function(y,E,I){return Ea(this,y,E,!1,I)},g.prototype.copy=function(y,E,I,Ie){if(!g.isBuffer(y))throw new TypeError("argument should be a Buffer");if(I||(I=0),!Ie&&Ie!==0&&(Ie=this.length),E>=y.length&&(E=y.length),E||(E=0),Ie>0&&Ie<I&&(Ie=I),Ie===I||y.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("sourceEnd out of bounds");Ie>this.length&&(Ie=this.length),y.length-E<Ie-I&&(Ie=y.length-E+I);let et=Ie-I;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,I,Ie):Uint8Array.prototype.set.call(y,this.subarray(I,Ie),E),et},g.prototype.fill=function(y,E,I,Ie){if(typeof y=="string"){if(typeof E=="string"?(Ie=E,E=0,I=this.length):typeof I=="string"&&(Ie=I,I=this.length),Ie!==void 0&&typeof Ie!="string")throw new TypeError("encoding must be a string");if(typeof Ie=="string"&&!g.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);if(y.length===1){let rr=y.charCodeAt(0);(Ie==="utf8"&&rr<128||Ie==="latin1")&&(y=rr)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(E<0||this.length<E||this.length<I)throw new RangeError("Out of range index");if(I<=E)return this;E=E>>>0,I=I===void 0?this.length:I>>>0,y||(y=0);let et;if(typeof y=="number")for(et=E;et<I;++et)this[et]=y;else{let rr=g.isBuffer(y)?y:g.from(y,Ie),zr=rr.length;if(zr===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(et=0;et<I-E;++et)this[et+E]=rr[et%zr]}return this};var Kr={};function Zr(y,E,I){Kr[y]=class extends I{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,this.stack,delete this.name}get code(){return y}set code(Ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ie,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}Zr("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Zr("ERR_INVALID_ARG_TYPE",function(y,E){return`The "${y}" argument must be of type number. Received type ${typeof E}`},TypeError),Zr("ERR_OUT_OF_RANGE",function(y,E,I){let Ie=`The value of "${y}" is out of range.`,et=I;return Number.isInteger(I)&&Math.abs(I)>2**32?et=st(String(I)):typeof I=="bigint"&&(et=String(I),(I>BigInt(2)**BigInt(32)||I<-(BigInt(2)**BigInt(32)))&&(et=st(et)),et+="n"),Ie+=` It must be ${E}. Received ${et}`,Ie},RangeError);function st(y){let E="",I=y.length,Ie=y[0]==="-"?1:0;for(;I>=Ie+4;I-=3)E=`_${y.slice(I-3,I)}${E}`;return`${y.slice(0,I)}${E}`}function vr(y,E,I){Wt(E,"offset"),(y[E]===void 0||y[E+I]===void 0)&&it(E,y.length-(I+1))}function Pr(y,E,I,Ie,et,rr){if(y>I||y<E){let zr=typeof E=="bigint"?"n":"",ya;throw rr>3?E===0||E===BigInt(0)?ya=`>= 0${zr} and < 2${zr} ** ${(rr+1)*8}${zr}`:ya=`>= -(2${zr} ** ${(rr+1)*8-1}${zr}) and < 2 ** ${(rr+1)*8-1}${zr}`:ya=`>= ${E}${zr} and <= ${I}${zr}`,new Kr.ERR_OUT_OF_RANGE("value",ya,y)}vr(Ie,et,rr)}function Wt(y,E){if(typeof y!="number")throw new Kr.ERR_INVALID_ARG_TYPE(E,"number",y)}function it(y,E,I){throw Math.floor(y)!==y?(Wt(y,I),new Kr.ERR_OUT_OF_RANGE(I||"offset","an integer",y)):E<0?new Kr.ERR_BUFFER_OUT_OF_BOUNDS:new Kr.ERR_OUT_OF_RANGE(I||"offset",`>= ${I?1:0} and <= ${E}`,y)}var Yr=/[^+/0-9A-Za-z-_]/g;function en(y){if(y=y.split("=")[0],y=y.trim().replace(Yr,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function Qr(y,E){E=E||1/0;let I,Ie=y.length,et=null,rr=[];for(let zr=0;zr<Ie;++zr){if(I=y.charCodeAt(zr),I>55295&&I<57344){if(!et){if(I>56319){(E-=3)>-1&&rr.push(239,191,189);continue}else if(zr+1===Ie){(E-=3)>-1&&rr.push(239,191,189);continue}et=I;continue}if(I<56320){(E-=3)>-1&&rr.push(239,191,189),et=I;continue}I=(et-55296<<10|I-56320)+65536}else et&&(E-=3)>-1&&rr.push(239,191,189);if(et=null,I<128){if((E-=1)<0)break;rr.push(I)}else if(I<2048){if((E-=2)<0)break;rr.push(I>>6|192,I&63|128)}else if(I<65536){if((E-=3)<0)break;rr.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((E-=4)<0)break;rr.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return rr}function tn(y){let E=[];for(let I=0;I<y.length;++I)E.push(y.charCodeAt(I)&255);return E}function tr(y,E){let I,Ie,et,rr=[];for(let zr=0;zr<y.length&&!((E-=2)<0);++zr)I=y.charCodeAt(zr),Ie=I>>8,et=I%256,rr.push(et),rr.push(Ie);return rr}function yo(y){return t.toByteArray(en(y))}function ni(y,E,I,Ie){let et;for(et=0;et<Ie&&!(et+I>=E.length||et>=y.length);++et)E[et+I]=y[et];return et}function la(y,E){return y instanceof E||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===E.name}function ja(y){return y!==y}var Ys=function(){let y="0123456789abcdef",E=new Array(256);for(let I=0;I<16;++I){let Ie=I*16;for(let et=0;et<16;++et)E[Ie+et]=y[I]+y[et]}return E}();function Ks(y){return typeof BigInt>"u"?Qs:y}function Qs(){throw new Error("BigInt not supported")}}),si=S((e,t)=>{a();var r=t.exports={},n,o;function s(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=s}catch{n=s}try{typeof clearTimeout=="function"?o=clearTimeout:o=w}catch{o=w}})();function g(Ee){if(n===setTimeout)return setTimeout(Ee,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(Ee,0);try{return n(Ee,0)}catch{try{return n.call(null,Ee,0)}catch{return n.call(this,Ee,0)}}}function k(Ee){if(o===clearTimeout)return clearTimeout(Ee);if((o===w||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(Ee);try{return o(Ee)}catch{try{return o.call(null,Ee)}catch{return o.call(this,Ee)}}}var P=[],q=!1,ie,he=-1;function V(){!q||!ie||(q=!1,ie.length?P=ie.concat(P):he=-1,P.length&&X())}function X(){if(!q){var Ee=g(V);q=!0;for(var _e=P.length;_e;){for(ie=P,P=[];++he<_e;)ie&&ie[he].run();he=-1,_e=P.length}ie=null,q=!1,k(Ee)}}r.nextTick=function(Ee){var _e=new Array(arguments.length-1);if(arguments.length>1)for(var je=1;je<arguments.length;je++)_e[je-1]=arguments[je];P.push(new L(Ee,_e)),P.length===1&&!q&&g(X)};function L(Ee,_e){this.fun=Ee,this.array=_e}L.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function we(){}r.on=we,r.addListener=we,r.once=we,r.off=we,r.removeListener=we,r.removeAllListeners=we,r.emit=we,r.prependListener=we,r.prependOnceListener=we,r.listeners=function(Ee){return[]},r.binding=function(Ee){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(Ee){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),p,d,a=F(()=>{ti().Buffer,p=si(),d=globalThis,globalThis&&globalThis.process&&globalThis.process.env&&(globalThis.process.env.LIBP2P_FORCE_PNET=!1)});function ci(e,t,r){t=t||[],r=r||0;for(var n=r;e>=mf;)t[r++]=e&255|ai,e/=128;for(;e&pf;)t[r++]=e&255|ai,e>>>=7;return t[r]=e|0,ci.bytes=r-n+1,t}function un(e,n){var r=0,n=n||0,o=0,s=n,w,g=e.length;do{if(s>=g)throw un.bytes=0,new RangeError("Could not decode varint");w=e[s++],r+=o<28?(w&ui)<<o:(w&ui)*Math.pow(2,o),o+=7}while(w>=wf);return un.bytes=s-n,r}var df,ai,hf,pf,mf,yf,wf,ui,gf,Df,bf,Ef,xf,Cf,Bf,Af,Tf,If,Sf,Uf,Lt,fi=F(()=>{a(),df=ci,ai=128,hf=127,pf=~hf,mf=Math.pow(2,31),yf=un,wf=128,ui=127,gf=Math.pow(2,7),Df=Math.pow(2,14),bf=Math.pow(2,21),Ef=Math.pow(2,28),xf=Math.pow(2,35),Cf=Math.pow(2,42),Bf=Math.pow(2,49),Af=Math.pow(2,56),Tf=Math.pow(2,63),If=function(e){return e<gf?1:e<Df?2:e<bf?3:e<Ef?4:e<xf?5:e<Cf?6:e<Bf?7:e<Af?8:e<Tf?9:10},Sf={encode:df,decode:yf,encodingLength:If},Uf=Sf,Lt=Uf}),Pt,ut,ct,cr=F(()=>{a(),fi(),Pt=e=>[Lt.decode(e),Lt.decode.bytes],ut=(e,t,r=0)=>(Lt.encode(e,t,r),t),ct=e=>Lt.encodingLength(e)}),li,Se,di,hi,Ne=F(()=>{a(),li=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},Se=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},di=e=>new TextEncoder().encode(e),hi=e=>new TextDecoder().decode(e)}),Ue={};M(Ue,{Digest:()=>Xe,create:()=>$e,decode:()=>ft,equals:()=>fn});var $e,ft,fn,Xe,Le=F(()=>{a(),Ne(),cr(),$e=(e,t)=>{let r=t.byteLength,n=ct(e),o=n+ct(r),s=new Uint8Array(o+r);return ut(e,s,0),ut(r,s,n),s.set(t,o),new Xe(e,r,t,s)},ft=e=>{let t=Se(e),[r,n]=Pt(t),[o,s]=Pt(t.subarray(n)),w=t.subarray(n+s);if(w.byteLength!==o)throw new Error("Incorrect length");return new Xe(r,o,w,t)},fn=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&li(e.bytes,t.bytes),Xe=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}});function Ff(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var s=e.charAt(o),w=s.charCodeAt(0);if(r[w]!==255)throw new TypeError(s+" is ambiguous");r[w]=o}var g=e.length,k=e.charAt(0),P=Math.log(g)/Math.log(256),q=Math.log(256)/Math.log(g);function ie(X){if(X instanceof Uint8Array||(ArrayBuffer.isView(X)?X=new Uint8Array(X.buffer,X.byteOffset,X.byteLength):Array.isArray(X)&&(X=Uint8Array.from(X))),!(X instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(X.length===0)return"";for(var L=0,we=0,Ee=0,_e=X.length;Ee!==_e&&X[Ee]===0;)Ee++,L++;for(var je=(_e-Ee)*q+1>>>0,Xt=new Uint8Array(je);Ee!==_e;){for(var Gt=X[Ee],ot=0,Qt=je-1;(Gt!==0||ot<we)&&Qt!==-1;Qt--,ot++)Gt+=256*Xt[Qt]>>>0,Xt[Qt]=Gt%g>>>0,Gt=Gt/g>>>0;if(Gt!==0)throw new Error("Non-zero carry");we=ot,Ee++}for(var at=je-we;at!==je&&Xt[at]===0;)at++;for(var sr=k.repeat(L);at<je;++at)sr+=e.charAt(Xt[at]);return sr}function he(X){if(typeof X!="string")throw new TypeError("Expected String");if(X.length===0)return new Uint8Array;var L=0;if(X[L]!==" "){for(var we=0,Ee=0;X[L]===k;)we++,L++;for(var _e=(X.length-L)*P+1>>>0,je=new Uint8Array(_e);X[L];){var Xt=r[X.charCodeAt(L)];if(Xt===255)return;for(var Gt=0,ot=_e-1;(Xt!==0||Gt<Ee)&&ot!==-1;ot--,Gt++)Xt+=g*je[ot]>>>0,je[ot]=Xt%256>>>0,Xt=Xt/256>>>0;if(Xt!==0)throw new Error("Non-zero carry");Ee=Gt,L++}if(X[L]!==" "){for(var Qt=_e-Ee;Qt!==_e&&je[Qt]===0;)Qt++;for(var at=new Uint8Array(we+(_e-Qt)),sr=we;Qt!==_e;)at[sr++]=je[Qt++];return at}}}function V(X){var L=he(X);if(L)return L;throw new Error(`Non-${t} character`)}return{encode:ie,decodeUnsafe:he,decode:V}}var vf,kf,pi,mi=F(()=>{a(),vf=Ff,kf=vf,pi=kf}),ln,dn,hn,yi,pn,lt,Pe,_f,Nf,_,pe=F(()=>{a(),mi(),Ne(),ln=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},dn=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return yi(this,e)}},hn=class{constructor(e){this.decoders=e}or(e){return yi(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},yi=(e,t)=>new hn({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),pn=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new ln(e,t,r),this.decoder=new dn(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},lt=({name:e,prefix:t,encode:r,decode:n})=>new pn(e,t,r,n),Pe=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=pi(r,t);return lt({prefix:e,name:t,encode:n,decode:s=>Se(o(s))})},_f=(e,t,r,n)=>{let o={};for(let q=0;q<t.length;++q)o[t[q]]=q;let s=e.length;for(;e[s-1]==="=";)--s;let w=new Uint8Array(s*r/8|0),g=0,k=0,P=0;for(let q=0;q<s;++q){let ie=o[e[q]];if(ie===void 0)throw new SyntaxError(`Non-${n} character`);k=k<<r|ie,g+=r,g>=8&&(g-=8,w[P++]=255&k>>g)}if(g>=r||255&k<<8-g)throw new SyntaxError("Unexpected end of data");return w},Nf=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,s="",w=0,g=0;for(let k=0;k<e.length;++k)for(g=g<<8|e[k],w+=8;w>r;)w-=r,s+=t[o&g>>w];if(w&&(s+=t[o&g<<r-w]),n)for(;s.length*r&7;)s+="=";return s},_=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>lt({prefix:t,name:e,encode(o){return Nf(o,n,r)},decode(o){return _f(o,n,r,e)}})}),dt={};M(dt,{base58btc:()=>Y,base58flickr:()=>$f});var Y,$f,Re=F(()=>{a(),pe(),Y=Pe({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$f=Pe({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),Rt={};M(Rt,{base32:()=>Me,base32hex:()=>Mf,base32hexpad:()=>zf,base32hexpadupper:()=>qf,base32hexupper:()=>Of,base32pad:()=>Pf,base32padupper:()=>Rf,base32upper:()=>Lf,base32z:()=>Hf});var Me,Lf,Pf,Rf,Mf,Of,zf,qf,Hf,ht=F(()=>{a(),pe(),Me=_({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Lf=_({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Pf=_({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Rf=_({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Mf=_({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Of=_({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zf=_({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),qf=_({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Hf=_({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),dr={};M(dr,{CID:()=>x});var x,jf,Vf,Gf,Mt,Wf,wi,gi,fr,lr,Jf,Xf,Yf,Q=F(()=>{a(),cr(),Le(),Re(),ht(),Ne(),x=class{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:lr,byteLength:lr,code:fr,version:fr,multihash:fr,bytes:fr,_baseCache:lr,asCID:lr})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==Mt)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Wf)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return x.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=$e(e,t);return x.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&fn(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;switch(r){case 0:return Vf(t,n,e||Y.encoder);default:return Gf(t,n,e||Me.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Xf(/^0\.0/,Yf),!!(e&&(e[gi]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof x)return e;if(e!=null&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:o}=e;return new x(t,r,n,o||wi(t,r,n.bytes))}else if(e!=null&&e[gi]===!0){let{version:t,multihash:r,code:n}=e,o=ft(r);return x.create(t,n,o)}else return null}static create(e,t,r){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==Mt)throw new Error(`Version 0 CID must use dag-pb (code: ${Mt}) block encoding`);return new x(e,t,r,r.bytes)}case 1:{let n=wi(e,t,r.bytes);return new x(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return x.create(0,Mt,e)}static createV1(e,t){return x.create(1,e,t)}static decode(e){let[t,r]=x.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=x.inspectBytes(e),r=t.size-t.multihashSize,n=Se(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),s=new Xe(t.multihashCode,t.digestSize,o,n);return[t.version===0?x.createV0(s):x.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[q,ie]=Pt(e.subarray(t));return t+=ie,q},n=r(),o=Mt;if(n===18?(n=0,t=0):n===1&&(o=r()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=t,w=r(),g=r(),k=t+g,P=k-s;return{version:n,codec:o,multihashCode:w,digestSize:g,multihashSize:P,size:k}}static parse(e,t){let[r,n]=jf(e,t),o=x.decode(n);return o._baseCache.set(r,e),o}},jf=(e,t)=>{switch(e[0]){case"Q":{let r=t||Y;return[Y.prefix,r.decode(`${Y.prefix}${e}`)]}case Y.prefix:{let r=t||Y;return[Y.prefix,r.decode(e)]}case Me.prefix:{let r=t||Me;return[Me.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},Vf=(e,t,r)=>{let{prefix:n}=r;if(n!==Y.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let s=r.encode(e).slice(1);return t.set(n,s),s}else return o},Gf=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let s=r.encode(e);return t.set(n,s),s}else return o},Mt=112,Wf=18,wi=(e,t,r)=>{let n=ct(e),o=n+ct(t),s=new Uint8Array(o+r.byteLength);return ut(e,s,0),ut(t,s,n),s.set(r,o),s},gi=Symbol.for("@ipld/js-cid/CID"),fr={writable:!1,configurable:!1,enumerable:!0},lr={writable:!1,enumerable:!1,configurable:!1},Jf="0.0.0-dev",Xf=(e,t)=>{if(e.test(Jf))console.warn(t);else throw new Error(t)},Yf=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`}),yn,mn,wn=F(()=>{a(),Le(),yn=({name:e,code:t,encode:r})=>new mn(e,t,r),mn=class{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?$e(this.code,t):t.then(r=>$e(this.code,r))}else throw Error("Unknown type, must be binary type")}}}),gn=F(()=>{a(),Q(),cr(),Ne(),wn(),Le()}),Ci=S((e,t)=>{a(),t.exports=w;var r=128,n=127,o=~n,s=Math.pow(2,31);function w(g,k,P){if(Number.MAX_SAFE_INTEGER&&g>Number.MAX_SAFE_INTEGER)throw w.bytes=0,new RangeError("Could not encode varint");k=k||[],P=P||0;for(var q=P;g>=s;)k[P++]=g&255|r,g/=128;for(;g&o;)k[P++]=g&255|r,g>>>=7;return k[P]=g|0,w.bytes=P-q+1,k}}),Ti=S((e,t)=>{a(),t.exports=o;var r=128,n=127;function o(s,k){var g=0,k=k||0,P=0,q=k,ie,he=s.length;do{if(q>=he||P>49)throw o.bytes=0,new RangeError("Could not decode varint");ie=s[q++],g+=P<28?(ie&n)<<P:(ie&n)*Math.pow(2,P),P+=7}while(ie>=r);return o.bytes=q-k,g}}),Si=S((e,t)=>{a();var r=Math.pow(2,7),n=Math.pow(2,14),o=Math.pow(2,21),s=Math.pow(2,28),w=Math.pow(2,35),g=Math.pow(2,42),k=Math.pow(2,49),P=Math.pow(2,56),q=Math.pow(2,63);t.exports=function(ie){return ie<r?1:ie<n?2:ie<o?3:ie<s?4:ie<w?5:ie<g?6:ie<k?7:ie<P?8:ie<q?9:10}}),pt=S((e,t)=>{a(),t.exports={encode:Ci(),decode:Ti(),encodingLength:Si()}}),Ws=S((e,t)=>{a(),t.exports=function(){return Date.now()}}),Xs=S((e,t)=>{a();var r=Ws(),n=class{constructor(s,w,g){let k=this;this._started=r(),this._rescheduled=0,this._scheduled=w,this._args=g,this._triggered=!1,this._timerWrapper=()=>{k._rescheduled>0?(k._scheduled=k._rescheduled-(r()-k._started),k._schedule(k._scheduled)):(k._triggered=!0,s.apply(null,k._args))},this._timer=setTimeout(this._timerWrapper,w)}reschedule(s){s||(s=this._scheduled);let w=r();w+s-(this._started+this._scheduled)<0?(clearTimeout(this._timer),this._schedule(s)):this._triggered?this._schedule(s):(this._started=w,this._rescheduled=s)}_schedule(s){this._triggered=!1,this._started=r(),this._rescheduled=0,this._scheduled=s,this._timer=setTimeout(this._timerWrapper,s)}clear(){clearTimeout(this._timer)}};function o(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("timeout needed");let s;if(arguments.length>0){s=new Array(arguments.length-2);for(var w=0;w<s.length;w++)s[w]=arguments[w+2]}return new n(arguments[0],arguments[1],s)}t.exports=o}),Zs=S((e,t)=>{a();var{AbortController:r}=globalThis,n=Xs(),o=class extends r{constructor(s){super(),this._ms=s,this._timer=n(()=>this.abort(),s),Object.setPrototypeOf(this,o.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=n(()=>this.abort(),this._ms)}};t.exports={TimeoutController:o}}),ea=S((e,t)=>{a();function r(n){let o=new globalThis.AbortController;function s(){o.abort();for(let w of n)!w||!w.removeEventListener||w.removeEventListener("abort",s)}for(let w of n)if(!(!w||!w.addEventListener)){if(w.aborted){s();break}w.addEventListener("abort",s)}return o.signal}t.exports=r,t.exports.anySignal=r}),sa=S((e,t)=>{a();var r=1e3,n=r*60,o=n*60,s=o*24,w=s*7,g=s*365.25;t.exports=function(he,V){V=V||{};var X=typeof he;if(X==="string"&&he.length>0)return k(he);if(X==="number"&&isFinite(he))return V.long?q(he):P(he);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(he))};function k(he){if(he=String(he),!(he.length>100)){var V=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(he);if(V){var X=parseFloat(V[1]),L=(V[2]||"ms").toLowerCase();switch(L){case"years":case"year":case"yrs":case"yr":case"y":return X*g;case"weeks":case"week":case"w":return X*w;case"days":case"day":case"d":return X*s;case"hours":case"hour":case"hrs":case"hr":case"h":return X*o;case"minutes":case"minute":case"mins":case"min":case"m":return X*n;case"seconds":case"second":case"secs":case"sec":case"s":return X*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return X;default:return}}}}function P(he){var V=Math.abs(he);return V>=s?Math.round(he/s)+"d":V>=o?Math.round(he/o)+"h":V>=n?Math.round(he/n)+"m":V>=r?Math.round(he/r)+"s":he+"ms"}function q(he){var V=Math.abs(he);return V>=s?ie(he,V,s,"day"):V>=o?ie(he,V,o,"hour"):V>=n?ie(he,V,n,"minute"):V>=r?ie(he,V,r,"second"):he+" ms"}function ie(he,V,X,L){var we=V>=X*1.5;return Math.round(he/X)+" "+L+(we?"s":"")}}),ua=S((e,t)=>{a();function r(n){s.debug=s,s.default=s,s.coerce=ie,s.disable=k,s.enable=g,s.enabled=P,s.humanize=sa(),s.destroy=he,Object.keys(n).forEach(V=>{s[V]=n[V]}),s.names=[],s.skips=[],s.formatters={};function o(V){let X=0;for(let L=0;L<V.length;L++)X=(X<<5)-X+V.charCodeAt(L),X|=0;return s.colors[Math.abs(X)%s.colors.length]}s.selectColor=o;function s(V){let X,L=null,we,Ee;function _e(...je){if(!_e.enabled)return;let Xt=_e,Gt=Number(new Date),ot=Gt-(X||Gt);Xt.diff=ot,Xt.prev=X,Xt.curr=Gt,X=Gt,je[0]=s.coerce(je[0]),typeof je[0]!="string"&&je.unshift("%O");let Qt=0;je[0]=je[0].replace(/%([a-zA-Z%])/g,(at,sr)=>{if(at==="%%")return"%";Qt++;let qr=s.formatters[sr];if(typeof qr=="function"){let Xr=je[Qt];at=qr.call(Xt,Xr),je.splice(Qt,1),Qt--}return at}),s.formatArgs.call(Xt,je),(Xt.log||s.log).apply(Xt,je)}return _e.namespace=V,_e.useColors=s.useColors(),_e.color=s.selectColor(V),_e.extend=w,_e.destroy=s.destroy,Object.defineProperty(_e,"enabled",{enumerable:!0,configurable:!1,get:()=>L!==null?L:(we!==s.namespaces&&(we=s.namespaces,Ee=s.enabled(V)),Ee),set:je=>{L=je}}),typeof s.init=="function"&&s.init(_e),_e}function w(V,X){let L=s(this.namespace+(typeof X>"u"?":":X)+V);return L.log=this.log,L}function g(V){s.save(V),s.namespaces=V,s.names=[],s.skips=[];let X,L=(typeof V=="string"?V:"").split(/[\s,]+/),we=L.length;for(X=0;X<we;X++)!L[X]||(V=L[X].replace(/\*/g,".*?"),V[0]==="-"?s.skips.push(new RegExp("^"+V.slice(1)+"$")):s.names.push(new RegExp("^"+V+"$")))}function k(){let V=[...s.names.map(q),...s.skips.map(q).map(X=>"-"+X)].join(",");return s.enable(""),V}function P(V){if(V[V.length-1]==="*")return!0;let X,L;for(X=0,L=s.skips.length;X<L;X++)if(s.skips[X].test(V))return!1;for(X=0,L=s.names.length;X<L;X++)if(s.names[X].test(V))return!0;return!1}function q(V){return V.toString().substring(2,V.toString().length-2).replace(/\.\*\?$/,"*")}function ie(V){return V instanceof Error?V.stack||V.message:V}function he(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}t.exports=r}),ca=S((e,t)=>{a(),e.formatArgs=n,e.save=o,e.load=s,e.useColors=r,e.storage=w(),e.destroy=(()=>{let k=!1;return()=>{k||(k=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(k){if(k[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+k[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let P="color: "+this.color;k.splice(1,0,P,"color: inherit");let q=0,ie=0;k[0].replace(/%[a-zA-Z%]/g,he=>{he!=="%%"&&(q++,he==="%c"&&(ie=q))}),k.splice(ie,0,P)}e.log=console.debug||console.log||(()=>{});function o(k){try{k?e.storage.setItem("debug",k):e.storage.removeItem("debug")}catch{}}function s(){let k;try{k=e.storage.getItem("debug")}catch{}return!k&&typeof p<"u"&&"env"in p&&(k=p.env.DEBUG),k}function w(){try{return localStorage}catch{}}t.exports=ua()(e);var{formatters:g}=t.exports;g.j=function(k){try{return JSON.stringify(k)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}}}),On={};M(On,{base64:()=>Mn,base64pad:()=>md,base64url:()=>yd,base64urlpad:()=>wd});var Mn,md,yd,wd,zn=F(()=>{a(),pe(),Mn=_({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),md=_({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yd=_({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wd=_({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})}),fa,qn=F(()=>{a(),Ne(),fa=85}),da,Hn=F(()=>{a(),new TextEncoder,new TextDecoder,da=512}),wa=S((e,t)=>{a();var r=async n=>{for await(let o of n)return o};t.exports=r}),Da=S((e,t)=>{a();var r=async n=>{let o;for await(let s of n)o=s;return o};t.exports=r}),xa=S((e,t)=>{a();var r="[a-fA-F\\d:]",n=ie=>ie&&ie.includeBoundaries?`(?:(?<=\\s|^)(?=${r})|(?<=${r})(?=\\s|$))`:"",o="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",w=`
(?:
(?:${s}:){7}(?:${s}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${s}:){6}(?:${o}|:${s}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${s}:){5}(?::${o}|(?::${s}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${s}:){4}(?:(?::${s}){0,1}:${o}|(?::${s}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${s}:){3}(?:(?::${s}){0,2}:${o}|(?::${s}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${s}:){2}(?:(?::${s}){0,3}:${o}|(?::${s}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${s}:){1}(?:(?::${s}){0,4}:${o}|(?::${s}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${s}){0,5}:${o}|(?::${s}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),g=new RegExp(`(?:^${o}$)|(?:^${w}$)`),k=new RegExp(`^${o}$`),P=new RegExp(`^${w}$`),q=ie=>ie&&ie.exact?g:new RegExp(`(?:${n(ie)}${o}${n(ie)})|(?:${n(ie)}${w}${n(ie)})`,"g");q.v4=ie=>ie&&ie.exact?k:new RegExp(`${n(ie)}${o}${n(ie)}`,"g"),q.v6=ie=>ie&&ie.exact?P:new RegExp(`${n(ie)}${w}${n(ie)}`,"g"),t.exports=q}),Ba=S((e,t)=>{a();var r=xa(),n=o=>r({exact:!0}).test(o);n.v4=o=>r.v4({exact:!0}).test(o),n.v6=o=>r.v6({exact:!0}).test(o),n.version=o=>n(o)?n.v4(o)?4:6:void 0,t.exports=n}),Wn={};M(Wn,{identity:()=>Ad});var Ad,Aa=F(()=>{a(),pe(),Ne(),Ad=lt({prefix:"\0",name:"identity",encode:e=>hi(e),decode:e=>di(e)})}),Jn={};M(Jn,{base2:()=>Td});var Td,Ta=F(()=>{a(),pe(),Td=_({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),Xn={};M(Xn,{base8:()=>Id});var Id,Ia=F(()=>{a(),pe(),Id=_({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),Yn={};M(Yn,{base10:()=>Sd});var Sd,Sa=F(()=>{a(),pe(),Sd=Pe({prefix:"9",name:"base10",alphabet:"0123456789"})}),Qn={};M(Qn,{base16:()=>Ud,base16upper:()=>Fd});var Ud,Fd,Ua=F(()=>{a(),pe(),Ud=_({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Fd=_({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),Zn={};M(Zn,{base36:()=>vd,base36upper:()=>kd});var vd,kd,Fa=F(()=>{a(),pe(),vd=Pe({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),kd=Pe({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),Kn={};M(Kn,{base256emoji:()=>Pd});function $d(e){return e.reduce((t,r)=>(t+=_d[r],t),"")}function Ld(e){let t=[];for(let r of e){let n=Nd[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var va,_d,Nd,Pd,ka=F(()=>{a(),pe(),va=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),_d=va.reduce((e,t,r)=>(e[r]=t,e),[]),Nd=va.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),Pd=lt({prefix:"\u{1F680}",name:"base256emoji",encode:$d,decode:Ld})}),eo={};M(eo,{sha256:()=>Rd,sha512:()=>Md});var _a,Rd,Md,Na=F(()=>{a(),wn(),_a=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Rd=yn({name:"sha2-256",code:18,encode:_a("SHA-256")}),Md=yn({name:"sha2-512",code:19,encode:_a("SHA-512")})}),to={};M(to,{identity:()=>qd});var $a,Od,La,zd,qd,Pa=F(()=>{a(),Ne(),Le(),$a=0,Od="identity",La=Se,zd=e=>$e($a,La(e)),qd={code:$a,name:Od,encode:La,digest:zd}}),ro,Ra=F(()=>{a(),Aa(),Ta(),Ia(),Sa(),Ua(),ht(),Fa(),Re(),zn(),ka(),Na(),Pa(),qn(),Hn(),gn(),ro={...Wn,...Jn,...Xn,...Yn,...Qn,...Rt,...Zn,...dt,...On,...Kn},{...eo,...to}});function Nr(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}var no=F(()=>{a()});function Oa(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var Ma,oo,Hd,$r,io=F(()=>{a(),Ra(),no(),Ma=Oa("utf8","u",e=>{let t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>new TextEncoder().encode(e.substring(1))),oo=Oa("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=Nr(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Hd={utf8:Ma,"utf-8":Ma,hex:ro.base16,latin1:oo,ascii:oo,binary:oo,...ro},$r=Hd}),Tt={};M(Tt,{toString:()=>so});function so(e,t="utf8"){let r=$r[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var Ke=F(()=>{a(),io()}),Va=S((e,t)=>{a();var r=Ba(),{toString:n}=(Ke(),R(Tt)),o=r,s=r.v4,w=r.v6,g=function(P,q,ie){ie=~~ie;let he;if(s(P))he=q||new Uint8Array(ie+4),P.split(/\./g).map(function(V){he[ie++]=parseInt(V,10)&255});else if(w(P)){let V=P.split(":",8),X;for(X=0;X<V.length;X++){let L=s(V[X]),we;L&&(we=g(V[X]),V[X]=n(we.slice(0,2),"base16")),we&&++X<8&&V.splice(X,0,n(we.slice(2,4),"base16"))}if(V[0]==="")for(;V.length<8;)V.unshift("0");else if(V[V.length-1]==="")for(;V.length<8;)V.push("0");else if(V.length<8){for(X=0;X<V.length&&V[X]!=="";X++);let L=[X,"1"];for(X=9-V.length;X>0;X--)L.push("0");V.splice.apply(V,L)}for(he=q||new Uint8Array(ie+16),X=0;X<V.length;X++){let L=parseInt(V[X],16);he[ie++]=L>>8&255,he[ie++]=L&255}}if(!he)throw Error("Invalid ip address: "+P);return he},k=function(P,q,ie){q=~~q,ie=ie||P.length-q;let he=[],V,X=new DataView(P.buffer);if(ie===4){for(let L=0;L<ie;L++)he.push(P[q+L]);V=he.join(".")}else if(ie===16){for(let L=0;L<ie;L+=2)he.push(X.getUint16(q+L).toString(16));V=he.join(":"),V=V.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),V=V.replace(/:{3,4}/,"::")}return V};t.exports={isIP:o,isV4:s,isV6:w,toBytes:g,toString:k}}),Lr=S((e,t)=>{a();function r(s){if(typeof s=="number"){if(r.codes[s])return r.codes[s];throw new Error("no protocol with code: "+s)}else if(typeof s=="string"){if(r.names[s])return r.names[s];throw new Error("no protocol with name: "+s)}throw new Error("invalid protocol id type: "+s)}var n=-1;r.lengthPrefixedVarSize=n,r.V=n,r.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[53,n,"dns","resolvable"],[54,n,"dns4","resolvable"],[55,n,"dns6","resolvable"],[56,n,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,"path"],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]],r.names={},r.codes={},r.table.map(s=>{let w=o.apply(null,s);return r.codes[w.code]=w,r.names[w.name]=w,null}),r.object=o;function o(s,w,g,k,P){return{code:s,size:w,name:g,resolvable:Boolean(k),path:Boolean(P)}}t.exports=r}),Ja={};M(Ja,{fromString:()=>co});function co(e,t="utf8"){let r=$r[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}var fo=F(()=>{a(),io()}),lo={};M(lo,{concat:()=>Gd});function Gd(e,t){t||(t=e.reduce((o,s)=>o+s.length,0));let r=Nr(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}var ho=F(()=>{a(),no()}),ru=S((e,t)=>{a();var r=Va(),n=Lr(),{CID:o}=(Q(),R(dr)),{base32:s}=(ht(),R(Rt)),{base58btc:w}=(Re(),R(dt)),g=(Le(),R(Ue)),k=pt(),{toString:P}=(Ke(),R(Tt)),{fromString:q}=(fo(),R(Ja)),{concat:ie}=(ho(),R(lo));t.exports=he;function he(at,sr){return sr instanceof Uint8Array?he.toString(at,sr):he.toBytes(at,sr)}he.toString=function(at,sr){switch(n(at).code){case 4:case 41:return X(sr);case 6:case 273:case 33:case 132:return we(sr).toString();case 53:case 54:case 55:case 56:case 400:case 777:return _e(sr);case 421:return Xt(sr);case 444:return Qt(sr);case 445:return Qt(sr);default:return P(sr,"base16")}},he.toBytes=function(at,sr){switch(n(at).code){case 4:return V(sr);case 41:return V(sr);case 6:case 273:case 33:case 132:return L(parseInt(sr,10));case 53:case 54:case 55:case 56:case 400:case 777:return Ee(sr);case 421:return je(sr);case 444:return Gt(sr);case 445:return ot(sr);default:return q(sr,"base16")}};function V(at){if(!r.isIP(at))throw new Error("invalid ip address");return r.toBytes(at)}function X(at){let sr=r.toString(at);if(!sr||!r.isIP(sr))throw new Error("invalid ip address");return sr}function L(at){let sr=new ArrayBuffer(2);return new DataView(sr).setUint16(0,at),new Uint8Array(sr)}function we(at){return new DataView(at.buffer).getUint16(at.byteOffset)}function Ee(at){let sr=q(at),qr=Uint8Array.from(k.encode(sr.length));return ie([qr,sr],qr.length+sr.length)}function _e(at){let sr=k.decode(at);if(at=at.slice(k.decode.bytes),at.length!==sr)throw new Error("inconsistent lengths");return P(at)}function je(at){let sr;at[0]==="Q"||at[0]==="1"?sr=g.decode(w.decode(`z${at}`)).bytes:sr=o.parse(at).multihash.bytes;let qr=Uint8Array.from(k.encode(sr.length));return ie([qr,sr],qr.length+sr.length)}function Xt(at){let sr=k.decode(at),qr=at.slice(k.decode.bytes);if(qr.length!==sr)throw new Error("inconsistent lengths");return P(qr,"base58btc")}function Gt(at){let sr=at.split(":");if(sr.length!==2)throw new Error("failed to parse onion addr: "+sr+" does not contain a port number");if(sr[0].length!==16)throw new Error("failed to parse onion addr: "+sr[0]+" not a Tor onion address.");let qr=s.decode("b"+sr[0]),Xr=parseInt(sr[1],10);if(Xr<1||Xr>65536)throw new Error("Port number is not in range(1, 65536)");let rn=L(Xr);return ie([qr,rn],qr.length+rn.length)}function ot(at){let sr=at.split(":");if(sr.length!==2)throw new Error("failed to parse onion addr: "+sr+" does not contain a port number");if(sr[0].length!==56)throw new Error("failed to parse onion addr: "+sr[0]+" not a Tor onion3 address.");let qr=s.decode("b"+sr[0]),Xr=parseInt(sr[1],10);if(Xr<1||Xr>65536)throw new Error("Port number is not in range(1, 65536)");let rn=L(Xr);return ie([qr,rn],qr.length+rn.length)}function Qt(at){let sr=at.slice(0,at.length-2),qr=at.slice(at.length-2),Xr=P(sr,"base32"),rn=we(qr);return Xr+":"+rn}}),pu=S((e,t)=>{a();var r=ru(),n=Lr(),o=pt(),{concat:s}=(ho(),R(lo)),{toString:w}=(Ke(),R(Tt));t.exports={stringToStringTuples:g,stringTuplesToString:k,tuplesToStringTuples:q,stringTuplesToTuples:P,bytesToTuples:V,tuplesToBytes:ie,bytesToString:X,stringToBytes:L,fromString:we,fromBytes:Ee,validateBytes:_e,isValidBytes:je,cleanPath:Xt,ParseError:Gt,protoFromTuple:ot,sizeForAddr:he};function g(Qt){let at=[],sr=Qt.split("/").slice(1);if(sr.length===1&&sr[0]==="")return[];for(let qr=0;qr<sr.length;qr++){let Xr=sr[qr],rn=n(Xr);if(rn.size===0){at.push([Xr]);continue}if(qr++,qr>=sr.length)throw Gt("invalid address: "+Qt);if(rn.path){at.push([Xr,Xt(sr.slice(qr).join("/"))]);break}at.push([Xr,sr[qr]])}return at}function k(Qt){let at=[];return Qt.map(sr=>{let qr=ot(sr);return at.push(qr.name),sr.length>1&&at.push(sr[1]),null}),Xt(at.join("/"))}function P(Qt){return Qt.map(at=>{Array.isArray(at)||(at=[at]);let sr=ot(at);return at.length>1?[sr.code,r.toBytes(sr.code,at[1])]:[sr.code]})}function q(Qt){return Qt.map(at=>{let sr=ot(at);return at[1]?[sr.code,r.toString(sr.code,at[1])]:[sr.code]})}function ie(Qt){return Ee(s(Qt.map(at=>{let sr=ot(at),qr=Uint8Array.from(o.encode(sr.code));return at.length>1&&(qr=s([qr,at[1]])),qr})))}function he(Qt,at){return Qt.size>0?Qt.size/8:Qt.size===0?0:o.decode(at)+o.decode.bytes}function V(Qt){let at=[],sr=0;for(;sr<Qt.length;){let qr=o.decode(Qt,sr),Xr=o.decode.bytes,rn=n(qr),ao=he(rn,Qt.slice(sr+Xr));if(ao===0){at.push([qr]),sr+=Xr;continue}let ei=Qt.slice(sr+Xr,sr+Xr+ao);if(sr+=ao+Xr,sr>Qt.length)throw Gt("Invalid address Uint8Array: "+w(Qt,"base16"));at.push([qr,ei])}return at}function X(Qt){let at=V(Qt),sr=q(at);return k(sr)}function L(Qt){Qt=Xt(Qt);let at=g(Qt),sr=P(at);return ie(sr)}function we(Qt){return L(Qt)}function Ee(Qt){let at=_e(Qt);if(at)throw at;return Uint8Array.from(Qt)}function _e(Qt){try{V(Qt)}catch(at){return at}}function je(Qt){return _e(Qt)===void 0}function Xt(Qt){return"/"+Qt.trim().split("/").filter(at=>at).join("/")}function Gt(Qt){return new Error("Error parsing address: "+Qt)}function ot(Qt){return n(Qt[0])}}),Yt=S((e,t)=>{a();function r(o,s){for(let w in s)Object.defineProperty(o,w,{value:s[w],enumerable:!0,configurable:!0});return o}function n(o,s,w){if(!o||typeof o=="string")throw new TypeError("Please pass an Error to err-code");w||(w={}),typeof s=="object"&&(w=s,s=""),s&&(w.code=s);try{return r(o,w)}catch{w.message=o.message,w.stack=o.stack;let g=function(){};return g.prototype=Object.create(Object.getPrototypeOf(o)),r(new g,w)}}t.exports=n}),wu={};M(wu,{equals:()=>uh});function uh(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var gu=F(()=>{a()}),bo=S((e,t)=>{a();var r=pu(),n=Lr(),o=pt(),{CID:s}=(Q(),R(dr)),{base58btc:w}=(Re(),R(dt)),g=Yt(),k=Symbol.for("nodejs.util.inspect.custom"),{toString:P}=(Ke(),R(Tt)),{equals:q}=(gu(),R(wu)),ie=new Map,he=Symbol.for("@multiformats/js-multiaddr/multiaddr"),V=class{constructor(L){if(L==null&&(L=""),Object.defineProperty(this,he,{value:!0}),L instanceof Uint8Array)this.bytes=r.fromBytes(L);else if(typeof L=="string"){if(L.length>0&&L.charAt(0)!=="/")throw new Error(`multiaddr "${L}" must start with a "/"`);this.bytes=r.fromString(L)}else if(V.isMultiaddr(L))this.bytes=r.fromBytes(L.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return r.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let L={},we=this.toString().split("/");return L.family=we[1]==="ip4"?4:6,L.host=we[2],L.transport=we[3],L.port=parseInt(we[4]),L}protos(){return this.protoCodes().map(L=>Object.assign({},n(L)))}protoCodes(){let L=[],we=this.bytes,Ee=0;for(;Ee<we.length;){let _e=o.decode(we,Ee),je=o.decode.bytes,Xt=n(_e);Ee+=r.sizeForAddr(Xt,we.slice(Ee+je))+je,L.push(_e)}return L}protoNames(){return this.protos().map(L=>L.name)}tuples(){return r.bytesToTuples(this.bytes)}stringTuples(){let L=r.bytesToTuples(this.bytes);return r.tuplesToStringTuples(L)}encapsulate(L){return L=new V(L),new V(this.toString()+L.toString())}decapsulate(L){let we=L.toString(),Ee=this.toString(),_e=Ee.lastIndexOf(we);if(_e<0)throw new Error("Address "+this+" does not contain subaddress: "+L);return new V(Ee.slice(0,_e))}decapsulateCode(L){let we=this.tuples();for(let Ee=we.length-1;Ee>=0;Ee--)if(we[Ee][0]===L)return new V(r.tuplesToBytes(we.slice(0,Ee)));return this}getPeerId(){try{let L=this.stringTuples().filter(we=>we[0]===n.names.ipfs.code).pop();if(L&&L[1]){let we=L[1];return we[0]==="Q"||we[0]==="1"?P(w.decode(`z${we}`),"base58btc"):P(s.parse(we).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let L=null;try{L=this.stringTuples().filter(we=>!!n(we[0]).path)[0][1],L||(L=null)}catch{L=null}return L}equals(L){return q(this.bytes,L.bytes)}async resolve(){let L=this.protos().find(Ee=>Ee.resolvable);if(!L)return[this];let we=ie.get(L.name);if(!we)throw g(new Error(`no available resolver for ${L.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await we(this)).map(Ee=>new V(Ee))}nodeAddress(){let L=this.protoCodes(),we=this.protoNames(),Ee=this.toString().split("/").slice(1);if(Ee.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(L[0]!==4&&L[0]!==41&&L[0]!==54&&L[0]!==55)throw new Error(`no protocol with name: "'${we[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(Ee[2]!=="tcp"&&Ee[2]!=="udp")throw new Error(`no protocol with name: "'${we[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:L[0]===41||L[0]===55?6:4,address:Ee[1],port:parseInt(Ee[3])}}isThinWaistAddress(L){let we=(L||this).protos();return!(we.length!==2||we[0].code!==4&&we[0].code!==41||we[1].code!==6&&we[1].code!==273)}static fromNodeAddress(L,we){if(!L)throw new Error("requires node address object");if(!we)throw new Error("requires transport protocol");let Ee;switch(L.family){case 4:Ee="ip4";break;case 6:Ee="ip6";break;default:throw Error(`Invalid addr family. Got '${L.family}' instead of 4 or 6`)}return new V("/"+[Ee,L.address,we,L.port].join("/"))}static isName(L){return V.isMultiaddr(L)?L.protos().some(we=>we.resolvable):!1}static isMultiaddr(L){return L instanceof V||Boolean(L&&L[he])}[k](){return"<Multiaddr "+P(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+P(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}};V.protocols=n,V.resolvers=ie;function X(L){return new V(L)}t.exports={Multiaddr:V,multiaddr:X,protocols:n,resolvers:ie}}),ku=S((e,t)=>{a();var{Multiaddr:r}=bo(),n=ao("dns4"),o=ao("dns6"),s=ao("dnsaddr"),w=rn(ao("dns"),s,n,o),g=rn(ao("ip4"),ao("ip6")),k=rn(Xr(g,ao("tcp")),Xr(w,ao("tcp"))),P=Xr(g,ao("udp")),q=Xr(P,ao("utp")),ie=Xr(P,ao("quic")),he=rn(Xr(k,ao("ws")),Xr(w,ao("ws"))),V=rn(Xr(k,ao("wss")),Xr(w,ao("wss"))),X=rn(Xr(k,ao("http")),Xr(g,ao("http")),Xr(w,ao("http"))),L=rn(Xr(k,ao("https")),Xr(g,ao("https")),Xr(w,ao("https"))),we=rn(Xr(he,ao("p2p-webrtc-star"),ao("p2p")),Xr(V,ao("p2p-webrtc-star"),ao("p2p")),Xr(he,ao("p2p-webrtc-star")),Xr(V,ao("p2p-webrtc-star"))),Ee=rn(Xr(he,ao("p2p-websocket-star"),ao("p2p")),Xr(V,ao("p2p-websocket-star"),ao("p2p")),Xr(he,ao("p2p-websocket-star")),Xr(V,ao("p2p-websocket-star"))),_e=rn(Xr(X,ao("p2p-webrtc-direct"),ao("p2p")),Xr(L,ao("p2p-webrtc-direct"),ao("p2p")),Xr(X,ao("p2p-webrtc-direct")),Xr(L,ao("p2p-webrtc-direct"))),je=rn(he,V,X,L,we,_e,k,q,ie,w),Xt=rn(Xr(je,ao("p2p-stardust"),ao("p2p")),Xr(je,ao("p2p-stardust"))),Gt=rn(Xr(je,ao("p2p")),we,_e,ao("p2p")),ot=rn(Xr(Gt,ao("p2p-circuit"),Gt),Xr(Gt,ao("p2p-circuit")),Xr(ao("p2p-circuit"),Gt),Xr(je,ao("p2p-circuit")),Xr(ao("p2p-circuit"),je),ao("p2p-circuit")),Qt=()=>rn(Xr(ot,Qt),ot),at=Qt(),sr=rn(Xr(at,Gt,at),Xr(Gt,at),Xr(at,Gt),at,Gt);t.exports={DNS:w,DNS4:n,DNS6:o,DNSADDR:s,IP:g,TCP:k,UDP:P,QUIC:ie,UTP:q,HTTP:X,HTTPS:L,WebSockets:he,WebSocketsSecure:V,WebSocketStar:Ee,WebRTCStar:we,WebRTCDirect:_e,Reliable:je,Stardust:Xt,Circuit:at,P2P:sr,IPFS:sr};function qr(ei){function aa(ga){if(!r.isMultiaddr(ga))try{ga=new r(ga)}catch{return!1}let Ca=ei(ga.protoNames());return Ca===null?!1:Ca===!0||Ca===!1?Ca:Ca.length===0}return aa}function Xr(...ei){function aa(ga){if(ga.length<ei.length)return null;let Ca=ga;return ei.some(wo=>(Ca=typeof wo=="function"?wo().partialMatch(ga):wo.partialMatch(ga),Array.isArray(Ca)&&(ga=Ca),Ca===null)),Ca}return{toString:function(){return"{ "+ei.join(" ")+" }"},input:ei,matches:qr(aa),partialMatch:aa}}function rn(...ei){function aa(ga){let Ca=null;return ei.some(wo=>{let Ka=typeof wo=="function"?wo().partialMatch(ga):wo.partialMatch(ga);return Ka?(Ca=Ka,!0):!1}),Ca}return{toString:function(){return"{ "+ei.join(" ")+" }"},input:ei,matches:qr(aa),partialMatch:aa}}function ao(ei){let aa=ei;function ga(wo){let Ka;if(typeof wo=="string"||wo instanceof Uint8Array)try{Ka=new r(wo)}catch{return!1}else Ka=wo;let Js=Ka.protoNames();return Js.length===1&&Js[0]===aa}function Ca(wo){return wo.length===0?null:wo[0]===aa?wo.slice(1):null}return{toString:function(){return aa},matches:ga,partialMatch:Ca}}}),To=S((e,t)=>{a();var r=typeof navigator<"u"&&navigator.product==="ReactNative";function n(){return r?"http://localhost":d.location?d.location.protocol+"//"+d.location.host:""}var o=d.URL,s=n(),w=class{constructor(k="",P=s){this.super=new o(k,P),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(k){this.super.hash=k}set host(k){this.super.host=k}set hostname(k){this.super.hostname=k}set href(k){this.super.href=k}set password(k){this.super.password=k}set pathname(k){this.super.pathname=k}set port(k){this.super.port=k}set protocol(k){this.super.protocol=k}set search(k){this.super.search=k}set username(k){this.super.username=k}static createObjectURL(k){return o.createObjectURL(k)}static revokeObjectURL(k){o.revokeObjectURL(k)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function g(k){if(typeof k=="string")return new o(k).toString();if(!(k instanceof o)){let P=k.username&&k.password?`${k.username}:${k.password}@`:"",q=k.auth?k.auth+"@":"",ie=k.port?":"+k.port:"",he=k.protocol?k.protocol+"//":"",V=k.host||"",X=k.hostname||"",L=k.search||(k.query?"?"+k.query:""),we=k.hash||"",Ee=k.pathname||"",_e=k.path||Ee+L;return`${he}${P||q}${V||X+ie}${_e}${we}`}}t.exports={URLWithLegacySupport:w,URLSearchParams:d.URLSearchParams,defaultBase:s,format:g}}),Pu=S((e,t)=>{a();var{URLWithLegacySupport:r,format:n}=To();t.exports=(o,s={},w={},g)=>{let k=s.protocol?s.protocol.replace(":",""):"http";k=(w[k]||g||k)+":";let P;try{P=new r(o)}catch{P={}}let q=Object.assign({},s,{protocol:k||P.protocol,host:s.host||P.host});return new r(o,n(q)).toString()}}),Mu=S((e,t)=>{a();var{URLWithLegacySupport:r,format:n,URLSearchParams:o,defaultBase:s}=To(),w=Pu();t.exports={URL:r,URLSearchParams:o,format:n,relative:w,defaultBase:s}}),Ku=S((e,t)=>{a();var{base58btc:r}=(Re(),R(dt)),{base32:n}=(ht(),R(Rt)),o=(Le(),R(Ue)),{Multiaddr:s}=bo(),w=ku(),{CID:g}=(Q(),R(dr)),{URL:k}=Mu(),{toString:P}=(Ke(),R(Tt)),q=/^https?:\/\/[^/]+\/(ip[fn]s)\/([^/?#]+)/,ie=/^\/(ip[fn]s)\/([^/?#]+)/,he=1,V=2,X=/^https?:\/\/([^/]+)\.(ip[fn]s)\.[^/?]+/,L=1,we=2,Ee=/^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\.)+([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$/;function _e(wo){let Ka=qr(wo);try{o.decode(r.decode("z"+Ka))}catch{return!1}return!0}function je(wo){try{n.decode(wo)}catch{return!1}return!0}function Xt(wo){try{return typeof wo=="string"?Boolean(g.parse(wo)):wo instanceof Uint8Array?Boolean(g.decode(wo)):Boolean(g.asCID(wo))}catch{return!1}}function Gt(wo){if(!wo)return!1;if(s.isMultiaddr(wo))return!0;try{return new s(wo),!0}catch{return!1}}function ot(wo){return Gt(wo)&&w.P2P.matches(wo)}function Qt(wo,Ka,Js=he,ia=V){let ir=qr(wo);if(!ir)return!1;let Hr=ir.match(Ka);if(!Hr||Hr[Js]!=="ipfs")return!1;let Fr=Hr[ia];return Fr&&Ka===X&&(Fr=Fr.toLowerCase()),Xt(Fr)}function at(wo,Ka,Js=he,ia=V){let ir=qr(wo);if(!ir)return!1;let Hr=ir.match(Ka);if(!Hr||Hr[Js]!=="ipns")return!1;let Fr=Hr[ia];if(Fr&&Ka===X){if(Fr=Fr.toLowerCase(),Xt(Fr))return!0;try{!Fr.includes(".")&&Fr.includes("-")&&(Fr=Fr.replace(/--/g,"@").replace(/-/g,".").replace(/@/g,"-"));let{hostname:Ei}=new k(`http://${Fr}`);return Ee.test(Ei)}catch{return!1}}return!0}function sr(wo){return typeof wo=="string"}function qr(wo){return wo instanceof Uint8Array?P(wo,"base58btc"):sr(wo)?wo:!1}var Xr=wo=>Qt(wo,X,we,L),rn=wo=>at(wo,X,we,L),ao=wo=>Xr(wo)||rn(wo),ei=wo=>Qt(wo,q)||Xr(wo),aa=wo=>at(wo,q)||rn(wo),ga=wo=>ei(wo)||aa(wo)||ao(wo),Ca=wo=>Qt(wo,ie)||at(wo,ie);t.exports={multihash:_e,multiaddr:Gt,peerMultiaddr:ot,cid:Xt,base32cid:wo=>je(wo)&&Xt(wo),ipfsSubdomain:Xr,ipnsSubdomain:rn,subdomain:ao,subdomainGatewayPattern:X,ipfsUrl:ei,ipnsUrl:aa,url:ga,pathGatewayPattern:q,ipfsPath:wo=>Qt(wo,ie),ipnsPath:wo=>at(wo,ie),path:Ca,pathPattern:ie,urlOrPath:wo=>ga(wo)||Ca(wo),cidPath:wo=>sr(wo)&&!Xt(wo)&&Qt(`/ipfs/${wo}`,ie)}}),hc=S((e,t)=>{a();function r(n){let[o,s]=n[Symbol.asyncIterator]?[n[Symbol.asyncIterator](),Symbol.asyncIterator]:[n[Symbol.iterator](),Symbol.iterator],w=[];return{peek:()=>o.next(),push:g=>{w.push(g)},next:()=>w.length?{done:!1,value:w.shift()}:o.next(),[s](){return this}}}t.exports=r}),mc=S((e,t)=>{a();var r=async n=>{for await(let o of n);};t.exports=r}),wc=S((e,t)=>{a();var r=async function*(n,o){for await(let s of n)yield o(s)};t.exports=r});a();a();Q();a();gn();var hr=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),Dn=function*(e,t){if(e!=null&&!(e instanceof Uint8Array))for(let[r,n]of Object.entries(e)){let o=[...t,r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(let[s,w]of n.entries()){let g=[...o,s],k=x.asCID(w);k?yield[g.join("/"),k]:typeof w=="object"&&(yield*Dn(w,g))}else{let s=x.asCID(n);s?yield[o.join("/"),s]:yield*Dn(n,o)}}},bn=function*(e,t){if(e!=null)for(let[r,n]of Object.entries(e)){let o=[...t,r];if(yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!x.asCID(n))if(Array.isArray(n))for(let[s,w]of n.entries()){let g=[...o,s];yield g.join("/"),typeof w=="object"&&!x.asCID(w)&&(yield*bn(w,g))}else yield*bn(n,o)}},Qf=(e,t)=>{let r=e;for(let[n,o]of t.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${t.slice(0,n+1).map(w=>`[${JSON.stringify(w)}]`).join("")}`);let s=x.asCID(r);if(s)return{value:s,remaining:t.slice(n+1).join("/")}}return{value:r}},En=class{constructor({cid:e,bytes:t,value:r}){if(!e||!t||typeof r>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:hr(),bytes:hr(),value:hr(),asBlock:hr()})}links(){return Dn(this.value,[])}tree(){return bn(this.value,[])}get(e="/"){return Qf(this.value,e.split("/").filter(Boolean))}},bi=({bytes:e,cid:t,value:r,codec:n})=>{let o=r!==void 0?r:n&&n.decode(e);if(o===void 0)throw new Error('Missing required argument, must either provide "value" or "codec"');return new En({cid:t,bytes:e,value:o})};a();Q();a();var Nn=J(pt(),1);a();a();a();a();var ll=["string","number","bigint","symbol"],dl=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Fi(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;return ll.includes(t)?t:t==="function"?"Function":Array.isArray(e)?"Array":hl(e)?"Buffer":pl(e)||"Object"}function hl(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function pl(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(dl.includes(t))return t}a();var l=class{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};l.uint=new l(0,"uint",!0);l.negint=new l(1,"negint",!0);l.bytes=new l(2,"bytes",!0);l.string=new l(3,"string",!0);l.array=new l(4,"array",!1);l.map=new l(5,"map",!1);l.tag=new l(6,"tag",!1);l.float=new l(7,"float",!0);l.false=new l(7,"false",!0);l.true=new l(7,"true",!0);l.null=new l(7,"null",!0);l.undefined=new l(7,"undefined",!0);l.break=new l(7,"break",!0);var b=class{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};a();a();var mt=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",ml=new TextDecoder,yl=new TextEncoder;function pr(e){return mt&&globalThis.Buffer.isBuffer(e)}function Bn(e){return e instanceof Uint8Array?pr(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var Ni=mt?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):ki(e,t,r):(e,t,r)=>r-t>64?ml.decode(e.subarray(t,r)):ki(e,t,r),$i=mt?e=>e.length>64?globalThis.Buffer.from(e):vi(e):e=>e.length>64?yl.encode(e):vi(e),Ce=e=>Uint8Array.from(e),yt=mt?(e,t,r)=>pr(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),Li=mt?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),Bn(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},Pi=mt?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Ri(e,t){if(pr(e)&&pr(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function vi(e,t=1/0){let r,n=e.length,o=null,s=[];for(let w=0;w<n;++w){if(r=e.charCodeAt(w),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(w+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function ki(e,t,r){let n=[];for(;t<r;){let o=e[t],s=null,w=o>239?4:o>223?3:o>191?2:1;if(t+w<=r){let g,k,P,q;switch(w){case 1:o<128&&(s=o);break;case 2:g=e[t+1],(g&192)===128&&(q=(o&31)<<6|g&63,q>127&&(s=q));break;case 3:g=e[t+1],k=e[t+2],(g&192)===128&&(k&192)===128&&(q=(o&15)<<12|(g&63)<<6|k&63,q>2047&&(q<55296||q>57343)&&(s=q));break;case 4:g=e[t+1],k=e[t+2],P=e[t+3],(g&192)===128&&(k&192)===128&&(P&192)===128&&(q=(o&15)<<18|(g&63)<<12|(k&63)<<6|P&63,q>65535&&q<1114112&&(s=q))}}s===null?(s=65533,w=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),t+=w}return wl(n)}var _i=4096;function wl(e){let t=e.length;if(t<=_i)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=_i));return r}var gl=256,Ot=class{constructor(e=gl){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let r=t.length-(this.maxCursor-this.cursor)-1;r<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,r),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Pi(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(this.chunks.length===1){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=yt(r,0,this.cursor)}else t=Li(this.chunks,this.cursor);return e&&this.reset(),t}};a();var C="CBOR decode error:",An="CBOR encode error:";function Fe(e,t,r){if(e.length-t<r)throw new Error(`${C} not enough data for type`)}a();a();var z=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ee(e,t,r){Fe(e,t,1);let n=e[t];if(r.strict===!0&&n<z[0])throw new Error(`${C} integer encoded in more bytes than necessary (strict decode)`);return n}function te(e,t,r){Fe(e,t,2);let n=e[t]<<8|e[t+1];if(r.strict===!0&&n<z[1])throw new Error(`${C} integer encoded in more bytes than necessary (strict decode)`);return n}function re(e,t,r){Fe(e,t,4);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<z[2])throw new Error(`${C} integer encoded in more bytes than necessary (strict decode)`);return n}function ne(e,t,r){Fe(e,t,8);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],s=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&s<z[3])throw new Error(`${C} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${C} integers outside of the safe integer range are not supported`)}function Mi(e,t,r,n){return new b(l.uint,ee(e,t+1,n),2)}function Oi(e,t,r,n){return new b(l.uint,te(e,t+1,n),3)}function zi(e,t,r,n){return new b(l.uint,re(e,t+1,n),5)}function qi(e,t,r,n){return new b(l.uint,ne(e,t+1,n),9)}function ce(e,t){return H(e,0,t.value)}function H(e,t,r){if(r<z[0]){let n=Number(r);e.push([t|n])}else if(r<z[1]){let n=Number(r);e.push([t|24,n])}else if(r<z[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<z[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<z[4]){let o=[t|27,0,0,0,0,0,0,0],s=Number(n&BigInt(4294967295)),w=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=s&255,s=s>>8,o[7]=s&255,s=s>>8,o[6]=s&255,s=s>>8,o[5]=s&255,o[4]=w&255,w=w>>8,o[3]=w&255,w=w>>8,o[2]=w&255,w=w>>8,o[1]=w&255,e.push(o)}else throw new Error(`${C} encountered BigInt larger than allowable range`)}}ce.encodedSize=function(e){return H.encodedSize(e.value)};H.encodedSize=function(e){return e<z[0]?1:e<z[1]?2:e<z[2]?3:e<z[3]?5:9};ce.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};a();function Hi(e,t,r,n){return new b(l.negint,-1-ee(e,t+1,n),2)}function ji(e,t,r,n){return new b(l.negint,-1-te(e,t+1,n),3)}function Vi(e,t,r,n){return new b(l.negint,-1-re(e,t+1,n),5)}var Tn=BigInt(-1),Gi=BigInt(1);function Wi(e,t,r,n){let o=ne(e,t+1,n);if(typeof o!="bigint"){let s=-1-o;if(s>=Number.MIN_SAFE_INTEGER)return new b(l.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${C} integers outside of the safe integer range are not supported`);return new b(l.negint,Tn-BigInt(o),9)}function mr(e,t){let r=t.value,n=typeof r=="bigint"?r*Tn-Gi:r*-1-1;H(e,t.type.majorEncoded,n)}mr.encodedSize=function(e){let t=e.value,r=typeof t=="bigint"?t*Tn-Gi:t*-1-1;return r<z[0]?1:r<z[1]?2:r<z[2]?3:r<z[3]?5:9};mr.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0};a();function qt(e,t,r,n){Fe(e,t,r+n);let o=yt(e,t+r,t+r+n);return new b(l.bytes,o,r+n)}function Ji(e,t,r,n){return qt(e,t,1,r)}function Xi(e,t,r,n){return qt(e,t,2,ee(e,t+1,n))}function Yi(e,t,r,n){return qt(e,t,3,te(e,t+1,n))}function Qi(e,t,r,n){return qt(e,t,5,re(e,t+1,n))}function Zi(e,t,r,n){let o=ne(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C} 64-bit integer bytes lengths not supported`);return qt(e,t,9,o)}function yr(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===l.string?$i(e.value):e.value),e.encodedBytes}function wt(e,t){let r=yr(t);H(e,t.type.majorEncoded,r.length),e.push(r)}wt.encodedSize=function(e){let t=yr(e);return H.encodedSize(t.length)+t.length};wt.compareTokens=function(e,t){return bl(yr(e),yr(t))};function bl(e,t){return e.length<t.length?-1:e.length>t.length?1:Ri(e,t)}a();function Ht(e,t,r,n,o){let s=r+n;Fe(e,t,s);let w=new b(l.string,Ni(e,t+r,t+s),s);return o.retainStringBytes===!0&&(w.byteValue=yt(e,t+r,t+s)),w}function Ki(e,t,r,n){return Ht(e,t,1,r,n)}function es(e,t,r,n){return Ht(e,t,2,ee(e,t+1,n),n)}function ts(e,t,r,n){return Ht(e,t,3,te(e,t+1,n),n)}function rs(e,t,r,n){return Ht(e,t,5,re(e,t+1,n),n)}function ns(e,t,r,n){let o=ne(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C} 64-bit integer string lengths not supported`);return Ht(e,t,9,o,n)}var os=wt;a();function gt(e,t,r,n){return new b(l.array,n,r)}function is(e,t,r,n){return gt(e,t,1,r)}function ss(e,t,r,n){return gt(e,t,2,ee(e,t+1,n))}function as(e,t,r,n){return gt(e,t,3,te(e,t+1,n))}function us(e,t,r,n){return gt(e,t,5,re(e,t+1,n))}function cs(e,t,r,n){let o=ne(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C} 64-bit integer array lengths not supported`);return gt(e,t,9,o)}function fs(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C} indefinite length items not allowed`);return gt(e,t,1,1/0)}function wr(e,t){H(e,l.array.majorEncoded,t.value)}wr.compareTokens=ce.compareTokens;wr.encodedSize=function(e){return H.encodedSize(e.value)};a();function Dt(e,t,r,n){return new b(l.map,n,r)}function ls(e,t,r,n){return Dt(e,t,1,r)}function ds(e,t,r,n){return Dt(e,t,2,ee(e,t+1,n))}function hs(e,t,r,n){return Dt(e,t,3,te(e,t+1,n))}function ps(e,t,r,n){return Dt(e,t,5,re(e,t+1,n))}function ms(e,t,r,n){let o=ne(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C} 64-bit integer map lengths not supported`);return Dt(e,t,9,o)}function ys(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C} indefinite length items not allowed`);return Dt(e,t,1,1/0)}function gr(e,t){H(e,l.map.majorEncoded,t.value)}gr.compareTokens=ce.compareTokens;gr.encodedSize=function(e){return H.encodedSize(e.value)};a();function ws(e,t,r,n){return new b(l.tag,r,1)}function gs(e,t,r,n){return new b(l.tag,ee(e,t+1,n),2)}function Ds(e,t,r,n){return new b(l.tag,te(e,t+1,n),3)}function bs(e,t,r,n){return new b(l.tag,re(e,t+1,n),5)}function Es(e,t,r,n){return new b(l.tag,ne(e,t+1,n),9)}function Dr(e,t){H(e,l.tag.majorEncoded,t.value)}Dr.compareTokens=ce.compareTokens;Dr.encodedSize=function(e){return H.encodedSize(e.value)};a();var Tl=20,Il=21,Sl=22,Ul=23;function xs(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${C} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new b(l.null,null,1):new b(l.undefined,void 0,1)}function Cs(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C} indefinite length items not allowed`);return new b(l.break,void 0,1)}function In(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${C} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${C} Infinity values are not supported`)}return new b(l.float,e,t)}function Bs(e,t,r,n){return In(Sn(e,t+1),3,n)}function As(e,t,r,n){return In(Un(e,t+1),5,n)}function Ts(e,t,r,n){return In(Fs(e,t+1),9,n)}function br(e,t,r){let n=t.value;if(n===!1)e.push([l.float.majorEncoded|Tl]);else if(n===!0)e.push([l.float.majorEncoded|Il]);else if(n===null)e.push([l.float.majorEncoded|Sl]);else if(n===void 0)e.push([l.float.majorEncoded|Ul]);else{let o,s=!1;(!r||r.float64!==!0)&&(Ss(n),o=Sn(me,1),n===o||Number.isNaN(n)?(me[0]=249,e.push(me.slice(0,3)),s=!0):(Us(n),o=Un(me,1),n===o&&(me[0]=250,e.push(me.slice(0,5)),s=!0))),s||(Fl(n),o=Fs(me,1),me[0]=251,e.push(me.slice(0,9)))}}br.encodedSize=function(e,t){let r=e.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!t||t.float64!==!0){Ss(r);let n=Sn(me,1);if(r===n||Number.isNaN(r))return 3;if(Us(r),n=Un(me,1),r===n)return 5}return 9};var Is=new ArrayBuffer(9),fe=new DataView(Is,1),me=new Uint8Array(Is,0);function Ss(e){if(e===1/0)fe.setUint16(0,31744,!1);else if(e===-1/0)fe.setUint16(0,64512,!1);else if(Number.isNaN(e))fe.setUint16(0,32256,!1);else{fe.setFloat32(0,e);let t=fe.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)fe.setUint16(0,31744,!1);else if(r===0)fe.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?fe.setUint16(0,0):o<-14?fe.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):fe.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function Sn(e,t){if(e.length-t<2)throw new Error(`${C} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,s;return n===0?s=o*2**-24:n!==31?s=(o+1024)*2**(n-25):s=o===0?1/0:NaN,r&32768?-s:s}function Us(e){fe.setFloat32(0,e,!1)}function Un(e,t){if(e.length-t<4)throw new Error(`${C} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function Fl(e){fe.setFloat64(0,e,!1)}function Fs(e,t){if(e.length-t<8)throw new Error(`${C} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}br.compareTokens=ce.compareTokens;function U(e,t,r){throw new Error(`${C} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function Er(e){return()=>{throw new Error(`${C} ${e}`)}}var D=[];for(let e=0;e<=23;e++)D[e]=U;D[24]=Mi;D[25]=Oi;D[26]=zi;D[27]=qi;D[28]=U;D[29]=U;D[30]=U;D[31]=U;for(let e=32;e<=55;e++)D[e]=U;D[56]=Hi;D[57]=ji;D[58]=Vi;D[59]=Wi;D[60]=U;D[61]=U;D[62]=U;D[63]=U;for(let e=64;e<=87;e++)D[e]=Ji;D[88]=Xi;D[89]=Yi;D[90]=Qi;D[91]=Zi;D[92]=U;D[93]=U;D[94]=U;D[95]=Er("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)D[e]=Ki;D[120]=es;D[121]=ts;D[122]=rs;D[123]=ns;D[124]=U;D[125]=U;D[126]=U;D[127]=Er("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)D[e]=is;D[152]=ss;D[153]=as;D[154]=us;D[155]=cs;D[156]=U;D[157]=U;D[158]=U;D[159]=fs;for(let e=160;e<=183;e++)D[e]=ls;D[184]=ds;D[185]=hs;D[186]=ps;D[187]=ms;D[188]=U;D[189]=U;D[190]=U;D[191]=ys;for(let e=192;e<=215;e++)D[e]=ws;D[216]=gs;D[217]=Ds;D[218]=bs;D[219]=Es;D[220]=U;D[221]=U;D[222]=U;D[223]=U;for(let e=224;e<=243;e++)D[e]=Er("simple values are not supported");D[244]=U;D[245]=U;D[246]=U;D[247]=xs;D[248]=Er("simple values are not supported");D[249]=Bs;D[250]=As;D[251]=Ts;D[252]=U;D[253]=U;D[254]=U;D[255]=Cs;var ye=[];for(let e=0;e<24;e++)ye[e]=new b(l.uint,e,1);for(let e=-1;e>=-24;e--)ye[31-e]=new b(l.negint,e,1);ye[64]=new b(l.bytes,new Uint8Array(0),1);ye[96]=new b(l.string,"",1);ye[128]=new b(l.array,0,1);ye[160]=new b(l.map,0,1);ye[244]=new b(l.false,!1,1);ye[245]=new b(l.true,!0,1);ye[246]=new b(l.null,null,1);function vs(e){switch(e.type){case l.false:return Ce([244]);case l.true:return Ce([245]);case l.null:return Ce([246]);case l.bytes:return e.value.length?void 0:Ce([64]);case l.string:return e.value===""?Ce([96]):void 0;case l.array:return e.value===0?Ce([128]):void 0;case l.map:return e.value===0?Ce([160]):void 0;case l.uint:return e.value<24?Ce([Number(e.value)]):void 0;case l.negint:if(e.value>=-24)return Ce([31-Number(e.value)])}}var kl={float64:!1,mapSorter:$l,quickEncodeToken:vs};function _l(){let e=[];return e[l.uint.major]=ce,e[l.negint.major]=mr,e[l.bytes.major]=wt,e[l.string.major]=os,e[l.array.major]=wr,e[l.map.major]=gr,e[l.tag.major]=Dr,e[l.float.major]=br,e}var ks=_l(),Fn=new Ot,bt=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${An} object contains circular references`);return new bt(t,e)}},Oe={null:new b(l.null,null),undefined:new b(l.undefined,void 0),true:new b(l.true,!0),false:new b(l.false,!1),emptyArray:new b(l.array,0),emptyMap:new b(l.map,0)},ze={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new b(l.float,e):e>=0?new b(l.uint,e):new b(l.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new b(l.uint,e):new b(l.negint,e)},Uint8Array(e,t,r,n){return new b(l.bytes,e)},string(e,t,r,n){return new b(l.string,e)},boolean(e,t,r,n){return e?Oe.true:Oe.false},null(e,t,r,n){return Oe.null},undefined(e,t,r,n){return Oe.undefined},ArrayBuffer(e,t,r,n){return new b(l.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new b(l.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[Oe.emptyArray,new b(l.break)]:Oe.emptyArray;n=bt.createCheck(n,e);let o=[],s=0;for(let w of e)o[s++]=xr(w,r,n);return r.addBreakTokens?[new b(l.array,e.length),o,new b(l.break)]:[new b(l.array,e.length),o]},Object(e,t,r,n){let o=t!=="Object",s=o?e.keys():Object.keys(e),w=o?e.size:s.length;if(!w)return r.addBreakTokens===!0?[Oe.emptyMap,new b(l.break)]:Oe.emptyMap;n=bt.createCheck(n,e);let g=[],k=0;for(let P of s)g[k++]=[xr(P,r,n),xr(o?e.get(P):e[P],r,n)];return Nl(g,r),r.addBreakTokens?[new b(l.map,w),g,new b(l.break)]:[new b(l.map,w),g]}};ze.Map=ze.Object;ze.Buffer=ze.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))ze[`${e}Array`]=ze.DataView;function xr(e,t={},r){let n=Fi(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||ze[n];if(typeof o=="function"){let w=o(e,n,t,r);if(w!=null)return w}let s=ze[n];if(!s)throw new Error(`${An} unsupported type: ${n}`);return s(e,n,t,r)}function Nl(e,t){t.mapSorter&&e.sort(t.mapSorter)}function $l(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,s=ks[o].compareTokens(r,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function _s(e,t,r,n){if(Array.isArray(t))for(let o of t)_s(e,o,r,n);else r[t.type.major](e,t,n)}function Ll(e,t,r){let n=xr(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let s=t[n.type.major];if(s.encodedSize){let w=s.encodedSize(n,r),g=new Ot(w);if(s(g,n,r),g.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Bn(g.chunks[0])}}return Fn.reset(),_s(Fn,n,t,r),Fn.toBytes(!0)}function vn(e,t){return t=Object.assign({},kl,t),Ll(e,ks,t)}a();var Pl={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},kn=class{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],t=ye[e];if(t===void 0){let r=D[e];if(!r)throw new Error(`${C} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=e&31;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}},jt=Symbol.for("DONE"),Cr=Symbol.for("BREAK");function Rl(e,t,r){let n=[];for(let o=0;o<e.value;o++){let s=Vt(t,r);if(s===Cr){if(e.value===1/0)break;throw new Error(`${C} got unexpected break to lengthed array`)}if(s===jt)throw new Error(`${C} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=s}return n}function Ml(e,t,r){let n=r.useMaps===!0,o=n?void 0:{},s=n?new Map:void 0;for(let w=0;w<e.value;w++){let g=Vt(t,r);if(g===Cr){if(e.value===1/0)break;throw new Error(`${C} got unexpected break to lengthed map`)}if(g===jt)throw new Error(`${C} found map but not enough entries (got ${w} [no key], expected ${e.value})`);if(n!==!0&&typeof g!="string")throw new Error(`${C} non-string keys not supported (got ${typeof g})`);let k=Vt(t,r);if(k===jt)throw new Error(`${C} found map but not enough entries (got ${w} [no value], expected ${e.value})`);n?s.set(g,k):o[g]=k}return n?s:o}function Vt(e,t){if(e.done())return jt;let r=e.next();if(r.type===l.break)return Cr;if(r.type.terminal)return r.value;if(r.type===l.array)return Rl(r,e,t);if(r.type===l.map)return Ml(r,e,t);if(r.type===l.tag){if(t.tags&&typeof t.tags[r.value]=="function"){let n=Vt(e,t);return t.tags[r.value](n)}throw new Error(`${C} tag not supported (${r.value})`)}throw new Error("unsupported")}function _n(e,t){if(!(e instanceof Uint8Array))throw new Error(`${C} data to decode must be a Uint8Array`);t=Object.assign({},Pl,t);let r=t.tokenizer||new kn(e,t),n=Vt(r,t);if(n===jt)throw new Error(`${C} did not find any content to decode`);if(n===Cr)throw new Error(`${C} got unexpected break`);if(!r.done())throw new Error(`${C} too many terminals, data makes no sense`);return n}Q();var Ns=42;function zl(e){if(e.asCID!==e)return null;let t=x.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new b(l.tag,Ns),new b(l.bytes,r)]}function ql(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Hl(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var jl={float64:!0,typeEncoders:{Object:zl,undefined:ql,number:Hl}};function Vl(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return x.decode(e.subarray(1))}var $s={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};$s.tags[Ns]=Vl;var Ls=e=>vn(e,jl),Ps=e=>_n(e,$s);function $n(e){let t=Ls({version:1,roots:e}),r=Nn.default.encode(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n}function Rs(e){return{async setRoots(t){let r=$n(t);await e.write(r)},async writeBlock(t){let{cid:r,bytes:n}=t;await e.write(new Uint8Array(Nn.default.encode(r.bytes.length+n.length))),await e.write(r.bytes),n.length&&await e.write(n)},async close(){await e.end()}}}a();function Br(){}function Ms(){let e=[],t=null,r=Br,n=!1,o=null,s=Br,w=()=>(t||(t=new Promise(P=>{r=()=>{t=null,r=Br,P()}})),t),g={write(P){e.push(P);let q=w();return s(),q},async end(){n=!0;let P=w();s(),await P}},k={async next(){let P=e.shift();return P?(e.length===0&&r(),{done:!1,value:P}):n?(r(),{done:!0,value:void 0}):(o||(o=new Promise(q=>{s=()=>(o=null,s=Br,q(k.next()))})),o)}};return{writer:g,iterator:k}}a();var He=J(pt(),1);Q();Le();a();var qe={Null:e=>e===null,Int:e=>Number.isInteger(e),Float:e=>typeof e=="number"&&Number.isFinite(e),String:e=>typeof e=="string",Bool:e=>typeof e=="boolean",Bytes:e=>e instanceof Uint8Array,Link:e=>!qe.Null(e)&&typeof e=="object"&&e.asCID===e,List:e=>Array.isArray(e),Map:e=>!qe.Null(e)&&typeof e=="object"&&e.asCID!==e&&!qe.List(e)&&!qe.Bytes(e)},Et={Int:qe.Int,"CarHeader > version":e=>Et.Int(e),"CarHeader > roots (anon) > valueType (anon)":qe.Link,"CarHeader > roots (anon)":e=>qe.List(e)&&Array.prototype.every.call(e,Et["CarHeader > roots (anon) > valueType (anon)"]),"CarHeader > roots":e=>Et["CarHeader > roots (anon)"](e),CarHeader:e=>{let t=e&&Object.keys(e);return qe.Map(e)&&["version"].every(r=>t.includes(r))&&Object.entries(e).every(([r,n])=>Et["CarHeader > "+r]&&Et["CarHeader > "+r](n))}},Os=Et.CarHeader,Ln={SHA2_256:18,LENGTH:32,DAG_PB:112},zs=16+8+8+8;async function Ar$1(e){let t=await e.upTo(8);if(!t.length)throw new Error("Unexpected end of data");let r=He.default.decode(t);return e.seek(He.default.decode.bytes),r}async function Gl(e){let t=await e.exactly(zs),r=new DataView(t.buffer,t.byteOffset,t.byteLength),n=0,o={version:2,characteristics:[r.getBigUint64(n,!0),r.getBigUint64(n+=8,!0)],dataOffset:Number(r.getBigUint64(n+=8,!0)),dataSize:Number(r.getBigUint64(n+=8,!0)),indexOffset:Number(r.getBigUint64(n+=8,!0))};return e.seek(zs),o}async function Tr(e,t){let r=await Ar$1(e);if(r===0)throw new Error("Invalid CAR header (zero length)");let n=await e.exactly(r);e.seek(r);let o=Ps(n);if(!Os(o))throw new Error("Invalid CAR header format");if(o.version!==1&&o.version!==2||t!==void 0&&o.version!==t)throw new Error(`Invalid CAR version: ${o.version}${t!==void 0?` (expected ${t})`:""}`);let s=Array.isArray(o.roots);if(o.version===1&&!s||o.version===2&&s)throw new Error("Invalid CAR header format");if(o.version===1)return o;let w=await Gl(e);e.seek(w.dataOffset-e.pos);let g=await Tr(e,1);return Object.assign(g,w)}async function Wl(e){let t=await e.upTo(8);He.default.decode(t);let r=He.default.decode.bytes,n=He.default.decode(t.subarray(He.default.decode.bytes)),o=He.default.decode.bytes,s=r+o+n,w=await e.exactly(s);return e.seek(s),w}async function Jl(e){let t=await e.exactly(2);if(t[0]===Ln.SHA2_256&&t[1]===Ln.LENGTH){let w=await e.exactly(34);e.seek(34);let g=ft(w);return x.create(0,Ln.DAG_PB,g)}let r=await Ar$1(e);if(r!==1)throw new Error(`Unexpected CID version (${r})`);let n=await Ar$1(e),o=await Wl(e),s=ft(o);return x.create(r,n,s)}async function qs(e){let t=e.pos,r=await Ar$1(e);if(r===0)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;let n=await Jl(e),o=r-Number(e.pos-t);return{cid:n,length:r,blockLength:o}}async function Xl(e){let{cid:t,blockLength:r}=await qs(e),n=await e.exactly(r);return e.seek(r),{bytes:n,cid:t}}async function Yl(e){let t=e.pos,{cid:r,length:n,blockLength:o}=await qs(e),s={cid:r,length:n,blockLength:o,offset:t,blockOffset:e.pos};return e.seek(s.blockLength),s}function Hs(e){let t=(async()=>{let r=await Tr(e);if(r.version===2){let n=e.pos-r.dataOffset;e=Zl(e,r.dataSize-n)}return r})();return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await Xl(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await Yl(e)}}}function Ir(e){let t=0;return{async upTo(r){return e.subarray(t,t+Math.min(r,e.length-t))},async exactly(r){if(r>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+r)},seek(r){t+=r},get pos(){return t}}}function Ql(e){let t=0,r=0,n=0,o=new Uint8Array(0),s=async w=>{r=o.length-n;let g=[o.subarray(n)];for(;r<w;){let P=await e();if(P==null)break;r<0?P.length>r&&g.push(P.subarray(-r)):g.push(P),r+=P.length}o=new Uint8Array(g.reduce((P,q)=>P+q.length,0));let k=0;for(let P of g)o.set(P,k),k+=P.length;n=0};return{async upTo(w){return o.length-n<w&&await s(w),o.subarray(n,n+Math.min(o.length-n,w))},async exactly(w){if(o.length-n<w&&await s(w),o.length-n<w)throw new Error("Unexpected end of data");return o.subarray(n,n+w)},seek(w){t+=w,n+=w},get pos(){return t}}}function js(e){let t=e[Symbol.asyncIterator]();async function r(){let n=await t.next();return n.done?null:n.value}return Ql(r)}function Zl(e,t){let r=0;return{async upTo(n){let o=await e.upTo(n);return o.length+r>t&&(o=o.subarray(0,t-r)),o},async exactly(n){let o=await e.exactly(n);if(o.length+r>t)throw new Error("Unexpected end of data");return o},seek(n){r+=n,e.seek(n)},get pos(){return e.pos}}}var Qe=class{constructor(e,t){this._encoder=t,this._mutex=t.setRoots(e),this._ended=!1}async put(e){if(!(e.bytes instanceof Uint8Array)||!e.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");let t=x.asCID(e.cid);if(!t)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:t,bytes:e.bytes})),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(e){e=Kl(e);let{encoder:t,iterator:r}=Vs(),n=new Qe(e,t),o=new Sr(r);return{writer:n,out:o}}static createAppender(){let{encoder:e,iterator:t}=Vs();e.setRoots=()=>Promise.resolve();let r=new Qe([],e),n=new Sr(t);return{writer:r,out:n}}static async updateRootsInBytes(e,t){let r=Ir(e);await Tr(r);let n=$n(t);if(Number(r.pos)!==n.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${r.pos} bytes, new header is ${n.length} bytes)`);return e.set(n,0),e}},Sr=class{constructor(e){this._iterator=e}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}};function Vs(){let e=Ms(),{writer:t,iterator:r}=e;return{encoder:Rs(t),iterator:r}}function Kl(e){if(e===void 0)return[];if(!Array.isArray(e)){let r=x.asCID(e);if(!r)throw new TypeError("roots must be a single CID or an array of CIDs");return[r]}let t=[];for(let r of e){let n=x.asCID(r);if(!n)throw new TypeError("roots must be a single CID or an array of CIDs");t.push(n)}return t}a();var na=J(Zs(),1),oa=J(ea(),1);a();var rd=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;T.nanosecond=T.ns=1/1e6;T.\u00B5s=T.\u03BCs=T.us=T.microsecond=1/1e3;T.millisecond=T.ms=T[""]=1;T.second=T.sec=T.s=T.ms*1e3;T.minute=T.min=T.m=T.s*60;T.hour=T.hr=T.h=T.m*60;T.day=T.d=T.h*24;T.week=T.wk=T.w=T.d*7;T.month=T.b=T.d*(365.25/12);T.year=T.yr=T.y=T.d*365.25;function T(e="",t="ms"){var r=null;return e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2"),e.replace(rd,function(n,o,s){s=ta(s),s&&(r=(r||0)+parseFloat(o,10)*s)}),r&&r/(ta(t)||1)}function ta(e){return T[e]||T[e.toLowerCase().replace(/s$/,"")]}var ra=T;a();var ve=class extends Error{constructor(e="request timed out"){super(e),this.name="TimeoutError",this.code=ve.code}};ve.code="ERR_TIMEOUT";function le(e,t){return(...r)=>{let n=r[t!=null?t:r.length-1];if(!n||!n.timeout)return e(...r);let o=typeof n.timeout=="string"?ra(n.timeout):n.timeout,s=new na.TimeoutController(o);n.signal=(0,oa.anySignal)([n.signal,s.signal]);let w=e(...r),g=new Promise((q,ie)=>{s.signal.addEventListener("abort",()=>{ie(new ve)})}),k=Date.now(),P=()=>{if(s.signal.aborted)throw new ve;if(Date.now()-k>o)throw s.abort(),new ve};return w[Symbol.asyncIterator]?async function*(){let q=w[Symbol.asyncIterator]();try{for(;;){let{value:ie,done:he}=await Promise.race([q.next(),g]);if(he)break;P(),yield ie}}catch(ie){throw P(),ie}finally{s.clear(),q.return&&q.return()}}():(async()=>{try{let q=await Promise.race([w,g]);return P(),q}catch(q){throw P(),q}finally{s.clear()}})()}}a();var Be=J(ca(),1);Re();ht();zn();Be.default.formatters.b=e=>e==null?"undefined":Y.baseEncode(e);Be.default.formatters.t=e=>e==null?"undefined":Me.baseEncode(e);Be.default.formatters.m=e=>e==null?"undefined":Mn.baseEncode(e);Be.default.formatters.p=e=>e==null?"undefined":e.toString();Be.default.formatters.c=e=>e==null?"undefined":e.toString();Be.default.formatters.k=e=>e==null?"undefined":e.toString();function kr(e){return Object.assign((0,Be.default)(e),{error:(0,Be.default)(`${e}:error`),trace:(0,Be.default)(`${e}:trace`)})}qn();Hn();a();Re();var jn=async({cid:e,load:t,seen:r})=>{r=r||new Set;let n=e.toString(Y);if(r.has(n))return;let o=await t(e);if(r.add(n),o!==null)for(let[,s]of o.links())await jn({cid:s,load:t,seen:r})},pa=kr("ipfs:components:dag:import"),gd=[fa,da];function ma({repo:e,preload:t,codecs:r}){async function*n(o,s={}){s.preload!==!1&&t(o);let w=x.asCID(o);if(!w)throw new Error(`Unexpected error converting CID type: ${o}`);pa(`Exporting ${w} as car`);let{writer:g,out:k}=await Qe.create([w]),P=null;(async()=>{try{let q=Dd(e,g,{signal:s.signal,timeout:s.timeout},r);await jn({cid:w,load:q})}catch(q){P=q}finally{g.close()}})();for await(let q of k){if(P)break;yield q}if(P)throw P}return le(n)}function Dd(e,t,r,n){return async o=>{let s=await n.getCodec(o.code);if(!s)throw new Error(`Can't decode links in block with codec 0x${o.code.toString(16)} to form complete DAG`);let w=await e.blocks.get(o,r);return pa(`Adding block ${o} to car`),await t.put({cid:o,bytes:w}),gd.includes(o.code)?null:bi({bytes:w,cid:o,codec:s})}}a();var ic=J(wa(),1),sc=J(Da(),1);a();J(Ku(),1);Q();a();a();a();var ec=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");Ke();fo();var ke="/",tc=new TextEncoder().encode(ke),Vr=tc[0],G=class{constructor(e,t){if(typeof e=="string")this._buf=co(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(t==null&&(t=!0),t&&this.clean(),this._buf.byteLength===0||this._buf[0]!==Vr)throw new Error("Invalid key")}toString(e="utf8"){return so(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new G(e.join(ke))}static random(){return new G(ec().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new G(e):e.uint8Array?new G(e.uint8Array()):null}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=tc),this._buf[0]!==Vr){let e=new Uint8Array(this._buf.byteLength+1);e.fill(Vr,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===Vr;)this._buf=this._buf.subarray(0,-1)}less(e){let t=this.list(),r=e.list();for(let n=0;n<t.length;n++){if(r.length<n+1)return!1;let o=t[n],s=r[n];if(o<s)return!0;if(o>s)return!1}return t.length<r.length}reverse(){return G.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(ke).slice(1)}type(){return Lh(this.baseNamespace())}name(){return Ph(this.baseNamespace())}instance(e){return new G(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(ke)||(e+=ke),e+=this.type(),new G(e)}parent(){let e=this.list();return e.length===1?new G(ke):new G(e.slice(0,-1).join(ke))}child(e){return this.toString()===ke?e:e.toString()===ke?this:new G(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return G.withNamespaces([...this.namespaces(),...Rh(e.map(t=>t.namespaces()))])}};function Lh(e){let t=e.split(":");return t.length<2?"":t.slice(0,-1).join(":")}function Ph(e){let t=e.split(":");return t[t.length-1]}function Rh(e){return[].concat(...e)}var _o=J(Yt(),1);a();Q();var ko=J(Yt(),1),rc="/ipfs/";function Gr(e){if(e instanceof Uint8Array)try{e=x.decode(e)}catch(o){throw(0,ko.default)(o,"ERR_INVALID_CID")}let t=x.asCID(e);if(t)return{cid:t,path:void 0};e=e.toString(),e.startsWith(rc)&&(e=e.substring(rc.length));let r=e.split("/"),n;try{t=x.parse(r.shift()||"")}catch(o){throw(0,ko.default)(o,"ERR_INVALID_CID")}return r.length&&(n=`/${r.join("/")}`),{cid:t,path:n}}a();Q();a();new TextDecoder;a();new TextEncoder;a();Q();new TextEncoder;var nc=112;new G("/local/filesroot");var oc=async function(e,t,r,n={}){let{cid:o,path:s}=Gr(r);s&&(n.path=s);let w=o,g=n.path||"";if(g.startsWith("/")&&(g=g.substring(1)),n.path)try{for await(let{value:k,remainderPath:P}of Wr(o,n.path,t,e,{signal:n.signal})){if(!x.asCID(k))break;g=P,w=k}}catch(k){throw k.message.startsWith("Object has no property")&&(k.message=`no link named "${g.split("/")[0]}" under ${w}`,k.code="ERR_NO_LINK"),k}return{cid:w,remainderPath:g||""}},Wr=async function*(e,t,r,n,o){let s=async P=>{let q=await r.getCodec(P.code),ie=await n.blocks.get(P,o);return q.decode(ie)},w=t.split("/").filter(Boolean),g=await s(e),k=e;for(;w.length;){let P=w.shift();if(!P)throw(0,_o.default)(new Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(e.code===nc&&Array.isArray(g.Links)){let q=g.Links.find(ie=>ie.Name===P);if(q){yield{value:q.Hash,remainderPath:w.join("/")},g=await s(q.Hash),k=q.Hash;continue}}if(Object.prototype.hasOwnProperty.call(g,P))g=g[P],yield{value:g,remainderPath:w.join("/")};else throw(0,_o.default)(new Error(`no link named "${P}" under ${k}`),"ERR_NO_LINK");x.asCID(g)&&(k=g,g=await s(g))}yield{value:g,remainderPath:""}},ac=J(Yt(),1);function uc({codecs:e,repo:t,preload:r}){return le(async function(n,o={}){if(o.preload!==!1&&r(n),o.path){let g=o.localResolve?await(0,ic.default)(Wr(n,o.path,e,t,o)):await(0,sc.default)(Wr(n,o.path,e,t,o));if(!g)throw(0,ac.default)(new Error("Not found"),"ERR_NOT_FOUND");return g}let s=await e.getCodec(n.code),w=await t.blocks.get(n,o);return{value:s.decode(w),remainderPath:""}})}a();a();var Jr=class{constructor(e,t,r){this._version=e,this._roots=t,this._iterable=r,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}},tt=class extends Jr{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(e){let{version:t,roots:r,iterator:n}=await cc(e);return new tt(t,r,n)}static async fromIterable(e){let{version:t,roots:r,iterator:n}=await fc(e);return new tt(t,r,n)}};async function cc(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return lc(Ir(e))}async function fc(e){if(!e||typeof e[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return lc(js(e))}async function lc(e){let t=Hs(e),{version:r,roots:n}=await t.header();return{version:r,roots:n,iterator:t.blocks()}}var gc=J(hc(),1),Dc=J(mc(),1),bc=J(wc(),1),Ec=kr("ipfs:components:dag:import");function xc({repo:e}){async function*t(r,n={}){let o=await e.gcLock.readLock();try{let s={signal:n.signal,timeout:n.timeout},w=(0,gc.default)(r),{value:g,done:k}=await w.peek();if(k)return;g&&w.push(g);let P;g instanceof Uint8Array?P=[w]:P=w;for await(let q of P){let ie=await jh(e,s,q);if(n.pinRoots!==!1)for(let he of ie){let V="";try{await e.blocks.has(he)?(Ec(`Pinning root ${he}`),await e.pins.pinRecursively(he)):V="blockstore: block not found"}catch(X){V=X.message}yield{root:{cid:he,pinErrorMsg:V}}}}}finally{o()}}return le(t)}async function jh(e,t,r){let n=await tt.fromIterable(r),o=await n.getRoots();return await(0,Dc.default)(e.blocks.putMany((0,bc.default)(n,({cid:s,bytes:w})=>(Ec(`Import block ${s}`),{key:s,value:w})),{signal:t.signal})),o}a();Q();function Cc({repo:e,codecs:t,hashers:r,preload:n}){async function o(s,w={}){let g=w.pin?await e.gcLock.readLock():null;try{let k=await t.getCodec(w.storeCodec||"dag-cbor");if(!k)throw new Error(`Unknown storeCodec ${w.storeCodec}, please configure additional BlockCodecs for this IPFS instance`);if(w.inputCodec){if(!(s instanceof Uint8Array))throw new Error("Can only inputCodec on raw bytes that can be decoded");let X=await t.getCodec(w.inputCodec);if(!X)throw new Error(`Unknown inputCodec ${w.inputCodec}, please configure additional BlockCodecs for this IPFS instance`);s=X.decode(s)}let P=w.version!=null?w.version:1,q=await r.getHasher(w.hashAlg||"sha2-256");if(!q)throw new Error(`Unknown hash algorithm ${w.hashAlg}, please configure additional MultihashHashers for this IPFS instance`);let ie=k.encode(s),he=await q.digest(ie),V=x.create(P,k.code,he);return await e.blocks.put(V,ie,{signal:w.signal}),w.pin&&await e.pins.pinRecursively(V),w.preload!==!1&&n(V),V}finally{g&&g()}}return le(o)}a();function Bc({repo:e,codecs:t,preload:r}){async function n(o,s={}){let{cid:w}=Gr(o);return s.preload!==!1&&r(w),oc(e,t,o,s)}return le(n)}var Ac=class{constructor({repo:e,codecs:t,hashers:r,preload:n}){this.export=ma({repo:e,preload:n,codecs:t}),this.get=uc({codecs:t,repo:e,preload:n}),this.import=xc({repo:e}),this.resolve=Bc({repo:e,codecs:t,preload:n}),this.put=Cc({repo:e,codecs:t,hashers:r,preload:n})}};/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */const code$5=0,name$4="identity",encode$a=coerce,digest=e=>create$1(code$5,encode$a(e)),identity$1={code:code$5,name:name$4,encode:encode$a,digest},identity$2=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$1},Symbol.toStringTag,{value:"Module"})),identity=from$1({prefix:"\0",name:"identity",encode:e=>toString$2(e),decode:e=>fromString$1(e)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base64$1=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$2=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$1,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),alphabetBytesToChars=alphabet.reduce((e,t,r)=>(e[r]=t,e),[]),alphabetCharsToBytes=alphabet.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function encode$9(e){return e.reduce((t,r)=>(t+=alphabetBytesToChars[r],t),"")}function decode$8(e){const t=[];for(const r of e){const n=alphabetCharsToBytes[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const base256emoji=from$1({prefix:"\u{1F680}",name:"base256emoji",encode:encode$9,decode:decode$8}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"})),textEncoder$2=new TextEncoder,textDecoder$1=new TextDecoder,name$3="json",code$4=512,encode$8=e=>textEncoder$2.encode(JSON.stringify(e)),decode$7=e=>JSON.parse(textDecoder$1.decode(e)),json=Object.freeze(Object.defineProperty({__proto__:null,name:name$3,code:code$4,encode:encode$8,decode:decode$7},Symbol.toStringTag,{value:"Module"}));({...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$2,...base256emoji$1});const hashes={...sha2,...identity$2},codecs={raw,json},textDecoder=new TextDecoder;function decodeVarint(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");const o=e[t++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,t]}function decodeBytes(e,t){let r;[r,t]=decodeVarint(e,t);const n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function decodeKey(e,t){let r;return[r,t]=decodeVarint(e,t),[r&7,r>>3,t]}function decodeLink(e){const t={},r=e.length;let n=0;for(;n<r;){let o,s;if([o,s,n]=decodeKey(e,n),s===1){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(t.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=decodeBytes(e,n)}else if(s===2){if(t.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let w;[w,n]=decodeBytes(e,n),t.Name=textDecoder.decode(w)}else if(s===3){if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[t.Tsize,n]=decodeVarint(e,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function decodeNode(e){const t=e.length;let r=0,n,o=!1,s;for(;r<t;){let g,k;if([g,k,r]=decodeKey(e,r),g!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${g}`);if(k===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,r]=decodeBytes(e,r),n&&(o=!0)}else if(k===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let P;[P,r]=decodeBytes(e,r),n.push(decodeLink(P))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${k}`)}if(r>t)throw new Error("protobuf: (PBNode) unexpected end of data");const w={};return s&&(w.Data=s),w.Links=n||[],w}const textEncoder$1=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink(e,t){let r=t.length;if(typeof e.Tsize=="number"){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=encodeVarint(t,r,e.Tsize)-1,t[r]=24}if(typeof e.Name=="string"){const n=textEncoder$1.encode(e.Name);r-=n.length,t.set(n,r),r=encodeVarint(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=encodeVarint(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function encodeNode(e){const t=sizeNode(e),r=new Uint8Array(t);let n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=encodeVarint(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let o=e.Links.length-1;o>=0;o--){const s=encodeLink(e.Links[o],r.subarray(0,n));n-=s,n=encodeVarint(r,n,s)-1,r[n]=18}return r}function sizeLink(e){let t=0;if(e.Hash){const r=e.Hash.length;t+=1+r+sov(r)}if(typeof e.Name=="string"){const r=textEncoder$1.encode(e.Name).length;t+=1+r+sov(r)}return typeof e.Tsize=="number"&&(t+=1+sov(e.Tsize)),t}function sizeNode(e){let t=0;if(e.Data){const r=e.Data.length;t+=1+r+sov(r)}if(e.Links)for(const r of e.Links){const n=sizeLink(r);t+=1+n+sov(n)}return t}function encodeVarint(e,t,r){t-=sov(r);const n=t;for(;r>=maxUInt32;)e[t++]=r&127|128,r/=128;for(;r>=128;)e[t++]=r&127|128,r>>>=7;return e[t]=r,n}function sov(e){return e%2===0&&e++,Math.floor((len64(e)+6)/7)}function len64(e){let t=0;return e>=maxInt32&&(e=Math.floor(e/maxInt32),t=32),e>=1<<16&&(e>>>=16,t+=16),e>=1<<8&&(e>>>=8,t+=8),t+len8tab[e]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder=new TextEncoder;function linkComparator(e,t){if(e===t)return 0;const r=e.Name?textEncoder.encode(e.Name):[],n=t.Name?textEncoder.encode(t.Name):[];let o=r.length,s=n.length;for(let w=0,g=Math.min(o,s);w<g;++w)if(r[w]!==n[w]){o=r[w],s=n[w];break}return o<s?-1:s<o?1:0}function hasOnlyProperties(e,t){return!Object.keys(e).some(r=>!t.includes(r))}function asLink(e){if(typeof e.asCID=="object"){const r=CID.asCID(e);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Hash){let r=CID.asCID(e.Hash);try{r||(typeof e.Hash=="string"?r=CID.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=CID.decode(e.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}r&&(t.Hash=r)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return typeof e.Name=="string"&&(t.Name=e.Name),typeof e.Tsize=="number"&&(t.Tsize=e.Tsize),t}function prepare(e){if((e instanceof Uint8Array||typeof e=="string")&&(e={Data:e}),typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Data!==void 0)if(typeof e.Data=="string")t.Data=textEncoder.encode(e.Data);else if(e.Data instanceof Uint8Array)t.Data=e.Data;else throw new TypeError("Invalid DAG-PB form");if(e.Links!==void 0)if(Array.isArray(e.Links))t.Links=e.Links.map(asLink),t.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else t.Links=[];return t}function validate(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(e,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(e.Data!==void 0&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){const r=e.Links[t];if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(r,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0&&(typeof r.Tsize!="number"||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&linkComparator(r,e.Links[t-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(e,t=[]){return prepare({Data:e,Links:t})}function createLink(e,t,r){return asLink({Hash:r,Name:e,Tsize:t})}const name$2="dag-pb",code$3=112;function encode$7(e){validate(e);const t={};return e.Links&&(t.Links=e.Links.map(r=>{const n={};return r.Hash&&(n.Hash=r.Hash.bytes),r.Name!==void 0&&(n.Name=r.Name),r.Tsize!==void 0&&(n.Tsize=r.Tsize),n})),e.Data&&(t.Data=e.Data),encodeNode(t)}function decode$6(e){const t=decodeNode(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map(n=>{const o={};try{o.Hash=CID.decode(n.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),r}const dagPB=Object.freeze(Object.defineProperty({__proto__:null,name:name$2,code:code$3,encode:encode$7,decode:decode$6,prepare,validate,createNode,createLink},Symbol.toStringTag,{value:"Module"}));class JSONEncoder extends Array{constructor(){super(),this.inRecursive=[]}prefix(t){const r=this.inRecursive[this.inRecursive.length-1];r&&(r.type===Type.array&&(r.elements++,r.elements!==1&&t.push([44])),r.type===Type.map&&(r.elements++,r.elements!==1&&(r.elements%2===1?t.push([44]):t.push([58]))))}[Type.uint.major](t,r){this.prefix(t);const n=String(r.value),o=[];for(let s=0;s<n.length;s++)o[s]=n.charCodeAt(s);t.push(o)}[Type.negint.major](t,r){this[Type.uint.major](t,r)}[Type.bytes.major](t,r){throw new Error(`${encodeErrPrefix} unsupported type: Uint8Array`)}[Type.string.major](t,r){this.prefix(t);const n=fromString(JSON.stringify(r.value));t.push(n.length>32?asU8A(n):n)}[Type.array.major](t,r){this.prefix(t),this.inRecursive.push({type:Type.array,elements:0}),t.push([91])}[Type.map.major](t,r){this.prefix(t),this.inRecursive.push({type:Type.map,elements:0}),t.push([123])}[Type.tag.major](t,r){}[Type.float.major](t,r){if(r.type.name==="break"){const w=this.inRecursive.pop();if(w){if(w.type===Type.array)t.push([93]);else if(w.type===Type.map)t.push([125]);else throw new Error("Unexpected recursive type; this should not happen!");return}throw new Error("Unexpected break; this should not happen!")}if(r.value===void 0)throw new Error(`${encodeErrPrefix} unsupported type: undefined`);if(this.prefix(t),r.type.name==="true"){t.push([116,114,117,101]);return}else if(r.type.name==="false"){t.push([102,97,108,115,101]);return}else if(r.type.name==="null"){t.push([110,117,108,108]);return}const n=String(r.value),o=[];let s=!1;for(let w=0;w<n.length;w++)o[w]=n.charCodeAt(w),!s&&(o[w]===46||o[w]===101||o[w]===69)&&(s=!0);s||(o.push(46),o.push(48)),t.push(o)}}function mapSorter(e,t){if(Array.isArray(e[0])||Array.isArray(t[0]))throw new Error(`${encodeErrPrefix} complex map keys are not supported`);const r=e[0],n=t[0];if(r.type!==Type.string||n.type!==Type.string)throw new Error(`${encodeErrPrefix} non-string map keys are not supported`);if(r<n)return-1;if(r>n)return 1;throw new Error(`${encodeErrPrefix} unexpected duplicate map keys, this is not supported`)}const defaultEncodeOptions={addBreakTokens:!0,mapSorter};function encode$6(e,t){return t=Object.assign({},defaultEncodeOptions,t),encodeCustom(e,new JSONEncoder,t)}class Tokenizer{constructor(t,r={}){this.pos=0,this.data=t,this.options=r,this.modeStack=["value"],this.lastToken=""}done(){return this.pos>=this.data.length}ch(){return this.data[this.pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let t=this.ch();for(;t===32||t===9||t===13||t===10;)t=this.data[++this.pos]}expect(t){if(this.data.length-this.pos<t.length)throw new Error(`${decodeErrPrefix} unexpected end of input at position ${this.pos}`);for(let r=0;r<t.length;r++)if(this.data[this.pos++]!==t[r])throw new Error(`${decodeErrPrefix} unexpected token at position ${this.pos}, expected to find '${String.fromCharCode(...t)}'`)}parseNumber(){const t=this.pos;let r=!1,n=!1;const o=g=>{for(;!this.done();){const k=this.ch();if(g.includes(k))this.pos++;else break}};if(this.ch()===45&&(r=!0,this.pos++),this.ch()===48)if(this.pos++,this.ch()===46)this.pos++,n=!0;else return new Token(Type.uint,0,this.pos-t);if(o([48,49,50,51,52,53,54,55,56,57]),r&&this.pos===t+1)throw new Error(`${decodeErrPrefix} unexpected token at position ${this.pos}`);if(!this.done()&&this.ch()===46){if(n)throw new Error(`${decodeErrPrefix} unexpected token at position ${this.pos}`);n=!0,this.pos++,o([48,49,50,51,52,53,54,55,56,57])}!this.done()&&(this.ch()===101||this.ch()===69)&&(n=!0,this.pos++,!this.done()&&(this.ch()===43||this.ch()===45)&&this.pos++,o([48,49,50,51,52,53,54,55,56,57]));const s=String.fromCharCode.apply(null,this.data.subarray(t,this.pos)),w=parseFloat(s);return n?new Token(Type.float,w,this.pos-t):this.options.allowBigInt!==!0||Number.isSafeInteger(w)?new Token(w>=0?Type.uint:Type.negint,w,this.pos-t):new Token(w>=0?Type.uint:Type.negint,BigInt(s),this.pos-t)}parseString(){if(this.ch()!==34)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}; this shouldn't happen`);this.pos++;for(let s=this.pos,w=0;s<this.data.length&&w<65536;s++,w++){const g=this.data[s];if(g===92||g<32||g>=128)break;if(g===34){const k=String.fromCharCode.apply(null,this.data.subarray(this.pos,s));return this.pos=s+1,new Token(Type.string,k,w)}}const t=this.pos,r=[],n=()=>{if(this.pos+4>=this.data.length)throw new Error(`${decodeErrPrefix} unexpected end of unicode escape sequence at position ${this.pos}`);let s=0;for(let w=0;w<4;w++){let g=this.ch();if(g>=48&&g<=57)g-=48;else if(g>=97&&g<=102)g=g-97+10;else if(g>=65&&g<=70)g=g-65+10;else throw new Error(`${decodeErrPrefix} unexpected unicode escape character at position ${this.pos}`);s=s*16+g,this.pos++}return s},o=()=>{const s=this.ch();let w=null,g=s>239?4:s>223?3:s>191?2:1;if(this.pos+g>this.data.length)throw new Error(`${decodeErrPrefix} unexpected unicode sequence at position ${this.pos}`);let k,P,q,ie;switch(g){case 1:s<128&&(w=s);break;case 2:k=this.data[this.pos+1],(k&192)===128&&(ie=(s&31)<<6|k&63,ie>127&&(w=ie));break;case 3:k=this.data[this.pos+1],P=this.data[this.pos+2],(k&192)===128&&(P&192)===128&&(ie=(s&15)<<12|(k&63)<<6|P&63,ie>2047&&(ie<55296||ie>57343)&&(w=ie));break;case 4:k=this.data[this.pos+1],P=this.data[this.pos+2],q=this.data[this.pos+3],(k&192)===128&&(P&192)===128&&(q&192)===128&&(ie=(s&15)<<18|(k&63)<<12|(P&63)<<6|q&63,ie>65535&&ie<1114112&&(w=ie))}w===null?(w=65533,g=1):w>65535&&(w-=65536,r.push(w>>>10&1023|55296),w=56320|w&1023),r.push(w),this.pos+=g};for(;!this.done();){const s=this.ch();let w;switch(s){case 92:if(this.pos++,this.done())throw new Error(`${decodeErrPrefix} unexpected string termination at position ${this.pos}`);switch(w=this.ch(),this.pos++,w){case 34:case 39:case 92:case 47:r.push(w);break;case 98:r.push(8);break;case 116:r.push(9);break;case 110:r.push(10);break;case 102:r.push(12);break;case 114:r.push(13);break;case 117:r.push(n());break;default:throw new Error(`${decodeErrPrefix} unexpected string escape character at position ${this.pos}`)}break;case 34:return this.pos++,new Token(Type.string,decodeCodePointsArray(r),this.pos-t);default:if(s<32)throw new Error(`${decodeErrPrefix} invalid control character at position ${this.pos}`);s<128?(r.push(s),this.pos++):o()}}throw new Error(`${decodeErrPrefix} unexpected end of string at position ${this.pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this.pos++,new Token(Type.map,1/0,1);case 91:return this.modeStack.push("array-start"),this.pos++,new Token(Type.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new Token(Type.null,null,4);case 102:return this.expect([102,97,108,115,101]),new Token(Type.false,!1,5);case 116:return this.expect([116,114,117,101]),new Token(Type.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":{if(this.modeStack.pop(),this.ch()===93)return this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue()}case"array-start":return this.modeStack.pop(),this.ch()===93?(this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(this.ch()===125)return this.modeStack.pop(),this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this.pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),this.ch()===125)return this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);const t=this.parseString();if(this.skipWhitespace(),this.ch()!==58)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("obj-value"),t}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${decodeErrPrefix} unexpected parse state at position ${this.pos}; this shouldn't happen`)}}}function decode$5(e,t){return t=Object.assign({tokenizer:new Tokenizer(e,t)},t),decode$c(e,t)}function cidEncoder(e){if(e.asCID!==e)return null;const t=CID.asCID(e);if(!t)return null;const r=t.toString();return[new Token(Type.map,1/0,1),new Token(Type.string,"/",1),new Token(Type.string,r,r.length),new Token(Type.break,void 0,1)]}function bytesEncoder(e){const t=base64$1.encode(e).slice(1);return[new Token(Type.map,1/0,1),new Token(Type.string,"/",1),new Token(Type.map,1/0,1),new Token(Type.string,"bytes",5),new Token(Type.string,t,t.length),new Token(Type.break,void 0,1),new Token(Type.break,void 0,1)]}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={typeEncoders:{Object:cidEncoder,Uint8Array:bytesEncoder,Buffer:bytesEncoder,undefined:undefinedEncoder,number:numberEncoder}};class DagJsonTokenizer extends Tokenizer{constructor(t,r){super(t,r),this.tokenBuffer=[]}done(){return this.tokenBuffer.length===0&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const t=this._next();if(t.type===Type.map){const r=this._next();if(r.type===Type.string&&r.value==="/"){const n=this._next();if(n.type===Type.string){if(this._next().type!==Type.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(n),new Token(Type.tag,42,0)}if(n.type===Type.map){const o=this._next();if(o.type===Type.string&&o.value==="bytes"){const s=this._next();if(s.type===Type.string){for(let g=0;g<2;g++)if(this._next().type!==Type.break)throw new Error("Invalid encoded Bytes form");const w=base64$1.decode(`m${s.value}`);return new Token(Type.bytes,w,s.value.length)}this.tokenBuffer.push(s)}this.tokenBuffer.push(o)}this.tokenBuffer.push(n)}this.tokenBuffer.push(r)}return t}}const decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions.tags[42]=CID.parse;const name$1="dag-json",code$2=297,encode$5=e=>encode$6(e,encodeOptions),decode$4=e=>{const t=Object.assign(decodeOptions,{tokenizer:new DagJsonTokenizer(e,decodeOptions)});return decode$5(e,t)},dagJSON=Object.freeze(Object.defineProperty({__proto__:null,name:name$1,code:code$2,encode:encode$5,decode:decode$4},Symbol.toStringTag,{value:"Module"}));function toBase64url(e){return base64url.encode(e).slice(1)}function fromBase64url(e){return base64url.decode(`u${e}`)}function fromSplit$1(e){const[t,r,n]=e;return{payload:r,signatures:[{protected:t,signature:n}],link:CID.decode(fromBase64url(r))}}function encodeSignature(e){const t={signature:fromBase64url(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=fromBase64url(e.protected)),t}function encode$4(e){const t=fromBase64url(e.payload);try{CID.decode(t)}catch{throw new Error("Not a valid DagJWS")}return{payload:t,signatures:e.signatures.map(encodeSignature)}}function decodeSignature(e){const t={signature:toBase64url(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=toBase64url(e.protected)),t}function decode$3(e){const t={payload:toBase64url(e.payload),signatures:e.signatures.map(decodeSignature)};return t.link=CID.decode(new Uint8Array(e.payload)),t}function fromSplit(e){const[t,r,n,o,s]=e,w={ciphertext:o,iv:n,protected:t,tag:s};return r&&(w.recipients=[{encrypted_key:r}]),w}function encodeRecipient(e){const t={};return e.encrypted_key&&(t.encrypted_key=fromBase64url(e.encrypted_key)),e.header&&(t.header=e.header),t}function encode$3(e){const t={ciphertext:fromBase64url(e.ciphertext),protected:fromBase64url(e.protected),iv:fromBase64url(e.iv),tag:fromBase64url(e.tag)};return e.aad&&(t.aad=fromBase64url(e.aad)),e.recipients&&(t.recipients=e.recipients.map(encodeRecipient)),e.unprotected&&(t.unprotected=e.unprotected),t}function decodeRecipient(e){const t={};return e.encrypted_key&&(t.encrypted_key=toBase64url(e.encrypted_key)),e.header&&(t.header=e.header),t}function decode$2(e){const t={ciphertext:toBase64url(e.ciphertext),protected:toBase64url(e.protected),iv:toBase64url(e.iv),tag:toBase64url(e.tag)};return e.aad&&(t.aad=toBase64url(e.aad)),e.recipients&&(t.recipients=e.recipients.map(decodeRecipient)),e.unprotected&&(t.unprotected=e.unprotected),t}const name="dag-jose",code$1=133;function isDagJWS(e){return"payload"in e&&typeof e.payload=="string"&&"signatures"in e&&Array.isArray(e.signatures)}function isEncodedJWS(e){return"payload"in e&&e.payload instanceof Uint8Array&&"signatures"in e&&Array.isArray(e.signatures)}function isEncodedJWE(e){return"ciphertext"in e&&e.ciphertext instanceof Uint8Array&&"iv"in e&&e.iv instanceof Uint8Array&&"protected"in e&&e.protected instanceof Uint8Array&&"tag"in e&&e.tag instanceof Uint8Array}function isDagJWE(e){return"ciphertext"in e&&typeof e.ciphertext=="string"&&"iv"in e&&typeof e.iv=="string"&&"protected"in e&&typeof e.protected=="string"&&"tag"in e&&typeof e.tag=="string"}function toGeneral(e){if(typeof e=="string"){const t=e.split(".");if(t.length===3)return fromSplit$1(t);if(t.length===5)return fromSplit(t);throw new Error("Not a valid JOSE string")}if(isDagJWS(e)||isDagJWE(e))return e;throw new Error("Not a valid unencoded JOSE object")}function encode$2(e){typeof e=="string"&&(e=toGeneral(e));let t;if(isDagJWS(e))t=encode$4(e);else if(isDagJWE(e))t=encode$3(e);else throw new Error("Not a valid JOSE object");return new Uint8Array(encode$e(t))}function decode$1(e){let t;try{t=decode$b(e)}catch{throw new Error("Not a valid DAG-JOSE object")}if(isEncodedJWS(t))return decode$3(t);if(isEncodedJWE(t))return decode$2(t);throw new Error("Not a valid DAG-JOSE object")}const dagJOSE=Object.freeze(Object.defineProperty({__proto__:null,name,code:code$1,toGeneral,encode:encode$2,decode:decode$1},Symbol.toStringTag,{value:"Module"})),LOAD_CODEC=e=>Promise.reject(new Error(`No codec found for "${e}"`));class Multicodecs{constructor(t){this._codecsByName={},this._codecsByCode={},this._loadCodec=t.loadCodec||LOAD_CODEC;for(const r of t.codecs)this.addCodec(r)}addCodec(t){if(this._codecsByName[t.name]||this._codecsByCode[t.code])throw new Error(`Resolver already exists for codec "${t.name}"`);this._codecsByName[t.name]=t,this._codecsByCode[t.code]=t}removeCodec(t){delete this._codecsByName[t.name],delete this._codecsByCode[t.code]}async getCodec(t){const r=typeof t=="string"?this._codecsByName:this._codecsByCode;if(r[t])return r[t];const n=await this._loadCodec(t);return r[t]==null&&this.addCodec(n),n}listCodecs(){return Object.values(this._codecsByName)}}const LOAD_HASHER=e=>Promise.reject(new Error(`No hasher found for "${e}"`));class Multihashes{constructor(t){this._hashersByName={},this._hashersByCode={},this._loadHasher=t.loadHasher||LOAD_HASHER;for(const r of t.hashers)this.addHasher(r)}addHasher(t){if(this._hashersByName[t.name]||this._hashersByCode[t.code])throw new Error(`Resolver already exists for codec "${t.name}"`);this._hashersByName[t.name]=t,this._hashersByCode[t.code]=t}removeHasher(t){delete this._hashersByName[t.name],delete this._hashersByCode[t.code]}async getHasher(t){const r=typeof t=="string"?this._hashersByName:this._hashersByCode;if(r[t])return r[t];const n=await this._loadHasher(t);return r[t]==null&&this.addHasher(n),n}listHashers(){return Object.values(this._hashersByName)}}async function*makeIterable(e){let t=0;for(;t<e.length;)yield e[t++]}const all=async e=>{const t=[];for await(const r of e)t.push(r);return t};var itAll=all;class DagRepo extends Ac{constructor({repo:t,codecs:r,options:n}){const o=Object.values(hashes);(n.ipld&&n.ipld.hashers?n.ipld.hashers:[]).forEach(w=>o.push(w));const s=new Multihashes({hashers:o,loadHasher:n.ipld&&n.ipld.loadHasher});super({repo:t,codecs:r,hashers:s,preload:w=>{}}),Object.assign(this,mitt()),this.repo=t,this.rootCID,this.tx={pending:Transaction.create(),getExistingTx:async()=>{let w={};try{let g=this.tx.pending.last;if(!g)return;w=(await this.tx.pending.get(g)).value}catch{}return w},add:async(w,g)=>{var V;let k=!1,P=await this.tx.getExistingTx();if(P&&P[w])k=P[w].current;else if(this.rootCID)try{k=((V=(await this.get(this.rootCID)).value[w])==null?void 0:V.current)||!1}catch{}let q=await this.tx.pending.add(g),ie=Object.assign({},P,{[w]:{current:q,prev:k}}),he=await this.tx.pending.add(ie);return this.emit("added",he),he},commit:async()=>{let w=await this.tx.getExistingTx(),g={};try{this.rootCID&&(g=(await this.get(this.rootCID)).value)}catch(q){console.log({error:q})}let k=Object.assign({},g,w);this.rootCID=await this.tx.pending.add(k);const P=await this.tx.pending.commit();return await this.importBuffer(P),this.tx.pending=Transaction.create(),P}}}async importBuffers(t){let r;for(const n of t)r=await this.importBuffer(n);return r}async importBuffer(t){const r=await makeIterable([t]),[{root:n}]=await itAll(this.import(r));return n.cid}}async function createDagRepo(e={}){const t={name:identity$1.name,code:identity$1.code,encode:k=>k,decode:k=>k},r=Object.values(codecs);[dagPB,dagCBOR,dagJSON,dagJOSE,t].concat(e.ipld&&e.ipld.codecs||[]).forEach(k=>r.push(k));const n=new Multicodecs({codecs:r,loadCodec:e.ipld&&e.ipld.loadCodec}),o=e.path||"ipfs",s=cF(console.log,n,{path:o,autoMigrate:!0}),w={};try{await s.init(w),await s.open()}catch(k){throw k}const g=await s.config.getAll();return new DagRepo({repo:s,codecs:n,options:{...e,repoConfig:g}})}var web={},common={},ar={},bignumber={exports:{}};(function(e){(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,s=Math.floor,w="[BigNumber Error] ",g=w+"Number primitive has more than 15 significant digits: ",k=1e14,P=14,q=9007199254740991,ie=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],he=1e7,V=1e9;function X(ot){var Qt,at,sr,qr=Fr.prototype={constructor:Fr,toString:null,valueOf:null},Xr=new Fr(1),rn=20,ao=4,ei=-7,aa=21,ga=-1e7,Ca=1e7,wo=!1,Ka=1,Js=0,ia={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},ir="0123456789abcdefghijklmnopqrstuvwxyz",Hr=!0;function Fr(st,vr){var Pr,Wt,it,Yr,en,Qr,tn,tr,yo=this;if(!(yo instanceof Fr))return new Fr(st,vr);if(vr==null){if(st&&st._isBigNumber===!0){yo.s=st.s,!st.c||st.e>Ca?yo.c=yo.e=null:st.e<ga?yo.c=[yo.e=0]:(yo.e=st.e,yo.c=st.c.slice());return}if((Qr=typeof st=="number")&&st*0==0){if(yo.s=1/st<0?(st=-st,-1):1,st===~~st){for(Yr=0,en=st;en>=10;en/=10,Yr++);Yr>Ca?yo.c=yo.e=null:(yo.e=Yr,yo.c=[st]);return}tr=String(st)}else{if(!n.test(tr=String(st)))return sr(yo,tr,Qr);yo.s=tr.charCodeAt(0)==45?(tr=tr.slice(1),-1):1}(Yr=tr.indexOf("."))>-1&&(tr=tr.replace(".","")),(en=tr.search(/e/i))>0?(Yr<0&&(Yr=en),Yr+=+tr.slice(en+1),tr=tr.substring(0,en)):Yr<0&&(Yr=tr.length)}else{if(_e(vr,2,ir.length,"Base"),vr==10&&Hr)return yo=new Fr(st),Kr(yo,rn+yo.e+1,ao);if(tr=String(st),Qr=typeof st=="number"){if(st*0!=0)return sr(yo,tr,Qr,vr);if(yo.s=1/st<0?(tr=tr.slice(1),-1):1,Fr.DEBUG&&tr.replace(/^0\.0*|\./,"").length>15)throw Error(g+st)}else yo.s=tr.charCodeAt(0)===45?(tr=tr.slice(1),-1):1;for(Pr=ir.slice(0,vr),Yr=en=0,tn=tr.length;en<tn;en++)if(Pr.indexOf(Wt=tr.charAt(en))<0){if(Wt=="."){if(en>Yr){Yr=tn;continue}}else if(!it&&(tr==tr.toUpperCase()&&(tr=tr.toLowerCase())||tr==tr.toLowerCase()&&(tr=tr.toUpperCase()))){it=!0,en=-1,Yr=0;continue}return sr(yo,String(st),Qr,vr)}Qr=!1,tr=at(tr,vr,10,yo.s),(Yr=tr.indexOf("."))>-1?tr=tr.replace(".",""):Yr=tr.length}for(en=0;tr.charCodeAt(en)===48;en++);for(tn=tr.length;tr.charCodeAt(--tn)===48;);if(tr=tr.slice(en,++tn)){if(tn-=en,Qr&&Fr.DEBUG&&tn>15&&(st>q||st!==s(st)))throw Error(g+yo.s*st);if((Yr=Yr-en-1)>Ca)yo.c=yo.e=null;else if(Yr<ga)yo.c=[yo.e=0];else{if(yo.e=Yr,yo.c=[],en=(Yr+1)%P,Yr<0&&(en+=P),en<tn){for(en&&yo.c.push(+tr.slice(0,en)),tn-=P;en<tn;)yo.c.push(+tr.slice(en,en+=P));en=P-(tr=tr.slice(en)).length}else en-=tn;for(;en--;tr+="0");yo.c.push(+tr)}}else yo.c=[yo.e=0]}Fr.clone=X,Fr.ROUND_UP=0,Fr.ROUND_DOWN=1,Fr.ROUND_CEIL=2,Fr.ROUND_FLOOR=3,Fr.ROUND_HALF_UP=4,Fr.ROUND_HALF_DOWN=5,Fr.ROUND_HALF_EVEN=6,Fr.ROUND_HALF_CEIL=7,Fr.ROUND_HALF_FLOOR=8,Fr.EUCLID=9,Fr.config=Fr.set=function(st){var vr,Pr;if(st!=null)if(typeof st=="object"){if(st.hasOwnProperty(vr="DECIMAL_PLACES")&&(Pr=st[vr],_e(Pr,0,V,vr),rn=Pr),st.hasOwnProperty(vr="ROUNDING_MODE")&&(Pr=st[vr],_e(Pr,0,8,vr),ao=Pr),st.hasOwnProperty(vr="EXPONENTIAL_AT")&&(Pr=st[vr],Pr&&Pr.pop?(_e(Pr[0],-V,0,vr),_e(Pr[1],0,V,vr),ei=Pr[0],aa=Pr[1]):(_e(Pr,-V,V,vr),ei=-(aa=Pr<0?-Pr:Pr))),st.hasOwnProperty(vr="RANGE"))if(Pr=st[vr],Pr&&Pr.pop)_e(Pr[0],-V,-1,vr),_e(Pr[1],1,V,vr),ga=Pr[0],Ca=Pr[1];else if(_e(Pr,-V,V,vr),Pr)ga=-(Ca=Pr<0?-Pr:Pr);else throw Error(w+vr+" cannot be zero: "+Pr);if(st.hasOwnProperty(vr="CRYPTO"))if(Pr=st[vr],Pr===!!Pr)if(Pr)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))wo=Pr;else throw wo=!Pr,Error(w+"crypto unavailable");else wo=Pr;else throw Error(w+vr+" not true or false: "+Pr);if(st.hasOwnProperty(vr="MODULO_MODE")&&(Pr=st[vr],_e(Pr,0,9,vr),Ka=Pr),st.hasOwnProperty(vr="POW_PRECISION")&&(Pr=st[vr],_e(Pr,0,V,vr),Js=Pr),st.hasOwnProperty(vr="FORMAT"))if(Pr=st[vr],typeof Pr=="object")ia=Pr;else throw Error(w+vr+" not an object: "+Pr);if(st.hasOwnProperty(vr="ALPHABET"))if(Pr=st[vr],typeof Pr=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Pr))Hr=Pr.slice(0,10)=="0123456789",ir=Pr;else throw Error(w+vr+" invalid: "+Pr)}else throw Error(w+"Object expected: "+st);return{DECIMAL_PLACES:rn,ROUNDING_MODE:ao,EXPONENTIAL_AT:[ei,aa],RANGE:[ga,Ca],CRYPTO:wo,MODULO_MODE:Ka,POW_PRECISION:Js,FORMAT:ia,ALPHABET:ir}},Fr.isBigNumber=function(st){if(!st||st._isBigNumber!==!0)return!1;if(!Fr.DEBUG)return!0;var vr,Pr,Wt=st.c,it=st.e,Yr=st.s;e:if({}.toString.call(Wt)=="[object Array]"){if((Yr===1||Yr===-1)&&it>=-V&&it<=V&&it===s(it)){if(Wt[0]===0){if(it===0&&Wt.length===1)return!0;break e}if(vr=(it+1)%P,vr<1&&(vr+=P),String(Wt[0]).length==vr){for(vr=0;vr<Wt.length;vr++)if(Pr=Wt[vr],Pr<0||Pr>=k||Pr!==s(Pr))break e;if(Pr!==0)return!0}}}else if(Wt===null&&it===null&&(Yr===null||Yr===1||Yr===-1))return!0;throw Error(w+"Invalid BigNumber: "+st)},Fr.maximum=Fr.max=function(){return ba(arguments,qr.lt)},Fr.minimum=Fr.min=function(){return ba(arguments,qr.gt)},Fr.random=function(){var st=9007199254740992,vr=Math.random()*st&2097151?function(){return s(Math.random()*st)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Pr){var Wt,it,Yr,en,Qr,tn=0,tr=[],yo=new Fr(Xr);if(Pr==null?Pr=rn:_e(Pr,0,V),en=o(Pr/P),wo)if(crypto.getRandomValues){for(Wt=crypto.getRandomValues(new Uint32Array(en*=2));tn<en;)Qr=Wt[tn]*131072+(Wt[tn+1]>>>11),Qr>=9e15?(it=crypto.getRandomValues(new Uint32Array(2)),Wt[tn]=it[0],Wt[tn+1]=it[1]):(tr.push(Qr%1e14),tn+=2);tn=en/2}else if(crypto.randomBytes){for(Wt=crypto.randomBytes(en*=7);tn<en;)Qr=(Wt[tn]&31)*281474976710656+Wt[tn+1]*1099511627776+Wt[tn+2]*4294967296+Wt[tn+3]*16777216+(Wt[tn+4]<<16)+(Wt[tn+5]<<8)+Wt[tn+6],Qr>=9e15?crypto.randomBytes(7).copy(Wt,tn):(tr.push(Qr%1e14),tn+=7);tn=en/7}else throw wo=!1,Error(w+"crypto unavailable");if(!wo)for(;tn<en;)Qr=vr(),Qr<9e15&&(tr[tn++]=Qr%1e14);for(en=tr[--tn],Pr%=P,en&&Pr&&(Qr=ie[P-Pr],tr[tn]=s(en/Qr)*Qr);tr[tn]===0;tr.pop(),tn--);if(tn<0)tr=[Yr=0];else{for(Yr=-1;tr[0]===0;tr.splice(0,1),Yr-=P);for(tn=1,Qr=tr[0];Qr>=10;Qr/=10,tn++);tn<P&&(Yr-=P-tn)}return yo.e=Yr,yo.c=tr,yo}}(),Fr.sum=function(){for(var st=1,vr=arguments,Pr=new Fr(vr[0]);st<vr.length;)Pr=Pr.plus(vr[st++]);return Pr},at=function(){var st="0123456789";function vr(Pr,Wt,it,Yr){for(var en,Qr=[0],tn,tr=0,yo=Pr.length;tr<yo;){for(tn=Qr.length;tn--;Qr[tn]*=Wt);for(Qr[0]+=Yr.indexOf(Pr.charAt(tr++)),en=0;en<Qr.length;en++)Qr[en]>it-1&&(Qr[en+1]==null&&(Qr[en+1]=0),Qr[en+1]+=Qr[en]/it|0,Qr[en]%=it)}return Qr.reverse()}return function(Pr,Wt,it,Yr,en){var Qr,tn,tr,yo,ni,la,ja,Ys,Ks=Pr.indexOf("."),Qs=rn,y=ao;for(Ks>=0&&(yo=Js,Js=0,Pr=Pr.replace(".",""),Ys=new Fr(Wt),la=Ys.pow(Pr.length-Ks),Js=yo,Ys.c=vr(Gt(we(la.c),la.e,"0"),10,it,st),Ys.e=Ys.c.length),ja=vr(Pr,Wt,it,en?(Qr=ir,st):(Qr=st,ir)),tr=yo=ja.length;ja[--yo]==0;ja.pop());if(!ja[0])return Qr.charAt(0);if(Ks<0?--tr:(la.c=ja,la.e=tr,la.s=Yr,la=Qt(la,Ys,Qs,y,it),ja=la.c,ni=la.r,tr=la.e),tn=tr+Qs+1,Ks=ja[tn],yo=it/2,ni=ni||tn<0||ja[tn+1]!=null,ni=y<4?(Ks!=null||ni)&&(y==0||y==(la.s<0?3:2)):Ks>yo||Ks==yo&&(y==4||ni||y==6&&ja[tn-1]&1||y==(la.s<0?8:7)),tn<1||!ja[0])Pr=ni?Gt(Qr.charAt(1),-Qs,Qr.charAt(0)):Qr.charAt(0);else{if(ja.length=tn,ni)for(--it;++ja[--tn]>it;)ja[tn]=0,tn||(++tr,ja=[1].concat(ja));for(yo=ja.length;!ja[--yo];);for(Ks=0,Pr="";Ks<=yo;Pr+=Qr.charAt(ja[Ks++]));Pr=Gt(Pr,tr,Qr.charAt(0))}return Pr}}(),Qt=function(){function st(Wt,it,Yr){var en,Qr,tn,tr,yo=0,ni=Wt.length,la=it%he,ja=it/he|0;for(Wt=Wt.slice();ni--;)tn=Wt[ni]%he,tr=Wt[ni]/he|0,en=ja*tn+tr*la,Qr=la*tn+en%he*he+yo,yo=(Qr/Yr|0)+(en/he|0)+ja*tr,Wt[ni]=Qr%Yr;return yo&&(Wt=[yo].concat(Wt)),Wt}function vr(Wt,it,Yr,en){var Qr,tn;if(Yr!=en)tn=Yr>en?1:-1;else for(Qr=tn=0;Qr<Yr;Qr++)if(Wt[Qr]!=it[Qr]){tn=Wt[Qr]>it[Qr]?1:-1;break}return tn}function Pr(Wt,it,Yr,en){for(var Qr=0;Yr--;)Wt[Yr]-=Qr,Qr=Wt[Yr]<it[Yr]?1:0,Wt[Yr]=Qr*en+Wt[Yr]-it[Yr];for(;!Wt[0]&&Wt.length>1;Wt.splice(0,1));}return function(Wt,it,Yr,en,Qr){var tn,tr,yo,ni,la,ja,Ys,Ks,Qs,y,E,I,Ie,et,rr,zr,ya,qa=Wt.s==it.s?1:-1,ha=Wt.c,Ii=it.c;if(!ha||!ha[0]||!Ii||!Ii[0])return new Fr(!Wt.s||!it.s||(ha?Ii&&ha[0]==Ii[0]:!Ii)?NaN:ha&&ha[0]==0||!Ii?qa*0:qa/0);for(Ks=new Fr(qa),Qs=Ks.c=[],tr=Wt.e-it.e,qa=Yr+tr+1,Qr||(Qr=k,tr=L(Wt.e/P)-L(it.e/P),qa=qa/P|0),yo=0;Ii[yo]==(ha[yo]||0);yo++);if(Ii[yo]>(ha[yo]||0)&&tr--,qa<0)Qs.push(1),ni=!0;else{for(et=ha.length,zr=Ii.length,yo=0,qa+=2,la=s(Qr/(Ii[0]+1)),la>1&&(Ii=st(Ii,la,Qr),ha=st(ha,la,Qr),zr=Ii.length,et=ha.length),Ie=zr,y=ha.slice(0,zr),E=y.length;E<zr;y[E++]=0);ya=Ii.slice(),ya=[0].concat(ya),rr=Ii[0],Ii[1]>=Qr/2&&rr++;do{if(la=0,tn=vr(Ii,y,zr,E),tn<0){if(I=y[0],zr!=E&&(I=I*Qr+(y[1]||0)),la=s(I/rr),la>1)for(la>=Qr&&(la=Qr-1),ja=st(Ii,la,Qr),Ys=ja.length,E=y.length;vr(ja,y,Ys,E)==1;)la--,Pr(ja,zr<Ys?ya:Ii,Ys,Qr),Ys=ja.length,tn=1;else la==0&&(tn=la=1),ja=Ii.slice(),Ys=ja.length;if(Ys<E&&(ja=[0].concat(ja)),Pr(y,ja,E,Qr),E=y.length,tn==-1)for(;vr(Ii,y,zr,E)<1;)la++,Pr(y,zr<E?ya:Ii,E,Qr),E=y.length}else tn===0&&(la++,y=[0]);Qs[yo++]=la,y[0]?y[E++]=ha[Ie]||0:(y=[ha[Ie]],E=1)}while((Ie++<et||y[0]!=null)&&qa--);ni=y[0]!=null,Qs[0]||Qs.splice(0,1)}if(Qr==k){for(yo=1,qa=Qs[0];qa>=10;qa/=10,yo++);Kr(Ks,Yr+(Ks.e=yo+tr*P-1)+1,en,ni)}else Ks.e=tr,Ks.r=+ni;return Ks}}();function Ei(st,vr,Pr,Wt){var it,Yr,en,Qr,tn;if(Pr==null?Pr=ao:_e(Pr,0,8),!st.c)return st.toString();if(it=st.c[0],en=st.e,vr==null)tn=we(st.c),tn=Wt==1||Wt==2&&(en<=ei||en>=aa)?Xt(tn,en):Gt(tn,en,"0");else if(st=Kr(new Fr(st),vr,Pr),Yr=st.e,tn=we(st.c),Qr=tn.length,Wt==1||Wt==2&&(vr<=Yr||Yr<=ei)){for(;Qr<vr;tn+="0",Qr++);tn=Xt(tn,Yr)}else if(vr-=en,tn=Gt(tn,Yr,"0"),Yr+1>Qr){if(--vr>0)for(tn+=".";vr--;tn+="0");}else if(vr+=Yr-Qr,vr>0)for(Yr+1==Qr&&(tn+=".");vr--;tn+="0");return st.s<0&&it?"-"+tn:tn}function ba(st,vr){for(var Pr,Wt=1,it=new Fr(st[0]);Wt<st.length;Wt++)if(Pr=new Fr(st[Wt]),Pr.s)vr.call(it,Pr)&&(it=Pr);else{it=Pr;break}return it}function Ea(st,vr,Pr){for(var Wt=1,it=vr.length;!vr[--it];vr.pop());for(it=vr[0];it>=10;it/=10,Wt++);return(Pr=Wt+Pr*P-1)>Ca?st.c=st.e=null:Pr<ga?st.c=[st.e=0]:(st.e=Pr,st.c=vr),st}sr=function(){var st=/^(-?)0([xbo])(?=\w[\w.]*$)/i,vr=/^([^.]+)\.$/,Pr=/^\.([^.]+)$/,Wt=/^-?(Infinity|NaN)$/,it=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Yr,en,Qr,tn){var tr,yo=Qr?en:en.replace(it,"");if(Wt.test(yo))Yr.s=isNaN(yo)?null:yo<0?-1:1;else{if(!Qr&&(yo=yo.replace(st,function(ni,la,ja){return tr=(ja=ja.toLowerCase())=="x"?16:ja=="b"?2:8,!tn||tn==tr?la:ni}),tn&&(tr=tn,yo=yo.replace(vr,"$1").replace(Pr,"0.$1")),en!=yo))return new Fr(yo,tr);if(Fr.DEBUG)throw Error(w+"Not a"+(tn?" base "+tn:"")+" number: "+en);Yr.s=null}Yr.c=Yr.e=null}}();function Kr(st,vr,Pr,Wt){var it,Yr,en,Qr,tn,tr,yo,ni=st.c,la=ie;if(ni){e:{for(it=1,Qr=ni[0];Qr>=10;Qr/=10,it++);if(Yr=vr-it,Yr<0)Yr+=P,en=vr,tn=ni[tr=0],yo=tn/la[it-en-1]%10|0;else if(tr=o((Yr+1)/P),tr>=ni.length)if(Wt){for(;ni.length<=tr;ni.push(0));tn=yo=0,it=1,Yr%=P,en=Yr-P+1}else break e;else{for(tn=Qr=ni[tr],it=1;Qr>=10;Qr/=10,it++);Yr%=P,en=Yr-P+it,yo=en<0?0:tn/la[it-en-1]%10|0}if(Wt=Wt||vr<0||ni[tr+1]!=null||(en<0?tn:tn%la[it-en-1]),Wt=Pr<4?(yo||Wt)&&(Pr==0||Pr==(st.s<0?3:2)):yo>5||yo==5&&(Pr==4||Wt||Pr==6&&(Yr>0?en>0?tn/la[it-en]:0:ni[tr-1])%10&1||Pr==(st.s<0?8:7)),vr<1||!ni[0])return ni.length=0,Wt?(vr-=st.e+1,ni[0]=la[(P-vr%P)%P],st.e=-vr||0):ni[0]=st.e=0,st;if(Yr==0?(ni.length=tr,Qr=1,tr--):(ni.length=tr+1,Qr=la[P-Yr],ni[tr]=en>0?s(tn/la[it-en]%la[en])*Qr:0),Wt)for(;;)if(tr==0){for(Yr=1,en=ni[0];en>=10;en/=10,Yr++);for(en=ni[0]+=Qr,Qr=1;en>=10;en/=10,Qr++);Yr!=Qr&&(st.e++,ni[0]==k&&(ni[0]=1));break}else{if(ni[tr]+=Qr,ni[tr]!=k)break;ni[tr--]=0,Qr=1}for(Yr=ni.length;ni[--Yr]===0;ni.pop());}st.e>Ca?st.c=st.e=null:st.e<ga&&(st.c=[st.e=0])}return st}function Zr(st){var vr,Pr=st.e;return Pr===null?st.toString():(vr=we(st.c),vr=Pr<=ei||Pr>=aa?Xt(vr,Pr):Gt(vr,Pr,"0"),st.s<0?"-"+vr:vr)}return qr.absoluteValue=qr.abs=function(){var st=new Fr(this);return st.s<0&&(st.s=1),st},qr.comparedTo=function(st,vr){return Ee(this,new Fr(st,vr))},qr.decimalPlaces=qr.dp=function(st,vr){var Pr,Wt,it,Yr=this;if(st!=null)return _e(st,0,V),vr==null?vr=ao:_e(vr,0,8),Kr(new Fr(Yr),st+Yr.e+1,vr);if(!(Pr=Yr.c))return null;if(Wt=((it=Pr.length-1)-L(this.e/P))*P,it=Pr[it])for(;it%10==0;it/=10,Wt--);return Wt<0&&(Wt=0),Wt},qr.dividedBy=qr.div=function(st,vr){return Qt(this,new Fr(st,vr),rn,ao)},qr.dividedToIntegerBy=qr.idiv=function(st,vr){return Qt(this,new Fr(st,vr),0,1)},qr.exponentiatedBy=qr.pow=function(st,vr){var Pr,Wt,it,Yr,en,Qr,tn,tr,yo,ni=this;if(st=new Fr(st),st.c&&!st.isInteger())throw Error(w+"Exponent not an integer: "+Zr(st));if(vr!=null&&(vr=new Fr(vr)),Qr=st.e>14,!ni.c||!ni.c[0]||ni.c[0]==1&&!ni.e&&ni.c.length==1||!st.c||!st.c[0])return yo=new Fr(Math.pow(+Zr(ni),Qr?2-je(st):+Zr(st))),vr?yo.mod(vr):yo;if(tn=st.s<0,vr){if(vr.c?!vr.c[0]:!vr.s)return new Fr(NaN);Wt=!tn&&ni.isInteger()&&vr.isInteger(),Wt&&(ni=ni.mod(vr))}else{if(st.e>9&&(ni.e>0||ni.e<-1||(ni.e==0?ni.c[0]>1||Qr&&ni.c[1]>=24e7:ni.c[0]<8e13||Qr&&ni.c[0]<=9999975e7)))return Yr=ni.s<0&&je(st)?-0:0,ni.e>-1&&(Yr=1/Yr),new Fr(tn?1/Yr:Yr);Js&&(Yr=o(Js/P+2))}for(Qr?(Pr=new Fr(.5),tn&&(st.s=1),tr=je(st)):(it=Math.abs(+Zr(st)),tr=it%2),yo=new Fr(Xr);;){if(tr){if(yo=yo.times(ni),!yo.c)break;Yr?yo.c.length>Yr&&(yo.c.length=Yr):Wt&&(yo=yo.mod(vr))}if(it){if(it=s(it/2),it===0)break;tr=it%2}else if(st=st.times(Pr),Kr(st,st.e+1,1),st.e>14)tr=je(st);else{if(it=+Zr(st),it===0)break;tr=it%2}ni=ni.times(ni),Yr?ni.c&&ni.c.length>Yr&&(ni.c.length=Yr):Wt&&(ni=ni.mod(vr))}return Wt?yo:(tn&&(yo=Xr.div(yo)),vr?yo.mod(vr):Yr?Kr(yo,Js,ao,en):yo)},qr.integerValue=function(st){var vr=new Fr(this);return st==null?st=ao:_e(st,0,8),Kr(vr,vr.e+1,st)},qr.isEqualTo=qr.eq=function(st,vr){return Ee(this,new Fr(st,vr))===0},qr.isFinite=function(){return!!this.c},qr.isGreaterThan=qr.gt=function(st,vr){return Ee(this,new Fr(st,vr))>0},qr.isGreaterThanOrEqualTo=qr.gte=function(st,vr){return(vr=Ee(this,new Fr(st,vr)))===1||vr===0},qr.isInteger=function(){return!!this.c&&L(this.e/P)>this.c.length-2},qr.isLessThan=qr.lt=function(st,vr){return Ee(this,new Fr(st,vr))<0},qr.isLessThanOrEqualTo=qr.lte=function(st,vr){return(vr=Ee(this,new Fr(st,vr)))===-1||vr===0},qr.isNaN=function(){return!this.s},qr.isNegative=function(){return this.s<0},qr.isPositive=function(){return this.s>0},qr.isZero=function(){return!!this.c&&this.c[0]==0},qr.minus=function(st,vr){var Pr,Wt,it,Yr,en=this,Qr=en.s;if(st=new Fr(st,vr),vr=st.s,!Qr||!vr)return new Fr(NaN);if(Qr!=vr)return st.s=-vr,en.plus(st);var tn=en.e/P,tr=st.e/P,yo=en.c,ni=st.c;if(!tn||!tr){if(!yo||!ni)return yo?(st.s=-vr,st):new Fr(ni?en:NaN);if(!yo[0]||!ni[0])return ni[0]?(st.s=-vr,st):new Fr(yo[0]?en:ao==3?-0:0)}if(tn=L(tn),tr=L(tr),yo=yo.slice(),Qr=tn-tr){for((Yr=Qr<0)?(Qr=-Qr,it=yo):(tr=tn,it=ni),it.reverse(),vr=Qr;vr--;it.push(0));it.reverse()}else for(Wt=(Yr=(Qr=yo.length)<(vr=ni.length))?Qr:vr,Qr=vr=0;vr<Wt;vr++)if(yo[vr]!=ni[vr]){Yr=yo[vr]<ni[vr];break}if(Yr&&(it=yo,yo=ni,ni=it,st.s=-st.s),vr=(Wt=ni.length)-(Pr=yo.length),vr>0)for(;vr--;yo[Pr++]=0);for(vr=k-1;Wt>Qr;){if(yo[--Wt]<ni[Wt]){for(Pr=Wt;Pr&&!yo[--Pr];yo[Pr]=vr);--yo[Pr],yo[Wt]+=k}yo[Wt]-=ni[Wt]}for(;yo[0]==0;yo.splice(0,1),--tr);return yo[0]?Ea(st,yo,tr):(st.s=ao==3?-1:1,st.c=[st.e=0],st)},qr.modulo=qr.mod=function(st,vr){var Pr,Wt,it=this;return st=new Fr(st,vr),!it.c||!st.s||st.c&&!st.c[0]?new Fr(NaN):!st.c||it.c&&!it.c[0]?new Fr(it):(Ka==9?(Wt=st.s,st.s=1,Pr=Qt(it,st,0,3),st.s=Wt,Pr.s*=Wt):Pr=Qt(it,st,0,Ka),st=it.minus(Pr.times(st)),!st.c[0]&&Ka==1&&(st.s=it.s),st)},qr.multipliedBy=qr.times=function(st,vr){var Pr,Wt,it,Yr,en,Qr,tn,tr,yo,ni,la,ja,Ys,Ks,Qs,y=this,E=y.c,I=(st=new Fr(st,vr)).c;if(!E||!I||!E[0]||!I[0])return!y.s||!st.s||E&&!E[0]&&!I||I&&!I[0]&&!E?st.c=st.e=st.s=null:(st.s*=y.s,!E||!I?st.c=st.e=null:(st.c=[0],st.e=0)),st;for(Wt=L(y.e/P)+L(st.e/P),st.s*=y.s,tn=E.length,ni=I.length,tn<ni&&(Ys=E,E=I,I=Ys,it=tn,tn=ni,ni=it),it=tn+ni,Ys=[];it--;Ys.push(0));for(Ks=k,Qs=he,it=ni;--it>=0;){for(Pr=0,la=I[it]%Qs,ja=I[it]/Qs|0,en=tn,Yr=it+en;Yr>it;)tr=E[--en]%Qs,yo=E[en]/Qs|0,Qr=ja*tr+yo*la,tr=la*tr+Qr%Qs*Qs+Ys[Yr]+Pr,Pr=(tr/Ks|0)+(Qr/Qs|0)+ja*yo,Ys[Yr--]=tr%Ks;Ys[Yr]=Pr}return Pr?++Wt:Ys.splice(0,1),Ea(st,Ys,Wt)},qr.negated=function(){var st=new Fr(this);return st.s=-st.s||null,st},qr.plus=function(st,vr){var Pr,Wt=this,it=Wt.s;if(st=new Fr(st,vr),vr=st.s,!it||!vr)return new Fr(NaN);if(it!=vr)return st.s=-vr,Wt.minus(st);var Yr=Wt.e/P,en=st.e/P,Qr=Wt.c,tn=st.c;if(!Yr||!en){if(!Qr||!tn)return new Fr(it/0);if(!Qr[0]||!tn[0])return tn[0]?st:new Fr(Qr[0]?Wt:it*0)}if(Yr=L(Yr),en=L(en),Qr=Qr.slice(),it=Yr-en){for(it>0?(en=Yr,Pr=tn):(it=-it,Pr=Qr),Pr.reverse();it--;Pr.push(0));Pr.reverse()}for(it=Qr.length,vr=tn.length,it-vr<0&&(Pr=tn,tn=Qr,Qr=Pr,vr=it),it=0;vr;)it=(Qr[--vr]=Qr[vr]+tn[vr]+it)/k|0,Qr[vr]=k===Qr[vr]?0:Qr[vr]%k;return it&&(Qr=[it].concat(Qr),++en),Ea(st,Qr,en)},qr.precision=qr.sd=function(st,vr){var Pr,Wt,it,Yr=this;if(st!=null&&st!==!!st)return _e(st,1,V),vr==null?vr=ao:_e(vr,0,8),Kr(new Fr(Yr),st,vr);if(!(Pr=Yr.c))return null;if(it=Pr.length-1,Wt=it*P+1,it=Pr[it]){for(;it%10==0;it/=10,Wt--);for(it=Pr[0];it>=10;it/=10,Wt++);}return st&&Yr.e+1>Wt&&(Wt=Yr.e+1),Wt},qr.shiftedBy=function(st){return _e(st,-q,q),this.times("1e"+st)},qr.squareRoot=qr.sqrt=function(){var st,vr,Pr,Wt,it,Yr=this,en=Yr.c,Qr=Yr.s,tn=Yr.e,tr=rn+4,yo=new Fr("0.5");if(Qr!==1||!en||!en[0])return new Fr(!Qr||Qr<0&&(!en||en[0])?NaN:en?Yr:1/0);if(Qr=Math.sqrt(+Zr(Yr)),Qr==0||Qr==1/0?(vr=we(en),(vr.length+tn)%2==0&&(vr+="0"),Qr=Math.sqrt(+vr),tn=L((tn+1)/2)-(tn<0||tn%2),Qr==1/0?vr="5e"+tn:(vr=Qr.toExponential(),vr=vr.slice(0,vr.indexOf("e")+1)+tn),Pr=new Fr(vr)):Pr=new Fr(Qr+""),Pr.c[0]){for(tn=Pr.e,Qr=tn+tr,Qr<3&&(Qr=0);;)if(it=Pr,Pr=yo.times(it.plus(Qt(Yr,it,tr,1))),we(it.c).slice(0,Qr)===(vr=we(Pr.c)).slice(0,Qr))if(Pr.e<tn&&--Qr,vr=vr.slice(Qr-3,Qr+1),vr=="9999"||!Wt&&vr=="4999"){if(!Wt&&(Kr(it,it.e+rn+2,0),it.times(it).eq(Yr))){Pr=it;break}tr+=4,Qr+=4,Wt=1}else{(!+vr||!+vr.slice(1)&&vr.charAt(0)=="5")&&(Kr(Pr,Pr.e+rn+2,1),st=!Pr.times(Pr).eq(Yr));break}}return Kr(Pr,Pr.e+rn+1,ao,st)},qr.toExponential=function(st,vr){return st!=null&&(_e(st,0,V),st++),Ei(this,st,vr,1)},qr.toFixed=function(st,vr){return st!=null&&(_e(st,0,V),st=st+this.e+1),Ei(this,st,vr)},qr.toFormat=function(st,vr,Pr){var Wt,it=this;if(Pr==null)st!=null&&vr&&typeof vr=="object"?(Pr=vr,vr=null):st&&typeof st=="object"?(Pr=st,st=vr=null):Pr=ia;else if(typeof Pr!="object")throw Error(w+"Argument not an object: "+Pr);if(Wt=it.toFixed(st,vr),it.c){var Yr,en=Wt.split("."),Qr=+Pr.groupSize,tn=+Pr.secondaryGroupSize,tr=Pr.groupSeparator||"",yo=en[0],ni=en[1],la=it.s<0,ja=la?yo.slice(1):yo,Ys=ja.length;if(tn&&(Yr=Qr,Qr=tn,tn=Yr,Ys-=Yr),Qr>0&&Ys>0){for(Yr=Ys%Qr||Qr,yo=ja.substr(0,Yr);Yr<Ys;Yr+=Qr)yo+=tr+ja.substr(Yr,Qr);tn>0&&(yo+=tr+ja.slice(Yr)),la&&(yo="-"+yo)}Wt=ni?yo+(Pr.decimalSeparator||"")+((tn=+Pr.fractionGroupSize)?ni.replace(new RegExp("\\d{"+tn+"}\\B","g"),"$&"+(Pr.fractionGroupSeparator||"")):ni):yo}return(Pr.prefix||"")+Wt+(Pr.suffix||"")},qr.toFraction=function(st){var vr,Pr,Wt,it,Yr,en,Qr,tn,tr,yo,ni,la,ja=this,Ys=ja.c;if(st!=null&&(Qr=new Fr(st),!Qr.isInteger()&&(Qr.c||Qr.s!==1)||Qr.lt(Xr)))throw Error(w+"Argument "+(Qr.isInteger()?"out of range: ":"not an integer: ")+Zr(Qr));if(!Ys)return new Fr(ja);for(vr=new Fr(Xr),tr=Pr=new Fr(Xr),Wt=tn=new Fr(Xr),la=we(Ys),Yr=vr.e=la.length-ja.e-1,vr.c[0]=ie[(en=Yr%P)<0?P+en:en],st=!st||Qr.comparedTo(vr)>0?Yr>0?vr:tr:Qr,en=Ca,Ca=1/0,Qr=new Fr(la),tn.c[0]=0;yo=Qt(Qr,vr,0,1),it=Pr.plus(yo.times(Wt)),it.comparedTo(st)!=1;)Pr=Wt,Wt=it,tr=tn.plus(yo.times(it=tr)),tn=it,vr=Qr.minus(yo.times(it=vr)),Qr=it;return it=Qt(st.minus(Pr),Wt,0,1),tn=tn.plus(it.times(tr)),Pr=Pr.plus(it.times(Wt)),tn.s=tr.s=ja.s,Yr=Yr*2,ni=Qt(tr,Wt,Yr,ao).minus(ja).abs().comparedTo(Qt(tn,Pr,Yr,ao).minus(ja).abs())<1?[tr,Wt]:[tn,Pr],Ca=en,ni},qr.toNumber=function(){return+Zr(this)},qr.toPrecision=function(st,vr){return st!=null&&_e(st,1,V),Ei(this,st,vr,2)},qr.toString=function(st){var vr,Pr=this,Wt=Pr.s,it=Pr.e;return it===null?Wt?(vr="Infinity",Wt<0&&(vr="-"+vr)):vr="NaN":(st==null?vr=it<=ei||it>=aa?Xt(we(Pr.c),it):Gt(we(Pr.c),it,"0"):st===10&&Hr?(Pr=Kr(new Fr(Pr),rn+it+1,ao),vr=Gt(we(Pr.c),Pr.e,"0")):(_e(st,2,ir.length,"Base"),vr=at(Gt(we(Pr.c),it,"0"),10,st,Wt,!0)),Wt<0&&Pr.c[0]&&(vr="-"+vr)),vr},qr.valueOf=qr.toJSON=function(){return Zr(this)},qr._isBigNumber=!0,ot!=null&&Fr.set(ot),Fr}function L(ot){var Qt=ot|0;return ot>0||ot===Qt?Qt:Qt-1}function we(ot){for(var Qt,at,sr=1,qr=ot.length,Xr=ot[0]+"";sr<qr;){for(Qt=ot[sr++]+"",at=P-Qt.length;at--;Qt="0"+Qt);Xr+=Qt}for(qr=Xr.length;Xr.charCodeAt(--qr)===48;);return Xr.slice(0,qr+1||1)}function Ee(ot,Qt){var at,sr,qr=ot.c,Xr=Qt.c,rn=ot.s,ao=Qt.s,ei=ot.e,aa=Qt.e;if(!rn||!ao)return null;if(at=qr&&!qr[0],sr=Xr&&!Xr[0],at||sr)return at?sr?0:-ao:rn;if(rn!=ao)return rn;if(at=rn<0,sr=ei==aa,!qr||!Xr)return sr?0:!qr^at?1:-1;if(!sr)return ei>aa^at?1:-1;for(ao=(ei=qr.length)<(aa=Xr.length)?ei:aa,rn=0;rn<ao;rn++)if(qr[rn]!=Xr[rn])return qr[rn]>Xr[rn]^at?1:-1;return ei==aa?0:ei>aa^at?1:-1}function _e(ot,Qt,at,sr){if(ot<Qt||ot>at||ot!==s(ot))throw Error(w+(sr||"Argument")+(typeof ot=="number"?ot<Qt||ot>at?" out of range: ":" not an integer: ":" not a primitive number: ")+String(ot))}function je(ot){var Qt=ot.c.length-1;return L(ot.e/P)==Qt&&ot.c[Qt]%2!=0}function Xt(ot,Qt){return(ot.length>1?ot.charAt(0)+"."+ot.slice(1):ot)+(Qt<0?"e":"e+")+Qt}function Gt(ot,Qt,at){var sr,qr;if(Qt<0){for(qr=at+".";++Qt;qr+=at);ot=qr+ot}else if(sr=ot.length,++Qt>sr){for(qr=at,Qt-=sr;--Qt;qr+=at);ot+=qr}else Qt<sr&&(ot=ot.slice(0,Qt)+"."+ot.slice(Qt));return ot}r=X(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(commonjsGlobal)})(bignumber);Object.defineProperty(ar,"__esModule",{value:!0});const bignumber_js_1=bignumber.exports;class Ar{constructor(){this.BigNum=(t,r)=>{let n=bignumber_js_1.BigNumber.clone({DECIMAL_PLACES:r});return new n(t)}}winstonToAr(t,{formatted:r=!1,decimals:n=12,trim:o=!0}={}){let s=this.stringToBigNum(t,n).shiftedBy(-12);return r?s.toFormat(n):s.toFixed(n)}arToWinston(t,{formatted:r=!1}={}){let n=this.stringToBigNum(t).shiftedBy(12);return r?n.toFormat():n.toFixed(0)}compare(t,r){let n=this.stringToBigNum(t),o=this.stringToBigNum(r);return n.comparedTo(o)}isEqual(t,r){return this.compare(t,r)===0}isLessThan(t,r){let n=this.stringToBigNum(t),o=this.stringToBigNum(r);return n.isLessThan(o)}isGreaterThan(t,r){let n=this.stringToBigNum(t),o=this.stringToBigNum(r);return n.isGreaterThan(o)}add(t,r){let n=this.stringToBigNum(t);return this.stringToBigNum(r),n.plus(r).toFixed(0)}sub(t,r){let n=this.stringToBigNum(t);return this.stringToBigNum(r),n.minus(r).toFixed(0)}stringToBigNum(t,r=12){return this.BigNum(t,r)}}ar.default=Ar;var api={},axios$2={exports:{}},axios$1={exports:{}},bind$2=function e(t,r){return function(){for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];return t.apply(r,o)}},bind$1=bind$2,toString=Object.prototype.toString,kindOf=function(e){return function(t){var r=toString.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function kindOfTest(e){return e=e.toLowerCase(),function(r){return kindOf(r)===e}}function isArray(e){return Array.isArray(e)}function isUndefined(e){return typeof e>"u"}function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&isArrayBuffer(e.buffer),t}function isString(e){return typeof e=="string"}function isNumber(e){return typeof e=="number"}function isObject(e){return e!==null&&typeof e=="object"}function isPlainObject(e){if(kindOf(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList");function isFunction(e){return toString.call(e)==="[object Function]"}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isFormData(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||toString.call(e)===t||isFunction(e.toString)&&e.toString()===t)}var isURLSearchParams=kindOfTest("URLSearchParams");function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function forEach(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),isArray(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function merge(){var e={};function t(o,s){isPlainObject(e[s])&&isPlainObject(o)?e[s]=merge(e[s],o):isPlainObject(o)?e[s]=merge({},o):isArray(o)?e[s]=o.slice():e[s]=o}for(var r=0,n=arguments.length;r<n;r++)forEach(arguments[r],t);return e}function extend(e,t,r){return forEach(t,function(o,s){r&&typeof o=="function"?e[s]=bind$1(o,r):e[s]=o}),e}function stripBOM(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function inherits(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)}function toFlatObject(e,t,r){var n,o,s,w={};t=t||{};do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)s=n[o],w[s]||(t[s]=e[s],w[s]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t}function endsWith(e,t,r){e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return n!==-1&&n===r}function toArray(e){if(!e)return null;var t=e.length;if(isUndefined(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r}var isTypedArray$1=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),utils$c={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,isTypedArray:isTypedArray$1,isFileList},utils$b=utils$c;function encode$1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$1=function e(t,r,n){if(!r)return t;var o;if(n)o=n(r);else if(utils$b.isURLSearchParams(r))o=r.toString();else{var s=[];utils$b.forEach(r,function(k,P){k===null||typeof k>"u"||(utils$b.isArray(k)?P=P+"[]":k=[k],utils$b.forEach(k,function(ie){utils$b.isDate(ie)?ie=ie.toISOString():utils$b.isObject(ie)&&(ie=JSON.stringify(ie)),s.push(encode$1(P)+"="+encode$1(ie))}))}),o=s.join("&")}if(o){var w=t.indexOf("#");w!==-1&&(t=t.slice(0,w)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t},utils$a=utils$c;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function e(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function e(t){this.handlers[t]&&(this.handlers[t]=null)};InterceptorManager$1.prototype.forEach=function e(t){utils$a.forEach(this.handlers,function(n){n!==null&&t(n)})};var InterceptorManager_1=InterceptorManager$1,utils$9=utils$c,normalizeHeaderName$1=function e(t,r){utils$9.forEach(t,function(o,s){s!==r&&s.toUpperCase()===r.toUpperCase()&&(t[r]=o,delete t[s])})},utils$8=utils$c;function AxiosError$2(e,t,r,n,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}utils$8.inherits(AxiosError$2,Error,{toJSON:function e(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var prototype=AxiosError$2.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){descriptors[e]={value:e}});Object.defineProperties(AxiosError$2,descriptors);Object.defineProperty(prototype,"isAxiosError",{value:!0});AxiosError$2.from=function(e,t,r,n,o,s){var w=Object.create(prototype);return utils$8.toFlatObject(e,w,function(k){return k!==Error.prototype}),AxiosError$2.call(w,e.message,t,r,n,o),w.name=e.name,s&&Object.assign(w,s),w};var AxiosError_1=AxiosError$2,transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},utils$7=utils$c;function toFormData$1(e,t){t=t||new FormData;var r=[];function n(s){return s===null?"":utils$7.isDate(s)?s.toISOString():utils$7.isArrayBuffer(s)||utils$7.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function o(s,w){if(utils$7.isPlainObject(s)||utils$7.isArray(s)){if(r.indexOf(s)!==-1)throw Error("Circular reference detected in "+w);r.push(s),utils$7.forEach(s,function(k,P){if(!utils$7.isUndefined(k)){var q=w?w+"."+P:P,ie;if(k&&!w&&typeof k=="object"){if(utils$7.endsWith(P,"{}"))k=JSON.stringify(k);else if(utils$7.endsWith(P,"[]")&&(ie=utils$7.toArray(k))){ie.forEach(function(he){!utils$7.isUndefined(he)&&t.append(q,n(he))});return}}o(k,q)}}),r.pop()}else t.append(w,n(s))}return o(e),t}var toFormData_1=toFormData$1,settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var e=AxiosError_1;return settle=function(r,n,o){var s=o.config.validateStatus;!o.status||!s||s(o.status)?r(o):n(new e("Request failed with status code "+o.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var e=utils$c;return cookies=e.isStandardBrowserEnv()?function(){return{write:function(n,o,s,w,g,k){var P=[];P.push(n+"="+encodeURIComponent(o)),e.isNumber(s)&&P.push("expires="+new Date(s).toGMTString()),e.isString(w)&&P.push("path="+w),e.isString(g)&&P.push("domain="+g),k===!0&&P.push("secure"),document.cookie=P.join("; ")},read:function(n){var o=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL$1=function e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},combineURLs$1=function e(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function e(t,r){return t&&!isAbsoluteURL(r)?combineURLs(t,r):r},parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var e=utils$c,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(n){var o={},s,w,g;return n&&e.forEach(n.split(`
`),function(P){if(g=P.indexOf(":"),s=e.trim(P.substr(0,g)).toLowerCase(),w=e.trim(P.substr(g+1)),s){if(o[s]&&t.indexOf(s)>=0)return;s==="set-cookie"?o[s]=(o[s]?o[s]:[]).concat([w]):o[s]=o[s]?o[s]+", "+w:w}}),o},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var e=utils$c;return isURLSameOrigin=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),o;function s(w){var g=w;return r&&(n.setAttribute("href",g),g=n.href),n.setAttribute("href",g),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return o=s(window.location.href),function(g){var k=e.isString(g)?s(g):g;return k.protocol===o.protocol&&k.host===o.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var CanceledError_1,hasRequiredCanceledError;function requireCanceledError(){if(hasRequiredCanceledError)return CanceledError_1;hasRequiredCanceledError=1;var e=AxiosError_1,t=utils$c;function r(n){e.call(this,n==null?"canceled":n,e.ERR_CANCELED),this.name="CanceledError"}return t.inherits(r,e,{__CANCEL__:!0}),CanceledError_1=r,CanceledError_1}var parseProtocol,hasRequiredParseProtocol;function requireParseProtocol(){return hasRequiredParseProtocol||(hasRequiredParseProtocol=1,parseProtocol=function(t){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}),parseProtocol}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var e=utils$c,t=requireSettle(),r=requireCookies(),n=buildURL$1,o=buildFullPath$1,s=requireParseHeaders(),w=requireIsURLSameOrigin(),g=transitional,k=AxiosError_1,P=requireCanceledError(),q=requireParseProtocol();return xhr=function(he){return new Promise(function(X,L){var we=he.data,Ee=he.headers,_e=he.responseType,je;function Xt(){he.cancelToken&&he.cancelToken.unsubscribe(je),he.signal&&he.signal.removeEventListener("abort",je)}e.isFormData(we)&&e.isStandardBrowserEnv()&&delete Ee["Content-Type"];var Gt=new XMLHttpRequest;if(he.auth){var ot=he.auth.username||"",Qt=he.auth.password?unescape(encodeURIComponent(he.auth.password)):"";Ee.Authorization="Basic "+btoa(ot+":"+Qt)}var at=o(he.baseURL,he.url);Gt.open(he.method.toUpperCase(),n(at,he.params,he.paramsSerializer),!0),Gt.timeout=he.timeout;function sr(){if(!!Gt){var rn="getAllResponseHeaders"in Gt?s(Gt.getAllResponseHeaders()):null,ao=!_e||_e==="text"||_e==="json"?Gt.responseText:Gt.response,ei={data:ao,status:Gt.status,statusText:Gt.statusText,headers:rn,config:he,request:Gt};t(function(ga){X(ga),Xt()},function(ga){L(ga),Xt()},ei),Gt=null}}if("onloadend"in Gt?Gt.onloadend=sr:Gt.onreadystatechange=function(){!Gt||Gt.readyState!==4||Gt.status===0&&!(Gt.responseURL&&Gt.responseURL.indexOf("file:")===0)||setTimeout(sr)},Gt.onabort=function(){!Gt||(L(new k("Request aborted",k.ECONNABORTED,he,Gt)),Gt=null)},Gt.onerror=function(){L(new k("Network Error",k.ERR_NETWORK,he,Gt,Gt)),Gt=null},Gt.ontimeout=function(){var ao=he.timeout?"timeout of "+he.timeout+"ms exceeded":"timeout exceeded",ei=he.transitional||g;he.timeoutErrorMessage&&(ao=he.timeoutErrorMessage),L(new k(ao,ei.clarifyTimeoutError?k.ETIMEDOUT:k.ECONNABORTED,he,Gt)),Gt=null},e.isStandardBrowserEnv()){var qr=(he.withCredentials||w(at))&&he.xsrfCookieName?r.read(he.xsrfCookieName):void 0;qr&&(Ee[he.xsrfHeaderName]=qr)}"setRequestHeader"in Gt&&e.forEach(Ee,function(ao,ei){typeof we>"u"&&ei.toLowerCase()==="content-type"?delete Ee[ei]:Gt.setRequestHeader(ei,ao)}),e.isUndefined(he.withCredentials)||(Gt.withCredentials=!!he.withCredentials),_e&&_e!=="json"&&(Gt.responseType=he.responseType),typeof he.onDownloadProgress=="function"&&Gt.addEventListener("progress",he.onDownloadProgress),typeof he.onUploadProgress=="function"&&Gt.upload&&Gt.upload.addEventListener("progress",he.onUploadProgress),(he.cancelToken||he.signal)&&(je=function(rn){!Gt||(L(!rn||rn&&rn.type?new P:rn),Gt.abort(),Gt=null)},he.cancelToken&&he.cancelToken.subscribe(je),he.signal&&(he.signal.aborted?je():he.signal.addEventListener("abort",je))),we||(we=null);var Xr=q(at);if(Xr&&["http","https","file"].indexOf(Xr)===-1){L(new k("Unsupported protocol "+Xr+":",k.ERR_BAD_REQUEST,he));return}Gt.send(we)})},xhr}var _null,hasRequired_null;function require_null(){return hasRequired_null||(hasRequired_null=1,_null=null),_null}var utils$6=utils$c,normalizeHeaderName=normalizeHeaderName$1,AxiosError$1=AxiosError_1,transitionalDefaults=transitional,toFormData=toFormData_1,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!utils$6.isUndefined(e)&&utils$6.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function getDefaultAdapter(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=requireXhr()),e}function stringifySafely(e,t,r){if(utils$6.isString(e))try{return(t||JSON.parse)(e),utils$6.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var defaults$3={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function e(t,r){if(normalizeHeaderName(r,"Accept"),normalizeHeaderName(r,"Content-Type"),utils$6.isFormData(t)||utils$6.isArrayBuffer(t)||utils$6.isBuffer(t)||utils$6.isStream(t)||utils$6.isFile(t)||utils$6.isBlob(t))return t;if(utils$6.isArrayBufferView(t))return t.buffer;if(utils$6.isURLSearchParams(t))return setContentTypeIfUnset(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var n=utils$6.isObject(t),o=r&&r["Content-Type"],s;if((s=utils$6.isFileList(t))||n&&o==="multipart/form-data"){var w=this.env&&this.env.FormData;return toFormData(s?{"files[]":t}:t,w&&new w)}else if(n||o==="application/json")return setContentTypeIfUnset(r,"application/json"),stringifySafely(t);return t}],transformResponse:[function e(t){var r=this.transitional||defaults$3.transitional,n=r&&r.silentJSONParsing,o=r&&r.forcedJSONParsing,s=!n&&this.responseType==="json";if(s||o&&utils$6.isString(t)&&t.length)try{return JSON.parse(t)}catch(w){if(s)throw w.name==="SyntaxError"?AxiosError$1.from(w,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):w}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:require_null()},validateStatus:function e(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$6.forEach(["delete","get","head"],function e(t){defaults$3.headers[t]={}});utils$6.forEach(["post","put","patch"],function e(t){defaults$3.headers[t]=utils$6.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$3,utils$5=utils$c,defaults$2=defaults_1,transformData$1=function e(t,r,n){var o=this||defaults$2;return utils$5.forEach(n,function(w){t=w.call(o,t,r)}),t},isCancel$1,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel$1=function(t){return!!(t&&t.__CANCEL__)}),isCancel$1}var utils$4=utils$c,transformData=transformData$1,isCancel=requireIsCancel(),defaults$1=defaults_1,CanceledError=requireCanceledError();function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError}var dispatchRequest$1=function e(t){throwIfCancellationRequested(t),t.headers=t.headers||{},t.data=transformData.call(t,t.data,t.headers,t.transformRequest),t.headers=utils$4.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),utils$4.forEach(["delete","get","head","post","put","patch","common"],function(o){delete t.headers[o]});var r=t.adapter||defaults$1.adapter;return r(t).then(function(o){return throwIfCancellationRequested(t),o.data=transformData.call(t,o.data,o.headers,t.transformResponse),o},function(o){return isCancel(o)||(throwIfCancellationRequested(t),o&&o.response&&(o.response.data=transformData.call(t,o.response.data,o.response.headers,t.transformResponse))),Promise.reject(o)})},utils$3=utils$c,mergeConfig$2=function e(t,r){r=r||{};var n={};function o(q,ie){return utils$3.isPlainObject(q)&&utils$3.isPlainObject(ie)?utils$3.merge(q,ie):utils$3.isPlainObject(ie)?utils$3.merge({},ie):utils$3.isArray(ie)?ie.slice():ie}function s(q){if(utils$3.isUndefined(r[q])){if(!utils$3.isUndefined(t[q]))return o(void 0,t[q])}else return o(t[q],r[q])}function w(q){if(!utils$3.isUndefined(r[q]))return o(void 0,r[q])}function g(q){if(utils$3.isUndefined(r[q])){if(!utils$3.isUndefined(t[q]))return o(void 0,t[q])}else return o(void 0,r[q])}function k(q){if(q in r)return o(t[q],r[q]);if(q in t)return o(void 0,t[q])}var P={url:w,method:w,data:w,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:k};return utils$3.forEach(Object.keys(t).concat(Object.keys(r)),function(ie){var he=P[ie]||s,V=he(ie);utils$3.isUndefined(V)&&he!==k||(n[ie]=V)}),n},data,hasRequiredData;function requireData(){return hasRequiredData||(hasRequiredData=1,data={version:"0.27.2"}),data}var VERSION=requireData().version,AxiosError=AxiosError_1,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){validators$1[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var deprecatedWarnings={};validators$1.transitional=function e(t,r,n){function o(s,w){return"[Axios v"+VERSION+"] Transitional option '"+s+"'"+w+(n?". "+n:"")}return function(s,w,g){if(t===!1)throw new AxiosError(o(w," has been removed"+(r?" in "+r:"")),AxiosError.ERR_DEPRECATED);return r&&!deprecatedWarnings[w]&&(deprecatedWarnings[w]=!0,console.warn(o(w," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,w,g):!0}};function assertOptions(e,t,r){if(typeof e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),o=n.length;o-- >0;){var s=n[o],w=t[s];if(w){var g=e[s],k=g===void 0||w(g,s,e);if(k!==!0)throw new AxiosError("option "+s+" must be "+k,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError("Unknown option "+s,AxiosError.ERR_BAD_OPTION)}}var validator$1={assertOptions,validators:validators$1},utils$2=utils$c,buildURL=buildURL$1,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,buildFullPath=buildFullPath$1,validator=validator$1,validators=validator.validators;function Axios$1(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function e(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=mergeConfig$1(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&validator.assertOptions(n,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var o=[],s=!0;this.interceptors.request.forEach(function(V){typeof V.runWhen=="function"&&V.runWhen(r)===!1||(s=s&&V.synchronous,o.unshift(V.fulfilled,V.rejected))});var w=[];this.interceptors.response.forEach(function(V){w.push(V.fulfilled,V.rejected)});var g;if(!s){var k=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(k,o),k=k.concat(w),g=Promise.resolve(r);k.length;)g=g.then(k.shift(),k.shift());return g}for(var P=r;o.length;){var q=o.shift(),ie=o.shift();try{P=q(P)}catch(he){ie(he);break}}try{g=dispatchRequest(P)}catch(he){return Promise.reject(he)}for(;w.length;)g=g.then(w.shift(),w.shift());return g};Axios$1.prototype.getUri=function e(t){t=mergeConfig$1(this.defaults,t);var r=buildFullPath(t.baseURL,t.url);return buildURL(r,t.params,t.paramsSerializer)};utils$2.forEach(["delete","get","head","options"],function e(t){Axios$1.prototype[t]=function(r,n){return this.request(mergeConfig$1(n||{},{method:t,url:r,data:(n||{}).data}))}});utils$2.forEach(["post","put","patch"],function e(t){function r(n){return function(s,w,g){return this.request(mergeConfig$1(g||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:w}))}}Axios$1.prototype[t]=r(),Axios$1.prototype[t+"Form"]=r(!0)});var Axios_1=Axios$1,CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var e=requireCanceledError();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(w){n=w});var o=this;this.promise.then(function(s){if(!!o._listeners){var w,g=o._listeners.length;for(w=0;w<g;w++)o._listeners[w](s);o._listeners=null}}),this.promise.then=function(s){var w,g=new Promise(function(k){o.subscribe(k),w=k}).then(s);return g.cancel=function(){o.unsubscribe(w)},g},r(function(w){o.reason||(o.reason=new e(w),n(o.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(!!this._listeners){var o=this._listeners.indexOf(n);o!==-1&&this._listeners.splice(o,1)}},t.source=function(){var n,o=new t(function(w){n=w});return{token:o,cancel:n}},CancelToken_1=t,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(t){return function(n){return t.apply(null,n)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){if(hasRequiredIsAxiosError)return isAxiosError;hasRequiredIsAxiosError=1;var e=utils$c;return isAxiosError=function(r){return e.isObject(r)&&r.isAxiosError===!0},isAxiosError}var utils$1=utils$c,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=defaults_1;function createInstance(e){var t=new Axios(e),r=bind(Axios.prototype.request,t);return utils$1.extend(r,Axios.prototype,t),utils$1.extend(r,t),r.create=function(o){return createInstance(mergeConfig(e,o))},r}var axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=requireCanceledError();axios.CancelToken=requireCancelToken();axios.isCancel=requireIsCancel();axios.VERSION=requireData().version;axios.toFormData=toFormData_1;axios.AxiosError=AxiosError_1;axios.Cancel=axios.CanceledError;axios.all=function e(t){return Promise.all(t)};axios.spread=requireSpread();axios.isAxiosError=requireIsAxiosError();axios$1.exports=axios;axios$1.exports.default=axios;(function(e){e.exports=axios$1.exports})(axios$2);Object.defineProperty(api,"__esModule",{value:!0});const axios_1=axios$2.exports;class Api{constructor(t){this.METHOD_GET="GET",this.METHOD_POST="POST",this.applyConfig(t)}applyConfig(t){this.config=this.mergeDefaults(t)}getConfig(){return this.config}mergeDefaults(t){const r=t.protocol||"http",n=t.port||(r==="https"?443:80);return{host:t.host||"127.0.0.1",protocol:r,port:n,timeout:t.timeout||2e4,logging:t.logging||!1,logger:t.logger||console.log,network:t.network}}async get(t,r){try{return await this.request().get(t,r)}catch(n){if(n.response&&n.response.status)return n.response;throw n}}async post(t,r,n){try{return await this.request().post(t,r,n)}catch(o){if(o.response&&o.response.status)return o.response;throw o}}request(){const t={};this.config.network&&(t["x-network"]=this.config.network);let r=axios_1.default.create({baseURL:`${this.config.protocol}://${this.config.host}:${this.config.port}`,timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:t});return this.config.logging&&(r.interceptors.request.use(n=>(this.config.logger(`Requesting: ${n.baseURL}/${n.url}`),n)),r.interceptors.response.use(n=>(this.config.logger(`Response:   ${n.config.url} - ${n.status}`),n))),r}}api.default=Api;var webcryptoDriver={},utils={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function byteLength(e){var t=getLens(e),r=t[0],n=t[1];return(r+n)*3/4-n}function _byteLength(e,t,r){return(t+r)*3/4-r}function toByteArray(e){var t,r=getLens(e),n=r[0],o=r[1],s=new Arr(_byteLength(e,n,o)),w=0,g=o>0?n-4:n,k;for(k=0;k<g;k+=4)t=revLookup[e.charCodeAt(k)]<<18|revLookup[e.charCodeAt(k+1)]<<12|revLookup[e.charCodeAt(k+2)]<<6|revLookup[e.charCodeAt(k+3)],s[w++]=t>>16&255,s[w++]=t>>8&255,s[w++]=t&255;return o===2&&(t=revLookup[e.charCodeAt(k)]<<2|revLookup[e.charCodeAt(k+1)]>>4,s[w++]=t&255),o===1&&(t=revLookup[e.charCodeAt(k)]<<10|revLookup[e.charCodeAt(k+1)]<<4|revLookup[e.charCodeAt(k+2)]>>2,s[w++]=t>>8&255,s[w++]=t&255),s}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[e&63]}function encodeChunk(e,t,r){for(var n,o=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),o.push(tripletToBase64(n));return o.join("")}function fromByteArray(e){for(var t,r=e.length,n=r%3,o=[],s=16383,w=0,g=r-n;w<g;w+=s)o.push(encodeChunk(e,w,w+s>g?g:w+s));return n===1?(t=e[r-1],o.push(lookup[t>>2]+lookup[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],o.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")),o.join("")}var util={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var w=Object.getOwnPropertyDescriptor(t,r);if(w.value!==o||w.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var e=requireShams$1();return shams=function(){return e()&&!!Symbol.toStringTag},shams}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var e=typeof Symbol<"u"&&Symbol,t=requireShams$1();return hasSymbols=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},hasSymbols}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var e="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,r=Object.prototype.toString,n="[object Function]";return implementation=function(s){var w=this;if(typeof w!="function"||r.call(w)!==n)throw new TypeError(e+w);for(var g=t.call(arguments,1),k,P=function(){if(this instanceof k){var X=w.apply(this,g.concat(t.call(arguments)));return Object(X)===X?X:this}else return w.apply(s,g.concat(t.call(arguments)))},q=Math.max(0,w.length-g.length),ie=[],he=0;he<q;he++)ie.push("$"+he);if(k=Function("binder","return function ("+ie.join(",")+"){ return binder.apply(this,arguments); }")(P),w.prototype){var V=function(){};V.prototype=w.prototype,k.prototype=new V,V.prototype=null}return k},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var e=requireImplementation();return functionBind=Function.prototype.bind||e,functionBind}var src,hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src;hasRequiredSrc=1;var e=requireFunctionBind();return src=e.call(Function.call,Object.prototype.hasOwnProperty),src}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var e,t=SyntaxError,r=Function,n=TypeError,o=function(qr){try{return r('"use strict"; return ('+qr+").constructor;")()}catch{}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch{s=null}var w=function(){throw new n},g=s?function(){try{return arguments.callee,w}catch{try{return s(arguments,"callee").get}catch{return w}}}():w,k=requireHasSymbols()(),P=Object.getPrototypeOf||function(qr){return qr.__proto__},q={},ie=typeof Uint8Array>"u"?e:P(Uint8Array),he={"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":k?P([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":q,"%AsyncGenerator%":q,"%AsyncGeneratorFunction%":q,"%AsyncIteratorPrototype%":q,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":q,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k?P(P([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!k?e:P(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!k?e:P(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k?P(""[Symbol.iterator]()):e,"%Symbol%":k?Symbol:e,"%SyntaxError%":t,"%ThrowTypeError%":g,"%TypedArray%":ie,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet},V=function qr(Xr){var rn;if(Xr==="%AsyncFunction%")rn=o("async function () {}");else if(Xr==="%GeneratorFunction%")rn=o("function* () {}");else if(Xr==="%AsyncGeneratorFunction%")rn=o("async function* () {}");else if(Xr==="%AsyncGenerator%"){var ao=qr("%AsyncGeneratorFunction%");ao&&(rn=ao.prototype)}else if(Xr==="%AsyncIteratorPrototype%"){var ei=qr("%AsyncGenerator%");ei&&(rn=P(ei.prototype))}return he[Xr]=rn,rn},X={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},L=requireFunctionBind(),we=requireSrc(),Ee=L.call(Function.call,Array.prototype.concat),_e=L.call(Function.apply,Array.prototype.splice),je=L.call(Function.call,String.prototype.replace),Xt=L.call(Function.call,String.prototype.slice),Gt=L.call(Function.call,RegExp.prototype.exec),ot=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Qt=/\\(\\)?/g,at=function(Xr){var rn=Xt(Xr,0,1),ao=Xt(Xr,-1);if(rn==="%"&&ao!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(ao==="%"&&rn!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var ei=[];return je(Xr,ot,function(aa,ga,Ca,wo){ei[ei.length]=Ca?je(wo,Qt,"$1"):ga||aa}),ei},sr=function(Xr,rn){var ao=Xr,ei;if(we(X,ao)&&(ei=X[ao],ao="%"+ei[0]+"%"),we(he,ao)){var aa=he[ao];if(aa===q&&(aa=V(ao)),typeof aa>"u"&&!rn)throw new n("intrinsic "+Xr+" exists, but is not available. Please file an issue!");return{alias:ei,name:ao,value:aa}}throw new t("intrinsic "+Xr+" does not exist!")};return getIntrinsic=function(Xr,rn){if(typeof Xr!="string"||Xr.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof rn!="boolean")throw new n('"allowMissing" argument must be a boolean');if(Gt(/^%?[^%]*%?$/g,Xr)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ao=at(Xr),ei=ao.length>0?ao[0]:"",aa=sr("%"+ei+"%",rn),ga=aa.name,Ca=aa.value,wo=!1,Ka=aa.alias;Ka&&(ei=Ka[0],_e(ao,Ee([0,1],Ka)));for(var Js=1,ia=!0;Js<ao.length;Js+=1){var ir=ao[Js],Hr=Xt(ir,0,1),Fr=Xt(ir,-1);if((Hr==='"'||Hr==="'"||Hr==="`"||Fr==='"'||Fr==="'"||Fr==="`")&&Hr!==Fr)throw new t("property names with quotes must have matching quotes");if((ir==="constructor"||!ia)&&(wo=!0),ei+="."+ir,ga="%"+ei+"%",we(he,ga))Ca=he[ga];else if(Ca!=null){if(!(ir in Ca)){if(!rn)throw new n("base intrinsic for "+Xr+" exists, but the property is not available.");return}if(s&&Js+1>=ao.length){var Ei=s(Ca,ir);ia=!!Ei,ia&&"get"in Ei&&!("originalValue"in Ei.get)?Ca=Ei.get:Ca=Ca[ir]}else ia=we(Ca,ir),Ca=Ca[ir];ia&&!wo&&(he[ga]=Ca)}}return Ca},getIntrinsic}var callBind={exports:{}},hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(e){var t=requireFunctionBind(),r=requireGetIntrinsic(),n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||t.call(o,n),w=r("%Object.getOwnPropertyDescriptor%",!0),g=r("%Object.defineProperty%",!0),k=r("%Math.max%");if(g)try{g({},"a",{value:1})}catch{g=null}e.exports=function(ie){var he=s(t,o,arguments);if(w&&g){var V=w(he,"length");V.configurable&&g(he,"length",{value:1+k(0,ie.length-(arguments.length-1))})}return he};var P=function(){return s(t,n,arguments)};g?g(e.exports,"apply",{value:P}):e.exports.apply=P}(callBind)),callBind.exports}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var e=requireGetIntrinsic(),t=requireCallBind(),r=t(e("String.prototype.indexOf"));return callBound=function(o,s){var w=e(o,!!s);return typeof w=="function"&&r(o,".prototype.")>-1?t(w):w},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var e=requireShams()(),t=requireCallBound(),r=t("Object.prototype.toString"),n=function(g){return e&&g&&typeof g=="object"&&Symbol.toStringTag in g?!1:r(g)==="[object Arguments]"},o=function(g){return n(g)?!0:g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&r(g)!=="[object Array]"&&r(g.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=o,isArguments=s?n:o,isArguments}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=requireShams()(),o=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},w;return isGeneratorFunction=function(k){if(typeof k!="function")return!1;if(r.test(t.call(k)))return!0;if(!n){var P=e.call(k);return P==="[object GeneratorFunction]"}if(!o)return!1;if(typeof w>"u"){var q=s();w=q?o(q):!1}return o(k)===w},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(he){he!==n&&(t=null)}else t=null;var o=/^\s*class\b/,s=function(V){try{var X=e.call(V);return o.test(X)}catch{return!1}},w=function(V){try{return s(V)?!1:(e.call(V),!0)}catch{return!1}},g=Object.prototype.toString,k="[object Function]",P="[object GeneratorFunction]",q=typeof Symbol=="function"&&!!Symbol.toStringTag,ie=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{};return isCallable=t?function(V){if(V===ie)return!0;if(!V||typeof V!="function"&&typeof V!="object")return!1;if(typeof V=="function"&&!V.prototype)return!0;try{t(V,null,r)}catch(X){if(X!==n)return!1}return!s(V)}:function(V){if(V===ie)return!0;if(!V||typeof V!="function"&&typeof V!="object")return!1;if(typeof V=="function"&&!V.prototype)return!0;if(q)return w(V);if(s(V))return!1;var X=g.call(V);return X===k||X===P},isCallable}var forEach_1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var e=requireIsCallable(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(k,P,q){for(var ie=0,he=k.length;ie<he;ie++)r.call(k,ie)&&(q==null?P(k[ie],ie,k):P.call(q,k[ie],ie,k))},o=function(k,P,q){for(var ie=0,he=k.length;ie<he;ie++)q==null?P(k.charAt(ie),ie,k):P.call(q,k.charAt(ie),ie,k)},s=function(k,P,q){for(var ie in k)r.call(k,ie)&&(q==null?P(k[ie],ie,k):P.call(q,k[ie],ie,k))},w=function(k,P,q){if(!e(P))throw new TypeError("iterator must be a function");var ie;arguments.length>=3&&(ie=q),t.call(k)==="[object Array]"?n(k,P,ie):typeof k=="string"?o(k,P,ie):s(k,P,ie)};return forEach_1=w,forEach_1}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var e=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],t=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var n=[],o=0;o<e.length;o++)typeof t[e[o]]=="function"&&(n[n.length]=e[o]);return n},availableTypedArrays}var getOwnPropertyDescriptor,hasRequiredGetOwnPropertyDescriptor;function requireGetOwnPropertyDescriptor(){if(hasRequiredGetOwnPropertyDescriptor)return getOwnPropertyDescriptor;hasRequiredGetOwnPropertyDescriptor=1;var e=requireGetIntrinsic(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return getOwnPropertyDescriptor=t,getOwnPropertyDescriptor}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var e=requireForEach(),t=requireAvailableTypedArrays(),r=requireCallBound(),n=r("Object.prototype.toString"),o=requireShams()(),s=typeof globalThis>"u"?commonjsGlobal:globalThis,w=t(),g=r("Array.prototype.indexOf",!0)||function(X,L){for(var we=0;we<X.length;we+=1)if(X[we]===L)return we;return-1},k=r("String.prototype.slice"),P={},q=requireGetOwnPropertyDescriptor(),ie=Object.getPrototypeOf;o&&q&&ie&&e(w,function(V){var X=new s[V];if(Symbol.toStringTag in X){var L=ie(X),we=q(L,Symbol.toStringTag);if(!we){var Ee=ie(L);we=q(Ee,Symbol.toStringTag)}P[V]=we.get}});var he=function(X){var L=!1;return e(P,function(we,Ee){if(!L)try{L=we.call(X)===Ee}catch{}}),L};return isTypedArray=function(X){if(!X||typeof X!="object")return!1;if(!o||!(Symbol.toStringTag in X)){var L=k(n(X),8,-1);return g(w,L)>-1}return q?he(X):!1},isTypedArray}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var e=requireForEach(),t=requireAvailableTypedArrays(),r=requireCallBound(),n=r("Object.prototype.toString"),o=requireShams()(),s=typeof globalThis>"u"?commonjsGlobal:globalThis,w=t(),g=r("String.prototype.slice"),k={},P=requireGetOwnPropertyDescriptor(),q=Object.getPrototypeOf;o&&P&&q&&e(w,function(V){if(typeof s[V]=="function"){var X=new s[V];if(Symbol.toStringTag in X){var L=q(X),we=P(L,Symbol.toStringTag);if(!we){var Ee=q(L);we=P(Ee,Symbol.toStringTag)}k[V]=we.get}}});var ie=function(X){var L=!1;return e(k,function(we,Ee){if(!L)try{var _e=we.call(X);_e===Ee&&(L=_e)}catch{}}),L},he=requireIsTypedArray();return whichTypedArray=function(X){return he(X)?!o||!(Symbol.toStringTag in X)?g(n(X),8,-1):ie(X):!1},whichTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(e){var t=requireIsArguments(),r=requireIsGeneratorFunction(),n=requireWhichTypedArray(),o=requireIsTypedArray();function s(tr){return tr.call.bind(tr)}var w=typeof BigInt<"u",g=typeof Symbol<"u",k=s(Object.prototype.toString),P=s(Number.prototype.valueOf),q=s(String.prototype.valueOf),ie=s(Boolean.prototype.valueOf);if(w)var he=s(BigInt.prototype.valueOf);if(g)var V=s(Symbol.prototype.valueOf);function X(tr,yo){if(typeof tr!="object")return!1;try{return yo(tr),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=o;function L(tr){return typeof Promise<"u"&&tr instanceof Promise||tr!==null&&typeof tr=="object"&&typeof tr.then=="function"&&typeof tr.catch=="function"}e.isPromise=L;function we(tr){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(tr):o(tr)||Hr(tr)}e.isArrayBufferView=we;function Ee(tr){return n(tr)==="Uint8Array"}e.isUint8Array=Ee;function _e(tr){return n(tr)==="Uint8ClampedArray"}e.isUint8ClampedArray=_e;function je(tr){return n(tr)==="Uint16Array"}e.isUint16Array=je;function Xt(tr){return n(tr)==="Uint32Array"}e.isUint32Array=Xt;function Gt(tr){return n(tr)==="Int8Array"}e.isInt8Array=Gt;function ot(tr){return n(tr)==="Int16Array"}e.isInt16Array=ot;function Qt(tr){return n(tr)==="Int32Array"}e.isInt32Array=Qt;function at(tr){return n(tr)==="Float32Array"}e.isFloat32Array=at;function sr(tr){return n(tr)==="Float64Array"}e.isFloat64Array=sr;function qr(tr){return n(tr)==="BigInt64Array"}e.isBigInt64Array=qr;function Xr(tr){return n(tr)==="BigUint64Array"}e.isBigUint64Array=Xr;function rn(tr){return k(tr)==="[object Map]"}rn.working=typeof Map<"u"&&rn(new Map);function ao(tr){return typeof Map>"u"?!1:rn.working?rn(tr):tr instanceof Map}e.isMap=ao;function ei(tr){return k(tr)==="[object Set]"}ei.working=typeof Set<"u"&&ei(new Set);function aa(tr){return typeof Set>"u"?!1:ei.working?ei(tr):tr instanceof Set}e.isSet=aa;function ga(tr){return k(tr)==="[object WeakMap]"}ga.working=typeof WeakMap<"u"&&ga(new WeakMap);function Ca(tr){return typeof WeakMap>"u"?!1:ga.working?ga(tr):tr instanceof WeakMap}e.isWeakMap=Ca;function wo(tr){return k(tr)==="[object WeakSet]"}wo.working=typeof WeakSet<"u"&&wo(new WeakSet);function Ka(tr){return wo(tr)}e.isWeakSet=Ka;function Js(tr){return k(tr)==="[object ArrayBuffer]"}Js.working=typeof ArrayBuffer<"u"&&Js(new ArrayBuffer);function ia(tr){return typeof ArrayBuffer>"u"?!1:Js.working?Js(tr):tr instanceof ArrayBuffer}e.isArrayBuffer=ia;function ir(tr){return k(tr)==="[object DataView]"}ir.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ir(new DataView(new ArrayBuffer(1),0,1));function Hr(tr){return typeof DataView>"u"?!1:ir.working?ir(tr):tr instanceof DataView}e.isDataView=Hr;var Fr=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Ei(tr){return k(tr)==="[object SharedArrayBuffer]"}function ba(tr){return typeof Fr>"u"?!1:(typeof Ei.working>"u"&&(Ei.working=Ei(new Fr)),Ei.working?Ei(tr):tr instanceof Fr)}e.isSharedArrayBuffer=ba;function Ea(tr){return k(tr)==="[object AsyncFunction]"}e.isAsyncFunction=Ea;function Kr(tr){return k(tr)==="[object Map Iterator]"}e.isMapIterator=Kr;function Zr(tr){return k(tr)==="[object Set Iterator]"}e.isSetIterator=Zr;function st(tr){return k(tr)==="[object Generator]"}e.isGeneratorObject=st;function vr(tr){return k(tr)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=vr;function Pr(tr){return X(tr,P)}e.isNumberObject=Pr;function Wt(tr){return X(tr,q)}e.isStringObject=Wt;function it(tr){return X(tr,ie)}e.isBooleanObject=it;function Yr(tr){return w&&X(tr,he)}e.isBigIntObject=Yr;function en(tr){return g&&X(tr,V)}e.isSymbolObject=en;function Qr(tr){return Pr(tr)||Wt(tr)||it(tr)||Yr(tr)||en(tr)}e.isBoxedPrimitive=Qr;function tn(tr){return typeof Uint8Array<"u"&&(ia(tr)||ba(tr))}e.isAnyArrayBuffer=tn,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(tr){Object.defineProperty(e,tr,{enumerable:!1,value:function(){throw new Error(tr+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),isBufferBrowser}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),inherits_browser.exports}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(e){var t=Object.getOwnPropertyDescriptors||function(Hr){for(var Fr=Object.keys(Hr),Ei={},ba=0;ba<Fr.length;ba++)Ei[Fr[ba]]=Object.getOwnPropertyDescriptor(Hr,Fr[ba]);return Ei},r=/%[sdj%]/g;e.format=function(ir){if(!Gt(ir)){for(var Hr=[],Fr=0;Fr<arguments.length;Fr++)Hr.push(w(arguments[Fr]));return Hr.join(" ")}for(var Fr=1,Ei=arguments,ba=Ei.length,Ea=String(ir).replace(r,function(Zr){if(Zr==="%%")return"%";if(Fr>=ba)return Zr;switch(Zr){case"%s":return String(Ei[Fr++]);case"%d":return Number(Ei[Fr++]);case"%j":try{return JSON.stringify(Ei[Fr++])}catch{return"[Circular]"}default:return Zr}}),Kr=Ei[Fr];Fr<ba;Kr=Ei[++Fr])_e(Kr)||!sr(Kr)?Ea+=" "+Kr:Ea+=" "+w(Kr);return Ea},e.deprecate=function(ir,Hr){if(typeof process<"u"&&process.noDeprecation===!0)return ir;if(typeof process>"u")return function(){return e.deprecate(ir,Hr).apply(this,arguments)};var Fr=!1;function Ei(){if(!Fr){if(process.throwDeprecation)throw new Error(Hr);process.traceDeprecation?console.trace(Hr):console.error(Hr),Fr=!0}return ir.apply(this,arguments)}return Ei};var n={},o=/^$/;if(process.env.NODE_DEBUG){var s=process.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+s+"$","i")}e.debuglog=function(ir){if(ir=ir.toUpperCase(),!n[ir])if(o.test(ir)){var Hr=process.pid;n[ir]=function(){var Fr=e.format.apply(e,arguments);console.error("%s %d: %s",ir,Hr,Fr)}}else n[ir]=function(){};return n[ir]};function w(ir,Hr){var Fr={seen:[],stylize:k};return arguments.length>=3&&(Fr.depth=arguments[2]),arguments.length>=4&&(Fr.colors=arguments[3]),Ee(Hr)?Fr.showHidden=Hr:Hr&&e._extend(Fr,Hr),Qt(Fr.showHidden)&&(Fr.showHidden=!1),Qt(Fr.depth)&&(Fr.depth=2),Qt(Fr.colors)&&(Fr.colors=!1),Qt(Fr.customInspect)&&(Fr.customInspect=!0),Fr.colors&&(Fr.stylize=g),q(Fr,ir,Fr.depth)}e.inspect=w,w.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},w.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function g(ir,Hr){var Fr=w.styles[Hr];return Fr?"\x1B["+w.colors[Fr][0]+"m"+ir+"\x1B["+w.colors[Fr][1]+"m":ir}function k(ir,Hr){return ir}function P(ir){var Hr={};return ir.forEach(function(Fr,Ei){Hr[Fr]=!0}),Hr}function q(ir,Hr,Fr){if(ir.customInspect&&Hr&&rn(Hr.inspect)&&Hr.inspect!==e.inspect&&!(Hr.constructor&&Hr.constructor.prototype===Hr)){var Ei=Hr.inspect(Fr,ir);return Gt(Ei)||(Ei=q(ir,Ei,Fr)),Ei}var ba=ie(ir,Hr);if(ba)return ba;var Ea=Object.keys(Hr),Kr=P(Ea);if(ir.showHidden&&(Ea=Object.getOwnPropertyNames(Hr)),Xr(Hr)&&(Ea.indexOf("message")>=0||Ea.indexOf("description")>=0))return he(Hr);if(Ea.length===0){if(rn(Hr)){var Zr=Hr.name?": "+Hr.name:"";return ir.stylize("[Function"+Zr+"]","special")}if(at(Hr))return ir.stylize(RegExp.prototype.toString.call(Hr),"regexp");if(qr(Hr))return ir.stylize(Date.prototype.toString.call(Hr),"date");if(Xr(Hr))return he(Hr)}var st="",vr=!1,Pr=["{","}"];if(we(Hr)&&(vr=!0,Pr=["[","]"]),rn(Hr)){var Wt=Hr.name?": "+Hr.name:"";st=" [Function"+Wt+"]"}if(at(Hr)&&(st=" "+RegExp.prototype.toString.call(Hr)),qr(Hr)&&(st=" "+Date.prototype.toUTCString.call(Hr)),Xr(Hr)&&(st=" "+he(Hr)),Ea.length===0&&(!vr||Hr.length==0))return Pr[0]+st+Pr[1];if(Fr<0)return at(Hr)?ir.stylize(RegExp.prototype.toString.call(Hr),"regexp"):ir.stylize("[Object]","special");ir.seen.push(Hr);var it;return vr?it=V(ir,Hr,Fr,Kr,Ea):it=Ea.map(function(Yr){return X(ir,Hr,Fr,Kr,Yr,vr)}),ir.seen.pop(),L(it,st,Pr)}function ie(ir,Hr){if(Qt(Hr))return ir.stylize("undefined","undefined");if(Gt(Hr)){var Fr="'"+JSON.stringify(Hr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ir.stylize(Fr,"string")}if(Xt(Hr))return ir.stylize(""+Hr,"number");if(Ee(Hr))return ir.stylize(""+Hr,"boolean");if(_e(Hr))return ir.stylize("null","null")}function he(ir){return"["+Error.prototype.toString.call(ir)+"]"}function V(ir,Hr,Fr,Ei,ba){for(var Ea=[],Kr=0,Zr=Hr.length;Kr<Zr;++Kr)wo(Hr,String(Kr))?Ea.push(X(ir,Hr,Fr,Ei,String(Kr),!0)):Ea.push("");return ba.forEach(function(st){st.match(/^\d+$/)||Ea.push(X(ir,Hr,Fr,Ei,st,!0))}),Ea}function X(ir,Hr,Fr,Ei,ba,Ea){var Kr,Zr,st;if(st=Object.getOwnPropertyDescriptor(Hr,ba)||{value:Hr[ba]},st.get?st.set?Zr=ir.stylize("[Getter/Setter]","special"):Zr=ir.stylize("[Getter]","special"):st.set&&(Zr=ir.stylize("[Setter]","special")),wo(Ei,ba)||(Kr="["+ba+"]"),Zr||(ir.seen.indexOf(st.value)<0?(_e(Fr)?Zr=q(ir,st.value,null):Zr=q(ir,st.value,Fr-1),Zr.indexOf(`
`)>-1&&(Ea?Zr=Zr.split(`
`).map(function(vr){return"  "+vr}).join(`
`).substr(2):Zr=`
`+Zr.split(`
`).map(function(vr){return"   "+vr}).join(`
`))):Zr=ir.stylize("[Circular]","special")),Qt(Kr)){if(Ea&&ba.match(/^\d+$/))return Zr;Kr=JSON.stringify(""+ba),Kr.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Kr=Kr.substr(1,Kr.length-2),Kr=ir.stylize(Kr,"name")):(Kr=Kr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Kr=ir.stylize(Kr,"string"))}return Kr+": "+Zr}function L(ir,Hr,Fr){var Ei=ir.reduce(function(ba,Ea){return Ea.indexOf(`
`)>=0,ba+Ea.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ei>60?Fr[0]+(Hr===""?"":Hr+`
 `)+" "+ir.join(`,
  `)+" "+Fr[1]:Fr[0]+Hr+" "+ir.join(", ")+" "+Fr[1]}e.types=requireTypes();function we(ir){return Array.isArray(ir)}e.isArray=we;function Ee(ir){return typeof ir=="boolean"}e.isBoolean=Ee;function _e(ir){return ir===null}e.isNull=_e;function je(ir){return ir==null}e.isNullOrUndefined=je;function Xt(ir){return typeof ir=="number"}e.isNumber=Xt;function Gt(ir){return typeof ir=="string"}e.isString=Gt;function ot(ir){return typeof ir=="symbol"}e.isSymbol=ot;function Qt(ir){return ir===void 0}e.isUndefined=Qt;function at(ir){return sr(ir)&&ei(ir)==="[object RegExp]"}e.isRegExp=at,e.types.isRegExp=at;function sr(ir){return typeof ir=="object"&&ir!==null}e.isObject=sr;function qr(ir){return sr(ir)&&ei(ir)==="[object Date]"}e.isDate=qr,e.types.isDate=qr;function Xr(ir){return sr(ir)&&(ei(ir)==="[object Error]"||ir instanceof Error)}e.isError=Xr,e.types.isNativeError=Xr;function rn(ir){return typeof ir=="function"}e.isFunction=rn;function ao(ir){return ir===null||typeof ir=="boolean"||typeof ir=="number"||typeof ir=="string"||typeof ir=="symbol"||typeof ir>"u"}e.isPrimitive=ao,e.isBuffer=requireIsBufferBrowser();function ei(ir){return Object.prototype.toString.call(ir)}function aa(ir){return ir<10?"0"+ir.toString(10):ir.toString(10)}var ga=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ca(){var ir=new Date,Hr=[aa(ir.getHours()),aa(ir.getMinutes()),aa(ir.getSeconds())].join(":");return[ir.getDate(),ga[ir.getMonth()],Hr].join(" ")}e.log=function(){console.log("%s - %s",Ca(),e.format.apply(e,arguments))},e.inherits=requireInherits_browser(),e._extend=function(ir,Hr){if(!Hr||!sr(Hr))return ir;for(var Fr=Object.keys(Hr),Ei=Fr.length;Ei--;)ir[Fr[Ei]]=Hr[Fr[Ei]];return ir};function wo(ir,Hr){return Object.prototype.hasOwnProperty.call(ir,Hr)}var Ka=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(Hr){if(typeof Hr!="function")throw new TypeError('The "original" argument must be of type Function');if(Ka&&Hr[Ka]){var Fr=Hr[Ka];if(typeof Fr!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Fr,Ka,{value:Fr,enumerable:!1,writable:!1,configurable:!0}),Fr}function Fr(){for(var Ei,ba,Ea=new Promise(function(st,vr){Ei=st,ba=vr}),Kr=[],Zr=0;Zr<arguments.length;Zr++)Kr.push(arguments[Zr]);Kr.push(function(st,vr){st?ba(st):Ei(vr)});try{Hr.apply(this,Kr)}catch(st){ba(st)}return Ea}return Object.setPrototypeOf(Fr,Object.getPrototypeOf(Hr)),Ka&&Object.defineProperty(Fr,Ka,{value:Fr,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Fr,t(Hr))},e.promisify.custom=Ka;function Js(ir,Hr){if(!ir){var Fr=new Error("Promise was rejected with a falsy value");Fr.reason=ir,ir=Fr}return Hr(ir)}function ia(ir){if(typeof ir!="function")throw new TypeError('The "original" argument must be of type Function');function Hr(){for(var Fr=[],Ei=0;Ei<arguments.length;Ei++)Fr.push(arguments[Ei]);var ba=Fr.pop();if(typeof ba!="function")throw new TypeError("The last argument must be of type Function");var Ea=this,Kr=function(){return ba.apply(Ea,arguments)};ir.apply(this,Fr).then(function(Zr){process.nextTick(Kr.bind(null,null,Zr))},function(Zr){process.nextTick(Js.bind(null,Zr,Kr))})}return Object.setPrototypeOf(Hr,Object.getPrototypeOf(ir)),Object.defineProperties(Hr,t(ir)),Hr}e.callbackify=ia}(util)),util}Object.defineProperty(utils,"__esModule",{value:!0});utils.b64UrlDecode=utils.b64UrlEncode=utils.bufferTob64Url=utils.bufferTob64=utils.b64UrlToBuffer=utils.stringToB64Url=utils.stringToBuffer=utils.bufferToString=utils.b64UrlToString=utils.concatBuffers=void 0;const B64js=base64Js;function concatBuffers(e){let t=0;for(let o=0;o<e.length;o++)t+=e[o].byteLength;let r=new Uint8Array(t),n=0;r.set(new Uint8Array(e[0]),n),n+=e[0].byteLength;for(let o=1;o<e.length;o++)r.set(new Uint8Array(e[o]),n),n+=e[o].byteLength;return r}utils.concatBuffers=concatBuffers;function b64UrlToString(e){let t=b64UrlToBuffer(e);return bufferToString(t)}utils.b64UrlToString=b64UrlToString;function bufferToString(e){if(typeof TextDecoder>"u"){const t=requireUtil().TextDecoder;return new t("utf-8",{fatal:!0}).decode(e)}return new TextDecoder("utf-8",{fatal:!0}).decode(e)}utils.bufferToString=bufferToString;function stringToBuffer(e){if(typeof TextEncoder>"u"){const t=requireUtil().TextEncoder;return new t().encode(e)}return new TextEncoder().encode(e)}utils.stringToBuffer=stringToBuffer;function stringToB64Url(e){return bufferTob64Url(stringToBuffer(e))}utils.stringToB64Url=stringToB64Url;function b64UrlToBuffer(e){return new Uint8Array(B64js.toByteArray(b64UrlDecode(e)))}utils.b64UrlToBuffer=b64UrlToBuffer;function bufferTob64(e){return B64js.fromByteArray(new Uint8Array(e))}utils.bufferTob64=bufferTob64;function bufferTob64Url(e){return b64UrlEncode(bufferTob64(e))}utils.bufferTob64Url=bufferTob64Url;function b64UrlEncode(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}utils.b64UrlEncode=b64UrlEncode;function b64UrlDecode(e){e=e.replace(/\-/g,"+").replace(/\_/g,"/");let t;return e.length%4==0?t=0:t=4-e.length%4,e.concat("=".repeat(t))}utils.b64UrlDecode=b64UrlDecode;Object.defineProperty(webcryptoDriver,"__esModule",{value:!0});const ArweaveUtils$3=utils;class WebCryptoDriver{constructor(){if(this.keyLength=4096,this.publicExponent=65537,this.hashAlgorithm="sha256",!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let t=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),r=await this.driver.exportKey("jwk",t.privateKey);return{kty:r.kty,e:r.e,n:r.n,d:r.d,p:r.p,q:r.q,dp:r.dp,dq:r.dq,qi:r.qi}}async sign(t,r,{saltLength:n}={}){let o=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(t),r);return new Uint8Array(o)}async hash(t,r="SHA-256"){let n=await this.driver.digest(r,t);return new Uint8Array(n)}async verify(t,r,n){const o={kty:"RSA",e:"AQAB",n:t},s=await this.jwkToPublicCryptoKey(o),w=this.driver.verify({name:"RSA-PSS",saltLength:32},s,n,r),g=this.driver.verify({name:"RSA-PSS",saltLength:0},s,n,r);return w||g}async jwkToCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;const t=crypto==null?void 0:crypto.subtle;return t===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(n=>typeof t[n]=="function")}async encrypt(t,r,n){const o=await this.driver.importKey("raw",typeof r=="string"?ArweaveUtils$3.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),s=await this.driver.deriveKey({name:"PBKDF2",salt:n?ArweaveUtils$3.stringToBuffer(n):ArweaveUtils$3.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},o,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),w=new Uint8Array(16);crypto.getRandomValues(w);const g=await this.driver.encrypt({name:"AES-CBC",iv:w},s,t);return ArweaveUtils$3.concatBuffers([w,g])}async decrypt(t,r,n){const o=await this.driver.importKey("raw",typeof r=="string"?ArweaveUtils$3.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),s=await this.driver.deriveKey({name:"PBKDF2",salt:n?ArweaveUtils$3.stringToBuffer(n):ArweaveUtils$3.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},o,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),w=t.slice(0,16),g=await this.driver.decrypt({name:"AES-CBC",iv:w},s,t.slice(16));return ArweaveUtils$3.concatBuffers([g])}}webcryptoDriver.default=WebCryptoDriver;var network={};Object.defineProperty(network,"__esModule",{value:!0});class Network{constructor(t){this.api=t}getInfo(){return this.api.get("info").then(t=>t.data)}getPeers(){return this.api.get("peers").then(t=>t.data)}}network.default=Network;var transactions={},error={};Object.defineProperty(error,"__esModule",{value:!0});error.getError=void 0;class ArweaveError extends Error{constructor(t,r={}){r.message?super(r.message):super(),this.type=t,this.response=r.response}getType(){return this.type}}error.default=ArweaveError;function getError(e){let t=e.data;if(typeof e.data=="string")try{t=JSON.parse(e.data)}catch{}if(e.data instanceof ArrayBuffer||e.data instanceof Uint8Array)try{t=JSON.parse(t.toString())}catch{}return t?t.error||t:e.statusText||"unknown"}error.getError=getError;var transaction$1={},deepHash={},hasRequiredDeepHash;function requireDeepHash(){if(hasRequiredDeepHash)return deepHash;hasRequiredDeepHash=1,Object.defineProperty(deepHash,"__esModule",{value:!0});const e=requireCommon();async function t(n){if(Array.isArray(n)){const w=e.default.utils.concatBuffers([e.default.utils.stringToBuffer("list"),e.default.utils.stringToBuffer(n.length.toString())]);return await r(n,await e.default.crypto.hash(w,"SHA-384"))}const o=e.default.utils.concatBuffers([e.default.utils.stringToBuffer("blob"),e.default.utils.stringToBuffer(n.byteLength.toString())]),s=e.default.utils.concatBuffers([await e.default.crypto.hash(o,"SHA-384"),await e.default.crypto.hash(n,"SHA-384")]);return await e.default.crypto.hash(s,"SHA-384")}deepHash.default=t;async function r(n,o){if(n.length<1)return o;const s=e.default.utils.concatBuffers([o,await t(n[0])]),w=await e.default.crypto.hash(s,"SHA-384");return await r(n.slice(1),w)}return deepHash}var merkle={},hasRequiredMerkle;function requireMerkle(){return hasRequiredMerkle||(hasRequiredMerkle=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.validatePath=e.arrayCompare=e.bufferToInt=e.intToBuffer=e.arrayFlatten=e.generateProofs=e.buildLayers=e.generateTransactionChunks=e.generateTree=e.computeRootHash=e.generateLeaves=e.chunkData=e.MIN_CHUNK_SIZE=e.MAX_CHUNK_SIZE=void 0;const t=requireCommon(),r=utils;e.MAX_CHUNK_SIZE=256*1024,e.MIN_CHUNK_SIZE=32*1024;const n=32,o=32;async function s(Gt){let ot=[],Qt=Gt,at=0;for(;Qt.byteLength>=e.MAX_CHUNK_SIZE;){let sr=e.MAX_CHUNK_SIZE,qr=Qt.byteLength-e.MAX_CHUNK_SIZE;qr>0&&qr<e.MIN_CHUNK_SIZE&&(sr=Math.ceil(Qt.byteLength/2));const Xr=Qt.slice(0,sr),rn=await t.default.crypto.hash(Xr);at+=Xr.byteLength,ot.push({dataHash:rn,minByteRange:at-Xr.byteLength,maxByteRange:at}),Qt=Qt.slice(sr)}return ot.push({dataHash:await t.default.crypto.hash(Qt),minByteRange:at,maxByteRange:at+Qt.byteLength}),ot}e.chunkData=s;async function w(Gt){return Promise.all(Gt.map(async({dataHash:ot,minByteRange:Qt,maxByteRange:at})=>({type:"leaf",id:await L(await Promise.all([L(ot),L(we(at))])),dataHash:ot,minByteRange:Qt,maxByteRange:at})))}e.generateLeaves=w;async function g(Gt){return(await k(Gt)).id}e.computeRootHash=g;async function k(Gt){return await q(await w(await s(Gt)))}e.generateTree=k;async function P(Gt){const ot=await s(Gt),Qt=await w(ot),at=await q(Qt),sr=await ie(at),qr=ot.slice(-1)[0];return qr.maxByteRange-qr.minByteRange===0&&(ot.splice(ot.length-1,1),sr.splice(sr.length-1,1)),{data_root:at.id,chunks:ot,proofs:sr}}e.generateTransactionChunks=P;async function q(Gt,ot=0){if(Gt.length<2)return Gt[0];const Qt=[];for(let at=0;at<Gt.length;at+=2)Qt.push(await X(Gt[at],Gt[at+1]));return q(Qt,ot+1)}e.buildLayers=q;function ie(Gt){const ot=he(Gt);return Array.isArray(ot)?V(ot):[ot]}e.generateProofs=ie;function he(Gt,ot=new Uint8Array,Qt=0){if(Gt.type=="leaf")return{offset:Gt.maxByteRange-1,proof:(0,r.concatBuffers)([ot,Gt.dataHash,we(Gt.maxByteRange)])};if(Gt.type=="branch"){const at=(0,r.concatBuffers)([ot,Gt.leftChild.id,Gt.rightChild.id,we(Gt.byteRange)]);return[he(Gt.leftChild,at,Qt+1),he(Gt.rightChild,at,Qt+1)]}throw new Error("Unexpected node type")}function V(Gt){const ot=[];return Gt.forEach(Qt=>{Array.isArray(Qt)?ot.push(...V(Qt)):ot.push(Qt)}),ot}e.arrayFlatten=V;async function X(Gt,ot){return ot?{type:"branch",id:await L([await L(Gt.id),await L(ot.id),await L(we(Gt.maxByteRange))]),byteRange:Gt.maxByteRange,maxByteRange:ot.maxByteRange,leftChild:Gt,rightChild:ot}:Gt}async function L(Gt){return Array.isArray(Gt)&&(Gt=t.default.utils.concatBuffers(Gt)),new Uint8Array(await t.default.crypto.hash(Gt))}function we(Gt){const ot=new Uint8Array(n);for(var Qt=ot.length-1;Qt>=0;Qt--){var at=Gt%256;ot[Qt]=at,Gt=(Gt-at)/256}return ot}e.intToBuffer=we;function Ee(Gt){let ot=0;for(var Qt=0;Qt<Gt.length;Qt++)ot*=256,ot+=Gt[Qt];return ot}e.bufferToInt=Ee;const _e=(Gt,ot)=>Gt.every((Qt,at)=>ot[at]===Qt);e.arrayCompare=_e;async function je(Gt,ot,Qt,at,sr){if(at<=0)return!1;if(ot>=at)return je(Gt,0,at-1,at,sr);if(ot<0)return je(Gt,0,0,at,sr);if(sr.length==o+n){const ga=sr.slice(0,o),Ca=sr.slice(ga.length,ga.length+n),wo=await L([await L(ga),await L(Ca)]);return(0,e.arrayCompare)(Gt,wo)?{offset:at-1,leftBound:Qt,rightBound:at,chunkSize:at-Qt}:!1}const qr=sr.slice(0,o),Xr=sr.slice(qr.length,qr.length+o),rn=sr.slice(qr.length+Xr.length,qr.length+Xr.length+n),ao=Ee(rn),ei=sr.slice(qr.length+Xr.length+rn.length),aa=await L([await L(qr),await L(Xr),await L(rn)]);return(0,e.arrayCompare)(Gt,aa)?ot<ao?await je(qr,ot,Qt,Math.min(at,ao),ei):await je(Xr,ot,Math.max(Qt,ao),at,ei):!1}e.validatePath=je;async function Xt(Gt,ot=""){if(Gt.byteLength<1)return ot;const Qt=Gt.slice(0,o),at=Gt.slice(Qt.length,Qt.length+o),sr=Gt.slice(Qt.length+at.length,Qt.length+at.length+n),qr=Ee(sr),Xr=Gt.slice(Qt.length+at.length+sr.length),rn=await L([await L(Qt),await L(at),await L(sr)]),ao=`${ot}
${JSON.stringify(Buffer.from(Qt))},${JSON.stringify(Buffer.from(at))},${qr} => ${JSON.stringify(rn)}`;return Xt(Xr,ao)}e.debug=Xt}(merkle)),merkle}var hasRequiredTransaction;function requireTransaction(){if(hasRequiredTransaction)return transaction$1;hasRequiredTransaction=1,Object.defineProperty(transaction$1,"__esModule",{value:!0}),transaction$1.Tag=void 0;const e=utils,t=requireDeepHash(),r=requireMerkle();class n{get(g,k){if(!Object.getOwnPropertyNames(this).includes(g))throw new Error(`Field "${g}" is not a property of the Arweave Transaction class.`);return this[g]instanceof Uint8Array?k&&k.decode&&k.string?e.bufferToString(this[g]):k&&k.decode&&!k.string?this[g]:e.bufferTob64Url(this[g]):k&&k.decode==!0?k&&k.string?e.b64UrlToString(this[g]):e.b64UrlToBuffer(this[g]):this[g]}}class o extends n{constructor(g,k,P=!1){super(),this.name=g,this.value=k}}transaction$1.Tag=o;class s extends n{constructor(g={}){super(),this.format=2,this.id="",this.last_tx="",this.owner="",this.tags=[],this.target="",this.quantity="0",this.data_size="0",this.data=new Uint8Array,this.data_root="",this.reward="0",this.signature="",Object.assign(this,g),typeof this.data=="string"&&(this.data=e.b64UrlToBuffer(this.data)),g.tags&&(this.tags=g.tags.map(k=>new o(k.name,k.value)))}addTag(g,k){this.tags.push(new o(e.stringToB64Url(g),e.stringToB64Url(k)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:e.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(g){this.owner=g}setSignature({id:g,owner:k,reward:P,tags:q,signature:ie}){this.id=g,this.owner=k,P&&(this.reward=P),q&&(this.tags=q),this.signature=ie}async prepareChunks(g){!this.chunks&&g.byteLength>0&&(this.chunks=await(0,r.generateTransactionChunks)(g),this.data_root=e.bufferTob64Url(this.chunks.data_root)),!this.chunks&&g.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(g,k){if(!this.chunks)throw new Error("Chunks have not been prepared");const P=this.chunks.proofs[g],q=this.chunks.chunks[g];return{data_root:this.data_root,data_size:this.data_size,data_path:e.bufferTob64Url(P.proof),offset:P.offset.toString(),chunk:e.bufferTob64Url(k.slice(q.minByteRange,q.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let g=this.tags.reduce((P,q)=>e.concatBuffers([P,q.get("name",{decode:!0,string:!1}),q.get("value",{decode:!0,string:!1})]),new Uint8Array);return e.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),e.stringToBuffer(this.quantity),e.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),g]);case 2:this.data_root||await this.prepareChunks(this.data);const k=this.tags.map(P=>[P.get("name",{decode:!0,string:!1}),P.get("value",{decode:!0,string:!1})]);return await(0,t.default)([e.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),e.stringToBuffer(this.quantity),e.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),k,e.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}return transaction$1.default=s,transaction$1}var transactionUploader={},hasRequiredTransactionUploader;function requireTransactionUploader(){if(hasRequiredTransactionUploader)return transactionUploader;hasRequiredTransactionUploader=1,Object.defineProperty(transactionUploader,"__esModule",{value:!0}),transactionUploader.TransactionUploader=void 0;const e=requireTransaction(),t=utils,r=error,n=requireMerkle(),o=1,s=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],w=1e3*40;class g{constructor(P,q){if(this.api=P,this.chunkIndex=0,this.txPosted=!1,this.lastRequestTimeEnd=0,this.totalErrors=0,this.lastResponseStatus=0,this.lastResponseError="",!q.id)throw new Error("Transaction is not signed");if(!q.chunks)throw new Error("Transaction chunks not prepared");this.data=q.data,this.transaction=new e.default(Object.assign({},q,{data:new Uint8Array(0)}))}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(P){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let q=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+w-Date.now(),w);if(q>0&&(q=q-q*Math.random()*.3,await new Promise(X=>setTimeout(X,q))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}P&&(this.chunkIndex=P);const ie=this.transaction.getChunk(P||this.chunkIndex,this.data);if(!await(0,n.validatePath)(this.transaction.chunks.data_root,parseInt(ie.offset),0,parseInt(ie.data_size),t.b64UrlToBuffer(ie.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const V=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(X=>(console.error(X.message),{status:-1,data:{error:X.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=V.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=(0,r.getError)(V),s.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(P,q,ie){if(!q||typeof q.chunkIndex!="number"||typeof q.transaction!="object")throw new Error("Serialized object does not match expected format.");var he=new e.default(q.transaction);he.chunks||await he.prepareChunks(ie);const V=new g(P,he);if(V.chunkIndex=q.chunkIndex,V.lastRequestTimeEnd=q.lastRequestTimeEnd,V.lastResponseError=q.lastResponseError,V.lastResponseStatus=q.lastResponseStatus,V.txPosted=q.txPosted,V.data=ie,V.transaction.data_root!==q.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return V}static async fromTransactionId(P,q){const ie=await P.get(`tx/${q}`);if(ie.status!==200)throw new Error(`Tx ${q} not found: ${ie.status}`);const he=ie.data;return he.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:he}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=o){this.transaction.data=this.data;const ie=await this.api.post("tx",this.transaction).catch(he=>(console.error(he),{status:-1,data:{error:he.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=ie.status,this.transaction.data=new Uint8Array(0),ie.status>=200&&ie.status<300){this.txPosted=!0,this.chunkIndex=o;return}throw this.lastResponseError=(0,r.getError)(ie),new Error(`Unable to upload transaction: ${ie.status}, ${this.lastResponseError}`)}const q=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=q.status,!(q.status>=200&&q.status<300))throw this.lastResponseError=(0,r.getError)(q),new Error(`Unable to upload transaction: ${q.status}, ${this.lastResponseError}`);this.txPosted=!0}}return transactionUploader.TransactionUploader=g,transactionUploader}var hasRequiredTransactions;function requireTransactions(){if(hasRequiredTransactions)return transactions;hasRequiredTransactions=1;var e=commonjsGlobal&&commonjsGlobal.__await||function(g){return this instanceof e?(this.v=g,this):new e(g)},t=commonjsGlobal&&commonjsGlobal.__asyncGenerator||function(g,k,P){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q=P.apply(g,k||[]),ie,he=[];return ie={},V("next"),V("throw"),V("return"),ie[Symbol.asyncIterator]=function(){return this},ie;function V(je){q[je]&&(ie[je]=function(Xt){return new Promise(function(Gt,ot){he.push([je,Xt,Gt,ot])>1||X(je,Xt)})})}function X(je,Xt){try{L(q[je](Xt))}catch(Gt){_e(he[0][3],Gt)}}function L(je){je.value instanceof e?Promise.resolve(je.value.v).then(we,Ee):_e(he[0][2],je)}function we(je){X("next",je)}function Ee(je){X("throw",je)}function _e(je,Xt){je(Xt),he.shift(),he.length&&X(he[0][0],he[0][1])}};Object.defineProperty(transactions,"__esModule",{value:!0});const r=error,n=requireTransaction(),o=utils,s=requireTransactionUploader();class w{constructor(k,P,q){this.api=k,this.crypto=P,this.chunks=q}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then(k=>k.data)}getPrice(k,P){let q=P?`price/${k}/${P}`:`price/${k}`;return this.api.get(q,{transformResponse:[function(ie){return ie}]}).then(ie=>ie.data)}async get(k){const P=await this.api.get(`tx/${k}`);if(P.status==200){const q=parseInt(P.data.data_size);if(P.data.format>=2&&q>0&&q<=1024*1024*12){const ie=await this.getData(k);return new n.default(Object.assign(Object.assign({},P.data),{data:ie}))}return new n.default(Object.assign(Object.assign({},P.data),{format:P.data.format||1}))}throw P.status==404?new r.default("TX_NOT_FOUND"):P.status==410?new r.default("TX_FAILED"):new r.default("TX_INVALID")}fromRaw(k){return new n.default(k)}async search(k,P){return this.api.post("arql",{op:"equals",expr1:k,expr2:P}).then(q=>q.data?q.data:[])}getStatus(k){return this.api.get(`tx/${k}/status`).then(P=>P.status==200?{status:200,confirmed:P.data}:{status:P.status,confirmed:null})}async getData(k,P){let q;try{q=await this.chunks.downloadChunkedData(k)}catch(ie){console.error(`Error while trying to download chunked data for ${k}`),console.error(ie)}if(!q){console.warn(`Falling back to gateway cache for ${k}`);try{q=(await this.api.get(`/${k}`)).data}catch(ie){console.error(`Error while trying to download contiguous data from gateway cache for ${k}`),console.error(ie)}}if(!q)throw new Error(`${k} was not found!`);return P&&P.decode&&!P.string?q:P&&P.decode&&P.string?o.bufferToString(q):o.bufferTob64Url(q)}async sign(k,P,q){if(!P&&(typeof window>"u"||!window.arweaveWallet))throw new Error("A new Arweave transaction must provide the jwk parameter.");if(!P||P==="use_wallet"){try{(await window.arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await window.arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}const ie=await window.arweaveWallet.sign(k,q);k.setSignature({id:ie.id,owner:ie.owner,reward:ie.reward,tags:ie.tags,signature:ie.signature})}else{k.setOwner(P.n);let ie=await k.getSignatureData(),he=await this.crypto.sign(P,ie,q),V=await this.crypto.hash(he);k.setSignature({id:o.bufferTob64Url(V),owner:P.n,signature:o.bufferTob64Url(he)})}}async verify(k){const P=await k.getSignatureData(),q=k.get("signature",{decode:!0,string:!1}),ie=o.bufferTob64Url(await this.crypto.hash(q));if(k.id!==ie)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(k.owner,P,q)}async post(k){if(typeof k=="string"?k=new n.default(JSON.parse(k)):typeof k.readInt32BE=="function"?k=new n.default(JSON.parse(k.toString())):typeof k=="object"&&!(k instanceof n.default)&&(k=new n.default(k)),!(k instanceof n.default))throw new Error("Must be Transaction object");k.chunks||await k.prepareChunks(k.data);const P=await this.getUploader(k,k.data);try{for(;!P.isComplete;)await P.uploadChunk()}catch(q){if(P.lastResponseStatus>0)return{status:P.lastResponseStatus,statusText:P.lastResponseError,data:{error:P.lastResponseError}};throw q}return{status:200,statusText:"OK",data:{}}}async getUploader(k,P){let q;if(P instanceof ArrayBuffer&&(P=new Uint8Array(P)),k instanceof n.default){if(P||(P=k.data),!(P instanceof Uint8Array))throw new Error("Data format is invalid");k.chunks||await k.prepareChunks(P),q=new s.TransactionUploader(this.api,k),(!q.data||q.data.length===0)&&(q.data=P)}else{if(typeof k=="string"&&(k=await s.TransactionUploader.fromTransactionId(this.api,k)),!P||!(P instanceof Uint8Array))throw new Error("Must provide data when resuming upload");q=await s.TransactionUploader.fromSerialized(this.api,k,P)}return q}upload(k,P){return t(this,arguments,function*(){const ie=yield e(this.getUploader(k,P));for(;!ie.isComplete;)yield e(ie.uploadChunk()),yield yield e(ie);return yield e(ie)})}}return transactions.default=w,transactions}var wallets={};Object.defineProperty(wallets,"__esModule",{value:!0});const ArweaveUtils$2=utils;class Wallets{constructor(t,r){this.api=t,this.crypto=r}getBalance(t){return this.api.get(`wallet/${t}/balance`,{transformResponse:[function(r){return r}]}).then(r=>r.data)}getLastTransactionID(t){return this.api.get(`wallet/${t}/last_tx`).then(r=>r.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(t){return!t||t==="use_wallet"?this.getAddress():this.getAddress(t)}async getAddress(t){if(!t||t==="use_wallet"){try{await window.arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return window.arweaveWallet.getActiveAddress()}else return this.ownerToAddress(t.n)}async ownerToAddress(t){return ArweaveUtils$2.bufferTob64Url(await this.crypto.hash(ArweaveUtils$2.b64UrlToBuffer(t)))}}wallets.default=Wallets;var silo={};Object.defineProperty(silo,"__esModule",{value:!0});silo.SiloResource=void 0;const ArweaveUtils$1=utils;class Silo{constructor(t,r,n){this.api=t,this.crypto=r,this.transactions=n}async get(t){if(!t)throw new Error("No Silo URI specified");const r=await this.parseUri(t),n=await this.transactions.search("Silo-Name",r.getAccessKey());if(n.length==0)throw new Error(`No data could be found for the Silo URI: ${t}`);const o=await this.transactions.get(n[0]);if(!o)throw new Error(`No data could be found for the Silo URI: ${t}`);const s=o.get("data",{decode:!0,string:!1});return this.crypto.decrypt(s,r.getEncryptionKey())}async readTransactionData(t,r){if(!r)throw new Error("No Silo URI specified");const n=await this.parseUri(r),o=t.get("data",{decode:!0,string:!1});return this.crypto.decrypt(o,n.getEncryptionKey())}async parseUri(t){const r=t.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!r)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");const n=r[1],o=Math.pow(2,parseInt(r[2])),s=await this.hash(ArweaveUtils$1.stringToBuffer(n),o),w=ArweaveUtils$1.bufferTob64(s.slice(0,15)),g=await this.hash(s.slice(16,31),1);return new SiloResource(t,w,g)}async hash(t,r){let n=await this.crypto.hash(t);for(let o=0;o<r-1;o++)n=await this.crypto.hash(n);return n}}silo.default=Silo;class SiloResource{constructor(t,r,n){this.uri=t,this.accessKey=r,this.encryptionKey=n}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}}silo.SiloResource=SiloResource;var chunks={};Object.defineProperty(chunks,"__esModule",{value:!0});const error_1$1=error,ArweaveUtils=utils;class Chunks{constructor(t){this.api=t}async getTransactionOffset(t){const r=await this.api.get(`tx/${t}/offset`);if(r.status===200)return r.data;throw new Error(`Unable to get transaction offset: ${(0,error_1$1.getError)(r)}`)}async getChunk(t){const r=await this.api.get(`chunk/${t}`);if(r.status===200)return r.data;throw new Error(`Unable to get chunk: ${(0,error_1$1.getError)(r)}`)}async getChunkData(t){const r=await this.getChunk(t);return ArweaveUtils.b64UrlToBuffer(r.chunk)}firstChunkOffset(t){return parseInt(t.offset)-parseInt(t.size)+1}async downloadChunkedData(t){const r=await this.getTransactionOffset(t),n=parseInt(r.size),s=parseInt(r.offset)-n+1,w=new Uint8Array(n);let g=0;for(;g<n;){this.api.config.logging&&console.log(`[chunk] ${g}/${n}`);let k;try{k=await this.getChunkData(s+g)}catch{console.error(`[chunk] Failed to fetch chunk at offset ${s+g}`),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gateway/node")}if(k)w.set(k,g),g+=k.length;else throw new Error(`Couldn't complete data download at ${g}/${n}`)}return w}}chunks.default=Chunks;var blocks={};Object.defineProperty(blocks,"__esModule",{value:!0});const error_1=error;class Blocks{constructor(t,r){this.api=t,this.network=r}async get(t){const r=await this.api.get(`${Blocks.ENDPOINT}${t}`);if(r.status===200)return r.data;throw r.status===404?new error_1.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getCurrent(){const{current:t}=await this.network.getInfo();return await this.get(t)}}blocks.default=Blocks;Blocks.ENDPOINT="block/hash/";var hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1,Object.defineProperty(common,"__esModule",{value:!0});const e=ar,t=api,r=webcryptoDriver,n=network,o=requireTransactions(),s=wallets,w=requireTransaction(),g=utils,k=silo,P=chunks,q=blocks;class ie{constructor(V){this.api=new t.default(V),this.wallets=new s.default(this.api,ie.crypto),this.chunks=new P.default(this.api),this.transactions=new o.default(this.api,ie.crypto,this.chunks),this.silo=new k.default(this.api,this.crypto,this.transactions),this.network=new n.default(this.api),this.blocks=new q.default(this.api,this.network),this.ar=new e.default}get crypto(){return ie.crypto}get utils(){return ie.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(V,X){const L={};if(Object.assign(L,V),!V.data&&!(V.target&&V.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(V.owner==null&&X&&X!=="use_wallet"&&(L.owner=X.n),V.last_tx==null&&(L.last_tx=await this.transactions.getTransactionAnchor()),typeof V.data=="string"&&(V.data=g.stringToBuffer(V.data)),V.data instanceof ArrayBuffer&&(V.data=new Uint8Array(V.data)),V.data&&!(V.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(V.reward==null){const Ee=V.data?V.data.byteLength:0;L.reward=await this.transactions.getPrice(Ee,L.target)}L.data_root="",L.data_size=V.data?V.data.byteLength.toString():"0",L.data=V.data||new Uint8Array(0);const we=new w.default(L);return await we.getSignatureData(),we}async createSiloTransaction(V,X,L){const we={};if(Object.assign(we,V),!V.data)throw new Error("Silo transactions must have a 'data' value");if(!L)throw new Error("No Silo URI specified.");if(V.target||V.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(V.owner==null){if(!X||!X.n)throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");we.owner=X.n}V.last_tx==null&&(we.last_tx=await this.transactions.getTransactionAnchor());const Ee=await this.silo.parseUri(L);if(typeof V.data=="string"){const je=await this.crypto.encrypt(g.stringToBuffer(V.data),Ee.getEncryptionKey());we.reward=await this.transactions.getPrice(je.byteLength),we.data=g.bufferTob64Url(je)}if(V.data instanceof Uint8Array){const je=await this.crypto.encrypt(V.data,Ee.getEncryptionKey());we.reward=await this.transactions.getPrice(je.byteLength),we.data=g.bufferTob64Url(je)}const _e=new w.default(we);return _e.addTag("Silo-Name",Ee.getAccessKey()),_e.addTag("Silo-Version","0.1.0"),_e}arql(V){return this.api.post("/arql",V).then(X=>X.data||[])}}return common.default=ie,ie.crypto=new r.default,ie.utils=g,common}(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(o,s,w,g){g===void 0&&(g=w);var k=Object.getOwnPropertyDescriptor(s,w);(!k||("get"in k?!s.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return s[w]}}),Object.defineProperty(o,g,k)}:function(o,s,w,g){g===void 0&&(g=w),o[g]=s[w]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(o,s){for(var w in o)w!=="default"&&!Object.prototype.hasOwnProperty.call(s,w)&&t(s,o,w)};Object.defineProperty(e,"__esModule",{value:!0});const n=requireCommon();n.default.init=function(o={}){function s(){const q={host:"arweave.net",port:443,protocol:"https"};if(!window||!window.location||!window.location.protocol||!window.location.hostname)return q;const ie=window.location.protocol.replace(":",""),he=window.location.hostname,V=window.location.port?parseInt(window.location.port):ie=="https"?443:80;return["localhost","127.0.0.1"].includes(he)||ie=="file"?q:{host:he,port:V,protocol:ie}}const w=s(),g=o.protocol||w.protocol,k=o.host||w.host,P=o.port||w.port;return new n.default(Object.assign(Object.assign({},o),{host:k,protocol:g,port:P}))},window.Arweave=n.default,r(requireCommon(),e),e.default=n.default})(web);const Arweave=getDefaultExportFromCjs(web);var ardb={},block={},log={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.log=e.Log=e.LOGS=void 0;var t;(function(n){n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.ARWEAVE=2]="ARWEAVE"})(t=e.LOGS||(e.LOGS={}));class r{constructor(){this.logs=t.ARWEAVE}init(o=t.ARWEAVE,s){return this.logs=o,this.arweave=s,this}show(o,s="log"){(this.logs===t.YES||this.logs===t.ARWEAVE&&this.arweave.getConfig().api.logging)&&console[s](o)}}e.Log=r,e.log=new r})(log);Object.defineProperty(block,"__esModule",{value:!0});const log_1$2=log;class ArdbBlock{constructor(t){this._id=t.id,this._timestamp=t.timestamp,this._height=t.height,this._previous=t.previous}get id(){return this._id||log_1$2.log.show("ID wasn't defined, make sure you have selected to return it."),this._id}get timestamp(){return this._timestamp||log_1$2.log.show("Timestamp wasn't defined, make sure you have selected to return it."),this._timestamp}get height(){return this._height||log_1$2.log.show("Height wasn't defined, make sure you have selected to return it."),this._height}get previous(){return this._previous||log_1$2.log.show("Previous wasn't defined, make sure you have selected to return it."),this._previous}}block.default=ArdbBlock;var transaction={};Object.defineProperty(transaction,"__esModule",{value:!0});const log_1$1=log;class ArdbTransaction{constructor(t,r){this._id=t.id,this._anchor=t.anchor,this._signature=t.signature,this._recipient=t.recipient,this._owner=t.owner,this._fee=t.fee,this._quantity=t.quantity,this._data=t.data,this._tags=t.tags,this._block=t.block,t.parent&&t.parent.id&&(this._parent=t.parent),this.arweave=r}get id(){return this._id||log_1$1.log.show("ID wasn't defined, make sure you have selected to return it."),this._id}get anchor(){return this._anchor||log_1$1.log.show("Anchor wasn't defined, make sure you have selected to return it."),this._anchor}get signature(){return this._signature||log_1$1.log.show("Signature wasn't defined, make sure you have selected to return it."),this._signature}get recipient(){return this._recipient||log_1$1.log.show("Recipient wasn't defined, make sure you have selected to return it."),this._recipient}get owner(){return this._owner||log_1$1.log.show("Owner wasn't defined, make sure you have selected to return it."),this._owner}get fee(){return this._fee||log_1$1.log.show("Fee wasn't defined, make sure you have selected to return it."),this._fee}get quantity(){return this._quantity||log_1$1.log.show("Quantity wasn't defined, make sure you have selected to return it."),this._quantity}get data(){return this._data||log_1$1.log.show("Data wasn't defined, make sure you have selected to return it."),this._data}get tags(){return this._tags||log_1$1.log.show("Tags wasn't defined, make sure you have selected to return it."),this._tags}get block(){return this._block||log_1$1.log.show("Block wasn't defined, make sure you have selected to return it."),this._block}get parent(){return(!this._parent||!this._parent.id)&&log_1$1.log.show("Parent wasn't defined, make sure you have selected to return it."),this._parent}}transaction.default=ArdbTransaction;var __awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(w){w(s)})}return new(r||(r=Promise))(function(s,w){function g(q){try{P(n.next(q))}catch(ie){w(ie)}}function k(q){try{P(n.throw(q))}catch(ie){w(ie)}}function P(q){q.done?s(q.value):o(q.value).then(g,k)}P((n=n.apply(e,t||[])).next())})},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ardb,"__esModule",{value:!0});const block_1=__importDefault(block),transaction_1=__importDefault(transaction),log_1=log;class ArDB{constructor(t,r=log_1.LOGS.ARWEAVE){this.reqType="transactions",this.options={},this.after="",this.afterRegex=/after: *"([^"]*)"/gi,this.emptyLinesRegex=/^\s*[\r\n]/gm,this.fields=["id","anchor","signature","recipient","owner","owner.address","owner.key","fee","fee.winston","fee.ar","quantity","quantity.winston","quantity.ar","data","data.size","data.type","tags","tags.name","tags.value","block","block.id","block.timestamp","block.height","block.previous","parent","parent.id"],this.includes=new Set,this.arweave=t,log_1.log.init(r,t),this.includes=new Set(this.fields)}getCursor(){return this.after}search(t="transactions"){return this.reqType=t,this.options={},this.after="",this}id(t){return this.checkSearchType(),this.options.id=t,this.options.ids=[t],this}ids(t){return this.checkSearchType(),this.options.ids=t,this.options.id=t[0],this}appName(t){return this.checkSearchType(),this.tag("App-Name",[t]),this}type(t){return this.checkSearchType(),this.tag("Content-Type",[t]),this}tags(t){this.checkSearchType();const r=[];for(const o of t){const s=typeof o.values=="string"?[o.values]:o.values;r.push({name:o.name,values:s})}const n=this.options.tags&&this.options.tags.length?this.options.tags:[];return this.options.tags=[...r,...n],this}tag(t,r){return this.checkSearchType(),this.options.tags||(this.options.tags=[]),typeof r=="string"&&(r=[r]),this.options.tags.push({name:t,values:r}),this}from(t){return this.checkSearchType(),typeof t=="string"&&(t=[t]),this.options.owners=t,this}to(t){return this.checkSearchType(),typeof t=="string"&&(t=[t]),this.options.recipients=t,this}min(t){return this.checkSearchType(),this.options.block||(this.options.block={}),this.options.block.min=t,this}max(t){return this.checkSearchType(),this.options.block||(this.options.block={}),this.options.block.max=t,this}limit(t){return this.checkSearchType(),t<1?(console.warn("Limit cannot be less than 1, setting it to 1."),t=1):t>100&&console.warn("Arweave GQL won't return more than 100 entries at once."),this.options.first=t,this}sort(t){return this.options.sort=t,this}cursor(t){return this.checkSearchType(),this.options.after=t,this}only(t){if(this.includes=new Set,typeof t=="string"&&this.fields.indexOf(t)!==-1)return this.includes.add(t),this.validateIncludes(),this;const r=[];for(const n of t)this.fields.indexOf(n)!==-1&&r.push(n);return r.length&&(this.includes=new Set(r)),this.validateIncludes(),this}exclude(t){if(this.includes=new Set(this.fields),typeof t=="string")return this.includes.delete(t),this.validateIncludes(),this;for(const r of t)this.includes.delete(r);return this.validateIncludes(),this}find(t={}){return __awaiter(this,void 0,void 0,function*(){this.checkSearchType();for(const n of Object.keys(t))this.options[n]=t[n];this.options.first||(this.options.first=10);const r=this.construct();return this.run(r)})}findOne(t={}){return __awaiter(this,void 0,void 0,function*(){this.checkSearchType();for(const o of Object.keys(t))this.options[o]=t[o];this.options.first=1;const r=this.construct(),n=yield this.run(r);return n.length?n[0]:null})}findAll(t={}){return __awaiter(this,void 0,void 0,function*(){this.checkSearchType();for(const n of Object.keys(t))this.options[n]=t[n];this.options.first=100;const r=this.construct();return this.runAll(r)})}next(){return __awaiter(this,void 0,void 0,function*(){if(!this.after||!this.after.length){log_1.log.show("next(): Nothing more to search.");return}const t=this.construct().replace(this.afterRegex,`after: "${this.after}"`),r=yield this.run(t);return this.options.first===1?r.length?r[0]:null:r})}run(t){return __awaiter(this,void 0,void 0,function*(){log_1.log.show("Running query:"),log_1.log.show(t);const r=yield this.get(t);if(!r)return[];if(r.transaction)return[new transaction_1.default(r.transaction,this.arweave)];if(r.block)return[new block_1.default(r.block)];if(r.transactions){const n=r.transactions.edges;return n&&n.length?this.after=n[n.length-1].cursor:this.after="",n.map(o=>new transaction_1.default(o.node,this.arweave))}else if(r.blocks){const n=r.blocks.edges;return n&&n.length?this.after=n[n.length-1].cursor:this.after="",n.map(o=>new block_1.default(o.node))}})}runAll(t){return __awaiter(this,void 0,void 0,function*(){let r=!0,n=[],o=this.options.after||"",s=!0;for(;r;){log_1.log.show("Running query:"),log_1.log.show(t);const w=yield this.get(t);if(!w)return[];if(w.transaction)return[new transaction_1.default(w.transaction,this.arweave)];if(w.block)return[new block_1.default(w.block)];if(w.transactions){const g=w.transactions;g.edges&&g.edges.length&&(n=n.concat(g.edges),o=g.edges[g.edges.length-1].cursor,t=t.replace(this.afterRegex,`after: "${o}"`)),r=g.pageInfo.hasNextPage}else if(w.blocks){s=!1;const g=w.blocks;g.edges&&g.edges.length&&(n=n.concat(g.edges),o=g.edges[g.edges.length-1].cursor,t=t.replace(this.afterRegex,`after: "${o}"`)),r=g.pageInfo.hasNextPage}}return s?n.map(w=>new transaction_1.default(w.node,this.arweave)):n.map(w=>new block_1.default(w.node))})}checkSearchType(){if(!this.reqType||this.reqType!=="transaction"&&this.reqType!=="block"&&this.reqType!=="transactions"&&this.reqType!=="blocks")throw new Error('Invalid search type. Must provide one and it must be either "transaction", "transactions", "block" or "blocks"')}get(t){return __awaiter(this,void 0,void 0,function*(){const r=yield this.arweave.api.post("graphql",{query:t},{headers:{"content-type":"application/json"}});return log_1.log.show("Returned result: "),log_1.log.show(r.data.data),r.data.data})}construct(){this.reqType==="transactions"||this.reqType==="blocks"?(delete this.options.id,this.reqType==="transactions"?delete this.options.height:(delete this.options.owners,delete this.options.recipients,delete this.options.tags,delete this.options.block),this.options.after||(this.options.after="")):this.options={id:this.options.id};let t=JSON.stringify(this.options,null,2).replace(/"([^"]+)":/gm,"$1: ").replace('"HEIGHT_DESC"',"HEIGHT_DESC").replace('"HEIGHT_ASC"',"HEIGHT_ASC");t=t.substring(1,t.length-1);let r="";if(this.reqType==="transaction"||this.reqType==="transactions"){let n="";this.includes.has("owner")&&(n=`owner {
          ${this.includes.has("owner.address")?"address":""}
          ${this.includes.has("owner.key")?"key":""}
        }`);let o="";this.includes.has("fee")&&(o=`fee {
          ${this.includes.has("fee.winston")?"winston":""}
          ${this.includes.has("fee.ar")?"ar":""}
        }`);let s="";this.includes.has("quantity")&&(s=`quantity {
          ${this.includes.has("quantity.winston")?"winston":""}
          ${this.includes.has("quantity.ar")?"ar":""}
        }`);let w="";this.includes.has("data")&&(w=`data {
          ${this.includes.has("data.size")?"size":""}
          ${this.includes.has("data.type")?"type":""}
        }`);let g="";this.includes.has("tags")&&(g=`tags {
          ${this.includes.has("tags.name")?"name":""}
          ${this.includes.has("tags.value")?"value":""}
        }`);let k="";this.includes.has("block")&&(k=`block {
          ${this.includes.has("block.id")?"id":""}
          ${this.includes.has("block.timestamp")?"timestamp":""}
          ${this.includes.has("block.height")?"height":""}
          ${this.includes.has("block.previous")?"previous":""}
        }`);let P="";(this.includes.has("parent")||this.includes.has("parent.id"))&&(P=`parent {
          id
        }`),r=`
      ${this.includes.has("id")?"id":""}
      ${this.includes.has("anchor")?"anchor":""}
      ${this.includes.has("signature")?"signature":""}
      ${this.includes.has("recipient")?"recipient":""}
      ${n}
      ${o}
      ${s}
      ${w}
      ${g}
      ${k}
      ${P}
      `,r=r.replace(this.emptyLinesRegex,"").trim(),r.length||(r=`
        id
        anchor
        signature
        recipient
        owner {
          address
          key
        }
        fee {
          winston
          ar
        }
        quantity {
          winston
          ar
        }
        data {
          size
          type
        }
        tags {
          name
          value
        }
        block {
          id
          timestamp
          height
          previous
        }
        parent {
          id
        }`)}else r=`
      ${this.includes.has("block.id")?"id":""}
      ${this.includes.has("block.timestamp")?"timestamp":""}
      ${this.includes.has("block.height")?"height":""}
      ${this.includes.has("block.previous")?"previous":""}
      `,r=r.replace(this.emptyLinesRegex,"").trim(),r.length||(r=`
        id
        timestamp
        height
        previous`);if((this.reqType==="transactions"||this.reqType==="blocks")&&(r=`
      pageInfo {
        hasNextPage
      }
      edges { 
        cursor
        node { 
          ${r}
        } 
      }`),!this.reqType||!t)throw new Error("Invalid options. You need to first set your options!");return`query {
      ${this.reqType}(
        ${t}
      ){
        ${r}
      }
    }`.replace(/(\r\n|\n|\r)/gm,"")}validateIncludes(){this.includes.has("owner")&&!this.includes.has("owner.address")&&!this.includes.has("owner.key")&&(this.includes.add("owner.address"),this.includes.add("owner.key")),this.includes.has("fee")&&!this.includes.has("fee.winston")&&!this.includes.has("fee.ar")&&(this.includes.add("fee.winston"),this.includes.add("fee.ar")),this.includes.has("quantity")&&!this.includes.has("quantity.winston")&&!this.includes.has("quantity.ar")&&(this.includes.add("quantity.winston"),this.includes.add("quantity.ar")),this.includes.has("data")&&!this.includes.has("data.size")&&!this.includes.has("data.type")&&(this.includes.add("data.size"),this.includes.add("data.type")),this.includes.has("tags")&&!this.includes.has("tags.name")&&!this.includes.has("tags.value")&&(this.includes.add("tags.name"),this.includes.add("tags.value")),this.includes.has("block")&&!this.includes.has("block.timestamp")&&!this.includes.has("block.height")&&!this.includes.has("block.previous")&&(this.includes.add("block.id"),this.includes.add("block.timestamp"),this.includes.add("block.height"),this.includes.add("block.previous")),!this.includes.has("owner")&&(this.includes.has("owner.address")||this.includes.has("owner.key"))&&this.includes.add("owner"),!this.includes.has("fee")&&(this.includes.has("fee.winston")||this.includes.has("fee.ar"))&&this.includes.add("fee"),!this.includes.has("quantity")&&(this.includes.has("quantity.winston")||this.includes.has("quantity.ar"))&&this.includes.add("quantity"),!this.includes.has("data")&&(this.includes.has("data.size")||this.includes.has("data.type"))&&this.includes.add("data"),!this.includes.has("tags")&&(this.includes.has("tags.name")||this.includes.has("tags.value"))&&this.includes.add("tags"),!this.includes.has("block")&&(this.includes.has("block.timestamp")||this.includes.has("block.height")||this.includes.has("block.previous"))&&this.includes.add("block")}}var _default=ardb.default=ArDB,base64={},__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(base64,"__esModule",{value:!0});var INVALID_BYTE=256,Coder=function(){function e(t){t===void 0&&(t="="),this._paddingCharacter=t}return e.prototype.encodedLength=function(t){return this._paddingCharacter?(t+2)/3*4|0:(t*8+5)/6|0},e.prototype.encode=function(t){for(var r="",n=0;n<t.length-2;n+=3){var o=t[n]<<16|t[n+1]<<8|t[n+2];r+=this._encodeByte(o>>>3*6&63),r+=this._encodeByte(o>>>2*6&63),r+=this._encodeByte(o>>>1*6&63),r+=this._encodeByte(o>>>0*6&63)}var s=t.length-n;if(s>0){var o=t[n]<<16|(s===2?t[n+1]<<8:0);r+=this._encodeByte(o>>>3*6&63),r+=this._encodeByte(o>>>2*6&63),s===2?r+=this._encodeByte(o>>>1*6&63):r+=this._paddingCharacter||"",r+=this._paddingCharacter||""}return r},e.prototype.maxDecodedLength=function(t){return this._paddingCharacter?t/4*3|0:(t*6+7)/8|0},e.prototype.decodedLength=function(t){return this.maxDecodedLength(t.length-this._getPaddingLength(t))},e.prototype.decode=function(t){if(t.length===0)return new Uint8Array(0);for(var r=this._getPaddingLength(t),n=t.length-r,o=new Uint8Array(this.maxDecodedLength(n)),s=0,w=0,g=0,k=0,P=0,q=0,ie=0;w<n-4;w+=4)k=this._decodeChar(t.charCodeAt(w+0)),P=this._decodeChar(t.charCodeAt(w+1)),q=this._decodeChar(t.charCodeAt(w+2)),ie=this._decodeChar(t.charCodeAt(w+3)),o[s++]=k<<2|P>>>4,o[s++]=P<<4|q>>>2,o[s++]=q<<6|ie,g|=k&INVALID_BYTE,g|=P&INVALID_BYTE,g|=q&INVALID_BYTE,g|=ie&INVALID_BYTE;if(w<n-1&&(k=this._decodeChar(t.charCodeAt(w)),P=this._decodeChar(t.charCodeAt(w+1)),o[s++]=k<<2|P>>>4,g|=k&INVALID_BYTE,g|=P&INVALID_BYTE),w<n-2&&(q=this._decodeChar(t.charCodeAt(w+2)),o[s++]=P<<4|q>>>2,g|=q&INVALID_BYTE),w<n-3&&(ie=this._decodeChar(t.charCodeAt(w+3)),o[s++]=q<<6|ie,g|=ie&INVALID_BYTE),g!==0)throw new Error("Base64Coder: incorrect characters for decoding");return o},e.prototype._encodeByte=function(t){var r=t;return r+=65,r+=25-t>>>8&0-65-26+97,r+=51-t>>>8&26-97-52+48,r+=61-t>>>8&52-48-62+43,r+=62-t>>>8&62-43-63+47,String.fromCharCode(r)},e.prototype._decodeChar=function(t){var r=INVALID_BYTE;return r+=(42-t&t-44)>>>8&-INVALID_BYTE+t-43+62,r+=(46-t&t-48)>>>8&-INVALID_BYTE+t-47+63,r+=(47-t&t-58)>>>8&-INVALID_BYTE+t-48+52,r+=(64-t&t-91)>>>8&-INVALID_BYTE+t-65+0,r+=(96-t&t-123)>>>8&-INVALID_BYTE+t-97+26,r},e.prototype._getPaddingLength=function(t){var r=0;if(this._paddingCharacter){for(var n=t.length-1;n>=0&&t[n]===this._paddingCharacter;n--)r++;if(t.length<4||r>2)throw new Error("Base64Coder: incorrect padding")}return r},e}();base64.Coder=Coder;var stdCoder=new Coder;function encode(e){return stdCoder.encode(e)}base64.encode=encode;function decode(e){return stdCoder.decode(e)}base64.decode=decode;var URLSafeCoder=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._encodeByte=function(r){var n=r;return n+=65,n+=25-r>>>8&0-65-26+97,n+=51-r>>>8&26-97-52+48,n+=61-r>>>8&52-48-62+45,n+=62-r>>>8&62-45-63+95,String.fromCharCode(n)},t.prototype._decodeChar=function(r){var n=INVALID_BYTE;return n+=(44-r&r-46)>>>8&-INVALID_BYTE+r-45+62,n+=(94-r&r-96)>>>8&-INVALID_BYTE+r-95+63,n+=(47-r&r-58)>>>8&-INVALID_BYTE+r-48+52,n+=(64-r&r-91)>>>8&-INVALID_BYTE+r-65+0,n+=(96-r&r-123)>>>8&-INVALID_BYTE+r-97+26,n},t}(Coder);base64.URLSafeCoder=URLSafeCoder;var urlSafeCoder=new URLSafeCoder;function encodeURLSafe(e){return urlSafeCoder.encode(e)}base64.encodeURLSafe=encodeURLSafe;function decodeURLSafe(e){return urlSafeCoder.decode(e)}var decodeURLSafe_1=base64.decodeURLSafe=decodeURLSafe;base64.encodedLength=function(e){return stdCoder.encodedLength(e)};base64.maxDecodedLength=function(e){return stdCoder.maxDecodedLength(e)};base64.decodedLength=function(e){return stdCoder.decodedLength(e)};let arweave;async function generateWallet(e){let t={address:"",jwk:void 0};return t.jwk=await e.wallets.generate(),t.address=await e.wallets.getAddress(t.jwk),t}async function triggerFaucet(e,t){await e.api.get(`/mint/${t.address}/1000000000000`)}async function mine(){await arweave.api.get("mine")}const defaultLogger={log:e=>!0};async function tests(e,t=defaultLogger){let r,n,o,{host:s,port:w,protocol:g}=new URL(e);s=s.replace(`:${w}`,"")||"localhost",w=w||443,g=g.replace(":",""),t.log({host:s,port:w,protocol:g});{arweave=Arweave.init({host:s,port:w,protocol:g,timeout:2e4,logging:!1}),n=await generateWallet(arweave),await triggerFaucet(arweave,n),await mine();const Xr=arweave.transactions.post.bind(arweave.transactions);r=async rn=>{const ao=await Xr(rn);return await mine(),ao}}const k=new _default(arweave),P=await createDagRepo({path:"original-dag"});let q="Mobile",ie={number:"555-1234"},he={number:"212-555-1234"},V={number:"+1-212-555-1234"};const X=init({arweave,post:r}),L=await X.getInstance({wallet:n.jwk,dag:P});o=await L.save(q,ie),t.log(`Saved ${o}`),o=await L.save(q,he),t.log(`Saved ${o}`);const we=[{name:"App-Name",values:["SmartWeaveAction"]},{name:"Contract",values:[L.contractId]}],Ee=await k.search("transactions").tags(we).findAll(),_e=await createDagRepo({path:"rebuiltDag"});async function je(qr,Xr){console.log({tx:Xr});const ao=JSON.parse(Xr.tags.find(Ca=>Ca.name==="Input").value).ardagtxid,ei=await arweave.transactions.getData(ao),aa=new Uint8Array(decodeURLSafe_1(ei)),ga=await qr.importBuffer(aa);return t.log(`Loaded from Arweave ${ga.toString()}`),ga}for(const qr of Ee)await je(_e,qr);const Xt=(await _e.get(o,{path:`/${q}/prev/number`})).value;t.log(`v1: ${Xt}, match: ${ie.number==Xt}`);const Gt=(await _e.get(o,{path:`/${q}/current/number`})).value;t.log(`v2: ${Gt}, match: ${he.number==Gt}`);const ot=await createDagRepo({path:"new-dag"}),Qt=await X.getInstance({wallet:n.jwk,contractId:L.contractId,dag:ot});o=await Qt.save(q,V),t.log(`Saved ${o}`);const at=await k.search("transactions").tags(we).findAll();for(const qr of at)await je(Qt.dag,qr);const sr=(await Qt.dag.get(o,{path:`/${q}/current/number`})).value;return t.log(`v3: ${sr}, match: ${V.number==sr}`),`Pass tests? ${ie.number==Xt&&he.number==Gt}`}const defaultContractSrc=`export function handle(state, action) {\r
	if (action.caller !== state.owner) {\r
		return { state }; // readonly unless you'r the owner\r
	}\r
	if (action.input.function === 'ArDagTx') {\r
		state.ardagtx = action.input.ardagtx;\r
	}\r
\r
	return { state };\r
}\r
`,owner="",state={owner};async function createTx(e,t,r=[],n="",o="0",s){const w={data:Math.random().toString().slice(-4),reward:s};n&&n.length&&(w.target=n.toString(),o&&+o>0&&(w.quantity=o.toString()));const g=await this.arweave.createTransaction(w,this.wallet);if(!t)throw new Error(`Input should be a truthy value: ${JSON.stringify(t)}`);if(r&&r.length)for(const k of r)g.addTag(k.name.toString(),k.value.toString());return g.addTag("App-Name","SmartWeaveAction"),g.addTag("App-Version","0.3.0"),g.addTag("Contract",e),g.addTag("Input",JSON.stringify(t)),await this.arweave.transactions.sign(g,this.wallet),g}async function getAddress(e){return await this.arweave.wallets.getAddress(e)}async function getInstance({wallet:e=null,dag:t=null,options:r={},owner:n=!1,source:o=!1,contractId:s=!1}){if(state.owner=(r==null?void 0:r.owner)||await this.getAddress(e),!state.owner)throw new Error("Contract must be owned by the Base64 JWK of a wallet");if(!t)throw new Error("Supply a DagRepo from https://github.com/DougAnderson444/ipld-car-txs");return s||(s=await this.createContract(this.arweave,e,(r==null?void 0:r.source)||defaultContractSrc,JSON.stringify(state))),{arweave:this.arweave,post:this.post,contractId:s,wallet:e,dag:t,update,createTx,async save(w,g){const k=await this.dag.tx.add(w,g),P=await this.dag.tx.commit(),{cid:q}=await encode$b(P);let ie=await this.arweave.createTransaction({data:P});const he=[{name:"Root-CID",value:[k.toString()]},{name:"CAR-CID",value:[q.toString()]}];if(he&&he.length)for(const V of he)ie.addTag(V.name.toString(),V.value.toString());return await this.arweave.transactions.sign(ie,this.wallet),await this.post(ie),await this.update(ie.id),k}}}async function createContract(e,t,r,n,o){var g;const s=await e.createTransaction({data:r,reward:o},t);s.addTag("App-Name","SmartWeaveContractSource"),s.addTag("App-Version","0.3.0"),s.addTag("Content-Type","application/javascript"),await e.transactions.sign(s,t);const w=await this.post(s);if(w.status===200||w.status===208)return await this.createContractFromTx(e,t,s.id,n);throw new Error(`Unable to write Contract Source: ${JSON.stringify((g=w==null?void 0:w.statusText)!=null?g:"")}`)}async function createContractFromTx(e,t,r,n,o=[],s="",w="",g){let k=await e.createTransaction({data:n,reward:g},t);if(s&&w&&s.length&&+w>0&&(k=await e.createTransaction({data:n,target:s.toString(),quantity:w.toString(),reward:g},t)),o&&o.length)for(const q of o)k.addTag(q.name.toString(),q.value.toString());k.addTag("App-Name","SmartWeaveContract"),k.addTag("App-Version","0.3.0"),k.addTag("Contract-Src",r),k.addTag("Content-Type","application/json"),await e.transactions.sign(k,t);const P=await this.post(k);if(P.status===200||P.status===208)return k.id;throw new Error("Unable to write Contract Initial State")}async function update(e){const t=await this.createTx(this.contractId,{function:"ArDagTx",ardagtxid:e});await this.arweave.transactions.sign(t,this.wallet),await this.post(t)}function init({arweave:e,post:t=null}){if(!e)throw new Error("Arweave instance must be provided");const n=e.transactions.post.bind(e.transactions);return{arweave:e,post:t||n,getInstance,getAddress,createContract,createContractFromTx}}export{init,tests};
